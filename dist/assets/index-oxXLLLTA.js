function dS(t,n){for(var s=0;s<n.length;s++){const o=n[s];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(o,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();function kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ju={exports:{}},ri={},Xu={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function uS(){if(Xx)return mt;Xx=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function N(E,O,$){this.props=E,this.context=O,this.refs=b,this.updater=$||j}N.prototype.isReactComponent={},N.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},N.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function P(){}P.prototype=N.prototype;function C(E,O,$){this.props=E,this.context=O,this.refs=b,this.updater=$||j}var S=C.prototype=new P;S.constructor=C,T(S,N.prototype),S.isPureReactComponent=!0;var _=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function Q(E,O,$){var K,ce={},je=null,Z=null;if(O!=null)for(K in O.ref!==void 0&&(Z=O.ref),O.key!==void 0&&(je=""+O.key),O)D.call(O,K)&&!F.hasOwnProperty(K)&&(ce[K]=O[K]);var fe=arguments.length-2;if(fe===1)ce.children=$;else if(1<fe){for(var Ee=Array(fe),ke=0;ke<fe;ke++)Ee[ke]=arguments[ke+2];ce.children=Ee}if(E&&E.defaultProps)for(K in fe=E.defaultProps,fe)ce[K]===void 0&&(ce[K]=fe[K]);return{$$typeof:t,type:E,key:je,ref:Z,props:ce,_owner:U.current}}function ee(E,O){return{$$typeof:t,type:E.type,key:O,ref:E.ref,props:E.props,_owner:E._owner}}function te(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function W(E){var O={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return O[$]})}var V=/\/+/g;function I(E,O){return typeof E=="object"&&E!==null&&E.key!=null?W(""+E.key):O.toString(36)}function J(E,O,$,K,ce){var je=typeof E;(je==="undefined"||je==="boolean")&&(E=null);var Z=!1;if(E===null)Z=!0;else switch(je){case"string":case"number":Z=!0;break;case"object":switch(E.$$typeof){case t:case n:Z=!0}}if(Z)return Z=E,ce=ce(Z),E=K===""?"."+I(Z,0):K,_(ce)?($="",E!=null&&($=E.replace(V,"$&/")+"/"),J(ce,O,$,"",function(ke){return ke})):ce!=null&&(te(ce)&&(ce=ee(ce,$+(!ce.key||Z&&Z.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+E)),O.push(ce)),1;if(Z=0,K=K===""?".":K+":",_(E))for(var fe=0;fe<E.length;fe++){je=E[fe];var Ee=K+I(je,fe);Z+=J(je,O,$,Ee,ce)}else if(Ee=w(E),typeof Ee=="function")for(E=Ee.call(E),fe=0;!(je=E.next()).done;)je=je.value,Ee=K+I(je,fe++),Z+=J(je,O,$,Ee,ce);else if(je==="object")throw O=String(E),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return Z}function he(E,O,$){if(E==null)return E;var K=[],ce=0;return J(E,K,"","",function(je){return O.call($,je,ce++)}),K}function ie(E){if(E._status===-1){var O=E._result;O=O(),O.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=O)}if(E._status===1)return E._result.default;throw E._result}var ue={current:null},L={transition:null},R={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:L,ReactCurrentOwner:U};function M(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:he,forEach:function(E,O,$){he(E,function(){O.apply(this,arguments)},$)},count:function(E){var O=0;return he(E,function(){O++}),O},toArray:function(E){return he(E,function(O){return O})||[]},only:function(E){if(!te(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},mt.Component=N,mt.Fragment=s,mt.Profiler=i,mt.PureComponent=C,mt.StrictMode=o,mt.Suspense=f,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,mt.act=M,mt.cloneElement=function(E,O,$){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var K=T({},E.props),ce=E.key,je=E.ref,Z=E._owner;if(O!=null){if(O.ref!==void 0&&(je=O.ref,Z=U.current),O.key!==void 0&&(ce=""+O.key),E.type&&E.type.defaultProps)var fe=E.type.defaultProps;for(Ee in O)D.call(O,Ee)&&!F.hasOwnProperty(Ee)&&(K[Ee]=O[Ee]===void 0&&fe!==void 0?fe[Ee]:O[Ee])}var Ee=arguments.length-2;if(Ee===1)K.children=$;else if(1<Ee){fe=Array(Ee);for(var ke=0;ke<Ee;ke++)fe[ke]=arguments[ke+2];K.children=fe}return{$$typeof:t,type:E.type,key:ce,ref:je,props:K,_owner:Z}},mt.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},mt.createElement=Q,mt.createFactory=function(E){var O=Q.bind(null,E);return O.type=E,O},mt.createRef=function(){return{current:null}},mt.forwardRef=function(E){return{$$typeof:h,render:E}},mt.isValidElement=te,mt.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:ie}},mt.memo=function(E,O){return{$$typeof:v,type:E,compare:O===void 0?null:O}},mt.startTransition=function(E){var O=L.transition;L.transition={};try{E()}finally{L.transition=O}},mt.unstable_act=M,mt.useCallback=function(E,O){return ue.current.useCallback(E,O)},mt.useContext=function(E){return ue.current.useContext(E)},mt.useDebugValue=function(){},mt.useDeferredValue=function(E){return ue.current.useDeferredValue(E)},mt.useEffect=function(E,O){return ue.current.useEffect(E,O)},mt.useId=function(){return ue.current.useId()},mt.useImperativeHandle=function(E,O,$){return ue.current.useImperativeHandle(E,O,$)},mt.useInsertionEffect=function(E,O){return ue.current.useInsertionEffect(E,O)},mt.useLayoutEffect=function(E,O){return ue.current.useLayoutEffect(E,O)},mt.useMemo=function(E,O){return ue.current.useMemo(E,O)},mt.useReducer=function(E,O,$){return ue.current.useReducer(E,O,$)},mt.useRef=function(E){return ue.current.useRef(E)},mt.useState=function(E){return ue.current.useState(E)},mt.useSyncExternalStore=function(E,O,$){return ue.current.useSyncExternalStore(E,O,$)},mt.useTransition=function(){return ue.current.useTransition()},mt.version="18.3.1",mt}var Zx;function mh(){return Zx||(Zx=1,Xu.exports=uS()),Xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function mS(){if(eg)return ri;eg=1;var t=mh(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,v){var p,x={},w=null,j=null;v!==void 0&&(w=""+v),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(j=f.ref);for(p in f)o.call(f,p)&&!c.hasOwnProperty(p)&&(x[p]=f[p]);if(h&&h.defaultProps)for(p in f=h.defaultProps,f)x[p]===void 0&&(x[p]=f[p]);return{$$typeof:n,type:h,key:w,ref:j,props:x,_owner:i.current}}return ri.Fragment=s,ri.jsx=u,ri.jsxs=u,ri}var tg;function hS(){return tg||(tg=1,Ju.exports=mS()),Ju.exports}var e=hS(),Bl={},Zu={exports:{}},On={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function fS(){return ng||(ng=1,(function(t){function n(L,R){var M=L.length;L.push(R);e:for(;0<M;){var E=M-1>>>1,O=L[E];if(0<i(O,R))L[E]=R,L[M]=O,M=E;else break e}}function s(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var R=L[0],M=L.pop();if(M!==R){L[0]=M;e:for(var E=0,O=L.length,$=O>>>1;E<$;){var K=2*(E+1)-1,ce=L[K],je=K+1,Z=L[je];if(0>i(ce,M))je<O&&0>i(Z,ce)?(L[E]=Z,L[je]=M,E=je):(L[E]=ce,L[K]=M,E=K);else if(je<O&&0>i(Z,M))L[E]=Z,L[je]=M,E=je;else break e}}return R}function i(L,R){var M=L.sortIndex-R.sortIndex;return M!==0?M:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],v=[],p=1,x=null,w=3,j=!1,T=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var R=s(v);R!==null;){if(R.callback===null)o(v);else if(R.startTime<=L)o(v),R.sortIndex=R.expirationTime,n(f,R);else break;R=s(v)}}function _(L){if(b=!1,S(L),!T)if(s(f)!==null)T=!0,ie(D);else{var R=s(v);R!==null&&ue(_,R.startTime-L)}}function D(L,R){T=!1,b&&(b=!1,P(Q),Q=-1),j=!0;var M=w;try{for(S(R),x=s(f);x!==null&&(!(x.expirationTime>R)||L&&!W());){var E=x.callback;if(typeof E=="function"){x.callback=null,w=x.priorityLevel;var O=E(x.expirationTime<=R);R=t.unstable_now(),typeof O=="function"?x.callback=O:x===s(f)&&o(f),S(R)}else o(f);x=s(f)}if(x!==null)var $=!0;else{var K=s(v);K!==null&&ue(_,K.startTime-R),$=!1}return $}finally{x=null,w=M,j=!1}}var U=!1,F=null,Q=-1,ee=5,te=-1;function W(){return!(t.unstable_now()-te<ee)}function V(){if(F!==null){var L=t.unstable_now();te=L;var R=!0;try{R=F(!0,L)}finally{R?I():(U=!1,F=null)}}else U=!1}var I;if(typeof C=="function")I=function(){C(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,he=J.port2;J.port1.onmessage=V,I=function(){he.postMessage(null)}}else I=function(){N(V,0)};function ie(L){F=L,U||(U=!0,I())}function ue(L,R){Q=N(function(){L(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||j||(T=!0,ie(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return s(f)},t.unstable_next=function(L){switch(w){case 1:case 2:case 3:var R=3;break;default:R=w}var M=w;w=R;try{return L()}finally{w=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=w;w=L;try{return R()}finally{w=M}},t.unstable_scheduleCallback=function(L,R,M){var E=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?E+M:E):M=E,L){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,L={id:p++,callback:R,priorityLevel:L,startTime:M,expirationTime:O,sortIndex:-1},M>E?(L.sortIndex=M,n(v,L),s(f)===null&&L===s(v)&&(b?(P(Q),Q=-1):b=!0,ue(_,M-E))):(L.sortIndex=O,n(f,L),T||j||(T=!0,ie(D))),L},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(L){var R=w;return function(){var M=w;w=R;try{return L.apply(this,arguments)}finally{w=M}}}})(tm)),tm}var rg;function pS(){return rg||(rg=1,em.exports=fS()),em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function xS(){if(sg)return On;sg=1;var t=mh(),n=pS();function s(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(i[r]=a,r=0;r<a.length;r++)o.add(a[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function w(r){return f.call(x,r)?!0:f.call(p,r)?!1:v.test(r)?x[r]=!0:(p[r]=!0,!1)}function j(r,a,l,m){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,a,l,m){if(a===null||typeof a>"u"||j(r,a,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(r,a,l,m,g,y,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=a,this.sanitizeURL=y,this.removeEmptyString=k}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];N[a]=new b(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(P,C);N[a]=new b(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(P,C);N[a]=new b(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(P,C);N[a]=new b(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function S(r,a,l,m){var g=N.hasOwnProperty(a)?N[a]:null;(g!==null?g.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,l,g,m)&&(l=null),m||g===null?w(a)&&(l===null?r.removeAttribute(a):r.setAttribute(a,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(a=g.attributeName,m=g.attributeNamespace,l===null?r.removeAttribute(a):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,m?r.setAttributeNS(m,a,l):r.setAttribute(a,l))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),W=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),L=Symbol.iterator;function R(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var M=Object.assign,E;function O(r){if(E===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);E=a&&a[1]||""}return`
`+E+r}var $=!1;function K(r,a){if(!r||$)return"";$=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var m=ae}Reflect.construct(r,[],a)}else{try{a.call()}catch(ae){m=ae}r.call(a.prototype)}else{try{throw Error()}catch(ae){m=ae}r()}}catch(ae){if(ae&&m&&typeof ae.stack=="string"){for(var g=ae.stack.split(`
`),y=m.stack.split(`
`),k=g.length-1,z=y.length-1;1<=k&&0<=z&&g[k]!==y[z];)z--;for(;1<=k&&0<=z;k--,z--)if(g[k]!==y[z]){if(k!==1||z!==1)do if(k--,z--,0>z||g[k]!==y[z]){var q=`
`+g[k].replace(" at new "," at ");return r.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",r.displayName)),q}while(1<=k&&0<=z);break}}}finally{$=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?O(r):""}function ce(r){switch(r.tag){case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return r=K(r.type,!1),r;case 11:return r=K(r.type.render,!1),r;case 1:return r=K(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case U:return"Portal";case ee:return"Profiler";case Q:return"StrictMode";case I:return"Suspense";case J:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case W:return(r.displayName||"Context")+".Consumer";case te:return(r._context.displayName||"Context")+".Provider";case V:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case he:return a=r.displayName||null,a!==null?a:je(r.type)||"Memo";case ie:a=r._payload,r=r._init;try{return je(r(a))}catch{}}return null}function Z(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(a);case 8:return a===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ee(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ke(r){var a=Ee(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),m=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(k){m=""+k,y.call(this,k)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ze(r){r._valueTracker||(r._valueTracker=ke(r))}function A(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),m="";return r&&(m=Ee(r)?r.checked?"true":"false":r.value),r=m,r!==l?(a.setValue(r),!0):!1}function Ce(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function de(r,a){var l=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ze(r,a){var l=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;l=fe(a.value!=null?a.value:l),r._wrapperState={initialChecked:m,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function se(r,a){a=a.checked,a!=null&&S(r,"checked",a,!1)}function Me(r,a){se(r,a);var l=fe(a.value),m=a.type;if(l!=null)m==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(m==="submit"||m==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?bt(r,a.type,l):a.hasOwnProperty("defaultValue")&&bt(r,a.type,fe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function ht(r,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,l||a===r.value||(r.value=a),r.defaultValue=a}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function bt(r,a,l){(a!=="number"||Ce(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var et=Array.isArray;function tt(r,a,l,m){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&m&&(r[l].defaultSelected=!0)}else{for(l=""+fe(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,m&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function Dt(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function xt(r,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),l=a}r._wrapperState={initialValue:fe(l)}}function At(r,a){var l=fe(a.value),m=fe(a.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),a.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),m!=null&&(r.defaultValue=""+m)}function me(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function G(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?G(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var be,We=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,m,g){MSApp.execUnsafeLocalFunction(function(){return r(a,l,m,g)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=be.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function ct(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ct=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(r){Ct.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),yt[a]=yt[r]})});function Vt(r,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||yt.hasOwnProperty(r)&&yt[r]?(""+a).trim():a+"px"}function jn(r,a){r=r.style;for(var l in a)if(a.hasOwnProperty(l)){var m=l.indexOf("--")===0,g=Vt(l,a[l],m);l==="float"&&(l="cssFloat"),m?r.setProperty(l,g):r[l]=g}}var kn=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tn(r,a){if(a){if(kn[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function _r(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=null;function Or(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gt=null,dn=null,Zn=null;function Vn(r){if(r=Bo(r)){if(typeof gt!="function")throw Error(s(280));var a=r.stateNode;a&&(a=rl(a),gt(r.stateNode,r.type,a))}}function oe(r){dn?Zn?Zn.push(r):Zn=[r]:dn=r}function ve(){if(dn){var r=dn,a=Zn;if(Zn=dn=null,Vn(r),a)for(r=0;r<a.length;r++)Vn(a[r])}}function Oe(r,a){return r(a)}function at(){}var Pt=!1;function Wt(r,a,l){if(Pt)return r(a,l);Pt=!0;try{return Oe(r,a,l)}finally{Pt=!1,(dn!==null||Zn!==null)&&(at(),ve())}}function kt(r,a){var l=r.stateNode;if(l===null)return null;var m=rl(l);if(m===null)return null;l=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var nn=!1;if(h)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){nn=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{nn=!1}function pn(r,a,l,m,g,y,k,z,q){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(l,ae)}catch(ye){this.onError(ye)}}var hr=!1,Zs=null,Ca=!1,xd=null,gC={onError:function(r){hr=!0,Zs=r}};function vC(r,a,l,m,g,y,k,z,q){hr=!1,Zs=null,pn.apply(gC,arguments)}function yC(r,a,l,m,g,y,k,z,q){if(vC.apply(this,arguments),hr){if(hr){var ae=Zs;hr=!1,Zs=null}else throw Error(s(198));Ca||(Ca=!0,xd=ae)}}function ea(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function wf(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function bf(r){if(ea(r)!==r)throw Error(s(188))}function jC(r){var a=r.alternate;if(!a){if(a=ea(r),a===null)throw Error(s(188));return a!==r?null:r}for(var l=r,m=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(m=g.return,m!==null){l=m;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return bf(g),r;if(y===m)return bf(g),a;y=y.sibling}throw Error(s(188))}if(l.return!==m.return)l=g,m=y;else{for(var k=!1,z=g.child;z;){if(z===l){k=!0,l=g,m=y;break}if(z===m){k=!0,m=g,l=y;break}z=z.sibling}if(!k){for(z=y.child;z;){if(z===l){k=!0,l=y,m=g;break}if(z===m){k=!0,m=y,l=g;break}z=z.sibling}if(!k)throw Error(s(189))}}if(l.alternate!==m)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:a}function Nf(r){return r=jC(r),r!==null?Cf(r):null}function Cf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Cf(r);if(a!==null)return a;r=r.sibling}return null}var Sf=n.unstable_scheduleCallback,Ef=n.unstable_cancelCallback,wC=n.unstable_shouldYield,bC=n.unstable_requestPaint,Yt=n.unstable_now,NC=n.unstable_getCurrentPriorityLevel,gd=n.unstable_ImmediatePriority,Tf=n.unstable_UserBlockingPriority,Ii=n.unstable_NormalPriority,CC=n.unstable_LowPriority,Pf=n.unstable_IdlePriority,$i=null,Fr=null;function SC(r){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot($i,r,void 0,(r.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:PC,EC=Math.log,TC=Math.LN2;function PC(r){return r>>>=0,r===0?32:31-(EC(r)/TC|0)|0}var Li=64,zi=4194304;function Co(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vi(r,a){var l=r.pendingLanes;if(l===0)return 0;var m=0,g=r.suspendedLanes,y=r.pingedLanes,k=l&268435455;if(k!==0){var z=k&~g;z!==0?m=Co(z):(y&=k,y!==0&&(m=Co(y)))}else k=l&~g,k!==0?m=Co(k):y!==0&&(m=Co(y));if(m===0)return 0;if(a!==0&&a!==m&&(a&g)===0&&(g=m&-m,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((m&4)!==0&&(m|=l&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=m;0<a;)l=31-fr(a),g=1<<l,m|=r[l],a&=~g;return m}function kC(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(r,a){for(var l=r.suspendedLanes,m=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes;0<y;){var k=31-fr(y),z=1<<k,q=g[k];q===-1?((z&l)===0||(z&m)!==0)&&(g[k]=kC(z,a)):q<=a&&(r.expiredLanes|=z),y&=~z}}function vd(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function kf(){var r=Li;return Li<<=1,(Li&4194240)===0&&(Li=64),r}function yd(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function So(r,a,l){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-fr(a),r[a]=l}function DC(r,a){var l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var m=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-fr(l),y=1<<g;a[g]=0,m[g]=-1,r[g]=-1,l&=~y}}function jd(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var m=31-fr(l),g=1<<m;g&a|r[m]&a&&(r[m]|=a),l&=~g}}var Et=0;function Rf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Df,wd,Mf,_f,Af,bd=!1,Bi=[],ms=null,hs=null,fs=null,Eo=new Map,To=new Map,ps=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(r,a){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Eo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(a.pointerId)}}function Po(r,a,l,m,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:m,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Bo(a),a!==null&&wd(a)),r):(r.eventSystemFlags|=m,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function _C(r,a,l,m,g){switch(a){case"focusin":return ms=Po(ms,r,a,l,m,g),!0;case"dragenter":return hs=Po(hs,r,a,l,m,g),!0;case"mouseover":return fs=Po(fs,r,a,l,m,g),!0;case"pointerover":var y=g.pointerId;return Eo.set(y,Po(Eo.get(y)||null,r,a,l,m,g)),!0;case"gotpointercapture":return y=g.pointerId,To.set(y,Po(To.get(y)||null,r,a,l,m,g)),!0}return!1}function Ff(r){var a=ta(r.target);if(a!==null){var l=ea(a);if(l!==null){if(a=l.tag,a===13){if(a=wf(l),a!==null){r.blockedOn=a,Af(r.priority,function(){Mf(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ui(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Cd(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var m=new l.constructor(l.type,l);Ar=m,l.target.dispatchEvent(m),Ar=null}else return a=Bo(l),a!==null&&wd(a),r.blockedOn=l,!1;a.shift()}return!0}function If(r,a,l){Ui(r)&&l.delete(a)}function AC(){bd=!1,ms!==null&&Ui(ms)&&(ms=null),hs!==null&&Ui(hs)&&(hs=null),fs!==null&&Ui(fs)&&(fs=null),Eo.forEach(If),To.forEach(If)}function ko(r,a){r.blockedOn===a&&(r.blockedOn=null,bd||(bd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AC)))}function Ro(r){function a(g){return ko(g,r)}if(0<Bi.length){ko(Bi[0],r);for(var l=1;l<Bi.length;l++){var m=Bi[l];m.blockedOn===r&&(m.blockedOn=null)}}for(ms!==null&&ko(ms,r),hs!==null&&ko(hs,r),fs!==null&&ko(fs,r),Eo.forEach(a),To.forEach(a),l=0;l<ps.length;l++)m=ps[l],m.blockedOn===r&&(m.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)Ff(l),l.blockedOn===null&&ps.shift()}var Sa=_.ReactCurrentBatchConfig,Hi=!0;function OC(r,a,l,m){var g=Et,y=Sa.transition;Sa.transition=null;try{Et=1,Nd(r,a,l,m)}finally{Et=g,Sa.transition=y}}function FC(r,a,l,m){var g=Et,y=Sa.transition;Sa.transition=null;try{Et=4,Nd(r,a,l,m)}finally{Et=g,Sa.transition=y}}function Nd(r,a,l,m){if(Hi){var g=Cd(r,a,l,m);if(g===null)Vd(r,a,m,Wi,l),Of(r,m);else if(_C(g,r,a,l,m))m.stopPropagation();else if(Of(r,m),a&4&&-1<MC.indexOf(r)){for(;g!==null;){var y=Bo(g);if(y!==null&&Df(y),y=Cd(r,a,l,m),y===null&&Vd(r,a,m,Wi,l),y===g)break;g=y}g!==null&&m.stopPropagation()}else Vd(r,a,m,null,l)}}var Wi=null;function Cd(r,a,l,m){if(Wi=null,r=Or(m),r=ta(r),r!==null)if(a=ea(r),a===null)r=null;else if(l=a.tag,l===13){if(r=wf(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Wi=r,null}function $f(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NC()){case gd:return 1;case Tf:return 4;case Ii:case CC:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var xs=null,Sd=null,qi=null;function Lf(){if(qi)return qi;var r,a=Sd,l=a.length,m,g="value"in xs?xs.value:xs.textContent,y=g.length;for(r=0;r<l&&a[r]===g[r];r++);var k=l-r;for(m=1;m<=k&&a[l-m]===g[y-m];m++);return qi=g.slice(r,1<m?1-m:void 0)}function Gi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Yi(){return!0}function zf(){return!1}function Bn(r){function a(l,m,g,y,k){this._reactName=l,this._targetInst=g,this.type=m,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(l=r[z],this[z]=l?l(y):y[z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Yi:zf,this.isPropagationStopped=zf,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),a}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ed=Bn(Ea),Do=M({},Ea,{view:0,detail:0}),IC=Bn(Do),Td,Pd,Mo,Ki=M({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Mo&&(Mo&&r.type==="mousemove"?(Td=r.screenX-Mo.screenX,Pd=r.screenY-Mo.screenY):Pd=Td=0,Mo=r),Td)},movementY:function(r){return"movementY"in r?r.movementY:Pd}}),Vf=Bn(Ki),$C=M({},Ki,{dataTransfer:0}),LC=Bn($C),zC=M({},Do,{relatedTarget:0}),kd=Bn(zC),VC=M({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),BC=Bn(VC),UC=M({},Ea,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),HC=Bn(UC),WC=M({},Ea,{data:0}),Bf=Bn(WC),qC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KC(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=YC[r])?!!a[r]:!1}function Rd(){return KC}var QC=M({},Do,{key:function(r){if(r.key){var a=qC[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Gi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?GC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(r){return r.type==="keypress"?Gi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),JC=Bn(QC),XC=M({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=Bn(XC),ZC=M({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),e1=Bn(ZC),t1=M({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),n1=Bn(t1),r1=M({},Ki,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),s1=Bn(r1),a1=[9,13,27,32],Dd=h&&"CompositionEvent"in window,_o=null;h&&"documentMode"in document&&(_o=document.documentMode);var o1=h&&"TextEvent"in window&&!_o,Hf=h&&(!Dd||_o&&8<_o&&11>=_o),Wf=" ",qf=!1;function Gf(r,a){switch(r){case"keyup":return a1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ta=!1;function i1(r,a){switch(r){case"compositionend":return Yf(a);case"keypress":return a.which!==32?null:(qf=!0,Wf);case"textInput":return r=a.data,r===Wf&&qf?null:r;default:return null}}function l1(r,a){if(Ta)return r==="compositionend"||!Dd&&Gf(r,a)?(r=Lf(),qi=Sd=xs=null,Ta=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hf&&a.locale!=="ko"?null:a.data;default:return null}}var c1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!c1[r.type]:a==="textarea"}function Qf(r,a,l,m){oe(m),a=el(a,"onChange"),0<a.length&&(l=new Ed("onChange","change",null,l,m),r.push({event:l,listeners:a}))}var Ao=null,Oo=null;function d1(r){fp(r,0)}function Qi(r){var a=Ma(r);if(A(a))return r}function u1(r,a){if(r==="change")return a}var Jf=!1;if(h){var Md;if(h){var _d="oninput"in document;if(!_d){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),_d=typeof Xf.oninput=="function"}Md=_d}else Md=!1;Jf=Md&&(!document.documentMode||9<document.documentMode)}function Zf(){Ao&&(Ao.detachEvent("onpropertychange",ep),Oo=Ao=null)}function ep(r){if(r.propertyName==="value"&&Qi(Oo)){var a=[];Qf(a,Oo,r,Or(r)),Wt(d1,a)}}function m1(r,a,l){r==="focusin"?(Zf(),Ao=a,Oo=l,Ao.attachEvent("onpropertychange",ep)):r==="focusout"&&Zf()}function h1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qi(Oo)}function f1(r,a){if(r==="click")return Qi(a)}function p1(r,a){if(r==="input"||r==="change")return Qi(a)}function x1(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var pr=typeof Object.is=="function"?Object.is:x1;function Fo(r,a){if(pr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),m=Object.keys(a);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var g=l[m];if(!f.call(a,g)||!pr(r[g],a[g]))return!1}return!0}function tp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function np(r,a){var l=tp(r);r=0;for(var m;l;){if(l.nodeType===3){if(m=r+l.textContent.length,r<=a&&m>=a)return{node:l,offset:a-r};r=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tp(l)}}function rp(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?rp(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function sp(){for(var r=window,a=Ce();a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Ce(r.document)}return a}function Ad(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function g1(r){var a=sp(),l=r.focusedElem,m=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&rp(l.ownerDocument.documentElement,l)){if(m!==null&&Ad(l)){if(a=m.start,r=m.end,r===void 0&&(r=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(r,l.value.length);else if(r=(a=l.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,y=Math.min(m.start,g);m=m.end===void 0?y:Math.min(m.end,g),!r.extend&&y>m&&(g=m,m=y,y=g),g=np(l,y);var k=np(l,m);g&&k&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),y>m?(r.addRange(a),r.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),r.addRange(a)))}}for(a=[],r=l;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)r=a[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var v1=h&&"documentMode"in document&&11>=document.documentMode,Pa=null,Od=null,Io=null,Fd=!1;function ap(r,a,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fd||Pa==null||Pa!==Ce(m)||(m=Pa,"selectionStart"in m&&Ad(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Io&&Fo(Io,m)||(Io=m,m=el(Od,"onSelect"),0<m.length&&(a=new Ed("onSelect","select",null,a,l),r.push({event:a,listeners:m}),a.target=Pa)))}function Ji(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var ka={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Id={},op={};h&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Xi(r){if(Id[r])return Id[r];if(!ka[r])return r;var a=ka[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in op)return Id[r]=a[l];return r}var ip=Xi("animationend"),lp=Xi("animationiteration"),cp=Xi("animationstart"),dp=Xi("transitionend"),up=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(r,a){up.set(r,a),c(a,[r])}for(var $d=0;$d<mp.length;$d++){var Ld=mp[$d],y1=Ld.toLowerCase(),j1=Ld[0].toUpperCase()+Ld.slice(1);gs(y1,"on"+j1)}gs(ip,"onAnimationEnd"),gs(lp,"onAnimationIteration"),gs(cp,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(dp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function hp(r,a,l){var m=r.type||"unknown-event";r.currentTarget=l,yC(m,a,void 0,r),r.currentTarget=null}function fp(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var m=r[l],g=m.event;m=m.listeners;e:{var y=void 0;if(a)for(var k=m.length-1;0<=k;k--){var z=m[k],q=z.instance,ae=z.currentTarget;if(z=z.listener,q!==y&&g.isPropagationStopped())break e;hp(g,z,ae),y=q}else for(k=0;k<m.length;k++){if(z=m[k],q=z.instance,ae=z.currentTarget,z=z.listener,q!==y&&g.isPropagationStopped())break e;hp(g,z,ae),y=q}}}if(Ca)throw r=xd,Ca=!1,xd=null,r}function Ot(r,a){var l=a[Gd];l===void 0&&(l=a[Gd]=new Set);var m=r+"__bubble";l.has(m)||(pp(a,r,2,!1),l.add(m))}function zd(r,a,l){var m=0;a&&(m|=4),pp(l,r,m,a)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function Lo(r){if(!r[Zi]){r[Zi]=!0,o.forEach(function(l){l!=="selectionchange"&&(w1.has(l)||zd(l,!1,r),zd(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Zi]||(a[Zi]=!0,zd("selectionchange",!1,a))}}function pp(r,a,l,m){switch($f(a)){case 1:var g=OC;break;case 4:g=FC;break;default:g=Nd}l=g.bind(null,a,l,r),g=void 0,!nn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),m?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function Vd(r,a,l,m,g){var y=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var z=m.stateNode.containerInfo;if(z===g||z.nodeType===8&&z.parentNode===g)break;if(k===4)for(k=m.return;k!==null;){var q=k.tag;if((q===3||q===4)&&(q=k.stateNode.containerInfo,q===g||q.nodeType===8&&q.parentNode===g))return;k=k.return}for(;z!==null;){if(k=ta(z),k===null)return;if(q=k.tag,q===5||q===6){m=y=k;continue e}z=z.parentNode}}m=m.return}Wt(function(){var ae=y,ye=Or(l),Ne=[];e:{var ge=up.get(r);if(ge!==void 0){var De=Ed,Fe=r;switch(r){case"keypress":if(Gi(l)===0)break e;case"keydown":case"keyup":De=JC;break;case"focusin":Fe="focus",De=kd;break;case"focusout":Fe="blur",De=kd;break;case"beforeblur":case"afterblur":De=kd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=LC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=e1;break;case ip:case lp:case cp:De=BC;break;case dp:De=n1;break;case"scroll":De=IC;break;case"wheel":De=s1;break;case"copy":case"cut":case"paste":De=HC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Uf}var Be=(a&4)!==0,Kt=!Be&&r==="scroll",X=Be?ge!==null?ge+"Capture":null:ge;Be=[];for(var Y=ae,ne;Y!==null;){ne=Y;var Se=ne.stateNode;if(ne.tag===5&&Se!==null&&(ne=Se,X!==null&&(Se=kt(Y,X),Se!=null&&Be.push(zo(Y,Se,ne)))),Kt)break;Y=Y.return}0<Be.length&&(ge=new De(ge,Fe,null,l,ye),Ne.push({event:ge,listeners:Be}))}}if((a&7)===0){e:{if(ge=r==="mouseover"||r==="pointerover",De=r==="mouseout"||r==="pointerout",ge&&l!==Ar&&(Fe=l.relatedTarget||l.fromElement)&&(ta(Fe)||Fe[Kr]))break e;if((De||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,De?(Fe=l.relatedTarget||l.toElement,De=ae,Fe=Fe?ta(Fe):null,Fe!==null&&(Kt=ea(Fe),Fe!==Kt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(De=null,Fe=ae),De!==Fe)){if(Be=Vf,Se="onMouseLeave",X="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Be=Uf,Se="onPointerLeave",X="onPointerEnter",Y="pointer"),Kt=De==null?ge:Ma(De),ne=Fe==null?ge:Ma(Fe),ge=new Be(Se,Y+"leave",De,l,ye),ge.target=Kt,ge.relatedTarget=ne,Se=null,ta(ye)===ae&&(Be=new Be(X,Y+"enter",Fe,l,ye),Be.target=ne,Be.relatedTarget=Kt,Se=Be),Kt=Se,De&&Fe)t:{for(Be=De,X=Fe,Y=0,ne=Be;ne;ne=Ra(ne))Y++;for(ne=0,Se=X;Se;Se=Ra(Se))ne++;for(;0<Y-ne;)Be=Ra(Be),Y--;for(;0<ne-Y;)X=Ra(X),ne--;for(;Y--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=Ra(Be),X=Ra(X)}Be=null}else Be=null;De!==null&&xp(Ne,ge,De,Be,!1),Fe!==null&&Kt!==null&&xp(Ne,Kt,Fe,Be,!0)}}e:{if(ge=ae?Ma(ae):window,De=ge.nodeName&&ge.nodeName.toLowerCase(),De==="select"||De==="input"&&ge.type==="file")var Ue=u1;else if(Kf(ge))if(Jf)Ue=p1;else{Ue=h1;var Ge=m1}else(De=ge.nodeName)&&De.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Ue=f1);if(Ue&&(Ue=Ue(r,ae))){Qf(Ne,Ue,l,ye);break e}Ge&&Ge(r,ge,ae),r==="focusout"&&(Ge=ge._wrapperState)&&Ge.controlled&&ge.type==="number"&&bt(ge,"number",ge.value)}switch(Ge=ae?Ma(ae):window,r){case"focusin":(Kf(Ge)||Ge.contentEditable==="true")&&(Pa=Ge,Od=ae,Io=null);break;case"focusout":Io=Od=Pa=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,ap(Ne,l,ye);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":ap(Ne,l,ye)}var Ye;if(Dd)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ta?Gf(r,l)&&(Qe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(Hf&&l.locale!=="ko"&&(Ta||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ta&&(Ye=Lf()):(xs=ye,Sd="value"in xs?xs.value:xs.textContent,Ta=!0)),Ge=el(ae,Qe),0<Ge.length&&(Qe=new Bf(Qe,r,null,l,ye),Ne.push({event:Qe,listeners:Ge}),Ye?Qe.data=Ye:(Ye=Yf(l),Ye!==null&&(Qe.data=Ye)))),(Ye=o1?i1(r,l):l1(r,l))&&(ae=el(ae,"onBeforeInput"),0<ae.length&&(ye=new Bf("onBeforeInput","beforeinput",null,l,ye),Ne.push({event:ye,listeners:ae}),ye.data=Ye))}fp(Ne,a)})}function zo(r,a,l){return{instance:r,listener:a,currentTarget:l}}function el(r,a){for(var l=a+"Capture",m=[];r!==null;){var g=r,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=kt(r,l),y!=null&&m.unshift(zo(r,y,g)),y=kt(r,a),y!=null&&m.push(zo(r,y,g))),r=r.return}return m}function Ra(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xp(r,a,l,m,g){for(var y=a._reactName,k=[];l!==null&&l!==m;){var z=l,q=z.alternate,ae=z.stateNode;if(q!==null&&q===m)break;z.tag===5&&ae!==null&&(z=ae,g?(q=kt(l,y),q!=null&&k.unshift(zo(l,q,z))):g||(q=kt(l,y),q!=null&&k.push(zo(l,q,z)))),l=l.return}k.length!==0&&r.push({event:a,listeners:k})}var b1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function gp(r){return(typeof r=="string"?r:""+r).replace(b1,`
`).replace(N1,"")}function tl(r,a,l){if(a=gp(a),gp(r)!==a&&l)throw Error(s(425))}function nl(){}var Bd=null,Ud=null;function Hd(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(r){return vp.resolve(null).then(r).catch(E1)}:Wd;function E1(r){setTimeout(function(){throw r})}function qd(r,a){var l=a,m=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(m===0){r.removeChild(g),Ro(a);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=g}while(l);Ro(a)}function vs(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function yp(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Da,Vo="__reactProps$"+Da,Kr="__reactContainer$"+Da,Gd="__reactEvents$"+Da,T1="__reactListeners$"+Da,P1="__reactHandles$"+Da;function ta(r){var a=r[Ir];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Kr]||l[Ir]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=yp(r);r!==null;){if(l=r[Ir])return l;r=yp(r)}return a}r=l,l=r.parentNode}return null}function Bo(r){return r=r[Ir]||r[Kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ma(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(s(33))}function rl(r){return r[Vo]||null}var Yd=[],_a=-1;function ys(r){return{current:r}}function Ft(r){0>_a||(r.current=Yd[_a],Yd[_a]=null,_a--)}function _t(r,a){_a++,Yd[_a]=r.current,r.current=a}var js={},xn=ys(js),Rn=ys(!1),na=js;function Aa(r,a){var l=r.type.contextTypes;if(!l)return js;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in l)g[y]=a[y];return m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function Dn(r){return r=r.childContextTypes,r!=null}function sl(){Ft(Rn),Ft(xn)}function jp(r,a,l){if(xn.current!==js)throw Error(s(168));_t(xn,a),_t(Rn,l)}function wp(r,a,l){var m=r.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var g in m)if(!(g in a))throw Error(s(108,Z(r)||"Unknown",g));return M({},l,m)}function al(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||js,na=xn.current,_t(xn,r),_t(Rn,Rn.current),!0}function bp(r,a,l){var m=r.stateNode;if(!m)throw Error(s(169));l?(r=wp(r,a,na),m.__reactInternalMemoizedMergedChildContext=r,Ft(Rn),Ft(xn),_t(xn,r)):Ft(Rn),_t(Rn,l)}var Qr=null,ol=!1,Kd=!1;function Np(r){Qr===null?Qr=[r]:Qr.push(r)}function k1(r){ol=!0,Np(r)}function ws(){if(!Kd&&Qr!==null){Kd=!0;var r=0,a=Et;try{var l=Qr;for(Et=1;r<l.length;r++){var m=l[r];do m=m(!0);while(m!==null)}Qr=null,ol=!1}catch(g){throw Qr!==null&&(Qr=Qr.slice(r+1)),Sf(gd,ws),g}finally{Et=a,Kd=!1}}return null}var Oa=[],Fa=0,il=null,ll=0,er=[],tr=0,ra=null,Jr=1,Xr="";function sa(r,a){Oa[Fa++]=ll,Oa[Fa++]=il,il=r,ll=a}function Cp(r,a,l){er[tr++]=Jr,er[tr++]=Xr,er[tr++]=ra,ra=r;var m=Jr;r=Xr;var g=32-fr(m)-1;m&=~(1<<g),l+=1;var y=32-fr(a)+g;if(30<y){var k=g-g%5;y=(m&(1<<k)-1).toString(32),m>>=k,g-=k,Jr=1<<32-fr(a)+g|l<<g|m,Xr=y+r}else Jr=1<<y|l<<g|m,Xr=r}function Qd(r){r.return!==null&&(sa(r,1),Cp(r,1,0))}function Jd(r){for(;r===il;)il=Oa[--Fa],Oa[Fa]=null,ll=Oa[--Fa],Oa[Fa]=null;for(;r===ra;)ra=er[--tr],er[tr]=null,Xr=er[--tr],er[tr]=null,Jr=er[--tr],er[tr]=null}var Un=null,Hn=null,Lt=!1,xr=null;function Sp(r,a){var l=ar(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=r,a=r.deletions,a===null?(r.deletions=[l],r.flags|=16):a.push(l)}function Ep(r,a){switch(r.tag){case 5:var l=r.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Un=r,Hn=vs(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Un=r,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=ra!==null?{id:Jr,overflow:Xr}:null,r.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=ar(18,null,null,0),l.stateNode=a,l.return=r,r.child=l,Un=r,Hn=null,!0):!1;default:return!1}}function Xd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Zd(r){if(Lt){var a=Hn;if(a){var l=a;if(!Ep(r,a)){if(Xd(r))throw Error(s(418));a=vs(l.nextSibling);var m=Un;a&&Ep(r,a)?Sp(m,l):(r.flags=r.flags&-4097|2,Lt=!1,Un=r)}}else{if(Xd(r))throw Error(s(418));r.flags=r.flags&-4097|2,Lt=!1,Un=r}}}function Tp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Un=r}function cl(r){if(r!==Un)return!1;if(!Lt)return Tp(r),Lt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Hd(r.type,r.memoizedProps)),a&&(a=Hn)){if(Xd(r))throw Pp(),Error(s(418));for(;a;)Sp(r,a),a=vs(a.nextSibling)}if(Tp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(a===0){Hn=vs(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}r=r.nextSibling}Hn=null}}else Hn=Un?vs(r.stateNode.nextSibling):null;return!0}function Pp(){for(var r=Hn;r;)r=vs(r.nextSibling)}function Ia(){Hn=Un=null,Lt=!1}function eu(r){xr===null?xr=[r]:xr.push(r)}var R1=_.ReactCurrentBatchConfig;function Uo(r,a,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var m=l.stateNode}if(!m)throw Error(s(147,r));var g=m,y=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(k){var z=g.refs;k===null?delete z[y]:z[y]=k},a._stringRef=y,a)}if(typeof r!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,r))}return r}function dl(r,a){throw r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function kp(r){var a=r._init;return a(r._payload)}function Rp(r){function a(X,Y){if(r){var ne=X.deletions;ne===null?(X.deletions=[Y],X.flags|=16):ne.push(Y)}}function l(X,Y){if(!r)return null;for(;Y!==null;)a(X,Y),Y=Y.sibling;return null}function m(X,Y){for(X=new Map;Y!==null;)Y.key!==null?X.set(Y.key,Y):X.set(Y.index,Y),Y=Y.sibling;return X}function g(X,Y){return X=ks(X,Y),X.index=0,X.sibling=null,X}function y(X,Y,ne){return X.index=ne,r?(ne=X.alternate,ne!==null?(ne=ne.index,ne<Y?(X.flags|=2,Y):ne):(X.flags|=2,Y)):(X.flags|=1048576,Y)}function k(X){return r&&X.alternate===null&&(X.flags|=2),X}function z(X,Y,ne,Se){return Y===null||Y.tag!==6?(Y=Wu(ne,X.mode,Se),Y.return=X,Y):(Y=g(Y,ne),Y.return=X,Y)}function q(X,Y,ne,Se){var Ue=ne.type;return Ue===F?ye(X,Y,ne.props.children,Se,ne.key):Y!==null&&(Y.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ie&&kp(Ue)===Y.type)?(Se=g(Y,ne.props),Se.ref=Uo(X,Y,ne),Se.return=X,Se):(Se=Al(ne.type,ne.key,ne.props,null,X.mode,Se),Se.ref=Uo(X,Y,ne),Se.return=X,Se)}function ae(X,Y,ne,Se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=qu(ne,X.mode,Se),Y.return=X,Y):(Y=g(Y,ne.children||[]),Y.return=X,Y)}function ye(X,Y,ne,Se,Ue){return Y===null||Y.tag!==7?(Y=ma(ne,X.mode,Se,Ue),Y.return=X,Y):(Y=g(Y,ne),Y.return=X,Y)}function Ne(X,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Wu(""+Y,X.mode,ne),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return ne=Al(Y.type,Y.key,Y.props,null,X.mode,ne),ne.ref=Uo(X,null,Y),ne.return=X,ne;case U:return Y=qu(Y,X.mode,ne),Y.return=X,Y;case ie:var Se=Y._init;return Ne(X,Se(Y._payload),ne)}if(et(Y)||R(Y))return Y=ma(Y,X.mode,ne,null),Y.return=X,Y;dl(X,Y)}return null}function ge(X,Y,ne,Se){var Ue=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ue!==null?null:z(X,Y,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:return ne.key===Ue?q(X,Y,ne,Se):null;case U:return ne.key===Ue?ae(X,Y,ne,Se):null;case ie:return Ue=ne._init,ge(X,Y,Ue(ne._payload),Se)}if(et(ne)||R(ne))return Ue!==null?null:ye(X,Y,ne,Se,null);dl(X,ne)}return null}function De(X,Y,ne,Se,Ue){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return X=X.get(ne)||null,z(Y,X,""+Se,Ue);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case D:return X=X.get(Se.key===null?ne:Se.key)||null,q(Y,X,Se,Ue);case U:return X=X.get(Se.key===null?ne:Se.key)||null,ae(Y,X,Se,Ue);case ie:var Ge=Se._init;return De(X,Y,ne,Ge(Se._payload),Ue)}if(et(Se)||R(Se))return X=X.get(ne)||null,ye(Y,X,Se,Ue,null);dl(Y,Se)}return null}function Fe(X,Y,ne,Se){for(var Ue=null,Ge=null,Ye=Y,Qe=Y=0,an=null;Ye!==null&&Qe<ne.length;Qe++){Ye.index>Qe?(an=Ye,Ye=null):an=Ye.sibling;var jt=ge(X,Ye,ne[Qe],Se);if(jt===null){Ye===null&&(Ye=an);break}r&&Ye&&jt.alternate===null&&a(X,Ye),Y=y(jt,Y,Qe),Ge===null?Ue=jt:Ge.sibling=jt,Ge=jt,Ye=an}if(Qe===ne.length)return l(X,Ye),Lt&&sa(X,Qe),Ue;if(Ye===null){for(;Qe<ne.length;Qe++)Ye=Ne(X,ne[Qe],Se),Ye!==null&&(Y=y(Ye,Y,Qe),Ge===null?Ue=Ye:Ge.sibling=Ye,Ge=Ye);return Lt&&sa(X,Qe),Ue}for(Ye=m(X,Ye);Qe<ne.length;Qe++)an=De(Ye,X,Qe,ne[Qe],Se),an!==null&&(r&&an.alternate!==null&&Ye.delete(an.key===null?Qe:an.key),Y=y(an,Y,Qe),Ge===null?Ue=an:Ge.sibling=an,Ge=an);return r&&Ye.forEach(function(Rs){return a(X,Rs)}),Lt&&sa(X,Qe),Ue}function Be(X,Y,ne,Se){var Ue=R(ne);if(typeof Ue!="function")throw Error(s(150));if(ne=Ue.call(ne),ne==null)throw Error(s(151));for(var Ge=Ue=null,Ye=Y,Qe=Y=0,an=null,jt=ne.next();Ye!==null&&!jt.done;Qe++,jt=ne.next()){Ye.index>Qe?(an=Ye,Ye=null):an=Ye.sibling;var Rs=ge(X,Ye,jt.value,Se);if(Rs===null){Ye===null&&(Ye=an);break}r&&Ye&&Rs.alternate===null&&a(X,Ye),Y=y(Rs,Y,Qe),Ge===null?Ue=Rs:Ge.sibling=Rs,Ge=Rs,Ye=an}if(jt.done)return l(X,Ye),Lt&&sa(X,Qe),Ue;if(Ye===null){for(;!jt.done;Qe++,jt=ne.next())jt=Ne(X,jt.value,Se),jt!==null&&(Y=y(jt,Y,Qe),Ge===null?Ue=jt:Ge.sibling=jt,Ge=jt);return Lt&&sa(X,Qe),Ue}for(Ye=m(X,Ye);!jt.done;Qe++,jt=ne.next())jt=De(Ye,X,Qe,jt.value,Se),jt!==null&&(r&&jt.alternate!==null&&Ye.delete(jt.key===null?Qe:jt.key),Y=y(jt,Y,Qe),Ge===null?Ue=jt:Ge.sibling=jt,Ge=jt);return r&&Ye.forEach(function(cS){return a(X,cS)}),Lt&&sa(X,Qe),Ue}function Kt(X,Y,ne,Se){if(typeof ne=="object"&&ne!==null&&ne.type===F&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:e:{for(var Ue=ne.key,Ge=Y;Ge!==null;){if(Ge.key===Ue){if(Ue=ne.type,Ue===F){if(Ge.tag===7){l(X,Ge.sibling),Y=g(Ge,ne.props.children),Y.return=X,X=Y;break e}}else if(Ge.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ie&&kp(Ue)===Ge.type){l(X,Ge.sibling),Y=g(Ge,ne.props),Y.ref=Uo(X,Ge,ne),Y.return=X,X=Y;break e}l(X,Ge);break}else a(X,Ge);Ge=Ge.sibling}ne.type===F?(Y=ma(ne.props.children,X.mode,Se,ne.key),Y.return=X,X=Y):(Se=Al(ne.type,ne.key,ne.props,null,X.mode,Se),Se.ref=Uo(X,Y,ne),Se.return=X,X=Se)}return k(X);case U:e:{for(Ge=ne.key;Y!==null;){if(Y.key===Ge)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){l(X,Y.sibling),Y=g(Y,ne.children||[]),Y.return=X,X=Y;break e}else{l(X,Y);break}else a(X,Y);Y=Y.sibling}Y=qu(ne,X.mode,Se),Y.return=X,X=Y}return k(X);case ie:return Ge=ne._init,Kt(X,Y,Ge(ne._payload),Se)}if(et(ne))return Fe(X,Y,ne,Se);if(R(ne))return Be(X,Y,ne,Se);dl(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(l(X,Y.sibling),Y=g(Y,ne),Y.return=X,X=Y):(l(X,Y),Y=Wu(ne,X.mode,Se),Y.return=X,X=Y),k(X)):l(X,Y)}return Kt}var $a=Rp(!0),Dp=Rp(!1),ul=ys(null),ml=null,La=null,tu=null;function nu(){tu=La=ml=null}function ru(r){var a=ul.current;Ft(ul),r._currentValue=a}function su(r,a,l){for(;r!==null;){var m=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),r===l)break;r=r.return}}function za(r,a){ml=r,tu=La=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Mn=!0),r.firstContext=null)}function nr(r){var a=r._currentValue;if(tu!==r)if(r={context:r,memoizedValue:a,next:null},La===null){if(ml===null)throw Error(s(308));La=r,ml.dependencies={lanes:0,firstContext:r}}else La=La.next=r;return a}var aa=null;function au(r){aa===null?aa=[r]:aa.push(r)}function Mp(r,a,l,m){var g=a.interleaved;return g===null?(l.next=l,au(a)):(l.next=g.next,g.next=l),a.interleaved=l,Zr(r,m)}function Zr(r,a){r.lanes|=a;var l=r.alternate;for(l!==null&&(l.lanes|=a),l=r,r=r.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),l=r,r=r.return;return l.tag===3?l.stateNode:null}var bs=!1;function ou(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function es(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Ns(r,a,l){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var g=m.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),m.pending=a,Zr(r,l)}return g=m.interleaved,g===null?(a.next=a,au(m)):(a.next=g.next,g.next=a),m.interleaved=a,Zr(r,l)}function hl(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var m=a.lanes;m&=r.pendingLanes,l|=m,a.lanes=l,jd(r,l)}}function Ap(r,a){var l=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var k={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?g=y=k:y=y.next=k,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:m.shared,effects:m.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}function fl(r,a,l,m){var g=r.updateQueue;bs=!1;var y=g.firstBaseUpdate,k=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var q=z,ae=q.next;q.next=null,k===null?y=ae:k.next=ae,k=q;var ye=r.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==k&&(z===null?ye.firstBaseUpdate=ae:z.next=ae,ye.lastBaseUpdate=q))}if(y!==null){var Ne=g.baseState;k=0,ye=ae=q=null,z=y;do{var ge=z.lane,De=z.eventTime;if((m&ge)===ge){ye!==null&&(ye=ye.next={eventTime:De,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Fe=r,Be=z;switch(ge=a,De=l,Be.tag){case 1:if(Fe=Be.payload,typeof Fe=="function"){Ne=Fe.call(De,Ne,ge);break e}Ne=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Be.payload,ge=typeof Fe=="function"?Fe.call(De,Ne,ge):Fe,ge==null)break e;Ne=M({},Ne,ge);break e;case 2:bs=!0}}z.callback!==null&&z.lane!==0&&(r.flags|=64,ge=g.effects,ge===null?g.effects=[z]:ge.push(z))}else De={eventTime:De,lane:ge,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(ae=ye=De,q=Ne):ye=ye.next=De,k|=ge;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;ge=z,z=ge.next,ge.next=null,g.lastBaseUpdate=ge,g.shared.pending=null}}while(!0);if(ye===null&&(q=Ne),g.baseState=q,g.firstBaseUpdate=ae,g.lastBaseUpdate=ye,a=g.shared.interleaved,a!==null){g=a;do k|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);la|=k,r.lanes=k,r.memoizedState=Ne}}function Op(r,a,l){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var m=r[a],g=m.callback;if(g!==null){if(m.callback=null,m=l,typeof g!="function")throw Error(s(191,g));g.call(m)}}}var Ho={},$r=ys(Ho),Wo=ys(Ho),qo=ys(Ho);function oa(r){if(r===Ho)throw Error(s(174));return r}function iu(r,a){switch(_t(qo,a),_t(Wo,r),_t($r,Ho),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:le(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=le(a,r)}Ft($r),_t($r,a)}function Va(){Ft($r),Ft(Wo),Ft(qo)}function Fp(r){oa(qo.current);var a=oa($r.current),l=le(a,r.type);a!==l&&(_t(Wo,r),_t($r,l))}function lu(r){Wo.current===r&&(Ft($r),Ft(Wo))}var Bt=ys(0);function pl(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var cu=[];function du(){for(var r=0;r<cu.length;r++)cu[r]._workInProgressVersionPrimary=null;cu.length=0}var xl=_.ReactCurrentDispatcher,uu=_.ReactCurrentBatchConfig,ia=0,Ut=null,Jt=null,rn=null,gl=!1,Go=!1,Yo=0,D1=0;function gn(){throw Error(s(321))}function mu(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!pr(r[l],a[l]))return!1;return!0}function hu(r,a,l,m,g,y){if(ia=y,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xl.current=r===null||r.memoizedState===null?O1:F1,r=l(m,g),Go){y=0;do{if(Go=!1,Yo=0,25<=y)throw Error(s(301));y+=1,rn=Jt=null,a.updateQueue=null,xl.current=I1,r=l(m,g)}while(Go)}if(xl.current=jl,a=Jt!==null&&Jt.next!==null,ia=0,rn=Jt=Ut=null,gl=!1,a)throw Error(s(300));return r}function fu(){var r=Yo!==0;return Yo=0,r}function Lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ut.memoizedState=rn=r:rn=rn.next=r,rn}function rr(){if(Jt===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var a=rn===null?Ut.memoizedState:rn.next;if(a!==null)rn=a,Jt=r;else{if(r===null)throw Error(s(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},rn===null?Ut.memoizedState=rn=r:rn=rn.next=r}return rn}function Ko(r,a){return typeof a=="function"?a(r):a}function pu(r){var a=rr(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var m=Jt,g=m.baseQueue,y=l.pending;if(y!==null){if(g!==null){var k=g.next;g.next=y.next,y.next=k}m.baseQueue=g=y,l.pending=null}if(g!==null){y=g.next,m=m.baseState;var z=k=null,q=null,ae=y;do{var ye=ae.lane;if((ia&ye)===ye)q!==null&&(q=q.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),m=ae.hasEagerState?ae.eagerState:r(m,ae.action);else{var Ne={lane:ye,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};q===null?(z=q=Ne,k=m):q=q.next=Ne,Ut.lanes|=ye,la|=ye}ae=ae.next}while(ae!==null&&ae!==y);q===null?k=m:q.next=z,pr(m,a.memoizedState)||(Mn=!0),a.memoizedState=m,a.baseState=k,a.baseQueue=q,l.lastRenderedState=m}if(r=l.interleaved,r!==null){g=r;do y=g.lane,Ut.lanes|=y,la|=y,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function xu(r){var a=rr(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var m=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var k=g=g.next;do y=r(y,k.action),k=k.next;while(k!==g);pr(y,a.memoizedState)||(Mn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,m]}function Ip(){}function $p(r,a){var l=Ut,m=rr(),g=a(),y=!pr(m.memoizedState,g);if(y&&(m.memoizedState=g,Mn=!0),m=m.queue,gu(Vp.bind(null,l,m,r),[r]),m.getSnapshot!==a||y||rn!==null&&rn.memoizedState.tag&1){if(l.flags|=2048,Qo(9,zp.bind(null,l,m,g,a),void 0,null),sn===null)throw Error(s(349));(ia&30)!==0||Lp(l,a,g)}return g}function Lp(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function zp(r,a,l,m){a.value=l,a.getSnapshot=m,Bp(a)&&Up(r)}function Vp(r,a,l){return l(function(){Bp(a)&&Up(r)})}function Bp(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!pr(r,l)}catch{return!0}}function Up(r){var a=Zr(r,1);a!==null&&jr(a,r,1,-1)}function Hp(r){var a=Lr();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:r},a.queue=r,r=r.dispatch=A1.bind(null,Ut,r),[a.memoizedState,r]}function Qo(r,a,l,m){return r={tag:r,create:a,destroy:l,deps:m,next:null},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.lastEffect=r.next=r):(l=a.lastEffect,l===null?a.lastEffect=r.next=r:(m=l.next,l.next=r,r.next=m,a.lastEffect=r)),r}function Wp(){return rr().memoizedState}function vl(r,a,l,m){var g=Lr();Ut.flags|=r,g.memoizedState=Qo(1|a,l,void 0,m===void 0?null:m)}function yl(r,a,l,m){var g=rr();m=m===void 0?null:m;var y=void 0;if(Jt!==null){var k=Jt.memoizedState;if(y=k.destroy,m!==null&&mu(m,k.deps)){g.memoizedState=Qo(a,l,y,m);return}}Ut.flags|=r,g.memoizedState=Qo(1|a,l,y,m)}function qp(r,a){return vl(8390656,8,r,a)}function gu(r,a){return yl(2048,8,r,a)}function Gp(r,a){return yl(4,2,r,a)}function Yp(r,a){return yl(4,4,r,a)}function Kp(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Qp(r,a,l){return l=l!=null?l.concat([r]):null,yl(4,4,Kp.bind(null,a,r),l)}function vu(){}function Jp(r,a){var l=rr();a=a===void 0?null:a;var m=l.memoizedState;return m!==null&&a!==null&&mu(a,m[1])?m[0]:(l.memoizedState=[r,a],r)}function Xp(r,a){var l=rr();a=a===void 0?null:a;var m=l.memoizedState;return m!==null&&a!==null&&mu(a,m[1])?m[0]:(r=r(),l.memoizedState=[r,a],r)}function Zp(r,a,l){return(ia&21)===0?(r.baseState&&(r.baseState=!1,Mn=!0),r.memoizedState=l):(pr(l,a)||(l=kf(),Ut.lanes|=l,la|=l,r.baseState=!0),a)}function M1(r,a){var l=Et;Et=l!==0&&4>l?l:4,r(!0);var m=uu.transition;uu.transition={};try{r(!1),a()}finally{Et=l,uu.transition=m}}function ex(){return rr().memoizedState}function _1(r,a,l){var m=Ts(r);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},tx(r))nx(a,l);else if(l=Mp(r,a,l,m),l!==null){var g=bn();jr(l,r,m,g),rx(l,a,m)}}function A1(r,a,l){var m=Ts(r),g={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(tx(r))nx(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,z=y(k,l);if(g.hasEagerState=!0,g.eagerState=z,pr(z,k)){var q=a.interleaved;q===null?(g.next=g,au(a)):(g.next=q.next,q.next=g),a.interleaved=g;return}}catch{}finally{}l=Mp(r,a,g,m),l!==null&&(g=bn(),jr(l,r,m,g),rx(l,a,m))}}function tx(r){var a=r.alternate;return r===Ut||a!==null&&a===Ut}function nx(r,a){Go=gl=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function rx(r,a,l){if((l&4194240)!==0){var m=a.lanes;m&=r.pendingLanes,l|=m,a.lanes=l,jd(r,l)}}var jl={readContext:nr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},O1={readContext:nr,useCallback:function(r,a){return Lr().memoizedState=[r,a===void 0?null:a],r},useContext:nr,useEffect:qp,useImperativeHandle:function(r,a,l){return l=l!=null?l.concat([r]):null,vl(4194308,4,Kp.bind(null,a,r),l)},useLayoutEffect:function(r,a){return vl(4194308,4,r,a)},useInsertionEffect:function(r,a){return vl(4,2,r,a)},useMemo:function(r,a){var l=Lr();return a=a===void 0?null:a,r=r(),l.memoizedState=[r,a],r},useReducer:function(r,a,l){var m=Lr();return a=l!==void 0?l(a):a,m.memoizedState=m.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},m.queue=r,r=r.dispatch=_1.bind(null,Ut,r),[m.memoizedState,r]},useRef:function(r){var a=Lr();return r={current:r},a.memoizedState=r},useState:Hp,useDebugValue:vu,useDeferredValue:function(r){return Lr().memoizedState=r},useTransition:function(){var r=Hp(!1),a=r[0];return r=M1.bind(null,r[1]),Lr().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,l){var m=Ut,g=Lr();if(Lt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),sn===null)throw Error(s(349));(ia&30)!==0||Lp(m,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,qp(Vp.bind(null,m,y,r),[r]),m.flags|=2048,Qo(9,zp.bind(null,m,y,l,a),void 0,null),l},useId:function(){var r=Lr(),a=sn.identifierPrefix;if(Lt){var l=Xr,m=Jr;l=(m&~(1<<32-fr(m)-1)).toString(32)+l,a=":"+a+"R"+l,l=Yo++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=D1++,a=":"+a+"r"+l.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},F1={readContext:nr,useCallback:Jp,useContext:nr,useEffect:gu,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Xp,useReducer:pu,useRef:Wp,useState:function(){return pu(Ko)},useDebugValue:vu,useDeferredValue:function(r){var a=rr();return Zp(a,Jt.memoizedState,r)},useTransition:function(){var r=pu(Ko)[0],a=rr().memoizedState;return[r,a]},useMutableSource:Ip,useSyncExternalStore:$p,useId:ex,unstable_isNewReconciler:!1},I1={readContext:nr,useCallback:Jp,useContext:nr,useEffect:gu,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Xp,useReducer:xu,useRef:Wp,useState:function(){return xu(Ko)},useDebugValue:vu,useDeferredValue:function(r){var a=rr();return Jt===null?a.memoizedState=r:Zp(a,Jt.memoizedState,r)},useTransition:function(){var r=xu(Ko)[0],a=rr().memoizedState;return[r,a]},useMutableSource:Ip,useSyncExternalStore:$p,useId:ex,unstable_isNewReconciler:!1};function gr(r,a){if(r&&r.defaultProps){a=M({},a),r=r.defaultProps;for(var l in r)a[l]===void 0&&(a[l]=r[l]);return a}return a}function yu(r,a,l,m){a=r.memoizedState,l=l(m,a),l=l==null?a:M({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var wl={isMounted:function(r){return(r=r._reactInternals)?ea(r)===r:!1},enqueueSetState:function(r,a,l){r=r._reactInternals;var m=bn(),g=Ts(r),y=es(m,g);y.payload=a,l!=null&&(y.callback=l),a=Ns(r,y,g),a!==null&&(jr(a,r,g,m),hl(a,r,g))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var m=bn(),g=Ts(r),y=es(m,g);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=Ns(r,y,g),a!==null&&(jr(a,r,g,m),hl(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=bn(),m=Ts(r),g=es(l,m);g.tag=2,a!=null&&(g.callback=a),a=Ns(r,g,m),a!==null&&(jr(a,r,m,l),hl(a,r,m))}};function sx(r,a,l,m,g,y,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,y,k):a.prototype&&a.prototype.isPureReactComponent?!Fo(l,m)||!Fo(g,y):!0}function ax(r,a,l){var m=!1,g=js,y=a.contextType;return typeof y=="object"&&y!==null?y=nr(y):(g=Dn(a)?na:xn.current,m=a.contextTypes,y=(m=m!=null)?Aa(r,g):js),a=new a(l,y),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wl,r.stateNode=a,a._reactInternals=r,m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=y),a}function ox(r,a,l,m){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,m),a.state!==r&&wl.enqueueReplaceState(a,a.state,null)}function ju(r,a,l,m){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},ou(r);var y=a.contextType;typeof y=="object"&&y!==null?g.context=nr(y):(y=Dn(a)?na:xn.current,g.context=Aa(r,y)),g.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(yu(r,a,y,l),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&wl.enqueueReplaceState(g,g.state,null),fl(r,l,g,m),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Ba(r,a){try{var l="",m=a;do l+=ce(m),m=m.return;while(m);var g=l}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:a,stack:g,digest:null}}function wu(r,a,l){return{value:r,source:null,stack:l??null,digest:a??null}}function bu(r,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function ix(r,a,l){l=es(-1,l),l.tag=3,l.payload={element:null};var m=a.value;return l.callback=function(){Pl||(Pl=!0,Iu=m),bu(r,a)},l}function lx(r,a,l){l=es(-1,l),l.tag=3;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var g=a.value;l.payload=function(){return m(g)},l.callback=function(){bu(r,a)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){bu(r,a),typeof m!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),l}function cx(r,a,l){var m=r.pingCache;if(m===null){m=r.pingCache=new $1;var g=new Set;m.set(a,g)}else g=m.get(a),g===void 0&&(g=new Set,m.set(a,g));g.has(l)||(g.add(l),r=X1.bind(null,r,a,l),a.then(r,r))}function dx(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function ux(r,a,l,m,g){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=es(-1,1),a.tag=2,Ns(l,a,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var L1=_.ReactCurrentOwner,Mn=!1;function wn(r,a,l,m){a.child=r===null?Dp(a,null,l,m):$a(a,r.child,l,m)}function mx(r,a,l,m,g){l=l.render;var y=a.ref;return za(a,g),m=hu(r,a,l,m,y,g),l=fu(),r!==null&&!Mn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,ts(r,a,g)):(Lt&&l&&Qd(a),a.flags|=1,wn(r,a,m,g),a.child)}function hx(r,a,l,m,g){if(r===null){var y=l.type;return typeof y=="function"&&!Hu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=y,fx(r,a,y,m,g)):(r=Al(l.type,null,m,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,(r.lanes&g)===0){var k=y.memoizedProps;if(l=l.compare,l=l!==null?l:Fo,l(k,m)&&r.ref===a.ref)return ts(r,a,g)}return a.flags|=1,r=ks(y,m),r.ref=a.ref,r.return=a,a.child=r}function fx(r,a,l,m,g){if(r!==null){var y=r.memoizedProps;if(Fo(y,m)&&r.ref===a.ref)if(Mn=!1,a.pendingProps=m=y,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Mn=!0);else return a.lanes=r.lanes,ts(r,a,g)}return Nu(r,a,l,m,g)}function px(r,a,l){var m=a.pendingProps,g=m.children,y=r!==null?r.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Ha,Wn),Wn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,_t(Ha,Wn),Wn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=y!==null?y.baseLanes:l,_t(Ha,Wn),Wn|=m}else y!==null?(m=y.baseLanes|l,a.memoizedState=null):m=l,_t(Ha,Wn),Wn|=m;return wn(r,a,g,l),a.child}function xx(r,a){var l=a.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function Nu(r,a,l,m,g){var y=Dn(l)?na:xn.current;return y=Aa(a,y),za(a,g),l=hu(r,a,l,m,y,g),m=fu(),r!==null&&!Mn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,ts(r,a,g)):(Lt&&m&&Qd(a),a.flags|=1,wn(r,a,l,g),a.child)}function gx(r,a,l,m,g){if(Dn(l)){var y=!0;al(a)}else y=!1;if(za(a,g),a.stateNode===null)Nl(r,a),ax(a,l,m),ju(a,l,m,g),m=!0;else if(r===null){var k=a.stateNode,z=a.memoizedProps;k.props=z;var q=k.context,ae=l.contextType;typeof ae=="object"&&ae!==null?ae=nr(ae):(ae=Dn(l)?na:xn.current,ae=Aa(a,ae));var ye=l.getDerivedStateFromProps,Ne=typeof ye=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ne||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==m||q!==ae)&&ox(a,k,m,ae),bs=!1;var ge=a.memoizedState;k.state=ge,fl(a,m,k,g),q=a.memoizedState,z!==m||ge!==q||Rn.current||bs?(typeof ye=="function"&&(yu(a,l,ye,m),q=a.memoizedState),(z=bs||sx(a,l,z,m,ge,q,ae))?(Ne||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=q),k.props=m,k.state=q,k.context=ae,m=z):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{k=a.stateNode,_p(r,a),z=a.memoizedProps,ae=a.type===a.elementType?z:gr(a.type,z),k.props=ae,Ne=a.pendingProps,ge=k.context,q=l.contextType,typeof q=="object"&&q!==null?q=nr(q):(q=Dn(l)?na:xn.current,q=Aa(a,q));var De=l.getDerivedStateFromProps;(ye=typeof De=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==Ne||ge!==q)&&ox(a,k,m,q),bs=!1,ge=a.memoizedState,k.state=ge,fl(a,m,k,g);var Fe=a.memoizedState;z!==Ne||ge!==Fe||Rn.current||bs?(typeof De=="function"&&(yu(a,l,De,m),Fe=a.memoizedState),(ae=bs||sx(a,l,ae,m,ge,Fe,q)||!1)?(ye||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,Fe,q),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,Fe,q)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||z===r.memoizedProps&&ge===r.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&ge===r.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Fe),k.props=m,k.state=Fe,k.context=q,m=ae):(typeof k.componentDidUpdate!="function"||z===r.memoizedProps&&ge===r.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&ge===r.memoizedState||(a.flags|=1024),m=!1)}return Cu(r,a,l,m,y,g)}function Cu(r,a,l,m,g,y){xx(r,a);var k=(a.flags&128)!==0;if(!m&&!k)return g&&bp(a,l,!1),ts(r,a,y);m=a.stateNode,L1.current=a;var z=k&&typeof l.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,r!==null&&k?(a.child=$a(a,r.child,null,y),a.child=$a(a,null,z,y)):wn(r,a,z,y),a.memoizedState=m.state,g&&bp(a,l,!0),a.child}function vx(r){var a=r.stateNode;a.pendingContext?jp(r,a.pendingContext,a.pendingContext!==a.context):a.context&&jp(r,a.context,!1),iu(r,a.containerInfo)}function yx(r,a,l,m,g){return Ia(),eu(g),a.flags|=256,wn(r,a,l,m),a.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function Eu(r){return{baseLanes:r,cachePool:null,transitions:null}}function jx(r,a,l){var m=a.pendingProps,g=Bt.current,y=!1,k=(a.flags&128)!==0,z;if((z=k)||(z=r!==null&&r.memoizedState===null?!1:(g&2)!==0),z?(y=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),_t(Bt,g&1),r===null)return Zd(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=m.children,r=m.fallback,y?(m=a.mode,y=a.child,k={mode:"hidden",children:k},(m&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=Ol(k,m,0,null),r=ma(r,m,l,null),y.return=a,r.return=a,y.sibling=r,a.child=y,a.child.memoizedState=Eu(l),a.memoizedState=Su,r):Tu(a,k));if(g=r.memoizedState,g!==null&&(z=g.dehydrated,z!==null))return z1(r,a,k,m,z,g,l);if(y){y=m.fallback,k=a.mode,g=r.child,z=g.sibling;var q={mode:"hidden",children:m.children};return(k&1)===0&&a.child!==g?(m=a.child,m.childLanes=0,m.pendingProps=q,a.deletions=null):(m=ks(g,q),m.subtreeFlags=g.subtreeFlags&14680064),z!==null?y=ks(z,y):(y=ma(y,k,l,null),y.flags|=2),y.return=a,m.return=a,m.sibling=y,a.child=m,m=y,y=a.child,k=r.child.memoizedState,k=k===null?Eu(l):{baseLanes:k.baseLanes|l,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=r.childLanes&~l,a.memoizedState=Su,m}return y=r.child,r=y.sibling,m=ks(y,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=l),m.return=a,m.sibling=null,r!==null&&(l=a.deletions,l===null?(a.deletions=[r],a.flags|=16):l.push(r)),a.child=m,a.memoizedState=null,m}function Tu(r,a){return a=Ol({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function bl(r,a,l,m){return m!==null&&eu(m),$a(a,r.child,null,l),r=Tu(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function z1(r,a,l,m,g,y,k){if(l)return a.flags&256?(a.flags&=-257,m=wu(Error(s(422))),bl(r,a,k,m)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(y=m.fallback,g=a.mode,m=Ol({mode:"visible",children:m.children},g,0,null),y=ma(y,g,k,null),y.flags|=2,m.return=a,y.return=a,m.sibling=y,a.child=m,(a.mode&1)!==0&&$a(a,r.child,null,k),a.child.memoizedState=Eu(k),a.memoizedState=Su,y);if((a.mode&1)===0)return bl(r,a,k,null);if(g.data==="$!"){if(m=g.nextSibling&&g.nextSibling.dataset,m)var z=m.dgst;return m=z,y=Error(s(419)),m=wu(y,m,void 0),bl(r,a,k,m)}if(z=(k&r.childLanes)!==0,Mn||z){if(m=sn,m!==null){switch(k&-k){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(m.suspendedLanes|k))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Zr(r,g),jr(m,r,g,-1))}return Uu(),m=wu(Error(s(421))),bl(r,a,k,m)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=Z1.bind(null,r),g._reactRetry=a,null):(r=y.treeContext,Hn=vs(g.nextSibling),Un=a,Lt=!0,xr=null,r!==null&&(er[tr++]=Jr,er[tr++]=Xr,er[tr++]=ra,Jr=r.id,Xr=r.overflow,ra=a),a=Tu(a,m.children),a.flags|=4096,a)}function wx(r,a,l){r.lanes|=a;var m=r.alternate;m!==null&&(m.lanes|=a),su(r.return,a,l)}function Pu(r,a,l,m,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=m,y.tail=l,y.tailMode=g)}function bx(r,a,l){var m=a.pendingProps,g=m.revealOrder,y=m.tail;if(wn(r,a,m.children,l),m=Bt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wx(r,l,a);else if(r.tag===19)wx(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}if(_t(Bt,m),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&pl(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Pu(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&pl(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Pu(a,!0,l,null,y);break;case"together":Pu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Nl(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ts(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),la|=a.lanes,(l&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,l=ks(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=ks(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function V1(r,a,l){switch(a.tag){case 3:vx(a),Ia();break;case 5:Fp(a);break;case 1:Dn(a.type)&&al(a);break;case 4:iu(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,g=a.memoizedProps.value;_t(ul,m._currentValue),m._currentValue=g;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(_t(Bt,Bt.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?jx(r,a,l):(_t(Bt,Bt.current&1),r=ts(r,a,l),r!==null?r.sibling:null);_t(Bt,Bt.current&1);break;case 19:if(m=(l&a.childLanes)!==0,(r.flags&128)!==0){if(m)return bx(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),_t(Bt,Bt.current),m)break;return null;case 22:case 23:return a.lanes=0,px(r,a,l)}return ts(r,a,l)}var Nx,ku,Cx,Sx;Nx=function(r,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ku=function(){},Cx=function(r,a,l,m){var g=r.memoizedProps;if(g!==m){r=a.stateNode,oa($r.current);var y=null;switch(l){case"input":g=de(r,g),m=de(r,m),y=[];break;case"select":g=M({},g,{value:void 0}),m=M({},m,{value:void 0}),y=[];break;case"textarea":g=Dt(r,g),m=Dt(r,m),y=[];break;default:typeof g.onClick!="function"&&typeof m.onClick=="function"&&(r.onclick=nl)}tn(l,m);var k;l=null;for(ae in g)if(!m.hasOwnProperty(ae)&&g.hasOwnProperty(ae)&&g[ae]!=null)if(ae==="style"){var z=g[ae];for(k in z)z.hasOwnProperty(k)&&(l||(l={}),l[k]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?y||(y=[]):(y=y||[]).push(ae,null));for(ae in m){var q=m[ae];if(z=g?.[ae],m.hasOwnProperty(ae)&&q!==z&&(q!=null||z!=null))if(ae==="style")if(z){for(k in z)!z.hasOwnProperty(k)||q&&q.hasOwnProperty(k)||(l||(l={}),l[k]="");for(k in q)q.hasOwnProperty(k)&&z[k]!==q[k]&&(l||(l={}),l[k]=q[k])}else l||(y||(y=[]),y.push(ae,l)),l=q;else ae==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,z=z?z.__html:void 0,q!=null&&z!==q&&(y=y||[]).push(ae,q)):ae==="children"?typeof q!="string"&&typeof q!="number"||(y=y||[]).push(ae,""+q):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(q!=null&&ae==="onScroll"&&Ot("scroll",r),y||z===q||(y=[])):(y=y||[]).push(ae,q))}l&&(y=y||[]).push("style",l);var ae=y;(a.updateQueue=ae)&&(a.flags|=4)}},Sx=function(r,a,l,m){l!==m&&(a.flags|=4)};function Jo(r,a){if(!Lt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function vn(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,m=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,m|=g.subtreeFlags&14680064,m|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,m|=g.subtreeFlags,m|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=m,r.childLanes=l,a}function B1(r,a,l){var m=a.pendingProps;switch(Jd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(a),null;case 1:return Dn(a.type)&&sl(),vn(a),null;case 3:return m=a.stateNode,Va(),Ft(Rn),Ft(xn),du(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(r===null||r.child===null)&&(cl(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xr!==null&&(zu(xr),xr=null))),ku(r,a),vn(a),null;case 5:lu(a);var g=oa(qo.current);if(l=a.type,r!==null&&a.stateNode!=null)Cx(r,a,l,m,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(s(166));return vn(a),null}if(r=oa($r.current),cl(a)){m=a.stateNode,l=a.type;var y=a.memoizedProps;switch(m[Ir]=a,m[Vo]=y,r=(a.mode&1)!==0,l){case"dialog":Ot("cancel",m),Ot("close",m);break;case"iframe":case"object":case"embed":Ot("load",m);break;case"video":case"audio":for(g=0;g<$o.length;g++)Ot($o[g],m);break;case"source":Ot("error",m);break;case"img":case"image":case"link":Ot("error",m),Ot("load",m);break;case"details":Ot("toggle",m);break;case"input":Ze(m,y),Ot("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!y.multiple},Ot("invalid",m);break;case"textarea":xt(m,y),Ot("invalid",m)}tn(l,y),g=null;for(var k in y)if(y.hasOwnProperty(k)){var z=y[k];k==="children"?typeof z=="string"?m.textContent!==z&&(y.suppressHydrationWarning!==!0&&tl(m.textContent,z,r),g=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(y.suppressHydrationWarning!==!0&&tl(m.textContent,z,r),g=["children",""+z]):i.hasOwnProperty(k)&&z!=null&&k==="onScroll"&&Ot("scroll",m)}switch(l){case"input":ze(m),ht(m,y,!0);break;case"textarea":ze(m),me(m);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(m.onclick=nl)}m=g,a.updateQueue=m,m!==null&&(a.flags|=4)}else{k=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=G(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof m.is=="string"?r=k.createElement(l,{is:m.is}):(r=k.createElement(l),l==="select"&&(k=r,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):r=k.createElementNS(r,l),r[Ir]=a,r[Vo]=m,Nx(r,a,!1,!1),a.stateNode=r;e:{switch(k=_r(l,m),l){case"dialog":Ot("cancel",r),Ot("close",r),g=m;break;case"iframe":case"object":case"embed":Ot("load",r),g=m;break;case"video":case"audio":for(g=0;g<$o.length;g++)Ot($o[g],r);g=m;break;case"source":Ot("error",r),g=m;break;case"img":case"image":case"link":Ot("error",r),Ot("load",r),g=m;break;case"details":Ot("toggle",r),g=m;break;case"input":Ze(r,m),g=de(r,m),Ot("invalid",r);break;case"option":g=m;break;case"select":r._wrapperState={wasMultiple:!!m.multiple},g=M({},m,{value:void 0}),Ot("invalid",r);break;case"textarea":xt(r,m),g=Dt(r,m),Ot("invalid",r);break;default:g=m}tn(l,g),z=g;for(y in z)if(z.hasOwnProperty(y)){var q=z[y];y==="style"?jn(r,q):y==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&We(r,q)):y==="children"?typeof q=="string"?(l!=="textarea"||q!=="")&&ct(r,q):typeof q=="number"&&ct(r,""+q):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?q!=null&&y==="onScroll"&&Ot("scroll",r):q!=null&&S(r,y,q,k))}switch(l){case"input":ze(r),ht(r,m,!1);break;case"textarea":ze(r),me(r);break;case"option":m.value!=null&&r.setAttribute("value",""+fe(m.value));break;case"select":r.multiple=!!m.multiple,y=m.value,y!=null?tt(r,!!m.multiple,y,!1):m.defaultValue!=null&&tt(r,!!m.multiple,m.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=nl)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vn(a),null;case 6:if(r&&a.stateNode!=null)Sx(r,a,r.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(s(166));if(l=oa(qo.current),oa($r.current),cl(a)){if(m=a.stateNode,l=a.memoizedProps,m[Ir]=a,(y=m.nodeValue!==l)&&(r=Un,r!==null))switch(r.tag){case 3:tl(m.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&tl(m.nodeValue,l,(r.mode&1)!==0)}y&&(a.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[Ir]=a,a.stateNode=m}return vn(a),null;case 13:if(Ft(Bt),m=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Lt&&Hn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Pp(),Ia(),a.flags|=98560,y=!1;else if(y=cl(a),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Ir]=a}else Ia(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vn(a),y=!1}else xr!==null&&(zu(xr),xr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(m=m!==null,m!==(r!==null&&r.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Bt.current&1)!==0?Xt===0&&(Xt=3):Uu())),a.updateQueue!==null&&(a.flags|=4),vn(a),null);case 4:return Va(),ku(r,a),r===null&&Lo(a.stateNode.containerInfo),vn(a),null;case 10:return ru(a.type._context),vn(a),null;case 17:return Dn(a.type)&&sl(),vn(a),null;case 19:if(Ft(Bt),y=a.memoizedState,y===null)return vn(a),null;if(m=(a.flags&128)!==0,k=y.rendering,k===null)if(m)Jo(y,!1);else{if(Xt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(k=pl(r),k!==null){for(a.flags|=128,Jo(y,!1),m=k.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=l,l=a.child;l!==null;)y=l,r=m,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,r=k.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return _t(Bt,Bt.current&1|2),a.child}r=r.sibling}y.tail!==null&&Yt()>Wa&&(a.flags|=128,m=!0,Jo(y,!1),a.lanes=4194304)}else{if(!m)if(r=pl(k),r!==null){if(a.flags|=128,m=!0,l=r.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),Jo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!Lt)return vn(a),null}else 2*Yt()-y.renderingStartTime>Wa&&l!==1073741824&&(a.flags|=128,m=!0,Jo(y,!1),a.lanes=4194304);y.isBackwards?(k.sibling=a.child,a.child=k):(l=y.last,l!==null?l.sibling=k:a.child=k,y.last=k)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Yt(),a.sibling=null,l=Bt.current,_t(Bt,m?l&1|2:l&1),a):(vn(a),null);case 22:case 23:return Bu(),m=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Wn&1073741824)!==0&&(vn(a),a.subtreeFlags&6&&(a.flags|=8192)):vn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function U1(r,a){switch(Jd(a),a.tag){case 1:return Dn(a.type)&&sl(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Va(),Ft(Rn),Ft(xn),du(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return lu(a),null;case 13:if(Ft(Bt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ia()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Ft(Bt),null;case 4:return Va(),null;case 10:return ru(a.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var Cl=!1,yn=!1,H1=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ua(r,a){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){qt(r,a,m)}else l.current=null}function Ru(r,a,l){try{l()}catch(m){qt(r,a,m)}}var Ex=!1;function W1(r,a){if(Bd=Hi,r=sp(),Ad(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var g=m.anchorOffset,y=m.focusNode;m=m.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var k=0,z=-1,q=-1,ae=0,ye=0,Ne=r,ge=null;t:for(;;){for(var De;Ne!==l||g!==0&&Ne.nodeType!==3||(z=k+g),Ne!==y||m!==0&&Ne.nodeType!==3||(q=k+m),Ne.nodeType===3&&(k+=Ne.nodeValue.length),(De=Ne.firstChild)!==null;)ge=Ne,Ne=De;for(;;){if(Ne===r)break t;if(ge===l&&++ae===g&&(z=k),ge===y&&++ye===m&&(q=k),(De=Ne.nextSibling)!==null)break;Ne=ge,ge=Ne.parentNode}Ne=De}l=z===-1||q===-1?null:{start:z,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ud={focusedElem:r,selectionRange:l},Hi=!1,_e=a;_e!==null;)if(a=_e,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,_e=r;else for(;_e!==null;){a=_e;try{var Fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Be=Fe.memoizedProps,Kt=Fe.memoizedState,X=a.stateNode,Y=X.getSnapshotBeforeUpdate(a.elementType===a.type?Be:gr(a.type,Be),Kt);X.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=a.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Se){qt(a,a.return,Se)}if(r=a.sibling,r!==null){r.return=a.return,_e=r;break}_e=a.return}return Fe=Ex,Ex=!1,Fe}function Xo(r,a,l){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var g=m=m.next;do{if((g.tag&r)===r){var y=g.destroy;g.destroy=void 0,y!==void 0&&Ru(a,l,y)}g=g.next}while(g!==m)}}function Sl(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&r)===r){var m=l.create;l.destroy=m()}l=l.next}while(l!==a)}}function Du(r){var a=r.ref;if(a!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof a=="function"?a(r):a.current=r}}function Tx(r){var a=r.alternate;a!==null&&(r.alternate=null,Tx(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Ir],delete a[Vo],delete a[Gd],delete a[T1],delete a[P1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Px(r){return r.tag===5||r.tag===3||r.tag===4}function kx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Px(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Mu(r,a,l){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(r,a):l.insertBefore(r,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(r,l)):(a=l,a.appendChild(r)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=nl));else if(m!==4&&(r=r.child,r!==null))for(Mu(r,a,l),r=r.sibling;r!==null;)Mu(r,a,l),r=r.sibling}function _u(r,a,l){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(m!==4&&(r=r.child,r!==null))for(_u(r,a,l),r=r.sibling;r!==null;)_u(r,a,l),r=r.sibling}var un=null,vr=!1;function Cs(r,a,l){for(l=l.child;l!==null;)Rx(r,a,l),l=l.sibling}function Rx(r,a,l){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount($i,l)}catch{}switch(l.tag){case 5:yn||Ua(l,a);case 6:var m=un,g=vr;un=null,Cs(r,a,l),un=m,vr=g,un!==null&&(vr?(r=un,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):un.removeChild(l.stateNode));break;case 18:un!==null&&(vr?(r=un,l=l.stateNode,r.nodeType===8?qd(r.parentNode,l):r.nodeType===1&&qd(r,l),Ro(r)):qd(un,l.stateNode));break;case 4:m=un,g=vr,un=l.stateNode.containerInfo,vr=!0,Cs(r,a,l),un=m,vr=g;break;case 0:case 11:case 14:case 15:if(!yn&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){g=m=m.next;do{var y=g,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&Ru(l,a,k),g=g.next}while(g!==m)}Cs(r,a,l);break;case 1:if(!yn&&(Ua(l,a),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(z){qt(l,a,z)}Cs(r,a,l);break;case 21:Cs(r,a,l);break;case 22:l.mode&1?(yn=(m=yn)||l.memoizedState!==null,Cs(r,a,l),yn=m):Cs(r,a,l);break;default:Cs(r,a,l)}}function Dx(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new H1),a.forEach(function(m){var g=eS.bind(null,r,m);l.has(m)||(l.add(m),m.then(g,g))})}}function yr(r,a){var l=a.deletions;if(l!==null)for(var m=0;m<l.length;m++){var g=l[m];try{var y=r,k=a,z=k;e:for(;z!==null;){switch(z.tag){case 5:un=z.stateNode,vr=!1;break e;case 3:un=z.stateNode.containerInfo,vr=!0;break e;case 4:un=z.stateNode.containerInfo,vr=!0;break e}z=z.return}if(un===null)throw Error(s(160));Rx(y,k,g),un=null,vr=!1;var q=g.alternate;q!==null&&(q.return=null),g.return=null}catch(ae){qt(g,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Mx(a,r),a=a.sibling}function Mx(r,a){var l=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(a,r),zr(r),m&4){try{Xo(3,r,r.return),Sl(3,r)}catch(Be){qt(r,r.return,Be)}try{Xo(5,r,r.return)}catch(Be){qt(r,r.return,Be)}}break;case 1:yr(a,r),zr(r),m&512&&l!==null&&Ua(l,l.return);break;case 5:if(yr(a,r),zr(r),m&512&&l!==null&&Ua(l,l.return),r.flags&32){var g=r.stateNode;try{ct(g,"")}catch(Be){qt(r,r.return,Be)}}if(m&4&&(g=r.stateNode,g!=null)){var y=r.memoizedProps,k=l!==null?l.memoizedProps:y,z=r.type,q=r.updateQueue;if(r.updateQueue=null,q!==null)try{z==="input"&&y.type==="radio"&&y.name!=null&&se(g,y),_r(z,k);var ae=_r(z,y);for(k=0;k<q.length;k+=2){var ye=q[k],Ne=q[k+1];ye==="style"?jn(g,Ne):ye==="dangerouslySetInnerHTML"?We(g,Ne):ye==="children"?ct(g,Ne):S(g,ye,Ne,ae)}switch(z){case"input":Me(g,y);break;case"textarea":At(g,y);break;case"select":var ge=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var De=y.value;De!=null?tt(g,!!y.multiple,De,!1):ge!==!!y.multiple&&(y.defaultValue!=null?tt(g,!!y.multiple,y.defaultValue,!0):tt(g,!!y.multiple,y.multiple?[]:"",!1))}g[Vo]=y}catch(Be){qt(r,r.return,Be)}}break;case 6:if(yr(a,r),zr(r),m&4){if(r.stateNode===null)throw Error(s(162));g=r.stateNode,y=r.memoizedProps;try{g.nodeValue=y}catch(Be){qt(r,r.return,Be)}}break;case 3:if(yr(a,r),zr(r),m&4&&l!==null&&l.memoizedState.isDehydrated)try{Ro(a.containerInfo)}catch(Be){qt(r,r.return,Be)}break;case 4:yr(a,r),zr(r);break;case 13:yr(a,r),zr(r),g=r.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Fu=Yt())),m&4&&Dx(r);break;case 22:if(ye=l!==null&&l.memoizedState!==null,r.mode&1?(yn=(ae=yn)||ye,yr(a,r),yn=ae):yr(a,r),zr(r),m&8192){if(ae=r.memoizedState!==null,(r.stateNode.isHidden=ae)&&!ye&&(r.mode&1)!==0)for(_e=r,ye=r.child;ye!==null;){for(Ne=_e=ye;_e!==null;){switch(ge=_e,De=ge.child,ge.tag){case 0:case 11:case 14:case 15:Xo(4,ge,ge.return);break;case 1:Ua(ge,ge.return);var Fe=ge.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=ge,l=ge.return;try{a=m,Fe.props=a.memoizedProps,Fe.state=a.memoizedState,Fe.componentWillUnmount()}catch(Be){qt(m,l,Be)}}break;case 5:Ua(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Ox(Ne);continue}}De!==null?(De.return=ge,_e=De):Ox(Ne)}ye=ye.sibling}e:for(ye=null,Ne=r;;){if(Ne.tag===5){if(ye===null){ye=Ne;try{g=Ne.stateNode,ae?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(z=Ne.stateNode,q=Ne.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null,z.style.display=Vt("display",k))}catch(Be){qt(r,r.return,Be)}}}else if(Ne.tag===6){if(ye===null)try{Ne.stateNode.nodeValue=ae?"":Ne.memoizedProps}catch(Be){qt(r,r.return,Be)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===r)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===r)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===r)break e;ye===Ne&&(ye=null),Ne=Ne.return}ye===Ne&&(ye=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:yr(a,r),zr(r),m&4&&Dx(r);break;case 21:break;default:yr(a,r),zr(r)}}function zr(r){var a=r.flags;if(a&2){try{e:{for(var l=r.return;l!==null;){if(Px(l)){var m=l;break e}l=l.return}throw Error(s(160))}switch(m.tag){case 5:var g=m.stateNode;m.flags&32&&(ct(g,""),m.flags&=-33);var y=kx(r);_u(r,y,g);break;case 3:case 4:var k=m.stateNode.containerInfo,z=kx(r);Mu(r,z,k);break;default:throw Error(s(161))}}catch(q){qt(r,r.return,q)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function q1(r,a,l){_e=r,_x(r)}function _x(r,a,l){for(var m=(r.mode&1)!==0;_e!==null;){var g=_e,y=g.child;if(g.tag===22&&m){var k=g.memoizedState!==null||Cl;if(!k){var z=g.alternate,q=z!==null&&z.memoizedState!==null||yn;z=Cl;var ae=yn;if(Cl=k,(yn=q)&&!ae)for(_e=g;_e!==null;)k=_e,q=k.child,k.tag===22&&k.memoizedState!==null?Fx(g):q!==null?(q.return=k,_e=q):Fx(g);for(;y!==null;)_e=y,_x(y),y=y.sibling;_e=g,Cl=z,yn=ae}Ax(r)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,_e=y):Ax(r)}}function Ax(r){for(;_e!==null;){var a=_e;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:yn||Sl(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!yn)if(l===null)m.componentDidMount();else{var g=a.elementType===a.type?l.memoizedProps:gr(a.type,l.memoizedProps);m.componentDidUpdate(g,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Op(a,y,m);break;case 3:var k=a.updateQueue;if(k!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}Op(a,k,l)}break;case 5:var z=a.stateNode;if(l===null&&a.flags&4){l=z;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&l.focus();break;case"img":q.src&&(l.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var ye=ae.memoizedState;if(ye!==null){var Ne=ye.dehydrated;Ne!==null&&Ro(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}yn||a.flags&512&&Du(a)}catch(ge){qt(a,a.return,ge)}}if(a===r){_e=null;break}if(l=a.sibling,l!==null){l.return=a.return,_e=l;break}_e=a.return}}function Ox(r){for(;_e!==null;){var a=_e;if(a===r){_e=null;break}var l=a.sibling;if(l!==null){l.return=a.return,_e=l;break}_e=a.return}}function Fx(r){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{Sl(4,a)}catch(q){qt(a,l,q)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var g=a.return;try{m.componentDidMount()}catch(q){qt(a,g,q)}}var y=a.return;try{Du(a)}catch(q){qt(a,y,q)}break;case 5:var k=a.return;try{Du(a)}catch(q){qt(a,k,q)}}}catch(q){qt(a,a.return,q)}if(a===r){_e=null;break}var z=a.sibling;if(z!==null){z.return=a.return,_e=z;break}_e=a.return}}var G1=Math.ceil,El=_.ReactCurrentDispatcher,Au=_.ReactCurrentOwner,sr=_.ReactCurrentBatchConfig,vt=0,sn=null,Qt=null,mn=0,Wn=0,Ha=ys(0),Xt=0,Zo=null,la=0,Tl=0,Ou=0,ei=null,_n=null,Fu=0,Wa=1/0,ns=null,Pl=!1,Iu=null,Ss=null,kl=!1,Es=null,Rl=0,ti=0,$u=null,Dl=-1,Ml=0;function bn(){return(vt&6)!==0?Yt():Dl!==-1?Dl:Dl=Yt()}function Ts(r){return(r.mode&1)===0?1:(vt&2)!==0&&mn!==0?mn&-mn:R1.transition!==null?(Ml===0&&(Ml=kf()),Ml):(r=Et,r!==0||(r=window.event,r=r===void 0?16:$f(r.type)),r)}function jr(r,a,l,m){if(50<ti)throw ti=0,$u=null,Error(s(185));So(r,l,m),((vt&2)===0||r!==sn)&&(r===sn&&((vt&2)===0&&(Tl|=l),Xt===4&&Ps(r,mn)),An(r,m),l===1&&vt===0&&(a.mode&1)===0&&(Wa=Yt()+500,ol&&ws()))}function An(r,a){var l=r.callbackNode;RC(r,a);var m=Vi(r,r===sn?mn:0);if(m===0)l!==null&&Ef(l),r.callbackNode=null,r.callbackPriority=0;else if(a=m&-m,r.callbackPriority!==a){if(l!=null&&Ef(l),a===1)r.tag===0?k1($x.bind(null,r)):Np($x.bind(null,r)),S1(function(){(vt&6)===0&&ws()}),l=null;else{switch(Rf(m)){case 1:l=gd;break;case 4:l=Tf;break;case 16:l=Ii;break;case 536870912:l=Pf;break;default:l=Ii}l=qx(l,Ix.bind(null,r))}r.callbackPriority=a,r.callbackNode=l}}function Ix(r,a){if(Dl=-1,Ml=0,(vt&6)!==0)throw Error(s(327));var l=r.callbackNode;if(qa()&&r.callbackNode!==l)return null;var m=Vi(r,r===sn?mn:0);if(m===0)return null;if((m&30)!==0||(m&r.expiredLanes)!==0||a)a=_l(r,m);else{a=m;var g=vt;vt|=2;var y=zx();(sn!==r||mn!==a)&&(ns=null,Wa=Yt()+500,da(r,a));do try{Q1();break}catch(z){Lx(r,z)}while(!0);nu(),El.current=y,vt=g,Qt!==null?a=0:(sn=null,mn=0,a=Xt)}if(a!==0){if(a===2&&(g=vd(r),g!==0&&(m=g,a=Lu(r,g))),a===1)throw l=Zo,da(r,0),Ps(r,m),An(r,Yt()),l;if(a===6)Ps(r,m);else{if(g=r.current.alternate,(m&30)===0&&!Y1(g)&&(a=_l(r,m),a===2&&(y=vd(r),y!==0&&(m=y,a=Lu(r,y))),a===1))throw l=Zo,da(r,0),Ps(r,m),An(r,Yt()),l;switch(r.finishedWork=g,r.finishedLanes=m,a){case 0:case 1:throw Error(s(345));case 2:ua(r,_n,ns);break;case 3:if(Ps(r,m),(m&130023424)===m&&(a=Fu+500-Yt(),10<a)){if(Vi(r,0)!==0)break;if(g=r.suspendedLanes,(g&m)!==m){bn(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=Wd(ua.bind(null,r,_n,ns),a);break}ua(r,_n,ns);break;case 4:if(Ps(r,m),(m&4194240)===m)break;for(a=r.eventTimes,g=-1;0<m;){var k=31-fr(m);y=1<<k,k=a[k],k>g&&(g=k),m&=~y}if(m=g,m=Yt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*G1(m/1960))-m,10<m){r.timeoutHandle=Wd(ua.bind(null,r,_n,ns),m);break}ua(r,_n,ns);break;case 5:ua(r,_n,ns);break;default:throw Error(s(329))}}}return An(r,Yt()),r.callbackNode===l?Ix.bind(null,r):null}function Lu(r,a){var l=ei;return r.current.memoizedState.isDehydrated&&(da(r,a).flags|=256),r=_l(r,a),r!==2&&(a=_n,_n=l,a!==null&&zu(a)),r}function zu(r){_n===null?_n=r:_n.push.apply(_n,r)}function Y1(r){for(var a=r;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var g=l[m],y=g.getSnapshot;g=g.value;try{if(!pr(y(),g))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(r,a){for(a&=~Ou,a&=~Tl,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var l=31-fr(a),m=1<<l;r[l]=-1,a&=~m}}function $x(r){if((vt&6)!==0)throw Error(s(327));qa();var a=Vi(r,0);if((a&1)===0)return An(r,Yt()),null;var l=_l(r,a);if(r.tag!==0&&l===2){var m=vd(r);m!==0&&(a=m,l=Lu(r,m))}if(l===1)throw l=Zo,da(r,0),Ps(r,a),An(r,Yt()),l;if(l===6)throw Error(s(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,ua(r,_n,ns),An(r,Yt()),null}function Vu(r,a){var l=vt;vt|=1;try{return r(a)}finally{vt=l,vt===0&&(Wa=Yt()+500,ol&&ws())}}function ca(r){Es!==null&&Es.tag===0&&(vt&6)===0&&qa();var a=vt;vt|=1;var l=sr.transition,m=Et;try{if(sr.transition=null,Et=1,r)return r()}finally{Et=m,sr.transition=l,vt=a,(vt&6)===0&&ws()}}function Bu(){Wn=Ha.current,Ft(Ha)}function da(r,a){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,C1(l)),Qt!==null)for(l=Qt.return;l!==null;){var m=l;switch(Jd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&sl();break;case 3:Va(),Ft(Rn),Ft(xn),du();break;case 5:lu(m);break;case 4:Va();break;case 13:Ft(Bt);break;case 19:Ft(Bt);break;case 10:ru(m.type._context);break;case 22:case 23:Bu()}l=l.return}if(sn=r,Qt=r=ks(r.current,null),mn=Wn=a,Xt=0,Zo=null,Ou=Tl=la=0,_n=ei=null,aa!==null){for(a=0;a<aa.length;a++)if(l=aa[a],m=l.interleaved,m!==null){l.interleaved=null;var g=m.next,y=l.pending;if(y!==null){var k=y.next;y.next=g,m.next=k}l.pending=m}aa=null}return r}function Lx(r,a){do{var l=Qt;try{if(nu(),xl.current=jl,gl){for(var m=Ut.memoizedState;m!==null;){var g=m.queue;g!==null&&(g.pending=null),m=m.next}gl=!1}if(ia=0,rn=Jt=Ut=null,Go=!1,Yo=0,Au.current=null,l===null||l.return===null){Xt=1,Zo=a,Qt=null;break}e:{var y=r,k=l.return,z=l,q=a;if(a=mn,z.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=q,ye=z,Ne=ye.tag;if((ye.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var De=dx(k);if(De!==null){De.flags&=-257,ux(De,k,z,y,a),De.mode&1&&cx(y,ae,a),a=De,q=ae;var Fe=a.updateQueue;if(Fe===null){var Be=new Set;Be.add(q),a.updateQueue=Be}else Fe.add(q);break e}else{if((a&1)===0){cx(y,ae,a),Uu();break e}q=Error(s(426))}}else if(Lt&&z.mode&1){var Kt=dx(k);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),ux(Kt,k,z,y,a),eu(Ba(q,z));break e}}y=q=Ba(q,z),Xt!==4&&(Xt=2),ei===null?ei=[y]:ei.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var X=ix(y,q,a);Ap(y,X);break e;case 1:z=q;var Y=y.type,ne=y.stateNode;if((y.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Ss===null||!Ss.has(ne)))){y.flags|=65536,a&=-a,y.lanes|=a;var Se=lx(y,z,a);Ap(y,Se);break e}}y=y.return}while(y!==null)}Bx(l)}catch(Ue){a=Ue,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function zx(){var r=El.current;return El.current=jl,r===null?jl:r}function Uu(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),sn===null||(la&268435455)===0&&(Tl&268435455)===0||Ps(sn,mn)}function _l(r,a){var l=vt;vt|=2;var m=zx();(sn!==r||mn!==a)&&(ns=null,da(r,a));do try{K1();break}catch(g){Lx(r,g)}while(!0);if(nu(),vt=l,El.current=m,Qt!==null)throw Error(s(261));return sn=null,mn=0,Xt}function K1(){for(;Qt!==null;)Vx(Qt)}function Q1(){for(;Qt!==null&&!wC();)Vx(Qt)}function Vx(r){var a=Wx(r.alternate,r,Wn);r.memoizedProps=r.pendingProps,a===null?Bx(r):Qt=a,Au.current=null}function Bx(r){var a=r;do{var l=a.alternate;if(r=a.return,(a.flags&32768)===0){if(l=B1(l,a,Wn),l!==null){Qt=l;return}}else{if(l=U1(l,a),l!==null){l.flags&=32767,Qt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Xt=6,Qt=null;return}}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=r}while(a!==null);Xt===0&&(Xt=5)}function ua(r,a,l){var m=Et,g=sr.transition;try{sr.transition=null,Et=1,J1(r,a,l,m)}finally{sr.transition=g,Et=m}return null}function J1(r,a,l,m){do qa();while(Es!==null);if((vt&6)!==0)throw Error(s(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(DC(r,y),r===sn&&(Qt=sn=null,mn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||kl||(kl=!0,qx(Ii,function(){return qa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=sr.transition,sr.transition=null;var k=Et;Et=1;var z=vt;vt|=4,Au.current=null,W1(r,l),Mx(l,r),g1(Ud),Hi=!!Bd,Ud=Bd=null,r.current=l,q1(l),bC(),vt=z,Et=k,sr.transition=y}else r.current=l;if(kl&&(kl=!1,Es=r,Rl=g),y=r.pendingLanes,y===0&&(Ss=null),SC(l.stateNode),An(r,Yt()),a!==null)for(m=r.onRecoverableError,l=0;l<a.length;l++)g=a[l],m(g.value,{componentStack:g.stack,digest:g.digest});if(Pl)throw Pl=!1,r=Iu,Iu=null,r;return(Rl&1)!==0&&r.tag!==0&&qa(),y=r.pendingLanes,(y&1)!==0?r===$u?ti++:(ti=0,$u=r):ti=0,ws(),null}function qa(){if(Es!==null){var r=Rf(Rl),a=sr.transition,l=Et;try{if(sr.transition=null,Et=16>r?16:r,Es===null)var m=!1;else{if(r=Es,Es=null,Rl=0,(vt&6)!==0)throw Error(s(331));var g=vt;for(vt|=4,_e=r.current;_e!==null;){var y=_e,k=y.child;if((_e.flags&16)!==0){var z=y.deletions;if(z!==null){for(var q=0;q<z.length;q++){var ae=z[q];for(_e=ae;_e!==null;){var ye=_e;switch(ye.tag){case 0:case 11:case 15:Xo(8,ye,y)}var Ne=ye.child;if(Ne!==null)Ne.return=ye,_e=Ne;else for(;_e!==null;){ye=_e;var ge=ye.sibling,De=ye.return;if(Tx(ye),ye===ae){_e=null;break}if(ge!==null){ge.return=De,_e=ge;break}_e=De}}}var Fe=y.alternate;if(Fe!==null){var Be=Fe.child;if(Be!==null){Fe.child=null;do{var Kt=Be.sibling;Be.sibling=null,Be=Kt}while(Be!==null)}}_e=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,_e=k;else e:for(;_e!==null;){if(y=_e,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Xo(9,y,y.return)}var X=y.sibling;if(X!==null){X.return=y.return,_e=X;break e}_e=y.return}}var Y=r.current;for(_e=Y;_e!==null;){k=_e;var ne=k.child;if((k.subtreeFlags&2064)!==0&&ne!==null)ne.return=k,_e=ne;else e:for(k=Y;_e!==null;){if(z=_e,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Sl(9,z)}}catch(Ue){qt(z,z.return,Ue)}if(z===k){_e=null;break e}var Se=z.sibling;if(Se!==null){Se.return=z.return,_e=Se;break e}_e=z.return}}if(vt=g,ws(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot($i,r)}catch{}m=!0}return m}finally{Et=l,sr.transition=a}}return!1}function Ux(r,a,l){a=Ba(l,a),a=ix(r,a,1),r=Ns(r,a,1),a=bn(),r!==null&&(So(r,1,a),An(r,a))}function qt(r,a,l){if(r.tag===3)Ux(r,r,l);else for(;a!==null;){if(a.tag===3){Ux(a,r,l);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ss===null||!Ss.has(m))){r=Ba(l,r),r=lx(a,r,1),a=Ns(a,r,1),r=bn(),a!==null&&(So(a,1,r),An(a,r));break}}a=a.return}}function X1(r,a,l){var m=r.pingCache;m!==null&&m.delete(a),a=bn(),r.pingedLanes|=r.suspendedLanes&l,sn===r&&(mn&l)===l&&(Xt===4||Xt===3&&(mn&130023424)===mn&&500>Yt()-Fu?da(r,0):Ou|=l),An(r,a)}function Hx(r,a){a===0&&((r.mode&1)===0?a=1:(a=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var l=bn();r=Zr(r,a),r!==null&&(So(r,a,l),An(r,l))}function Z1(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Hx(r,l)}function eS(r,a){var l=0;switch(r.tag){case 13:var m=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:m=r.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(a),Hx(r,l)}var Wx;Wx=function(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps||Rn.current)Mn=!0;else{if((r.lanes&l)===0&&(a.flags&128)===0)return Mn=!1,V1(r,a,l);Mn=(r.flags&131072)!==0}else Mn=!1,Lt&&(a.flags&1048576)!==0&&Cp(a,ll,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Nl(r,a),r=a.pendingProps;var g=Aa(a,xn.current);za(a,l),g=hu(null,a,m,r,g,l);var y=fu();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Dn(m)?(y=!0,al(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ou(a),g.updater=wl,a.stateNode=g,g._reactInternals=a,ju(a,m,r,l),a=Cu(null,a,m,!0,y,l)):(a.tag=0,Lt&&y&&Qd(a),wn(null,a,g,l),a=a.child),a;case 16:m=a.elementType;e:{switch(Nl(r,a),r=a.pendingProps,g=m._init,m=g(m._payload),a.type=m,g=a.tag=nS(m),r=gr(m,r),g){case 0:a=Nu(null,a,m,r,l);break e;case 1:a=gx(null,a,m,r,l);break e;case 11:a=mx(null,a,m,r,l);break e;case 14:a=hx(null,a,m,gr(m.type,r),l);break e}throw Error(s(306,m,""))}return a;case 0:return m=a.type,g=a.pendingProps,g=a.elementType===m?g:gr(m,g),Nu(r,a,m,g,l);case 1:return m=a.type,g=a.pendingProps,g=a.elementType===m?g:gr(m,g),gx(r,a,m,g,l);case 3:e:{if(vx(a),r===null)throw Error(s(387));m=a.pendingProps,y=a.memoizedState,g=y.element,_p(r,a),fl(a,m,null,l);var k=a.memoizedState;if(m=k.element,y.isDehydrated)if(y={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=Ba(Error(s(423)),a),a=yx(r,a,m,l,g);break e}else if(m!==g){g=Ba(Error(s(424)),a),a=yx(r,a,m,l,g);break e}else for(Hn=vs(a.stateNode.containerInfo.firstChild),Un=a,Lt=!0,xr=null,l=Dp(a,null,m,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ia(),m===g){a=ts(r,a,l);break e}wn(r,a,m,l)}a=a.child}return a;case 5:return Fp(a),r===null&&Zd(a),m=a.type,g=a.pendingProps,y=r!==null?r.memoizedProps:null,k=g.children,Hd(m,g)?k=null:y!==null&&Hd(m,y)&&(a.flags|=32),xx(r,a),wn(r,a,k,l),a.child;case 6:return r===null&&Zd(a),null;case 13:return jx(r,a,l);case 4:return iu(a,a.stateNode.containerInfo),m=a.pendingProps,r===null?a.child=$a(a,null,m,l):wn(r,a,m,l),a.child;case 11:return m=a.type,g=a.pendingProps,g=a.elementType===m?g:gr(m,g),mx(r,a,m,g,l);case 7:return wn(r,a,a.pendingProps,l),a.child;case 8:return wn(r,a,a.pendingProps.children,l),a.child;case 12:return wn(r,a,a.pendingProps.children,l),a.child;case 10:e:{if(m=a.type._context,g=a.pendingProps,y=a.memoizedProps,k=g.value,_t(ul,m._currentValue),m._currentValue=k,y!==null)if(pr(y.value,k)){if(y.children===g.children&&!Rn.current){a=ts(r,a,l);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var z=y.dependencies;if(z!==null){k=y.child;for(var q=z.firstContext;q!==null;){if(q.context===m){if(y.tag===1){q=es(-1,l&-l),q.tag=2;var ae=y.updateQueue;if(ae!==null){ae=ae.shared;var ye=ae.pending;ye===null?q.next=q:(q.next=ye.next,ye.next=q),ae.pending=q}}y.lanes|=l,q=y.alternate,q!==null&&(q.lanes|=l),su(y.return,l,a),z.lanes|=l;break}q=q.next}}else if(y.tag===10)k=y.type===a.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(s(341));k.lanes|=l,z=k.alternate,z!==null&&(z.lanes|=l),su(k,l,a),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}wn(r,a,g.children,l),a=a.child}return a;case 9:return g=a.type,m=a.pendingProps.children,za(a,l),g=nr(g),m=m(g),a.flags|=1,wn(r,a,m,l),a.child;case 14:return m=a.type,g=gr(m,a.pendingProps),g=gr(m.type,g),hx(r,a,m,g,l);case 15:return fx(r,a,a.type,a.pendingProps,l);case 17:return m=a.type,g=a.pendingProps,g=a.elementType===m?g:gr(m,g),Nl(r,a),a.tag=1,Dn(m)?(r=!0,al(a)):r=!1,za(a,l),ax(a,m,g),ju(a,m,g,l),Cu(null,a,m,!0,r,l);case 19:return bx(r,a,l);case 22:return px(r,a,l)}throw Error(s(156,a.tag))};function qx(r,a){return Sf(r,a)}function tS(r,a,l,m){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(r,a,l,m){return new tS(r,a,l,m)}function Hu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function nS(r){if(typeof r=="function")return Hu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===he)return 14}return 2}function ks(r,a){var l=r.alternate;return l===null?(l=ar(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Al(r,a,l,m,g,y){var k=2;if(m=r,typeof r=="function")Hu(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case F:return ma(l.children,g,y,a);case Q:k=8,g|=8;break;case ee:return r=ar(12,l,a,g|2),r.elementType=ee,r.lanes=y,r;case I:return r=ar(13,l,a,g),r.elementType=I,r.lanes=y,r;case J:return r=ar(19,l,a,g),r.elementType=J,r.lanes=y,r;case ue:return Ol(l,g,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case te:k=10;break e;case W:k=9;break e;case V:k=11;break e;case he:k=14;break e;case ie:k=16,m=null;break e}throw Error(s(130,r==null?r:typeof r,""))}return a=ar(k,l,a,g),a.elementType=r,a.type=m,a.lanes=y,a}function ma(r,a,l,m){return r=ar(7,r,m,a),r.lanes=l,r}function Ol(r,a,l,m){return r=ar(22,r,m,a),r.elementType=ue,r.lanes=l,r.stateNode={isHidden:!1},r}function Wu(r,a,l){return r=ar(6,r,null,a),r.lanes=l,r}function qu(r,a,l){return a=ar(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function rS(r,a,l,m,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yd(0),this.expirationTimes=yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yd(0),this.identifierPrefix=m,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Gu(r,a,l,m,g,y,k,z,q){return r=new rS(r,a,l,z,q),a===1?(a=1,y===!0&&(a|=8)):a=0,y=ar(3,null,null,a),r.current=y,y.stateNode=r,y.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(y),r}function sS(r,a,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:m==null?null:""+m,children:r,containerInfo:a,implementation:l}}function Gx(r){if(!r)return js;r=r._reactInternals;e:{if(ea(r)!==r||r.tag!==1)throw Error(s(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Dn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(r.tag===1){var l=r.type;if(Dn(l))return wp(r,l,a)}return a}function Yx(r,a,l,m,g,y,k,z,q){return r=Gu(l,m,!0,r,g,y,k,z,q),r.context=Gx(null),l=r.current,m=bn(),g=Ts(l),y=es(m,g),y.callback=a??null,Ns(l,y,g),r.current.lanes=g,So(r,g,m),An(r,m),r}function Fl(r,a,l,m){var g=a.current,y=bn(),k=Ts(g);return l=Gx(l),a.context===null?a.context=l:a.pendingContext=l,a=es(y,k),a.payload={element:r},m=m===void 0?null:m,m!==null&&(a.callback=m),r=Ns(g,a,k),r!==null&&(jr(r,g,k,y),hl(r,g,k)),k}function Il(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Kx(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Yu(r,a){Kx(r,a),(r=r.alternate)&&Kx(r,a)}function aS(){return null}var Qx=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ku(r){this._internalRoot=r}$l.prototype.render=Ku.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));Fl(r,a,null,null)},$l.prototype.unmount=Ku.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ca(function(){Fl(null,r,null,null)}),a[Kr]=null}};function $l(r){this._internalRoot=r}$l.prototype.unstable_scheduleHydration=function(r){if(r){var a=_f();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ps.length&&a!==0&&a<ps[l].priority;l++);ps.splice(l,0,r),l===0&&Ff(r)}};function Qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ll(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Jx(){}function oS(r,a,l,m,g){if(g){if(typeof m=="function"){var y=m;m=function(){var ae=Il(k);y.call(ae)}}var k=Yx(a,m,r,0,null,!1,!1,"",Jx);return r._reactRootContainer=k,r[Kr]=k.current,Lo(r.nodeType===8?r.parentNode:r),ca(),k}for(;g=r.lastChild;)r.removeChild(g);if(typeof m=="function"){var z=m;m=function(){var ae=Il(q);z.call(ae)}}var q=Gu(r,0,!1,null,null,!1,!1,"",Jx);return r._reactRootContainer=q,r[Kr]=q.current,Lo(r.nodeType===8?r.parentNode:r),ca(function(){Fl(a,q,l,m)}),q}function zl(r,a,l,m,g){var y=l._reactRootContainer;if(y){var k=y;if(typeof g=="function"){var z=g;g=function(){var q=Il(k);z.call(q)}}Fl(a,k,r,g)}else k=oS(l,a,r,g,m);return Il(k)}Df=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var l=Co(a.pendingLanes);l!==0&&(jd(a,l|1),An(a,Yt()),(vt&6)===0&&(Wa=Yt()+500,ws()))}break;case 13:ca(function(){var m=Zr(r,1);if(m!==null){var g=bn();jr(m,r,1,g)}}),Yu(r,1)}},wd=function(r){if(r.tag===13){var a=Zr(r,134217728);if(a!==null){var l=bn();jr(a,r,134217728,l)}Yu(r,134217728)}},Mf=function(r){if(r.tag===13){var a=Ts(r),l=Zr(r,a);if(l!==null){var m=bn();jr(l,r,a,m)}Yu(r,a)}},_f=function(){return Et},Af=function(r,a){var l=Et;try{return Et=r,a()}finally{Et=l}},gt=function(r,a,l){switch(a){case"input":if(Me(r,l),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var m=l[a];if(m!==r&&m.form===r.form){var g=rl(m);if(!g)throw Error(s(90));A(m),Me(m,g)}}}break;case"textarea":At(r,l);break;case"select":a=l.value,a!=null&&tt(r,!!l.multiple,a,!1)}},Oe=Vu,at=ca;var iS={usingClientEntryPoint:!1,Events:[Bo,Ma,rl,oe,ve,Vu]},ni={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lS={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Nf(r),r===null?null:r.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||aS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{$i=Vl.inject(lS),Fr=Vl}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iS,On.createPortal=function(r,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(a))throw Error(s(200));return sS(r,a,null,l)},On.createRoot=function(r,a){if(!Qu(r))throw Error(s(299));var l=!1,m="",g=Qx;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Gu(r,1,!1,null,null,l,!1,m,g),r[Kr]=a.current,Lo(r.nodeType===8?r.parentNode:r),new Ku(a)},On.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=Nf(a),r=r===null?null:r.stateNode,r},On.flushSync=function(r){return ca(r)},On.hydrate=function(r,a,l){if(!Ll(a))throw Error(s(200));return zl(null,r,a,!0,l)},On.hydrateRoot=function(r,a,l){if(!Qu(r))throw Error(s(405));var m=l!=null&&l.hydratedSources||null,g=!1,y="",k=Qx;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),a=Yx(a,null,r,1,l??null,g,!1,y,k),r[Kr]=a.current,Lo(r),m)for(r=0;r<m.length;r++)l=m[r],g=l._getVersion,g=g(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,g]:a.mutableSourceEagerHydrationData.push(l,g);return new $l(a)},On.render=function(r,a,l){if(!Ll(a))throw Error(s(200));return zl(null,r,a,!1,l)},On.unmountComponentAtNode=function(r){if(!Ll(r))throw Error(s(40));return r._reactRootContainer?(ca(function(){zl(null,null,r,!1,function(){r._reactRootContainer=null,r[Kr]=null})}),!0):!1},On.unstable_batchedUpdates=Vu,On.unstable_renderSubtreeIntoContainer=function(r,a,l,m){if(!Ll(l))throw Error(s(200));if(r==null||r._reactInternals===void 0)throw Error(s(38));return zl(r,a,l,!1,m)},On.version="18.3.1-next-f1338f8080-20240426",On}var ag;function Rv(){if(ag)return Zu.exports;ag=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Zu.exports=xS(),Zu.exports}var og;function gS(){if(og)return Bl;og=1;var t=Rv();return Bl.createRoot=t.createRoot,Bl.hydrateRoot=t.hydrateRoot,Bl}var vS=gS(),d=mh();const Te=kv(d),hh=dS({__proto__:null,default:Te},[d]),yS=1,jS=1e6;let nm=0;function wS(){return nm=(nm+1)%Number.MAX_SAFE_INTEGER,nm.toString()}const rm=new Map,ig=t=>{if(rm.has(t))return;const n=setTimeout(()=>{rm.delete(t),hi({type:"REMOVE_TOAST",toastId:t})},jS);rm.set(t,n)},bS=(t,n)=>{switch(n.type){case"ADD_TOAST":return{...t,toasts:[n.toast,...t.toasts].slice(0,yS)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===n.toast.id?{...s,...n.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=n;return s?ig(s):t.toasts.forEach(o=>{ig(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==n.toastId)}}},nc=[];let rc={toasts:[]};function hi(t){rc=bS(rc,t),nc.forEach(n=>{n(rc)})}function NS({...t}){const n=wS(),s=i=>hi({type:"UPDATE_TOAST",toast:{...i,id:n}}),o=()=>hi({type:"DISMISS_TOAST",toastId:n});return hi({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:i=>{i||o()}}}),{id:n,dismiss:o,update:s}}function St(){const[t,n]=d.useState(rc);return d.useEffect(()=>(nc.push(n),()=>{const s=nc.indexOf(n);s>-1&&nc.splice(s,1)}),[t]),{...t,toast:NS,dismiss:s=>hi({type:"DISMISS_TOAST",toastId:s})}}var ho=Rv();const Dv=kv(ho);function we(t,n,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t?.(i),s===!1||!i.defaultPrevented)return n?.(i)}}function lg(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Sc(...t){return n=>{let s=!1;const o=t.map(i=>{const c=lg(i,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let i=0;i<o.length;i++){const c=o[i];typeof c=="function"?c():lg(t[i],null)}}}}function Ke(...t){return d.useCallback(Sc(...t),t)}function CS(t,n){const s=d.createContext(n),o=c=>{const{children:u,...h}=c,f=d.useMemo(()=>h,Object.values(h));return e.jsx(s.Provider,{value:f,children:u})};o.displayName=t+"Provider";function i(c){const u=d.useContext(s);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,i]}function cn(t,n=[]){let s=[];function o(c,u){const h=d.createContext(u),f=s.length;s=[...s,u];const v=x=>{const{scope:w,children:j,...T}=x,b=w?.[t]?.[f]||h,N=d.useMemo(()=>T,Object.values(T));return e.jsx(b.Provider,{value:N,children:j})};v.displayName=c+"Provider";function p(x,w){const j=w?.[t]?.[f]||h,T=d.useContext(j);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[v,p]}const i=()=>{const c=s.map(u=>d.createContext(u));return function(h){const f=h?.[t]||c;return d.useMemo(()=>({[`__scope${t}`]:{...h,[t]:f}}),[h,f])}};return i.scopeName=t,[o,SS(i,...n)]}function SS(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=o.reduce((h,{useScope:f,scopeName:v})=>{const x=f(c)[`__scope${v}`];return{...h,...x}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return s.scopeName=n.scopeName,s}function Us(t){const n=TS(t),s=d.forwardRef((o,i)=>{const{children:c,...u}=o,h=d.Children.toArray(c),f=h.find(PS);if(f){const v=f.props.children,p=h.map(x=>x===f?d.Children.count(v)>1?d.Children.only(null):d.isValidElement(v)?v.props.children:null:x);return e.jsx(n,{...u,ref:i,children:d.isValidElement(v)?d.cloneElement(v,void 0,p):null})}return e.jsx(n,{...u,ref:i,children:c})});return s.displayName=`${t}.Slot`,s}var ES=Us("Slot");function TS(t){const n=d.forwardRef((s,o)=>{const{children:i,...c}=s;if(d.isValidElement(i)){const u=RS(i),h=kS(c,i.props);return i.type!==d.Fragment&&(h.ref=o?Sc(o,u):u),d.cloneElement(i,h)}return d.Children.count(i)>1?d.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Mv=Symbol("radix.slottable");function _v(t){const n=({children:s})=>e.jsx(e.Fragment,{children:s});return n.displayName=`${t}.Slottable`,n.__radixId=Mv,n}function PS(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mv}function kS(t,n){const s={...n};for(const o in n){const i=t[o],c=n[o];/^on[A-Z]/.test(o)?i&&c?s[o]=(...h)=>{const f=c(...h);return i(...h),f}:i&&(s[o]=i):o==="style"?s[o]={...i,...c}:o==="className"&&(s[o]=[i,c].filter(Boolean).join(" "))}return{...t,...s}}function RS(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Ec(t){const n=t+"CollectionProvider",[s,o]=cn(n),[i,c]=s(n,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:N,children:P}=b,C=Te.useRef(null),S=Te.useRef(new Map).current;return e.jsx(i,{scope:N,itemMap:S,collectionRef:C,children:P})};u.displayName=n;const h=t+"CollectionSlot",f=Us(h),v=Te.forwardRef((b,N)=>{const{scope:P,children:C}=b,S=c(h,P),_=Ke(N,S.collectionRef);return e.jsx(f,{ref:_,children:C})});v.displayName=h;const p=t+"CollectionItemSlot",x="data-radix-collection-item",w=Us(p),j=Te.forwardRef((b,N)=>{const{scope:P,children:C,...S}=b,_=Te.useRef(null),D=Ke(N,_),U=c(p,P);return Te.useEffect(()=>(U.itemMap.set(_,{ref:_,...S}),()=>void U.itemMap.delete(_))),e.jsx(w,{[x]:"",ref:D,children:C})});j.displayName=p;function T(b){const N=c(t+"CollectionConsumer",b);return Te.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((U,F)=>S.indexOf(U.ref.current)-S.indexOf(F.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:v,ItemSlot:j},T,o]}var DS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=DS.reduce((t,n)=>{const s=Us(`Primitive.${n}`),o=d.forwardRef((i,c)=>{const{asChild:u,...h}=i,f=u?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...h,ref:c})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{});function fh(t,n){t&&ho.flushSync(()=>t.dispatchEvent(n))}function Gt(t){const n=d.useRef(t);return d.useEffect(()=>{n.current=t}),d.useMemo(()=>(...s)=>n.current?.(...s),[])}function MS(t,n=globalThis?.document){const s=Gt(t);d.useEffect(()=>{const o=i=>{i.key==="Escape"&&s(i)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[s,n])}var _S="DismissableLayer",Em="dismissableLayer.update",AS="dismissableLayer.pointerDownOutside",OS="dismissableLayer.focusOutside",cg,Av=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wa=d.forwardRef((t,n)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...f}=t,v=d.useContext(Av),[p,x]=d.useState(null),w=p?.ownerDocument??globalThis?.document,[,j]=d.useState({}),T=Ke(n,F=>x(F)),b=Array.from(v.layers),[N]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),P=b.indexOf(N),C=p?b.indexOf(p):-1,S=v.layersWithOutsidePointerEventsDisabled.size>0,_=C>=P,D=IS(F=>{const Q=F.target,ee=[...v.branches].some(te=>te.contains(Q));!_||ee||(i?.(F),u?.(F),F.defaultPrevented||h?.())},w),U=$S(F=>{const Q=F.target;[...v.branches].some(te=>te.contains(Q))||(c?.(F),u?.(F),F.defaultPrevented||h?.())},w);return MS(F=>{C===v.layers.size-1&&(o?.(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},w),d.useEffect(()=>{if(p)return s&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(cg=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(p)),v.layers.add(p),dg(),()=>{s&&v.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=cg)}},[p,w,s,v]),d.useEffect(()=>()=>{p&&(v.layers.delete(p),v.layersWithOutsidePointerEventsDisabled.delete(p),dg())},[p,v]),d.useEffect(()=>{const F=()=>j({});return document.addEventListener(Em,F),()=>document.removeEventListener(Em,F)},[]),e.jsx(Le.div,{...f,ref:T,style:{pointerEvents:S?_?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,U.onFocusCapture),onBlurCapture:we(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,D.onPointerDownCapture)})});wa.displayName=_S;var FS="DismissableLayerBranch",Ov=d.forwardRef((t,n)=>{const s=d.useContext(Av),o=d.useRef(null),i=Ke(n,o);return d.useEffect(()=>{const c=o.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),e.jsx(Le.div,{...t,ref:i})});Ov.displayName=FS;function IS(t,n=globalThis?.document){const s=Gt(t),o=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const c=h=>{if(h.target&&!o.current){let f=function(){Fv(AS,s,v,{discrete:!0})};const v={originalEvent:h};h.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=f,n.addEventListener("click",i.current,{once:!0})):f()}else n.removeEventListener("click",i.current);o.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",c),n.removeEventListener("click",i.current)}},[n,s]),{onPointerDownCapture:()=>o.current=!0}}function $S(t,n=globalThis?.document){const s=Gt(t),o=d.useRef(!1);return d.useEffect(()=>{const i=c=>{c.target&&!o.current&&Fv(OS,s,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function dg(){const t=new CustomEvent(Em);document.dispatchEvent(t)}function Fv(t,n,s,{discrete:o}){const i=s.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});n&&i.addEventListener(t,n,{once:!0}),o?fh(i,c):i.dispatchEvent(c)}var LS=wa,zS=Ov,ln=globalThis?.document?d.useLayoutEffect:()=>{},VS="Portal",fo=d.forwardRef((t,n)=>{const{container:s,...o}=t,[i,c]=d.useState(!1);ln(()=>c(!0),[]);const u=s||i&&globalThis?.document?.body;return u?Dv.createPortal(e.jsx(Le.div,{...o,ref:n}),u):null});fo.displayName=VS;function BS(t,n){return d.useReducer((s,o)=>n[s][o]??s,t)}var en=t=>{const{present:n,children:s}=t,o=US(n),i=typeof s=="function"?s({present:o.isPresent}):d.Children.only(s),c=Ke(o.ref,HS(i));return typeof s=="function"||o.isPresent?d.cloneElement(i,{ref:c}):null};en.displayName="Presence";function US(t){const[n,s]=d.useState(),o=d.useRef(null),i=d.useRef(t),c=d.useRef("none"),u=t?"mounted":"unmounted",[h,f]=BS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const v=Ul(o.current);c.current=h==="mounted"?v:"none"},[h]),ln(()=>{const v=o.current,p=i.current;if(p!==t){const w=c.current,j=Ul(v);t?f("MOUNT"):j==="none"||v?.display==="none"?f("UNMOUNT"):f(p&&w!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),ln(()=>{if(n){let v;const p=n.ownerDocument.defaultView??window,x=j=>{const b=Ul(o.current).includes(CSS.escape(j.animationName));if(j.target===n&&b&&(f("ANIMATION_END"),!i.current)){const N=n.style.animationFillMode;n.style.animationFillMode="forwards",v=p.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=N)})}},w=j=>{j.target===n&&(c.current=Ul(o.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",x),n.addEventListener("animationend",x),()=>{p.clearTimeout(v),n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",x),n.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:d.useCallback(v=>{o.current=v?getComputedStyle(v):null,s(v)},[])}}function Ul(t){return t?.animationName||"none"}function HS(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var WS=hh[" useInsertionEffect ".trim().toString()]||ln;function ur({prop:t,defaultProp:n,onChange:s=()=>{},caller:o}){const[i,c,u]=qS({defaultProp:n,onChange:s}),h=t!==void 0,f=h?t:i;{const p=d.useRef(t!==void 0);d.useEffect(()=>{const x=p.current;x!==h&&console.warn(`${o} is changing from ${x?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=h},[h,o])}const v=d.useCallback(p=>{if(h){const x=GS(p)?p(t):p;x!==t&&u.current?.(x)}else c(p)},[h,t,c,u]);return[f,v]}function qS({defaultProp:t,onChange:n}){const[s,o]=d.useState(t),i=d.useRef(s),c=d.useRef(n);return WS(()=>{c.current=n},[n]),d.useEffect(()=>{i.current!==s&&(c.current?.(s),i.current=s)},[s,i]),[s,o,c]}function GS(t){return typeof t=="function"}var Iv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YS="VisuallyHidden",Tc=d.forwardRef((t,n)=>e.jsx(Le.span,{...t,ref:n,style:{...Iv,...t.style}}));Tc.displayName=YS;var KS=Tc,ph="ToastProvider",[xh,QS,JS]=Ec("Toast"),[$v]=cn("Toast",[JS]),[XS,Pc]=$v(ph),Lv=t=>{const{__scopeToast:n,label:s="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:c=50,children:u}=t,[h,f]=d.useState(null),[v,p]=d.useState(0),x=d.useRef(!1),w=d.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ph}\`. Expected non-empty \`string\`.`),e.jsx(xh.Provider,{scope:n,children:e.jsx(XS,{scope:n,label:s,duration:o,swipeDirection:i,swipeThreshold:c,toastCount:v,viewport:h,onViewportChange:f,onToastAdd:d.useCallback(()=>p(j=>j+1),[]),onToastRemove:d.useCallback(()=>p(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:w,children:u})})};Lv.displayName=ph;var zv="ToastViewport",ZS=["F8"],Tm="toast.viewportPause",Pm="toast.viewportResume",Vv=d.forwardRef((t,n)=>{const{__scopeToast:s,hotkey:o=ZS,label:i="Notifications ({hotkey})",...c}=t,u=Pc(zv,s),h=QS(s),f=d.useRef(null),v=d.useRef(null),p=d.useRef(null),x=d.useRef(null),w=Ke(n,x,u.onViewportChange),j=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=u.toastCount>0;d.useEffect(()=>{const N=P=>{o.length!==0&&o.every(S=>P[S]||P.code===S)&&x.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[o]),d.useEffect(()=>{const N=f.current,P=x.current;if(T&&N&&P){const C=()=>{if(!u.isClosePausedRef.current){const U=new CustomEvent(Tm);P.dispatchEvent(U),u.isClosePausedRef.current=!0}},S=()=>{if(u.isClosePausedRef.current){const U=new CustomEvent(Pm);P.dispatchEvent(U),u.isClosePausedRef.current=!1}},_=U=>{!N.contains(U.relatedTarget)&&S()},D=()=>{N.contains(document.activeElement)||S()};return N.addEventListener("focusin",C),N.addEventListener("focusout",_),N.addEventListener("pointermove",C),N.addEventListener("pointerleave",D),window.addEventListener("blur",C),window.addEventListener("focus",S),()=>{N.removeEventListener("focusin",C),N.removeEventListener("focusout",_),N.removeEventListener("pointermove",C),N.removeEventListener("pointerleave",D),window.removeEventListener("blur",C),window.removeEventListener("focus",S)}}},[T,u.isClosePausedRef]);const b=d.useCallback(({tabbingDirection:N})=>{const C=h().map(S=>{const _=S.ref.current,D=[_,...m2(_)];return N==="forwards"?D:D.reverse()});return(N==="forwards"?C.reverse():C).flat()},[h]);return d.useEffect(()=>{const N=x.current;if(N){const P=C=>{const S=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!S){const D=document.activeElement,U=C.shiftKey;if(C.target===N&&U){v.current?.focus();return}const ee=b({tabbingDirection:U?"backwards":"forwards"}),te=ee.findIndex(W=>W===D);sm(ee.slice(te+1))?C.preventDefault():U?v.current?.focus():p.current?.focus()}};return N.addEventListener("keydown",P),()=>N.removeEventListener("keydown",P)}},[h,b]),e.jsxs(zS,{ref:f,role:"region","aria-label":i.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&e.jsx(km,{ref:v,onFocusFromOutsideViewport:()=>{const N=b({tabbingDirection:"forwards"});sm(N)}}),e.jsx(xh.Slot,{scope:s,children:e.jsx(Le.ol,{tabIndex:-1,...c,ref:w})}),T&&e.jsx(km,{ref:p,onFocusFromOutsideViewport:()=>{const N=b({tabbingDirection:"backwards"});sm(N)}})]})});Vv.displayName=zv;var Bv="ToastFocusProxy",km=d.forwardRef((t,n)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...i}=t,c=Pc(Bv,s);return e.jsx(Tc,{tabIndex:0,...i,ref:n,style:{position:"fixed"},onFocus:u=>{const h=u.relatedTarget;!c.viewport?.contains(h)&&o()}})});km.displayName=Bv;var Ei="Toast",e2="toast.swipeStart",t2="toast.swipeMove",n2="toast.swipeCancel",r2="toast.swipeEnd",Uv=d.forwardRef((t,n)=>{const{forceMount:s,open:o,defaultOpen:i,onOpenChange:c,...u}=t,[h,f]=ur({prop:o,defaultProp:i??!0,onChange:c,caller:Ei});return e.jsx(en,{present:s||h,children:e.jsx(o2,{open:h,...u,ref:n,onClose:()=>f(!1),onPause:Gt(t.onPause),onResume:Gt(t.onResume),onSwipeStart:we(t.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,v=>{const{x:p,y:x}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:we(t.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,v=>{const{x:p,y:x}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),f(!1)})})})});Uv.displayName=Ei;var[s2,a2]=$v(Ei,{onClose(){}}),o2=d.forwardRef((t,n)=>{const{__scopeToast:s,type:o="foreground",duration:i,open:c,onClose:u,onEscapeKeyDown:h,onPause:f,onResume:v,onSwipeStart:p,onSwipeMove:x,onSwipeCancel:w,onSwipeEnd:j,...T}=t,b=Pc(Ei,s),[N,P]=d.useState(null),C=Ke(n,J=>P(J)),S=d.useRef(null),_=d.useRef(null),D=i||b.duration,U=d.useRef(0),F=d.useRef(D),Q=d.useRef(0),{onToastAdd:ee,onToastRemove:te}=b,W=Gt(()=>{N?.contains(document.activeElement)&&b.viewport?.focus(),u()}),V=d.useCallback(J=>{!J||J===1/0||(window.clearTimeout(Q.current),U.current=new Date().getTime(),Q.current=window.setTimeout(W,J))},[W]);d.useEffect(()=>{const J=b.viewport;if(J){const he=()=>{V(F.current),v?.()},ie=()=>{const ue=new Date().getTime()-U.current;F.current=F.current-ue,window.clearTimeout(Q.current),f?.()};return J.addEventListener(Tm,ie),J.addEventListener(Pm,he),()=>{J.removeEventListener(Tm,ie),J.removeEventListener(Pm,he)}}},[b.viewport,D,f,v,V]),d.useEffect(()=>{c&&!b.isClosePausedRef.current&&V(D)},[c,D,b.isClosePausedRef,V]),d.useEffect(()=>(ee(),()=>te()),[ee,te]);const I=d.useMemo(()=>N?Qv(N):null,[N]);return b.viewport?e.jsxs(e.Fragment,{children:[I&&e.jsx(i2,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:I}),e.jsx(s2,{scope:s,onClose:W,children:ho.createPortal(e.jsx(xh.ItemSlot,{scope:s,children:e.jsx(LS,{asChild:!0,onEscapeKeyDown:we(h,()=>{b.isFocusedToastEscapeKeyDownRef.current||W(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Le.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":b.swipeDirection,...T,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,J=>{J.key==="Escape"&&(h?.(J.nativeEvent),J.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:we(t.onPointerDown,J=>{J.button===0&&(S.current={x:J.clientX,y:J.clientY})}),onPointerMove:we(t.onPointerMove,J=>{if(!S.current)return;const he=J.clientX-S.current.x,ie=J.clientY-S.current.y,ue=!!_.current,L=["left","right"].includes(b.swipeDirection),R=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,M=L?R(0,he):0,E=L?0:R(0,ie),O=J.pointerType==="touch"?10:2,$={x:M,y:E},K={originalEvent:J,delta:$};ue?(_.current=$,Hl(t2,x,K,{discrete:!1})):ug($,b.swipeDirection,O)?(_.current=$,Hl(e2,p,K,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(he)>O||Math.abs(ie)>O)&&(S.current=null)}),onPointerUp:we(t.onPointerUp,J=>{const he=_.current,ie=J.target;if(ie.hasPointerCapture(J.pointerId)&&ie.releasePointerCapture(J.pointerId),_.current=null,S.current=null,he){const ue=J.currentTarget,L={originalEvent:J,delta:he};ug(he,b.swipeDirection,b.swipeThreshold)?Hl(r2,j,L,{discrete:!0}):Hl(n2,w,L,{discrete:!0}),ue.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),i2=t=>{const{__scopeToast:n,children:s,...o}=t,i=Pc(Ei,n),[c,u]=d.useState(!1),[h,f]=d.useState(!1);return d2(()=>u(!0)),d.useEffect(()=>{const v=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(v)},[]),h?null:e.jsx(fo,{asChild:!0,children:e.jsx(Tc,{...o,children:c&&e.jsxs(e.Fragment,{children:[i.label," ",s]})})})},l2="ToastTitle",Hv=d.forwardRef((t,n)=>{const{__scopeToast:s,...o}=t;return e.jsx(Le.div,{...o,ref:n})});Hv.displayName=l2;var c2="ToastDescription",Wv=d.forwardRef((t,n)=>{const{__scopeToast:s,...o}=t;return e.jsx(Le.div,{...o,ref:n})});Wv.displayName=c2;var qv="ToastAction",Gv=d.forwardRef((t,n)=>{const{altText:s,...o}=t;return s.trim()?e.jsx(Kv,{altText:s,asChild:!0,children:e.jsx(gh,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${qv}\`. Expected non-empty \`string\`.`),null)});Gv.displayName=qv;var Yv="ToastClose",gh=d.forwardRef((t,n)=>{const{__scopeToast:s,...o}=t,i=a2(Yv,s);return e.jsx(Kv,{asChild:!0,children:e.jsx(Le.button,{type:"button",...o,ref:n,onClick:we(t.onClick,i.onClose)})})});gh.displayName=Yv;var Kv=d.forwardRef((t,n)=>{const{__scopeToast:s,altText:o,...i}=t;return e.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:n})});function Qv(t){const n=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),u2(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!i)if(c){const u=o.dataset.radixToastAnnounceAlt;u&&n.push(u)}else n.push(...Qv(o))}}),n}function Hl(t,n,s,{discrete:o}){const i=s.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});n&&i.addEventListener(t,n,{once:!0}),o?fh(i,c):i.dispatchEvent(c)}var ug=(t,n,s=0)=>{const o=Math.abs(t.x),i=Math.abs(t.y),c=o>i;return n==="left"||n==="right"?c&&o>s:!c&&i>s};function d2(t=()=>{}){const n=Gt(t);ln(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[n])}function u2(t){return t.nodeType===t.ELEMENT_NODE}function m2(t){const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function sm(t){const n=document.activeElement;return t.some(s=>s===n?!0:(s.focus(),document.activeElement!==n))}var h2=Lv,Jv=Vv,Xv=Uv,Zv=Hv,ey=Wv,ty=Gv,ny=gh;function ry(t){var n,s,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(s=ry(t[n]))&&(o&&(o+=" "),o+=s)}else for(s in t)t[s]&&(o&&(o+=" "),o+=s);return o}function sy(){for(var t,n,s=0,o="",i=arguments.length;s<i;s++)(t=arguments[s])&&(n=ry(t))&&(o&&(o+=" "),o+=n);return o}const mg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hg=sy,Ti=(t,n)=>s=>{var o;if(n?.variants==null)return hg(t,s?.class,s?.className);const{variants:i,defaultVariants:c}=n,u=Object.keys(i).map(v=>{const p=s?.[v],x=c?.[v];if(p===null)return null;const w=mg(p)||mg(x);return i[v][w]}),h=s&&Object.entries(s).reduce((v,p)=>{let[x,w]=p;return w===void 0||(v[x]=w),v},{}),f=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((v,p)=>{let{class:x,className:w,...j}=p;return Object.entries(j).every(T=>{let[b,N]=T;return Array.isArray(N)?N.includes({...c,...h}[b]):{...c,...h}[b]===N})?[...v,x,w]:v},[]);return hg(t,u,f,s?.class,s?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ay=(...t)=>t.filter((n,s,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=d.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:c,iconNode:u,...h},f)=>d.createElement("svg",{ref:f,...p2,width:n,height:n,stroke:t,strokeWidth:o?Number(s)*24/Number(n):s,className:ay("lucide",i),...h},[...u.map(([v,p])=>d.createElement(v,p)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,n)=>{const s=d.forwardRef(({className:o,...i},c)=>d.createElement(x2,{ref:c,iconNode:n,className:ay(`lucide-${f2(t)}`,o),...i}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Ae("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ae("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Ae("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Ae("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ae("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Ae("SquareParking",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Ae("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ch="-",O2=t=>{const n=I2(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{const h=u.split(Ch);return h[0]===""&&h.length!==1&&h.shift(),xy(h,n)||F2(u)},getConflictingClassGroupIds:(u,h)=>{const f=s[u]||[];return h&&o[u]?[...f,...o[u]]:f}}},xy=(t,n)=>{if(t.length===0)return n.classGroupId;const s=t[0],o=n.nextPart.get(s),i=o?xy(t.slice(1),o):void 0;if(i)return i;if(n.validators.length===0)return;const c=t.join(Ch);return n.validators.find(({validator:u})=>u(c))?.classGroupId},vg=/^\[(.+)\]$/,F2=t=>{if(vg.test(t)){const n=vg.exec(t)[1],s=n?.substring(0,n.indexOf(":"));if(s)return"arbitrary.."+s}},I2=t=>{const{theme:n,prefix:s}=t,o={nextPart:new Map,validators:[]};return L2(Object.entries(t.classGroups),s).forEach(([c,u])=>{Om(u,o,c,n)}),o},Om=(t,n,s,o)=>{t.forEach(i=>{if(typeof i=="string"){const c=i===""?n:yg(n,i);c.classGroupId=s;return}if(typeof i=="function"){if($2(i)){Om(i(o),n,s,o);return}n.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([c,u])=>{Om(u,yg(n,c),s,o)})})},yg=(t,n)=>{let s=t;return n.split(Ch).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},$2=t=>t.isThemeGetter,L2=(t,n)=>n?t.map(([s,o])=>{const i=o.map(c=>typeof c=="string"?n+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,h])=>[n+u,h])):c);return[s,i]}):t,z2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,s=new Map,o=new Map;const i=(c,u)=>{s.set(c,u),n++,n>t&&(n=0,o=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=o.get(c))!==void 0)return i(c,u),u},set(c,u){s.has(c)?s.set(c,u):i(c,u)}}},gy="!",V2=t=>{const{separator:n,experimentalParseClassName:s}=t,o=n.length===1,i=n[0],c=n.length,u=h=>{const f=[];let v=0,p=0,x;for(let N=0;N<h.length;N++){let P=h[N];if(v===0){if(P===i&&(o||h.slice(N,N+c)===n)){f.push(h.slice(p,N)),p=N+c;continue}if(P==="/"){x=N;continue}}P==="["?v++:P==="]"&&v--}const w=f.length===0?h:h.substring(p),j=w.startsWith(gy),T=j?w.substring(1):w,b=x&&x>p?x-p:void 0;return{modifiers:f,hasImportantModifier:j,baseClassName:T,maybePostfixModifierPosition:b}};return s?h=>s({className:h,parseClassName:u}):u},B2=t=>{if(t.length<=1)return t;const n=[];let s=[];return t.forEach(o=>{o[0]==="["?(n.push(...s.sort(),o),s=[]):s.push(o)}),n.push(...s.sort()),n},U2=t=>({cache:z2(t.cacheSize),parseClassName:V2(t),...O2(t)}),H2=/\s+/,W2=(t,n)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:i}=n,c=[],u=t.trim().split(H2);let h="";for(let f=u.length-1;f>=0;f-=1){const v=u[f],{modifiers:p,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:j}=s(v);let T=!!j,b=o(T?w.substring(0,j):w);if(!b){if(!T){h=v+(h.length>0?" "+h:h);continue}if(b=o(w),!b){h=v+(h.length>0?" "+h:h);continue}T=!1}const N=B2(p).join(":"),P=x?N+gy:N,C=P+b;if(c.includes(C))continue;c.push(C);const S=i(b,T);for(let _=0;_<S.length;++_){const D=S[_];c.push(P+D)}h=v+(h.length>0?" "+h:h)}return h};function q2(){let t=0,n,s,o="";for(;t<arguments.length;)(n=arguments[t++])&&(s=vy(n))&&(o&&(o+=" "),o+=s);return o}const vy=t=>{if(typeof t=="string")return t;let n,s="";for(let o=0;o<t.length;o++)t[o]&&(n=vy(t[o]))&&(s&&(s+=" "),s+=n);return s};function G2(t,...n){let s,o,i,c=u;function u(f){const v=n.reduce((p,x)=>x(p),t());return s=U2(v),o=s.cache.get,i=s.cache.set,c=h,h(f)}function h(f){const v=o(f);if(v)return v;const p=W2(f,s);return i(f,p),p}return function(){return c(q2.apply(null,arguments))}}const It=t=>{const n=s=>s[t]||[];return n.isThemeGetter=!0,n},yy=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y2=/^\d+\/\d+$/,K2=new Set(["px","full","screen"]),Q2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=t=>to(t)||K2.has(t)||Y2.test(t),Ds=t=>xo(t,"length",lE),to=t=>!!t&&!Number.isNaN(Number(t)),im=t=>xo(t,"number",to),si=t=>!!t&&Number.isInteger(Number(t)),tE=t=>t.endsWith("%")&&to(t.slice(0,-1)),ot=t=>yy.test(t),Ms=t=>Q2.test(t),nE=new Set(["length","size","percentage"]),rE=t=>xo(t,nE,jy),sE=t=>xo(t,"position",jy),aE=new Set(["image","url"]),oE=t=>xo(t,aE,dE),iE=t=>xo(t,"",cE),ai=()=>!0,xo=(t,n,s)=>{const o=yy.exec(t);return o?o[1]?typeof n=="string"?o[1]===n:n.has(o[1]):s(o[2]):!1},lE=t=>J2.test(t)&&!X2.test(t),jy=()=>!1,cE=t=>Z2.test(t),dE=t=>eE.test(t),uE=()=>{const t=It("colors"),n=It("spacing"),s=It("blur"),o=It("brightness"),i=It("borderColor"),c=It("borderRadius"),u=It("borderSpacing"),h=It("borderWidth"),f=It("contrast"),v=It("grayscale"),p=It("hueRotate"),x=It("invert"),w=It("gap"),j=It("gradientColorStops"),T=It("gradientColorStopPositions"),b=It("inset"),N=It("margin"),P=It("opacity"),C=It("padding"),S=It("saturate"),_=It("scale"),D=It("sepia"),U=It("skew"),F=It("space"),Q=It("translate"),ee=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ot,n],V=()=>[ot,n],I=()=>["",rs,Ds],J=()=>["auto",to,ot],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ot],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[to,ot];return{cacheSize:500,separator:":",theme:{colors:[ai],spacing:[rs,Ds],blur:["none","",Ms,ot],brightness:E(),borderColor:[t],borderRadius:["none","","full",Ms,ot],borderSpacing:V(),borderWidth:I(),contrast:E(),grayscale:R(),hueRotate:E(),invert:R(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[tE,Ds],inset:W(),margin:W(),opacity:E(),padding:V(),saturate:E(),scale:E(),sepia:R(),skew:E(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),ot]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:ee()}],"overscroll-x":[{"overscroll-x":ee()}],"overscroll-y":[{"overscroll-y":ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",si,ot]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",si,ot]}],"grid-cols":[{"grid-cols":[ai]}],"col-start-end":[{col:["auto",{span:["full",si,ot]},ot]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[ai]}],"row-start-end":[{row:["auto",{span:[si,ot]},ot]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,n]}],"min-w":[{"min-w":[ot,n,"min","max","fit"]}],"max-w":[{"max-w":[ot,n,"none","full","min","max","fit","prose",{screen:[Ms]},Ms]}],h:[{h:[ot,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Ms,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",im]}],"font-family":[{font:[ai]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",to,im]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rs,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rs,Ds]}],"underline-offset":[{"underline-offset":["auto",rs,ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),sE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[rs,ot]}],"outline-w":[{outline:[rs,Ds]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[rs,Ds]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ms,iE]}],"shadow-color":[{shadow:[ai]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ms,ot]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[si,ot]}],"translate-x":[{"translate-x":[Q]}],"translate-y":[{"translate-y":[Q]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rs,Ds,im]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mE=G2(uE);function Pe(...t){return mE(sy(t))}const hE=h2,wy=d.forwardRef(({className:t,...n},s)=>e.jsx(Jv,{ref:s,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...n}));wy.displayName=Jv.displayName;const fE=Ti("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),by=d.forwardRef(({className:t,variant:n,...s},o)=>e.jsx(Xv,{ref:o,className:Pe(fE({variant:n}),t),...s}));by.displayName=Xv.displayName;const pE=d.forwardRef(({className:t,...n},s)=>e.jsx(ty,{ref:s,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...n}));pE.displayName=ty.displayName;const Ny=d.forwardRef(({className:t,...n},s)=>e.jsx(ny,{ref:s,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...n,children:e.jsx(_c,{className:"h-4 w-4"})}));Ny.displayName=ny.displayName;const Cy=d.forwardRef(({className:t,...n},s)=>e.jsx(Zv,{ref:s,className:Pe("text-sm font-semibold",t),...n}));Cy.displayName=Zv.displayName;const Sy=d.forwardRef(({className:t,...n},s)=>e.jsx(ey,{ref:s,className:Pe("text-sm opacity-90",t),...n}));Sy.displayName=ey.displayName;function xE(){const{toasts:t}=St();return e.jsxs(hE,{children:[t.map(function({id:n,title:s,description:o,action:i,...c}){return e.jsxs(by,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Cy,{children:s}),o&&e.jsx(Sy,{children:o})]}),i,e.jsx(Ny,{})]},n)}),e.jsx(wy,{})]})}var jg=["light","dark"],gE="(prefers-color-scheme: dark)",vE=d.createContext(void 0),yE={setTheme:t=>{},themes:[]},jE=()=>{var t;return(t=d.useContext(vE))!=null?t:yE};d.memo(({forcedTheme:t,storageKey:n,attribute:s,enableSystem:o,enableColorScheme:i,defaultTheme:c,value:u,attrs:h,nonce:f})=>{let v=c==="system",p=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${h.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,x=i?jg.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(T,b=!1,N=!0)=>{let P=u?u[T]:T,C=b?T+"|| ''":`'${P}'`,S="";return i&&N&&!b&&jg.includes(T)&&(S+=`d.style.colorScheme = '${T}';`),s==="class"?b||P?S+=`c.add(${C})`:S+="null":P&&(S+=`d[s](n,${C})`),S},j=t?`!function(){${p}${w(t)}}()`:o?`!function(){try{${p}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${v})){var t='${gE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${w(u?"x[e]":"e",!0)}}${v?"":"else{"+w(c,!1,!1)+"}"}${x}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${n}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${w(u?"x[e]":"e",!0)}}else{${w(c,!1,!1)};}${x}}catch(t){}}();`;return d.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:j}})});var wE=t=>{switch(t){case"success":return CE;case"info":return EE;case"warning":return SE;case"error":return TE;default:return null}},bE=Array(12).fill(0),NE=({visible:t,className:n})=>Te.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},bE.map((s,o)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),CE=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SE=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EE=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TE=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PE=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kE=()=>{let[t,n]=Te.useState(document.hidden);return Te.useEffect(()=>{let s=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},Fm=1,RE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:s,...o}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Fm++,c=this.toasts.find(h=>h.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...t,id:i,title:s}),{...h,...t,id:i,dismissible:u,title:s}):h):this.addToast({title:s,...o,dismissible:u,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let o=t instanceof Promise?t:t(),i=s!==void 0,c,u=o.then(async f=>{if(c=["resolve",f],Te.isValidElement(f))i=!1,this.create({id:s,type:"default",message:f});else if(ME(f)&&!f.ok){i=!1;let v=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description;this.create({id:s,type:"error",message:v,description:p})}else if(n.success!==void 0){i=!1;let v=typeof n.success=="function"?await n.success(f):n.success,p=typeof n.description=="function"?await n.description(f):n.description;this.create({id:s,type:"success",message:v,description:p})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){i=!1;let v=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description;this.create({id:s,type:"error",message:v,description:p})}}).finally(()=>{var f;i&&(this.dismiss(s),s=void 0),(f=n.finally)==null||f.call(n)}),h=()=>new Promise((f,v)=>u.then(()=>c[0]==="reject"?v(c[1]):f(c[1])).catch(v));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(t,n)=>{let s=n?.id||Fm++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fn=new RE,DE=(t,n)=>{let s=n?.id||Fm++;return Fn.addToast({title:t,...n,id:s}),s},ME=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_E=DE,AE=()=>Fn.toasts,OE=()=>Fn.getActiveToasts();Object.assign(_E,{success:Fn.success,info:Fn.info,warning:Fn.warning,error:Fn.error,custom:Fn.custom,message:Fn.message,promise:Fn.promise,dismiss:Fn.dismiss,loading:Fn.loading},{getHistory:AE,getToasts:OE});function FE(t,{insertAt:n}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}FE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wl(t){return t.label!==void 0}var IE=3,$E="32px",LE="16px",wg=4e3,zE=356,VE=14,BE=20,UE=200;function wr(...t){return t.filter(Boolean).join(" ")}function HE(t){let[n,s]=t.split("-"),o=[];return n&&o.push(n),s&&o.push(s),o}var WE=t=>{var n,s,o,i,c,u,h,f,v,p,x;let{invert:w,toast:j,unstyled:T,interacting:b,setHeights:N,visibleToasts:P,heights:C,index:S,toasts:_,expanded:D,removeToast:U,defaultRichColors:F,closeButton:Q,style:ee,cancelButtonStyle:te,actionButtonStyle:W,className:V="",descriptionClassName:I="",duration:J,position:he,gap:ie,loadingIcon:ue,expandByDefault:L,classNames:R,icons:M,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:O}=t,[$,K]=Te.useState(null),[ce,je]=Te.useState(null),[Z,fe]=Te.useState(!1),[Ee,ke]=Te.useState(!1),[ze,A]=Te.useState(!1),[Ce,de]=Te.useState(!1),[Ze,se]=Te.useState(!1),[Me,ht]=Te.useState(0),[bt,et]=Te.useState(0),tt=Te.useRef(j.duration||J||wg),Dt=Te.useRef(null),xt=Te.useRef(null),At=S===0,me=S+1<=P,G=j.type,le=j.dismissible!==!1,be=j.className||"",We=j.descriptionClassName||"",ct=Te.useMemo(()=>C.findIndex(ve=>ve.toastId===j.id)||0,[C,j.id]),yt=Te.useMemo(()=>{var ve;return(ve=j.closeButton)!=null?ve:Q},[j.closeButton,Q]),Ct=Te.useMemo(()=>j.duration||J||wg,[j.duration,J]),Vt=Te.useRef(0),jn=Te.useRef(0),kn=Te.useRef(0),tn=Te.useRef(null),[_r,Ar]=he.split("-"),Or=Te.useMemo(()=>C.reduce((ve,Oe,at)=>at>=ct?ve:ve+Oe.height,0),[C,ct]),gt=kE(),dn=j.invert||w,Zn=G==="loading";jn.current=Te.useMemo(()=>ct*ie+Or,[ct,Or]),Te.useEffect(()=>{tt.current=Ct},[Ct]),Te.useEffect(()=>{fe(!0)},[]),Te.useEffect(()=>{let ve=xt.current;if(ve){let Oe=ve.getBoundingClientRect().height;return et(Oe),N(at=>[{toastId:j.id,height:Oe,position:j.position},...at]),()=>N(at=>at.filter(Pt=>Pt.toastId!==j.id))}},[N,j.id]),Te.useLayoutEffect(()=>{if(!Z)return;let ve=xt.current,Oe=ve.style.height;ve.style.height="auto";let at=ve.getBoundingClientRect().height;ve.style.height=Oe,et(at),N(Pt=>Pt.find(Wt=>Wt.toastId===j.id)?Pt.map(Wt=>Wt.toastId===j.id?{...Wt,height:at}:Wt):[{toastId:j.id,height:at,position:j.position},...Pt])},[Z,j.title,j.description,N,j.id]);let Vn=Te.useCallback(()=>{ke(!0),ht(jn.current),N(ve=>ve.filter(Oe=>Oe.toastId!==j.id)),setTimeout(()=>{U(j)},UE)},[j,U,N,jn]);Te.useEffect(()=>{if(j.promise&&G==="loading"||j.duration===1/0||j.type==="loading")return;let ve;return D||b||O&&gt?(()=>{if(kn.current<Vt.current){let Oe=new Date().getTime()-Vt.current;tt.current=tt.current-Oe}kn.current=new Date().getTime()})():tt.current!==1/0&&(Vt.current=new Date().getTime(),ve=setTimeout(()=>{var Oe;(Oe=j.onAutoClose)==null||Oe.call(j,j),Vn()},tt.current)),()=>clearTimeout(ve)},[D,b,j,G,O,gt,Vn]),Te.useEffect(()=>{j.delete&&Vn()},[Vn,j.delete]);function oe(){var ve,Oe,at;return M!=null&&M.loading?Te.createElement("div",{className:wr(R?.loader,(ve=j?.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":G==="loading"},M.loading):ue?Te.createElement("div",{className:wr(R?.loader,(Oe=j?.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":G==="loading"},ue):Te.createElement(NE,{className:wr(R?.loader,(at=j?.classNames)==null?void 0:at.loader),visible:G==="loading"})}return Te.createElement("li",{tabIndex:0,ref:xt,className:wr(V,be,R?.toast,(n=j?.classNames)==null?void 0:n.toast,R?.default,R?.[G],(s=j?.classNames)==null?void 0:s[G]),"data-sonner-toast":"","data-rich-colors":(o=j.richColors)!=null?o:F,"data-styled":!(j.jsx||j.unstyled||T),"data-mounted":Z,"data-promise":!!j.promise,"data-swiped":Ze,"data-removed":Ee,"data-visible":me,"data-y-position":_r,"data-x-position":Ar,"data-index":S,"data-front":At,"data-swiping":ze,"data-dismissible":le,"data-type":G,"data-invert":dn,"data-swipe-out":Ce,"data-swipe-direction":ce,"data-expanded":!!(D||L&&Z),style:{"--index":S,"--toasts-before":S,"--z-index":_.length-S,"--offset":`${Ee?Me:jn.current}px`,"--initial-height":L?"auto":`${bt}px`,...ee,...j.style},onDragEnd:()=>{A(!1),K(null),tn.current=null},onPointerDown:ve=>{Zn||!le||(Dt.current=new Date,ht(jn.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(A(!0),tn.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Oe,at,Pt;if(Ce||!le)return;tn.current=null;let Wt=Number(((ve=xt.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kt=Number(((Oe=xt.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nn=new Date().getTime()-((at=Dt.current)==null?void 0:at.getTime()),Mt=$==="x"?Wt:kt,pn=Math.abs(Mt)/nn;if(Math.abs(Mt)>=BE||pn>.11){ht(jn.current),(Pt=j.onDismiss)==null||Pt.call(j,j),je($==="x"?Wt>0?"right":"left":kt>0?"down":"up"),Vn(),de(!0),se(!1);return}A(!1),K(null)},onPointerMove:ve=>{var Oe,at,Pt,Wt;if(!tn.current||!le||((Oe=window.getSelection())==null?void 0:Oe.toString().length)>0)return;let kt=ve.clientY-tn.current.y,nn=ve.clientX-tn.current.x,Mt=(at=t.swipeDirections)!=null?at:HE(he);!$&&(Math.abs(nn)>1||Math.abs(kt)>1)&&K(Math.abs(nn)>Math.abs(kt)?"x":"y");let pn={x:0,y:0};$==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&kt<0||Mt.includes("bottom")&&kt>0)&&(pn.y=kt):$==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&nn<0||Mt.includes("right")&&nn>0)&&(pn.x=nn),(Math.abs(pn.x)>0||Math.abs(pn.y)>0)&&se(!0),(Pt=xt.current)==null||Pt.style.setProperty("--swipe-amount-x",`${pn.x}px`),(Wt=xt.current)==null||Wt.style.setProperty("--swipe-amount-y",`${pn.y}px`)}},yt&&!j.jsx?Te.createElement("button",{"aria-label":E,"data-disabled":Zn,"data-close-button":!0,onClick:Zn||!le?()=>{}:()=>{var ve;Vn(),(ve=j.onDismiss)==null||ve.call(j,j)},className:wr(R?.closeButton,(i=j?.classNames)==null?void 0:i.closeButton)},(c=M?.close)!=null?c:PE):null,j.jsx||d.isValidElement(j.title)?j.jsx?j.jsx:typeof j.title=="function"?j.title():j.title:Te.createElement(Te.Fragment,null,G||j.icon||j.promise?Te.createElement("div",{"data-icon":"",className:wr(R?.icon,(u=j?.classNames)==null?void 0:u.icon)},j.promise||j.type==="loading"&&!j.icon?j.icon||oe():null,j.type!=="loading"?j.icon||M?.[G]||wE(G):null):null,Te.createElement("div",{"data-content":"",className:wr(R?.content,(h=j?.classNames)==null?void 0:h.content)},Te.createElement("div",{"data-title":"",className:wr(R?.title,(f=j?.classNames)==null?void 0:f.title)},typeof j.title=="function"?j.title():j.title),j.description?Te.createElement("div",{"data-description":"",className:wr(I,We,R?.description,(v=j?.classNames)==null?void 0:v.description)},typeof j.description=="function"?j.description():j.description):null),d.isValidElement(j.cancel)?j.cancel:j.cancel&&Wl(j.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:j.cancelButtonStyle||te,onClick:ve=>{var Oe,at;Wl(j.cancel)&&le&&((at=(Oe=j.cancel).onClick)==null||at.call(Oe,ve),Vn())},className:wr(R?.cancelButton,(p=j?.classNames)==null?void 0:p.cancelButton)},j.cancel.label):null,d.isValidElement(j.action)?j.action:j.action&&Wl(j.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:j.actionButtonStyle||W,onClick:ve=>{var Oe,at;Wl(j.action)&&((at=(Oe=j.action).onClick)==null||at.call(Oe,ve),!ve.defaultPrevented&&Vn())},className:wr(R?.actionButton,(x=j?.classNames)==null?void 0:x.actionButton)},j.action.label):null))};function bg(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function qE(t,n){let s={};return[t,n].forEach((o,i)=>{let c=i===1,u=c?"--mobile-offset":"--offset",h=c?LE:$E;function f(v){["top","right","bottom","left"].forEach(p=>{s[`${u}-${p}`]=typeof v=="number"?`${v}px`:v})}typeof o=="number"||typeof o=="string"?f(o):typeof o=="object"?["top","right","bottom","left"].forEach(v=>{o[v]===void 0?s[`${u}-${v}`]=h:s[`${u}-${v}`]=typeof o[v]=="number"?`${o[v]}px`:o[v]}):f(h)}),s}var GE=d.forwardRef(function(t,n){let{invert:s,position:o="bottom-right",hotkey:i=["altKey","KeyT"],expand:c,closeButton:u,className:h,offset:f,mobileOffset:v,theme:p="light",richColors:x,duration:w,style:j,visibleToasts:T=IE,toastOptions:b,dir:N=bg(),gap:P=VE,loadingIcon:C,icons:S,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:D}=t,[U,F]=Te.useState([]),Q=Te.useMemo(()=>Array.from(new Set([o].concat(U.filter(O=>O.position).map(O=>O.position)))),[U,o]),[ee,te]=Te.useState([]),[W,V]=Te.useState(!1),[I,J]=Te.useState(!1),[he,ie]=Te.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=Te.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=Te.useRef(null),M=Te.useRef(!1),E=Te.useCallback(O=>{F($=>{var K;return(K=$.find(ce=>ce.id===O.id))!=null&&K.delete||Fn.dismiss(O.id),$.filter(({id:ce})=>ce!==O.id)})},[]);return Te.useEffect(()=>Fn.subscribe(O=>{if(O.dismiss){F($=>$.map(K=>K.id===O.id?{...K,delete:!0}:K));return}setTimeout(()=>{Dv.flushSync(()=>{F($=>{let K=$.findIndex(ce=>ce.id===O.id);return K!==-1?[...$.slice(0,K),{...$[K],...O},...$.slice(K+1)]:[O,...$]})})})}),[]),Te.useEffect(()=>{if(p!=="system"){ie(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:$})=>{ie($?"dark":"light")})}catch{O.addListener(({matches:K})=>{try{ie(K?"dark":"light")}catch(ce){console.error(ce)}})}},[p]),Te.useEffect(()=>{U.length<=1&&V(!1)},[U]),Te.useEffect(()=>{let O=$=>{var K,ce;i.every(je=>$[je]||$.code===je)&&(V(!0),(K=ue.current)==null||K.focus()),$.code==="Escape"&&(document.activeElement===ue.current||(ce=ue.current)!=null&&ce.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[i]),Te.useEffect(()=>{if(ue.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,M.current=!1)}},[ue.current]),Te.createElement("section",{ref:n,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Q.map((O,$)=>{var K;let[ce,je]=O.split("-");return U.length?Te.createElement("ol",{key:O,dir:N==="auto"?bg():N,tabIndex:-1,ref:ue,className:h,"data-sonner-toaster":!0,"data-theme":he,"data-y-position":ce,"data-lifted":W&&U.length>1&&!c,"data-x-position":je,style:{"--front-toast-height":`${((K=ee[0])==null?void 0:K.height)||0}px`,"--width":`${zE}px`,"--gap":`${P}px`,...j,...qE(f,v)},onBlur:Z=>{M.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(M.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||M.current||(M.current=!0,R.current=Z.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{I||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},U.filter(Z=>!Z.position&&$===0||Z.position===O).map((Z,fe)=>{var Ee,ke;return Te.createElement(WE,{key:Z.id,icons:S,index:fe,toast:Z,defaultRichColors:x,duration:(Ee=b?.duration)!=null?Ee:w,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:s,visibleToasts:T,closeButton:(ke=b?.closeButton)!=null?ke:u,interacting:I,position:O,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:E,toasts:U.filter(ze=>ze.position==Z.position),heights:ee.filter(ze=>ze.position==Z.position),setHeights:te,expandByDefault:c,gap:P,loadingIcon:C,expanded:W,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const YE=({...t})=>{const{theme:n="system"}=jE();return e.jsx(GE,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var KE=hh[" useId ".trim().toString()]||(()=>{}),QE=0;function cr(t){const[n,s]=d.useState(KE());return ln(()=>{s(o=>o??String(QE++))},[t]),n?`radix-${n}`:""}const JE=["top","right","bottom","left"],qs=Math.min,qn=Math.max,dc=Math.round,ql=Math.floor,Wr=t=>({x:t,y:t}),XE={left:"right",right:"left",bottom:"top",top:"bottom"},ZE={start:"end",end:"start"};function Im(t,n,s){return qn(t,qs(n,s))}function is(t,n){return typeof t=="function"?t(n):t}function ls(t){return t.split("-")[0]}function go(t){return t.split("-")[1]}function Sh(t){return t==="x"?"y":"x"}function Eh(t){return t==="y"?"height":"width"}const eT=new Set(["top","bottom"]);function Hr(t){return eT.has(ls(t))?"y":"x"}function Th(t){return Sh(Hr(t))}function tT(t,n,s){s===void 0&&(s=!1);const o=go(t),i=Th(t),c=Eh(i);let u=i==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(u=uc(u)),[u,uc(u)]}function nT(t){const n=uc(t);return[$m(t),n,$m(n)]}function $m(t){return t.replace(/start|end/g,n=>ZE[n])}const Ng=["left","right"],Cg=["right","left"],rT=["top","bottom"],sT=["bottom","top"];function aT(t,n,s){switch(t){case"top":case"bottom":return s?n?Cg:Ng:n?Ng:Cg;case"left":case"right":return n?rT:sT;default:return[]}}function oT(t,n,s,o){const i=go(t);let c=aT(ls(t),s==="start",o);return i&&(c=c.map(u=>u+"-"+i),n&&(c=c.concat(c.map($m)))),c}function uc(t){return t.replace(/left|right|bottom|top/g,n=>XE[n])}function iT(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ey(t){return typeof t!="number"?iT(t):{top:t,right:t,bottom:t,left:t}}function mc(t){const{x:n,y:s,width:o,height:i}=t;return{width:o,height:i,top:s,left:n,right:n+o,bottom:s+i,x:n,y:s}}function Sg(t,n,s){let{reference:o,floating:i}=t;const c=Hr(n),u=Th(n),h=Eh(u),f=ls(n),v=c==="y",p=o.x+o.width/2-i.width/2,x=o.y+o.height/2-i.height/2,w=o[h]/2-i[h]/2;let j;switch(f){case"top":j={x:p,y:o.y-i.height};break;case"bottom":j={x:p,y:o.y+o.height};break;case"right":j={x:o.x+o.width,y:x};break;case"left":j={x:o.x-i.width,y:x};break;default:j={x:o.x,y:o.y}}switch(go(n)){case"start":j[u]-=w*(s&&v?-1:1);break;case"end":j[u]+=w*(s&&v?-1:1);break}return j}const lT=async(t,n,s)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:u}=s,h=c.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(n));let v=await u.getElementRects({reference:t,floating:n,strategy:i}),{x:p,y:x}=Sg(v,o,f),w=o,j={},T=0;for(let b=0;b<h.length;b++){const{name:N,fn:P}=h[b],{x:C,y:S,data:_,reset:D}=await P({x:p,y:x,initialPlacement:o,placement:w,strategy:i,middlewareData:j,rects:v,platform:u,elements:{reference:t,floating:n}});p=C??p,x=S??x,j={...j,[N]:{...j[N],..._}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(w=D.placement),D.rects&&(v=D.rects===!0?await u.getElementRects({reference:t,floating:n,strategy:i}):D.rects),{x:p,y:x}=Sg(v,w,f)),b=-1)}return{x:p,y:x,placement:w,strategy:i,middlewareData:j}};async function xi(t,n){var s;n===void 0&&(n={});const{x:o,y:i,platform:c,rects:u,elements:h,strategy:f}=t,{boundary:v="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:w=!1,padding:j=0}=is(n,t),T=Ey(j),N=h[w?x==="floating"?"reference":"floating":x],P=mc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(N)))==null||s?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:v,rootBoundary:p,strategy:f})),C=x==="floating"?{x:o,y:i,width:u.floating.width,height:u.floating.height}:u.reference,S=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),_=await(c.isElement==null?void 0:c.isElement(S))?await(c.getScale==null?void 0:c.getScale(S))||{x:1,y:1}:{x:1,y:1},D=mc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:C,offsetParent:S,strategy:f}):C);return{top:(P.top-D.top+T.top)/_.y,bottom:(D.bottom-P.bottom+T.bottom)/_.y,left:(P.left-D.left+T.left)/_.x,right:(D.right-P.right+T.right)/_.x}}const cT=t=>({name:"arrow",options:t,async fn(n){const{x:s,y:o,placement:i,rects:c,platform:u,elements:h,middlewareData:f}=n,{element:v,padding:p=0}=is(t,n)||{};if(v==null)return{};const x=Ey(p),w={x:s,y:o},j=Th(i),T=Eh(j),b=await u.getDimensions(v),N=j==="y",P=N?"top":"left",C=N?"bottom":"right",S=N?"clientHeight":"clientWidth",_=c.reference[T]+c.reference[j]-w[j]-c.floating[T],D=w[j]-c.reference[j],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(v));let F=U?U[S]:0;(!F||!await(u.isElement==null?void 0:u.isElement(U)))&&(F=h.floating[S]||c.floating[T]);const Q=_/2-D/2,ee=F/2-b[T]/2-1,te=qs(x[P],ee),W=qs(x[C],ee),V=te,I=F-b[T]-W,J=F/2-b[T]/2+Q,he=Im(V,J,I),ie=!f.arrow&&go(i)!=null&&J!==he&&c.reference[T]/2-(J<V?te:W)-b[T]/2<0,ue=ie?J<V?J-V:J-I:0;return{[j]:w[j]+ue,data:{[j]:he,centerOffset:J-he-ue,...ie&&{alignmentOffset:ue}},reset:ie}}}),dT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var s,o;const{placement:i,middlewareData:c,rects:u,initialPlacement:h,platform:f,elements:v}=n,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:b=!0,...N}=is(t,n);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const P=ls(i),C=Hr(h),S=ls(h)===h,_=await(f.isRTL==null?void 0:f.isRTL(v.floating)),D=w||(S||!b?[uc(h)]:nT(h)),U=T!=="none";!w&&U&&D.push(...oT(h,b,T,_));const F=[h,...D],Q=await xi(n,N),ee=[];let te=((o=c.flip)==null?void 0:o.overflows)||[];if(p&&ee.push(Q[P]),x){const J=tT(i,u,_);ee.push(Q[J[0]],Q[J[1]])}if(te=[...te,{placement:i,overflows:ee}],!ee.every(J=>J<=0)){var W,V;const J=(((W=c.flip)==null?void 0:W.index)||0)+1,he=F[J];if(he&&(!(x==="alignment"?C!==Hr(he):!1)||te.every(L=>Hr(L.placement)===C?L.overflows[0]>0:!0)))return{data:{index:J,overflows:te},reset:{placement:he}};let ie=(V=te.filter(ue=>ue.overflows[0]<=0).sort((ue,L)=>ue.overflows[1]-L.overflows[1])[0])==null?void 0:V.placement;if(!ie)switch(j){case"bestFit":{var I;const ue=(I=te.filter(L=>{if(U){const R=Hr(L.placement);return R===C||R==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(R=>R>0).reduce((R,M)=>R+M,0)]).sort((L,R)=>L[1]-R[1])[0])==null?void 0:I[0];ue&&(ie=ue);break}case"initialPlacement":ie=h;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function Eg(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function Tg(t){return JE.some(n=>t[n]>=0)}const uT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:s}=n,{strategy:o="referenceHidden",...i}=is(t,n);switch(o){case"referenceHidden":{const c=await xi(n,{...i,elementContext:"reference"}),u=Eg(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Tg(u)}}}case"escaped":{const c=await xi(n,{...i,altBoundary:!0}),u=Eg(c,s.floating);return{data:{escapedOffsets:u,escaped:Tg(u)}}}default:return{}}}}},Ty=new Set(["left","top"]);async function mT(t,n){const{placement:s,platform:o,elements:i}=t,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),u=ls(s),h=go(s),f=Hr(s)==="y",v=Ty.has(u)?-1:1,p=c&&f?-1:1,x=is(n,t);let{mainAxis:w,crossAxis:j,alignmentAxis:T}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof T=="number"&&(j=h==="end"?T*-1:T),f?{x:j*p,y:w*v}:{x:w*v,y:j*p}}const hT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var s,o;const{x:i,y:c,placement:u,middlewareData:h}=n,f=await mT(n,t);return u===((s=h.offset)==null?void 0:s.placement)&&(o=h.arrow)!=null&&o.alignmentOffset?{}:{x:i+f.x,y:c+f.y,data:{...f,placement:u}}}}},fT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:s,y:o,placement:i}=n,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:N=>{let{x:P,y:C}=N;return{x:P,y:C}}},...f}=is(t,n),v={x:s,y:o},p=await xi(n,f),x=Hr(ls(i)),w=Sh(x);let j=v[w],T=v[x];if(c){const N=w==="y"?"top":"left",P=w==="y"?"bottom":"right",C=j+p[N],S=j-p[P];j=Im(C,j,S)}if(u){const N=x==="y"?"top":"left",P=x==="y"?"bottom":"right",C=T+p[N],S=T-p[P];T=Im(C,T,S)}const b=h.fn({...n,[w]:j,[x]:T});return{...b,data:{x:b.x-s,y:b.y-o,enabled:{[w]:c,[x]:u}}}}}},pT=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:s,y:o,placement:i,rects:c,middlewareData:u}=n,{offset:h=0,mainAxis:f=!0,crossAxis:v=!0}=is(t,n),p={x:s,y:o},x=Hr(i),w=Sh(x);let j=p[w],T=p[x];const b=is(h,n),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const S=w==="y"?"height":"width",_=c.reference[w]-c.floating[S]+N.mainAxis,D=c.reference[w]+c.reference[S]-N.mainAxis;j<_?j=_:j>D&&(j=D)}if(v){var P,C;const S=w==="y"?"width":"height",_=Ty.has(ls(i)),D=c.reference[x]-c.floating[S]+(_&&((P=u.offset)==null?void 0:P[x])||0)+(_?0:N.crossAxis),U=c.reference[x]+c.reference[S]+(_?0:((C=u.offset)==null?void 0:C[x])||0)-(_?N.crossAxis:0);T<D?T=D:T>U&&(T=U)}return{[w]:j,[x]:T}}}},xT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var s,o;const{placement:i,rects:c,platform:u,elements:h}=n,{apply:f=()=>{},...v}=is(t,n),p=await xi(n,v),x=ls(i),w=go(i),j=Hr(i)==="y",{width:T,height:b}=c.floating;let N,P;x==="top"||x==="bottom"?(N=x,P=w===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(P=x,N=w==="end"?"top":"bottom");const C=b-p.top-p.bottom,S=T-p.left-p.right,_=qs(b-p[N],C),D=qs(T-p[P],S),U=!n.middlewareData.shift;let F=_,Q=D;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(Q=S),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(F=C),U&&!w){const te=qn(p.left,0),W=qn(p.right,0),V=qn(p.top,0),I=qn(p.bottom,0);j?Q=T-2*(te!==0||W!==0?te+W:qn(p.left,p.right)):F=b-2*(V!==0||I!==0?V+I:qn(p.top,p.bottom))}await f({...n,availableWidth:Q,availableHeight:F});const ee=await u.getDimensions(h.floating);return T!==ee.width||b!==ee.height?{reset:{rects:!0}}:{}}}};function Ac(){return typeof window<"u"}function vo(t){return Py(t)?(t.nodeName||"").toLowerCase():"#document"}function Xn(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function Gr(t){var n;return(n=(Py(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function Py(t){return Ac()?t instanceof Node||t instanceof Xn(t).Node:!1}function Pr(t){return Ac()?t instanceof Element||t instanceof Xn(t).Element:!1}function qr(t){return Ac()?t instanceof HTMLElement||t instanceof Xn(t).HTMLElement:!1}function Pg(t){return!Ac()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xn(t).ShadowRoot}const gT=new Set(["inline","contents"]);function ki(t){const{overflow:n,overflowX:s,overflowY:o,display:i}=kr(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+s)&&!gT.has(i)}const vT=new Set(["table","td","th"]);function yT(t){return vT.has(vo(t))}const jT=[":popover-open",":modal"];function Oc(t){return jT.some(n=>{try{return t.matches(n)}catch{return!1}})}const wT=["transform","translate","scale","rotate","perspective"],bT=["transform","translate","scale","rotate","perspective","filter"],NT=["paint","layout","strict","content"];function Ph(t){const n=kh(),s=Pr(t)?kr(t):t;return wT.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!n&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!n&&(s.filter?s.filter!=="none":!1)||bT.some(o=>(s.willChange||"").includes(o))||NT.some(o=>(s.contain||"").includes(o))}function CT(t){let n=Gs(t);for(;qr(n)&&!oo(n);){if(Ph(n))return n;if(Oc(n))return null;n=Gs(n)}return null}function kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ST=new Set(["html","body","#document"]);function oo(t){return ST.has(vo(t))}function kr(t){return Xn(t).getComputedStyle(t)}function Fc(t){return Pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gs(t){if(vo(t)==="html")return t;const n=t.assignedSlot||t.parentNode||Pg(t)&&t.host||Gr(t);return Pg(n)?n.host:n}function ky(t){const n=Gs(t);return oo(n)?t.ownerDocument?t.ownerDocument.body:t.body:qr(n)&&ki(n)?n:ky(n)}function gi(t,n,s){var o;n===void 0&&(n=[]),s===void 0&&(s=!0);const i=ky(t),c=i===((o=t.ownerDocument)==null?void 0:o.body),u=Xn(i);if(c){const h=Lm(u);return n.concat(u,u.visualViewport||[],ki(i)?i:[],h&&s?gi(h):[])}return n.concat(i,gi(i,[],s))}function Lm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ry(t){const n=kr(t);let s=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const i=qr(t),c=i?t.offsetWidth:s,u=i?t.offsetHeight:o,h=dc(s)!==c||dc(o)!==u;return h&&(s=c,o=u),{width:s,height:o,$:h}}function Rh(t){return Pr(t)?t:t.contextElement}function no(t){const n=Rh(t);if(!qr(n))return Wr(1);const s=n.getBoundingClientRect(),{width:o,height:i,$:c}=Ry(n);let u=(c?dc(s.width):s.width)/o,h=(c?dc(s.height):s.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const ET=Wr(0);function Dy(t){const n=Xn(t);return!kh()||!n.visualViewport?ET:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function TT(t,n,s){return n===void 0&&(n=!1),!s||n&&s!==Xn(t)?!1:n}function pa(t,n,s,o){n===void 0&&(n=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),c=Rh(t);let u=Wr(1);n&&(o?Pr(o)&&(u=no(o)):u=no(t));const h=TT(c,s,o)?Dy(c):Wr(0);let f=(i.left+h.x)/u.x,v=(i.top+h.y)/u.y,p=i.width/u.x,x=i.height/u.y;if(c){const w=Xn(c),j=o&&Pr(o)?Xn(o):o;let T=w,b=Lm(T);for(;b&&o&&j!==T;){const N=no(b),P=b.getBoundingClientRect(),C=kr(b),S=P.left+(b.clientLeft+parseFloat(C.paddingLeft))*N.x,_=P.top+(b.clientTop+parseFloat(C.paddingTop))*N.y;f*=N.x,v*=N.y,p*=N.x,x*=N.y,f+=S,v+=_,T=Xn(b),b=Lm(T)}}return mc({width:p,height:x,x:f,y:v})}function Ic(t,n){const s=Fc(t).scrollLeft;return n?n.left+s:pa(Gr(t)).left+s}function My(t,n){const s=t.getBoundingClientRect(),o=s.left+n.scrollLeft-Ic(t,s),i=s.top+n.scrollTop;return{x:o,y:i}}function PT(t){let{elements:n,rect:s,offsetParent:o,strategy:i}=t;const c=i==="fixed",u=Gr(o),h=n?Oc(n.floating):!1;if(o===u||h&&c)return s;let f={scrollLeft:0,scrollTop:0},v=Wr(1);const p=Wr(0),x=qr(o);if((x||!x&&!c)&&((vo(o)!=="body"||ki(u))&&(f=Fc(o)),qr(o))){const j=pa(o);v=no(o),p.x=j.x+o.clientLeft,p.y=j.y+o.clientTop}const w=u&&!x&&!c?My(u,f):Wr(0);return{width:s.width*v.x,height:s.height*v.y,x:s.x*v.x-f.scrollLeft*v.x+p.x+w.x,y:s.y*v.y-f.scrollTop*v.y+p.y+w.y}}function kT(t){return Array.from(t.getClientRects())}function RT(t){const n=Gr(t),s=Fc(t),o=t.ownerDocument.body,i=qn(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),c=qn(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let u=-s.scrollLeft+Ic(t);const h=-s.scrollTop;return kr(o).direction==="rtl"&&(u+=qn(n.clientWidth,o.clientWidth)-i),{width:i,height:c,x:u,y:h}}const kg=25;function DT(t,n){const s=Xn(t),o=Gr(t),i=s.visualViewport;let c=o.clientWidth,u=o.clientHeight,h=0,f=0;if(i){c=i.width,u=i.height;const p=kh();(!p||p&&n==="fixed")&&(h=i.offsetLeft,f=i.offsetTop)}const v=Ic(o);if(v<=0){const p=o.ownerDocument,x=p.body,w=getComputedStyle(x),j=p.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,T=Math.abs(o.clientWidth-x.clientWidth-j);T<=kg&&(c-=T)}else v<=kg&&(c+=v);return{width:c,height:u,x:h,y:f}}const MT=new Set(["absolute","fixed"]);function _T(t,n){const s=pa(t,!0,n==="fixed"),o=s.top+t.clientTop,i=s.left+t.clientLeft,c=qr(t)?no(t):Wr(1),u=t.clientWidth*c.x,h=t.clientHeight*c.y,f=i*c.x,v=o*c.y;return{width:u,height:h,x:f,y:v}}function Rg(t,n,s){let o;if(n==="viewport")o=DT(t,s);else if(n==="document")o=RT(Gr(t));else if(Pr(n))o=_T(n,s);else{const i=Dy(t);o={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return mc(o)}function _y(t,n){const s=Gs(t);return s===n||!Pr(s)||oo(s)?!1:kr(s).position==="fixed"||_y(s,n)}function AT(t,n){const s=n.get(t);if(s)return s;let o=gi(t,[],!1).filter(h=>Pr(h)&&vo(h)!=="body"),i=null;const c=kr(t).position==="fixed";let u=c?Gs(t):t;for(;Pr(u)&&!oo(u);){const h=kr(u),f=Ph(u);!f&&h.position==="fixed"&&(i=null),(c?!f&&!i:!f&&h.position==="static"&&!!i&&MT.has(i.position)||ki(u)&&!f&&_y(t,u))?o=o.filter(p=>p!==u):i=h,u=Gs(u)}return n.set(t,o),o}function OT(t){let{element:n,boundary:s,rootBoundary:o,strategy:i}=t;const u=[...s==="clippingAncestors"?Oc(n)?[]:AT(n,this._c):[].concat(s),o],h=u[0],f=u.reduce((v,p)=>{const x=Rg(n,p,i);return v.top=qn(x.top,v.top),v.right=qs(x.right,v.right),v.bottom=qs(x.bottom,v.bottom),v.left=qn(x.left,v.left),v},Rg(n,h,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function FT(t){const{width:n,height:s}=Ry(t);return{width:n,height:s}}function IT(t,n,s){const o=qr(n),i=Gr(n),c=s==="fixed",u=pa(t,!0,c,n);let h={scrollLeft:0,scrollTop:0};const f=Wr(0);function v(){f.x=Ic(i)}if(o||!o&&!c)if((vo(n)!=="body"||ki(i))&&(h=Fc(n)),o){const j=pa(n,!0,c,n);f.x=j.x+n.clientLeft,f.y=j.y+n.clientTop}else i&&v();c&&!o&&i&&v();const p=i&&!o&&!c?My(i,h):Wr(0),x=u.left+h.scrollLeft-f.x-p.x,w=u.top+h.scrollTop-f.y-p.y;return{x,y:w,width:u.width,height:u.height}}function lm(t){return kr(t).position==="static"}function Dg(t,n){if(!qr(t)||kr(t).position==="fixed")return null;if(n)return n(t);let s=t.offsetParent;return Gr(t)===s&&(s=s.ownerDocument.body),s}function Ay(t,n){const s=Xn(t);if(Oc(t))return s;if(!qr(t)){let i=Gs(t);for(;i&&!oo(i);){if(Pr(i)&&!lm(i))return i;i=Gs(i)}return s}let o=Dg(t,n);for(;o&&yT(o)&&lm(o);)o=Dg(o,n);return o&&oo(o)&&lm(o)&&!Ph(o)?s:o||CT(t)||s}const $T=async function(t){const n=this.getOffsetParent||Ay,s=this.getDimensions,o=await s(t.floating);return{reference:IT(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function LT(t){return kr(t).direction==="rtl"}const zT={convertOffsetParentRelativeRectToViewportRelativeRect:PT,getDocumentElement:Gr,getClippingRect:OT,getOffsetParent:Ay,getElementRects:$T,getClientRects:kT,getDimensions:FT,getScale:no,isElement:Pr,isRTL:LT};function Oy(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function VT(t,n){let s=null,o;const i=Gr(t);function c(){var h;clearTimeout(o),(h=s)==null||h.disconnect(),s=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),c();const v=t.getBoundingClientRect(),{left:p,top:x,width:w,height:j}=v;if(h||n(),!w||!j)return;const T=ql(x),b=ql(i.clientWidth-(p+w)),N=ql(i.clientHeight-(x+j)),P=ql(p),S={rootMargin:-T+"px "+-b+"px "+-N+"px "+-P+"px",threshold:qn(0,qs(1,f))||1};let _=!0;function D(U){const F=U[0].intersectionRatio;if(F!==f){if(!_)return u();F?u(!1,F):o=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!Oy(v,t.getBoundingClientRect())&&u(),_=!1}try{s=new IntersectionObserver(D,{...S,root:i.ownerDocument})}catch{s=new IntersectionObserver(D,S)}s.observe(t)}return u(!0),c}function BT(t,n,s,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,v=Rh(t),p=i||c?[...v?gi(v):[],...gi(n)]:[];p.forEach(P=>{i&&P.addEventListener("scroll",s,{passive:!0}),c&&P.addEventListener("resize",s)});const x=v&&h?VT(v,s):null;let w=-1,j=null;u&&(j=new ResizeObserver(P=>{let[C]=P;C&&C.target===v&&j&&(j.unobserve(n),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var S;(S=j)==null||S.observe(n)})),s()}),v&&!f&&j.observe(v),j.observe(n));let T,b=f?pa(t):null;f&&N();function N(){const P=pa(t);b&&!Oy(b,P)&&s(),b=P,T=requestAnimationFrame(N)}return s(),()=>{var P;p.forEach(C=>{i&&C.removeEventListener("scroll",s),c&&C.removeEventListener("resize",s)}),x?.(),(P=j)==null||P.disconnect(),j=null,f&&cancelAnimationFrame(T)}}const UT=hT,HT=fT,WT=dT,qT=xT,GT=uT,Mg=cT,YT=pT,KT=(t,n,s)=>{const o=new Map,i={platform:zT,...s},c={...i.platform,_c:o};return lT(t,n,{...i,platform:c})};var QT=typeof document<"u",JT=function(){},sc=QT?d.useLayoutEffect:JT;function hc(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let s,o,i;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==n.length)return!1;for(o=s;o--!==0;)if(!hc(t[o],n[o]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(n,i[o]))return!1;for(o=s;o--!==0;){const c=i[o];if(!(c==="_owner"&&t.$$typeof)&&!hc(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}function Fy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _g(t,n){const s=Fy(t);return Math.round(n*s)/s}function cm(t){const n=d.useRef(t);return sc(()=>{n.current=t}),n}function XT(t){t===void 0&&(t={});const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i,elements:{reference:c,floating:u}={},transform:h=!0,whileElementsMounted:f,open:v}=t,[p,x]=d.useState({x:0,y:0,strategy:s,placement:n,middlewareData:{},isPositioned:!1}),[w,j]=d.useState(o);hc(w,o)||j(o);const[T,b]=d.useState(null),[N,P]=d.useState(null),C=d.useCallback(L=>{L!==U.current&&(U.current=L,b(L))},[]),S=d.useCallback(L=>{L!==F.current&&(F.current=L,P(L))},[]),_=c||T,D=u||N,U=d.useRef(null),F=d.useRef(null),Q=d.useRef(p),ee=f!=null,te=cm(f),W=cm(i),V=cm(v),I=d.useCallback(()=>{if(!U.current||!F.current)return;const L={placement:n,strategy:s,middleware:w};W.current&&(L.platform=W.current),KT(U.current,F.current,L).then(R=>{const M={...R,isPositioned:V.current!==!1};J.current&&!hc(Q.current,M)&&(Q.current=M,ho.flushSync(()=>{x(M)}))})},[w,n,s,W,V]);sc(()=>{v===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,x(L=>({...L,isPositioned:!1})))},[v]);const J=d.useRef(!1);sc(()=>(J.current=!0,()=>{J.current=!1}),[]),sc(()=>{if(_&&(U.current=_),D&&(F.current=D),_&&D){if(te.current)return te.current(_,D,I);I()}},[_,D,I,te,ee]);const he=d.useMemo(()=>({reference:U,floating:F,setReference:C,setFloating:S}),[C,S]),ie=d.useMemo(()=>({reference:_,floating:D}),[_,D]),ue=d.useMemo(()=>{const L={position:s,left:0,top:0};if(!ie.floating)return L;const R=_g(ie.floating,p.x),M=_g(ie.floating,p.y);return h?{...L,transform:"translate("+R+"px, "+M+"px)",...Fy(ie.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:R,top:M}},[s,h,ie.floating,p.x,p.y]);return d.useMemo(()=>({...p,update:I,refs:he,elements:ie,floatingStyles:ue}),[p,I,he,ie,ue])}const ZT=t=>{function n(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:o,padding:i}=typeof t=="function"?t(s):t;return o&&n(o)?o.current!=null?Mg({element:o.current,padding:i}).fn(s):{}:o?Mg({element:o,padding:i}).fn(s):{}}}},eP=(t,n)=>({...UT(t),options:[t,n]}),tP=(t,n)=>({...HT(t),options:[t,n]}),nP=(t,n)=>({...YT(t),options:[t,n]}),rP=(t,n)=>({...WT(t),options:[t,n]}),sP=(t,n)=>({...qT(t),options:[t,n]}),aP=(t,n)=>({...GT(t),options:[t,n]}),oP=(t,n)=>({...ZT(t),options:[t,n]});var iP="Arrow",Iy=d.forwardRef((t,n)=>{const{children:s,width:o=10,height:i=5,...c}=t;return e.jsx(Le.svg,{...c,ref:n,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iy.displayName=iP;var lP=Iy;function $c(t){const[n,s]=d.useState(void 0);return ln(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let u,h;if("borderBoxSize"in c){const f=c.borderBoxSize,v=Array.isArray(f)?f[0]:f;u=v.inlineSize,h=v.blockSize}else u=t.offsetWidth,h=t.offsetHeight;s({width:u,height:h})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else s(void 0)},[t]),n}var Dh="Popper",[$y,Ys]=cn(Dh),[cP,Ly]=$y(Dh),zy=t=>{const{__scopePopper:n,children:s}=t,[o,i]=d.useState(null);return e.jsx(cP,{scope:n,anchor:o,onAnchorChange:i,children:s})};zy.displayName=Dh;var Vy="PopperAnchor",By=d.forwardRef((t,n)=>{const{__scopePopper:s,virtualRef:o,...i}=t,c=Ly(Vy,s),u=d.useRef(null),h=Ke(n,u),f=d.useRef(null);return d.useEffect(()=>{const v=f.current;f.current=o?.current||u.current,v!==f.current&&c.onAnchorChange(f.current)}),o?null:e.jsx(Le.div,{...i,ref:h})});By.displayName=Vy;var Mh="PopperContent",[dP,uP]=$y(Mh),Uy=d.forwardRef((t,n)=>{const{__scopePopper:s,side:o="bottom",sideOffset:i=0,align:c="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:v=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:j="optimized",onPlaced:T,...b}=t,N=Ly(Mh,s),[P,C]=d.useState(null),S=Ke(n,Z=>C(Z)),[_,D]=d.useState(null),U=$c(_),F=U?.width??0,Q=U?.height??0,ee=o+(c!=="center"?"-"+c:""),te=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},W=Array.isArray(v)?v:[v],V=W.length>0,I={padding:te,boundary:W.filter(hP),altBoundary:V},{refs:J,floatingStyles:he,placement:ie,isPositioned:ue,middlewareData:L}=XT({strategy:"fixed",placement:ee,whileElementsMounted:(...Z)=>BT(...Z,{animationFrame:j==="always"}),elements:{reference:N.anchor},middleware:[eP({mainAxis:i+Q,alignmentAxis:u}),f&&tP({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?nP():void 0,...I}),f&&rP({...I}),sP({...I,apply:({elements:Z,rects:fe,availableWidth:Ee,availableHeight:ke})=>{const{width:ze,height:A}=fe.reference,Ce=Z.floating.style;Ce.setProperty("--radix-popper-available-width",`${Ee}px`),Ce.setProperty("--radix-popper-available-height",`${ke}px`),Ce.setProperty("--radix-popper-anchor-width",`${ze}px`),Ce.setProperty("--radix-popper-anchor-height",`${A}px`)}}),_&&oP({element:_,padding:h}),fP({arrowWidth:F,arrowHeight:Q}),w&&aP({strategy:"referenceHidden",...I})]}),[R,M]=qy(ie),E=Gt(T);ln(()=>{ue&&E?.()},[ue,E]);const O=L.arrow?.x,$=L.arrow?.y,K=L.arrow?.centerOffset!==0,[ce,je]=d.useState();return ln(()=>{P&&je(window.getComputedStyle(P).zIndex)},[P]),e.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:ue?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(dP,{scope:s,placedSide:R,onArrowChange:D,arrowX:O,arrowY:$,shouldHideArrow:K,children:e.jsx(Le.div,{"data-side":R,"data-align":M,...b,ref:S,style:{...b.style,animation:ue?void 0:"none"}})})})});Uy.displayName=Mh;var Hy="PopperArrow",mP={top:"bottom",right:"left",bottom:"top",left:"right"},Wy=d.forwardRef(function(n,s){const{__scopePopper:o,...i}=n,c=uP(Hy,o),u=mP[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(lP,{...i,ref:s,style:{...i.style,display:"block"}})})});Wy.displayName=Hy;function hP(t){return t!==null}var fP=t=>({name:"transformOrigin",options:t,fn(n){const{placement:s,rects:o,middlewareData:i}=n,u=i.arrow?.centerOffset!==0,h=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[v,p]=qy(s),x={start:"0%",center:"50%",end:"100%"}[p],w=(i.arrow?.x??0)+h/2,j=(i.arrow?.y??0)+f/2;let T="",b="";return v==="bottom"?(T=u?x:`${w}px`,b=`${-f}px`):v==="top"?(T=u?x:`${w}px`,b=`${o.floating.height+f}px`):v==="right"?(T=`${-f}px`,b=u?x:`${j}px`):v==="left"&&(T=`${o.floating.width+f}px`,b=u?x:`${j}px`),{data:{x:T,y:b}}}});function qy(t){const[n,s="center"]=t.split("-");return[n,s]}var Lc=zy,Ri=By,zc=Uy,Vc=Wy,[Bc]=cn("Tooltip",[Ys]),Uc=Ys(),Gy="TooltipProvider",pP=700,zm="tooltip.open",[xP,_h]=Bc(Gy),Yy=t=>{const{__scopeTooltip:n,delayDuration:s=pP,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:c}=t,u=d.useRef(!0),h=d.useRef(!1),f=d.useRef(0);return d.useEffect(()=>{const v=f.current;return()=>window.clearTimeout(v)},[]),e.jsx(xP,{scope:n,isOpenDelayedRef:u,delayDuration:s,onOpen:d.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,o)},[o]),isPointerInTransitRef:h,onPointerInTransitChange:d.useCallback(v=>{h.current=v},[]),disableHoverableContent:i,children:c})};Yy.displayName=Gy;var vi="Tooltip",[gP,Hc]=Bc(vi),Ky=t=>{const{__scopeTooltip:n,children:s,open:o,defaultOpen:i,onOpenChange:c,disableHoverableContent:u,delayDuration:h}=t,f=_h(vi,t.__scopeTooltip),v=Uc(n),[p,x]=d.useState(null),w=cr(),j=d.useRef(0),T=u??f.disableHoverableContent,b=h??f.delayDuration,N=d.useRef(!1),[P,C]=ur({prop:o,defaultProp:i??!1,onChange:F=>{F?(f.onOpen(),document.dispatchEvent(new CustomEvent(zm))):f.onClose(),c?.(F)},caller:vi}),S=d.useMemo(()=>P?N.current?"delayed-open":"instant-open":"closed",[P]),_=d.useCallback(()=>{window.clearTimeout(j.current),j.current=0,N.current=!1,C(!0)},[C]),D=d.useCallback(()=>{window.clearTimeout(j.current),j.current=0,C(!1)},[C]),U=d.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{N.current=!0,C(!0),j.current=0},b)},[b,C]);return d.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),e.jsx(Lc,{...v,children:e.jsx(gP,{scope:n,contentId:w,open:P,stateAttribute:S,trigger:p,onTriggerChange:x,onTriggerEnter:d.useCallback(()=>{f.isOpenDelayedRef.current?U():_()},[f.isOpenDelayedRef,U,_]),onTriggerLeave:d.useCallback(()=>{T?D():(window.clearTimeout(j.current),j.current=0)},[D,T]),onOpen:_,onClose:D,disableHoverableContent:T,children:s})})};Ky.displayName=vi;var Vm="TooltipTrigger",Qy=d.forwardRef((t,n)=>{const{__scopeTooltip:s,...o}=t,i=Hc(Vm,s),c=_h(Vm,s),u=Uc(s),h=d.useRef(null),f=Ke(n,h,i.onTriggerChange),v=d.useRef(!1),p=d.useRef(!1),x=d.useCallback(()=>v.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),e.jsx(Ri,{asChild:!0,...u,children:e.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:f,onPointerMove:we(t.onPointerMove,w=>{w.pointerType!=="touch"&&!p.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:we(t.onPointerDown,()=>{i.open&&i.onClose(),v.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:we(t.onFocus,()=>{v.current||i.onOpen()}),onBlur:we(t.onBlur,i.onClose),onClick:we(t.onClick,i.onClose)})})});Qy.displayName=Vm;var vP="TooltipPortal",[mF,yP]=Bc(vP,{forceMount:void 0}),io="TooltipContent",Jy=d.forwardRef((t,n)=>{const s=yP(io,t.__scopeTooltip),{forceMount:o=s.forceMount,side:i="top",...c}=t,u=Hc(io,t.__scopeTooltip);return e.jsx(en,{present:o||u.open,children:u.disableHoverableContent?e.jsx(Xy,{side:i,...c,ref:n}):e.jsx(jP,{side:i,...c,ref:n})})}),jP=d.forwardRef((t,n)=>{const s=Hc(io,t.__scopeTooltip),o=_h(io,t.__scopeTooltip),i=d.useRef(null),c=Ke(n,i),[u,h]=d.useState(null),{trigger:f,onClose:v}=s,p=i.current,{onPointerInTransitChange:x}=o,w=d.useCallback(()=>{h(null),x(!1)},[x]),j=d.useCallback((T,b)=>{const N=T.currentTarget,P={x:T.clientX,y:T.clientY},C=SP(P,N.getBoundingClientRect()),S=EP(P,C),_=TP(b.getBoundingClientRect()),D=kP([...S,..._]);h(D),x(!0)},[x]);return d.useEffect(()=>()=>w(),[w]),d.useEffect(()=>{if(f&&p){const T=N=>j(N,p),b=N=>j(N,f);return f.addEventListener("pointerleave",T),p.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",T),p.removeEventListener("pointerleave",b)}}},[f,p,j,w]),d.useEffect(()=>{if(u){const T=b=>{const N=b.target,P={x:b.clientX,y:b.clientY},C=f?.contains(N)||p?.contains(N),S=!PP(P,u);C?w():S&&(w(),v())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[f,p,u,v,w]),e.jsx(Xy,{...t,ref:c})}),[wP,bP]=Bc(vi,{isInside:!1}),NP=_v("TooltipContent"),Xy=d.forwardRef((t,n)=>{const{__scopeTooltip:s,children:o,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:u,...h}=t,f=Hc(io,s),v=Uc(s),{onClose:p}=f;return d.useEffect(()=>(document.addEventListener(zm,p),()=>document.removeEventListener(zm,p)),[p]),d.useEffect(()=>{if(f.trigger){const x=w=>{w.target?.contains(f.trigger)&&p()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[f.trigger,p]),e.jsx(wa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:p,children:e.jsxs(zc,{"data-state":f.stateAttribute,...v,...h,ref:n,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(NP,{children:o}),e.jsx(wP,{scope:s,isInside:!0,children:e.jsx(KS,{id:f.contentId,role:"tooltip",children:i||o})})]})})});Jy.displayName=io;var Zy="TooltipArrow",CP=d.forwardRef((t,n)=>{const{__scopeTooltip:s,...o}=t,i=Uc(s);return bP(Zy,s).isInside?null:e.jsx(Vc,{...i,...o,ref:n})});CP.displayName=Zy;function SP(t,n){const s=Math.abs(n.top-t.y),o=Math.abs(n.bottom-t.y),i=Math.abs(n.right-t.x),c=Math.abs(n.left-t.x);switch(Math.min(s,o,i,c)){case c:return"left";case i:return"right";case s:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function EP(t,n,s=5){const o=[];switch(n){case"top":o.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":o.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":o.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":o.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return o}function TP(t){const{top:n,right:s,bottom:o,left:i}=t;return[{x:i,y:n},{x:s,y:n},{x:s,y:o},{x:i,y:o}]}function PP(t,n){const{x:s,y:o}=t;let i=!1;for(let c=0,u=n.length-1;c<n.length;u=c++){const h=n[c],f=n[u],v=h.x,p=h.y,x=f.x,w=f.y;p>o!=w>o&&s<(x-v)*(o-p)/(w-p)+v&&(i=!i)}return i}function kP(t){const n=t.slice();return n.sort((s,o)=>s.x<o.x?-1:s.x>o.x?1:s.y<o.y?-1:s.y>o.y?1:0),RP(n)}function RP(t){if(t.length<=1)return t.slice();const n=[];for(let o=0;o<t.length;o++){const i=t[o];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(i.y-u.y)>=(c.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}n.pop();const s=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(i.y-u.y)>=(c.y-u.y)*(i.x-u.x))s.pop();else break}s.push(i)}return s.pop(),n.length===1&&s.length===1&&n[0].x===s[0].x&&n[0].y===s[0].y?n:n.concat(s)}var DP=Yy,MP=Ky,_P=Qy,ej=Jy;const AP=DP,Ag=MP,Og=_P,Bm=d.forwardRef(({className:t,sideOffset:n=4,...s},o)=>e.jsx(ej,{ref:o,sideOffset:n,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Bm.displayName=ej.displayName;var Wc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},OP={setTimeout:(t,n)=>setTimeout(t,n),clearTimeout:t=>clearTimeout(t),setInterval:(t,n)=>setInterval(t,n),clearInterval:t=>clearInterval(t)},FP=class{#e=OP;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,n){return this.#e.setTimeout(t,n)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,n){return this.#e.setInterval(t,n)}clearInterval(t){this.#e.clearInterval(t)}},Um=new FP;function IP(t){setTimeout(t,0)}var qc=typeof window>"u"||"Deno"in globalThis;function Nr(){}function $P(t,n){return typeof t=="function"?t(n):t}function LP(t){return typeof t=="number"&&t>=0&&t!==1/0}function zP(t,n){return Math.max(t+(n||0)-Date.now(),0)}function Hm(t,n){return typeof t=="function"?t(n):t}function VP(t,n){return typeof t=="function"?t(n):t}function Fg(t,n){const{type:s="all",exact:o,fetchStatus:i,predicate:c,queryKey:u,stale:h}=t;if(u){if(o){if(n.queryHash!==Ah(u,n.options))return!1}else if(!ji(n.queryKey,u))return!1}if(s!=="all"){const f=n.isActive();if(s==="active"&&!f||s==="inactive"&&f)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||i&&i!==n.state.fetchStatus||c&&!c(n))}function Ig(t,n){const{exact:s,status:o,predicate:i,mutationKey:c}=t;if(c){if(!n.options.mutationKey)return!1;if(s){if(yi(n.options.mutationKey)!==yi(c))return!1}else if(!ji(n.options.mutationKey,c))return!1}return!(o&&n.state.status!==o||i&&!i(n))}function Ah(t,n){return(n?.queryKeyHashFn||yi)(t)}function yi(t){return JSON.stringify(t,(n,s)=>Wm(s)?Object.keys(s).sort().reduce((o,i)=>(o[i]=s[i],o),{}):s)}function ji(t,n){return t===n?!0:typeof t!=typeof n?!1:t&&n&&typeof t=="object"&&typeof n=="object"?Object.keys(n).every(s=>ji(t[s],n[s])):!1}var BP=Object.prototype.hasOwnProperty;function tj(t,n){if(t===n)return t;const s=$g(t)&&$g(n);if(!s&&!(Wm(t)&&Wm(n)))return n;const i=(s?t:Object.keys(t)).length,c=s?n:Object.keys(n),u=c.length,h=s?new Array(u):{};let f=0;for(let v=0;v<u;v++){const p=s?v:c[v],x=t[p],w=n[p];if(x===w){h[p]=x,(s?v<i:BP.call(t,p))&&f++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){h[p]=w;continue}const j=tj(x,w);h[p]=j,j===x&&f++}return i===u&&f===i?t:h}function $g(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wm(t){if(!Lg(t))return!1;const n=t.constructor;if(n===void 0)return!0;const s=n.prototype;return!(!Lg(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lg(t){return Object.prototype.toString.call(t)==="[object Object]"}function UP(t){return new Promise(n=>{Um.setTimeout(n,t)})}function HP(t,n,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,n):s.structuralSharing!==!1?tj(t,n):n}function WP(t,n,s=0){const o=[...t,n];return s&&o.length>s?o.slice(1):o}function qP(t,n,s=0){const o=[n,...t];return s&&o.length>s?o.slice(0,-1):o}var Oh=Symbol();function nj(t,n){return!t.queryFn&&n?.initialPromise?()=>n.initialPromise:!t.queryFn||t.queryFn===Oh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var GP=class extends Wc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!qc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},rj=new GP;function YP(){let t,n;const s=new Promise((i,c)=>{t=i,n=c});s.status="pending",s.catch(()=>{});function o(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{o({status:"fulfilled",value:i}),t(i)},s.reject=i=>{o({status:"rejected",reason:i}),n(i)},s}var KP=IP;function QP(){let t=[],n=0,s=h=>{h()},o=h=>{h()},i=KP;const c=h=>{n?t.push(h):i(()=>{s(h)})},u=()=>{const h=t;t=[],h.length&&i(()=>{o(()=>{h.forEach(f=>{s(f)})})})};return{batch:h=>{let f;n++;try{f=h()}finally{n--,n||u()}return f},batchCalls:h=>(...f)=>{c(()=>{h(...f)})},schedule:c,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{o=h},setScheduler:h=>{i=h}}}var Cn=QP(),JP=class extends Wc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!qc&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#e}},fc=new JP;function XP(t){return Math.min(1e3*2**t,3e4)}function sj(t){return(t??"online")==="online"?fc.isOnline():!0}var qm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function aj(t){let n=!1,s=0,o;const i=YP(),c=()=>i.status!=="pending",u=b=>{if(!c()){const N=new qm(b);w(N),t.onCancel?.(N)}},h=()=>{n=!0},f=()=>{n=!1},v=()=>rj.isFocused()&&(t.networkMode==="always"||fc.isOnline())&&t.canRun(),p=()=>sj(t.networkMode)&&t.canRun(),x=b=>{c()||(o?.(),i.resolve(b))},w=b=>{c()||(o?.(),i.reject(b))},j=()=>new Promise(b=>{o=N=>{(c()||v())&&b(N)},t.onPause?.()}).then(()=>{o=void 0,c()||t.onContinue?.()}),T=()=>{if(c())return;let b;const N=s===0?t.initialPromise:void 0;try{b=N??t.fn()}catch(P){b=Promise.reject(P)}Promise.resolve(b).then(x).catch(P=>{if(c())return;const C=t.retry??(qc?0:3),S=t.retryDelay??XP,_=typeof S=="function"?S(s,P):S,D=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,P);if(n||!D){w(P);return}s++,t.onFail?.(s,P),UP(_).then(()=>v()?void 0:j()).then(()=>{n?w(P):T()})})};return{promise:i,status:()=>i.status,cancel:u,continue:()=>(o?.(),i),cancelRetry:h,continueRetry:f,canStart:p,start:()=>(p()?T():j().then(T),i)}}var oj=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LP(this.gcTime)&&(this.#e=Um.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Um.clearTimeout(this.#e),this.#e=void 0)}},ZP=class extends oj{#e;#t;#n;#s;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=zg(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=zg(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,n){const s=HP(this.state.data,t,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(t,n){this.#a({type:"setState",state:t,setStateOptions:n})}cancel(t){const n=this.#r?.promise;return this.#r?.cancel(t),n?n.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>VP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!zP(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},i=()=>{const h=nj(this.options,n),v=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(p),p})();return this.#i=!1,this.options.persister?this.options.persister(h,v,this):h(v)},u=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return o(h),h})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#a({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=aj({initialPromise:n?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof qm&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,f)=>{this.#a({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof qm){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ek(s.data,this.options),fetchMeta:t.meta??null};case"success":const o={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Cn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function ek(t,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sj(n.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zg(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,s=n!==void 0,o=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function Vg(t){return{onFetch:(n,s)=>{const o=n.options,i=n.fetchOptions?.meta?.fetchMore?.direction,c=n.state.data?.pages||[],u=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},f=0;const v=async()=>{let p=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(n.signal.aborted?p=!0:n.signal.addEventListener("abort",()=>{p=!0}),n.signal)})},w=nj(n.options,n.fetchOptions),j=async(T,b,N)=>{if(p)return Promise.reject();if(b==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const U={client:n.client,queryKey:n.queryKey,pageParam:b,direction:N?"backward":"forward",meta:n.options.meta};return x(U),U})(),S=await w(C),{maxPages:_}=n.options,D=N?qP:WP;return{pages:D(T.pages,S,_),pageParams:D(T.pageParams,b,_)}};if(i&&c.length){const T=i==="backward",b=T?tk:Bg,N={pages:c,pageParams:u},P=b(o,N);h=await j(N,P,T)}else{const T=t??c.length;do{const b=f===0?u[0]??o.initialPageParam:Bg(o,h);if(f>0&&b==null)break;h=await j(h,b),f++}while(f<T)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(v,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},s):n.fetchFn=v}}}function Bg(t,{pages:n,pageParams:s}){const o=n.length-1;return n.length>0?t.getNextPageParam(n[o],n,s[o],s):void 0}function tk(t,{pages:n,pageParams:s}){return n.length>0?t.getPreviousPageParam?.(n[0],n,s[0],s):void 0}var nk=class extends oj{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||rk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(n=>n!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=aj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",i=!this.#s.canStart();try{if(o)n();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,s);const u=await this.options.onMutate?.(t,s);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:i})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,s),await this.options.onSuccess?.(c,t,this.state.context,s),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(c,null,t,this.state.context,s),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,s),await this.options.onError?.(c,t,this.state.context,s),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,c,t,this.state.context,s),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Cn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function rk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sk=class extends Wc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,n,s){const o=new nk({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(n),state:s});return this.add(o),o}add(t){this.#e.add(t);const n=Gl(t);if(typeof n=="string"){const s=this.#t.get(n);s?s.push(t):this.#t.set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const n=Gl(t);if(typeof n=="string"){const s=this.#t.get(n);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&this.#t.delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Gl(t);if(typeof n=="string"){const o=this.#t.get(n)?.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){const n=Gl(t);return typeof n=="string"?this.#t.get(n)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Cn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Ig(n,s))}findAll(t={}){return this.getAll().filter(n=>Ig(t,n))}notify(t){Cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Cn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Nr))))}};function Gl(t){return t.options.scope?.id}var ak=class extends Wc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,n,s){const o=n.queryKey,i=n.queryHash??Ah(o,n);let c=this.get(i);return c||(c=new ZP({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=this.#e.get(t.queryHash);n&&(t.destroy(),n===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Fg(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Fg(t,s)):n}notify(t){Cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ok=class{#e;#t;#n;#s;#r;#o;#i;#a;constructor(t={}){this.#e=t.queryCache||new ak,this.#t=t.mutationCache||new sk,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=rj.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=fc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),s=this.#e.build(this,n),o=s.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Hm(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:n,state:s})=>{const o=s.data;return[n,o]})}setQueryData(t,n,s){const o=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(o.queryHash)?.state.data,u=$P(n,c);if(u!==void 0)return this.#e.build(this,o).setData(u,{...s,manual:!0})}setQueriesData(t,n,s){return Cn.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,n,s)]))}getQueryState(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state}removeQueries(t){const n=this.#e;Cn.batch(()=>{n.findAll(t).forEach(s=>{n.remove(s)})})}resetQueries(t,n){const s=this.#e;return Cn.batch(()=>(s.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const s={revert:!0,...n},o=Cn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(s)));return Promise.all(o).then(Nr).catch(Nr)}invalidateQueries(t,n={}){return Cn.batch(()=>(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},n)))}refetchQueries(t,n={}){const s={...n,cancelRefetch:n.cancelRefetch??!0},o=Cn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let c=i.fetch(void 0,s);return s.throwOnError||(c=c.catch(Nr)),i.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(o).then(Nr)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const s=this.#e.build(this,n);return s.isStaleByTime(Hm(n.staleTime,s))?s.fetch(n):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nr).catch(Nr)}fetchInfiniteQuery(t){return t.behavior=Vg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nr).catch(Nr)}ensureInfiniteQueryData(t){return t.behavior=Vg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,n){this.#s.set(yi(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...this.#s.values()],s={};return n.forEach(o=>{ji(t,o.queryKey)&&Object.assign(s,o.defaultOptions)}),s}setMutationDefaults(t,n){this.#r.set(yi(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...this.#r.values()],s={};return n.forEach(o=>{ji(t,o.mutationKey)&&Object.assign(s,o.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const n={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=Ah(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Oh&&(n.enabled=!1),n}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ik=d.createContext(void 0),lk=({client:t,children:n})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(ik.Provider,{value:t,children:n}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},wi.apply(this,arguments)}var Ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ls||(Ls={}));const Ug="popstate";function ck(t){t===void 0&&(t={});function n(o,i){let{pathname:c,search:u,hash:h}=o.location;return Gm("",{pathname:c,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(o,i){return typeof i=="string"?i:pc(i)}return uk(n,s,null,t)}function Ht(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function ij(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function dk(){return Math.random().toString(36).substr(2,8)}function Hg(t,n){return{usr:t.state,key:t.key,idx:n}}function Gm(t,n,s,o){return s===void 0&&(s=null),wi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?yo(n):n,{state:s,key:n&&n.key||o||dk()})}function pc(t){let{pathname:n="/",search:s="",hash:o=""}=t;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function yo(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substr(s),t=t.substr(0,s));let o=t.indexOf("?");o>=0&&(n.search=t.substr(o),t=t.substr(0,o)),t&&(n.pathname=t)}return n}function uk(t,n,s,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,u=i.history,h=Ls.Pop,f=null,v=p();v==null&&(v=0,u.replaceState(wi({},u.state,{idx:v}),""));function p(){return(u.state||{idx:null}).idx}function x(){h=Ls.Pop;let N=p(),P=N==null?null:N-v;v=N,f&&f({action:h,location:b.location,delta:P})}function w(N,P){h=Ls.Push;let C=Gm(b.location,N,P);v=p()+1;let S=Hg(C,v),_=b.createHref(C);try{u.pushState(S,"",_)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(_)}c&&f&&f({action:h,location:b.location,delta:1})}function j(N,P){h=Ls.Replace;let C=Gm(b.location,N,P);v=p();let S=Hg(C,v),_=b.createHref(C);u.replaceState(S,"",_),c&&f&&f({action:h,location:b.location,delta:0})}function T(N){let P=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof N=="string"?N:pc(N);return C=C.replace(/ $/,"%20"),Ht(P,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,P)}let b={get action(){return h},get location(){return t(i,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Ug,x),f=N,()=>{i.removeEventListener(Ug,x),f=null}},createHref(N){return n(i,N)},createURL:T,encodeLocation(N){let P=T(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:j,go(N){return u.go(N)}};return b}var Wg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wg||(Wg={}));function mk(t,n,s){return s===void 0&&(s="/"),hk(t,n,s)}function hk(t,n,s,o){let i=typeof n=="string"?yo(n):n,c=lo(i.pathname||"/",s);if(c==null)return null;let u=lj(t);fk(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let v=Sk(c);h=Nk(u[f],v)}return h}function lj(t,n,s,o){n===void 0&&(n=[]),s===void 0&&(s=[]),o===void 0&&(o="");let i=(c,u,h)=>{let f={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};f.relativePath.startsWith("/")&&(Ht(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let v=Vs([o,f.relativePath]),p=s.concat(f);c.children&&c.children.length>0&&(Ht(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),lj(c.children,n,p,v)),!(c.path==null&&!c.index)&&n.push({path:v,score:wk(v,c.index),routesMeta:p})};return t.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))i(c,u);else for(let f of cj(c.path))i(c,u,f)}),n}function cj(t){let n=t.split("/");if(n.length===0)return[];let[s,...o]=n,i=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return i?[c,""]:[c];let u=cj(o.join("/")),h=[];return h.push(...u.map(f=>f===""?c:[c,f].join("/"))),i&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function fk(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:bk(n.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const pk=/^:[\w-]+$/,xk=3,gk=2,vk=1,yk=10,jk=-2,qg=t=>t==="*";function wk(t,n){let s=t.split("/"),o=s.length;return s.some(qg)&&(o+=jk),n&&(o+=gk),s.filter(i=>!qg(i)).reduce((i,c)=>i+(pk.test(c)?xk:c===""?vk:yk),o)}function bk(t,n){return t.length===n.length&&t.slice(0,-1).every((o,i)=>o===n[i])?t[t.length-1]-n[n.length-1]:0}function Nk(t,n,s){let{routesMeta:o}=t,i={},c="/",u=[];for(let h=0;h<o.length;++h){let f=o[h],v=h===o.length-1,p=c==="/"?n:n.slice(c.length)||"/",x=Ym({path:f.relativePath,caseSensitive:f.caseSensitive,end:v},p),w=f.route;if(!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:Vs([c,x.pathname]),pathnameBase:kk(Vs([c,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(c=Vs([c,x.pathnameBase]))}return u}function Ym(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,o]=Ck(t.path,t.caseSensitive,t.end),i=n.match(s);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:o.reduce((v,p,x)=>{let{paramName:w,isOptional:j}=p;if(w==="*"){let b=h[x]||"";u=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const T=h[x];return j&&!T?v[w]=void 0:v[w]=(T||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:u,pattern:t}}function Ck(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),ij(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(o.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),o]}function Sk(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ij(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function lo(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,o=t.charAt(s);return o&&o!=="/"?null:t.slice(s)||"/"}function Ek(t,n){n===void 0&&(n="/");let{pathname:s,search:o="",hash:i=""}=typeof t=="string"?yo(t):t;return{pathname:s?s.startsWith("/")?s:Tk(s,n):n,search:Rk(o),hash:Dk(i)}}function Tk(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function dm(t,n,s,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pk(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Fh(t,n){let s=Pk(t);return n?s.map((o,i)=>i===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function Ih(t,n,s,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=yo(t):(i=wi({},t),Ht(!i.pathname||!i.pathname.includes("?"),dm("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),dm("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),dm("#","search","hash",i)));let c=t===""||i.pathname==="",u=c?"/":i.pathname,h;if(u==null)h=s;else{let x=n.length-1;if(!o&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;i.pathname=w.join("/")}h=x>=0?n[x]:"/"}let f=Ek(i,h),v=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(v||p)&&(f.pathname+="/"),f}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),kk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dj=["post","put","patch","delete"];new Set(dj);const _k=["get",...dj];new Set(_k);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},bi.apply(this,arguments)}const Gc=d.createContext(null),uj=d.createContext(null),ds=d.createContext(null),Yc=d.createContext(null),Ks=d.createContext({outlet:null,matches:[],isDataRoute:!1}),mj=d.createContext(null);function Ak(t,n){let{relative:s}=n===void 0?{}:n;jo()||Ht(!1);let{basename:o,navigator:i}=d.useContext(ds),{hash:c,pathname:u,search:h}=Kc(t,{relative:s}),f=u;return o!=="/"&&(f=u==="/"?o:Vs([o,u])),i.createHref({pathname:f,search:h,hash:c})}function jo(){return d.useContext(Yc)!=null}function Ln(){return jo()||Ht(!1),d.useContext(Yc).location}function hj(t){d.useContext(ds).static||d.useLayoutEffect(t)}function Rr(){let{isDataRoute:t}=d.useContext(Ks);return t?Gk():Ok()}function Ok(){jo()||Ht(!1);let t=d.useContext(Gc),{basename:n,future:s,navigator:o}=d.useContext(ds),{matches:i}=d.useContext(Ks),{pathname:c}=Ln(),u=JSON.stringify(Fh(i,s.v7_relativeSplatPath)),h=d.useRef(!1);return hj(()=>{h.current=!0}),d.useCallback(function(v,p){if(p===void 0&&(p={}),!h.current)return;if(typeof v=="number"){o.go(v);return}let x=Ih(v,JSON.parse(u),c,p.relative==="path");t==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Vs([n,x.pathname])),(p.replace?o.replace:o.push)(x,p.state,p)},[n,o,u,c,t])}function Kc(t,n){let{relative:s}=n===void 0?{}:n,{future:o}=d.useContext(ds),{matches:i}=d.useContext(Ks),{pathname:c}=Ln(),u=JSON.stringify(Fh(i,o.v7_relativeSplatPath));return d.useMemo(()=>Ih(t,JSON.parse(u),c,s==="path"),[t,u,c,s])}function Fk(t,n){return Ik(t,n)}function Ik(t,n,s,o){jo()||Ht(!1);let{navigator:i}=d.useContext(ds),{matches:c}=d.useContext(Ks),u=c[c.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let v=Ln(),p;if(n){var x;let N=typeof n=="string"?yo(n):n;f==="/"||(x=N.pathname)!=null&&x.startsWith(f)||Ht(!1),p=N}else p=v;let w=p.pathname||"/",j=w;if(f!=="/"){let N=f.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=mk(t,{pathname:j}),b=Bk(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Vs([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Vs([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,s,o);return n&&b?d.createElement(Yc.Provider,{value:{location:bi({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ls.Pop}},b):b}function $k(){let t=qk(),n=Mk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},n),s?d.createElement("pre",{style:i},s):null,null)}const Lk=d.createElement($k,null);class zk extends d.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?d.createElement(Ks.Provider,{value:this.props.routeContext},d.createElement(mj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vk(t){let{routeContext:n,match:s,children:o}=t,i=d.useContext(Gc);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),d.createElement(Ks.Provider,{value:n},o)}function Bk(t,n,s,o){var i;if(n===void 0&&(n=[]),s===void 0&&(s=null),o===void 0&&(o=null),t==null){var c;if(!s)return null;if(s.errors)t=s.matches;else if((c=o)!=null&&c.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let u=t,h=(i=s)==null?void 0:i.errors;if(h!=null){let p=u.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);p>=0||Ht(!1),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,v=-1;if(s&&o&&o.v7_partialHydration)for(let p=0;p<u.length;p++){let x=u[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=p),x.route.id){let{loaderData:w,errors:j}=s,T=x.route.loader&&w[x.route.id]===void 0&&(!j||j[x.route.id]===void 0);if(x.route.lazy||T){f=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}return u.reduceRight((p,x,w)=>{let j,T=!1,b=null,N=null;s&&(j=h&&x.route.id?h[x.route.id]:void 0,b=x.route.errorElement||Lk,f&&(v<0&&w===0?(Yk("route-fallback"),T=!0,N=null):v===w&&(T=!0,N=x.route.hydrateFallbackElement||null)));let P=n.concat(u.slice(0,w+1)),C=()=>{let S;return j?S=b:T?S=N:x.route.Component?S=d.createElement(x.route.Component,null):x.route.element?S=x.route.element:S=p,d.createElement(Vk,{match:x,routeContext:{outlet:p,matches:P,isDataRoute:s!=null},children:S})};return s&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?d.createElement(zk,{location:s.location,revalidation:s.revalidation,component:b,error:j,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):C()},null)}var fj=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(fj||{}),pj=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(pj||{});function Uk(t){let n=d.useContext(Gc);return n||Ht(!1),n}function Hk(t){let n=d.useContext(uj);return n||Ht(!1),n}function Wk(t){let n=d.useContext(Ks);return n||Ht(!1),n}function xj(t){let n=Wk(),s=n.matches[n.matches.length-1];return s.route.id||Ht(!1),s.route.id}function qk(){var t;let n=d.useContext(mj),s=Hk(),o=xj();return n!==void 0?n:(t=s.errors)==null?void 0:t[o]}function Gk(){let{router:t}=Uk(fj.UseNavigateStable),n=xj(pj.UseNavigateStable),s=d.useRef(!1);return hj(()=>{s.current=!0}),d.useCallback(function(i,c){c===void 0&&(c={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bi({fromRouteId:n},c)))},[t,n])}const Gg={};function Yk(t,n,s){Gg[t]||(Gg[t]=!0)}function Kk(t,n){t?.v7_startTransition,t?.v7_relativeSplatPath}function Km(t){let{to:n,replace:s,state:o,relative:i}=t;jo()||Ht(!1);let{future:c,static:u}=d.useContext(ds),{matches:h}=d.useContext(Ks),{pathname:f}=Ln(),v=Rr(),p=Ih(n,Fh(h,c.v7_relativeSplatPath),f,i==="path"),x=JSON.stringify(p);return d.useEffect(()=>v(JSON.parse(x),{replace:s,state:o,relative:i}),[v,x,i,s,o]),null}function on(t){Ht(!1)}function Qk(t){let{basename:n="/",children:s=null,location:o,navigationType:i=Ls.Pop,navigator:c,static:u=!1,future:h}=t;jo()&&Ht(!1);let f=n.replace(/^\/*/,"/"),v=d.useMemo(()=>({basename:f,navigator:c,static:u,future:bi({v7_relativeSplatPath:!1},h)}),[f,h,c,u]);typeof o=="string"&&(o=yo(o));let{pathname:p="/",search:x="",hash:w="",state:j=null,key:T="default"}=o,b=d.useMemo(()=>{let N=lo(p,f);return N==null?null:{location:{pathname:N,search:x,hash:w,state:j,key:T},navigationType:i}},[f,p,x,w,j,T,i]);return b==null?null:d.createElement(ds.Provider,{value:v},d.createElement(Yc.Provider,{children:s,value:b}))}function Jk(t){let{children:n,location:s}=t;return Fk(Qm(n),s)}new Promise(()=>{});function Qm(t,n){n===void 0&&(n=[]);let s=[];return d.Children.forEach(t,(o,i)=>{if(!d.isValidElement(o))return;let c=[...n,i];if(o.type===d.Fragment){s.push.apply(s,Qm(o.props.children,c));return}o.type!==on&&Ht(!1),!o.props.index||!o.props.children||Ht(!1);let u={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=Qm(o.props.children,c)),s.push(u)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},xc.apply(this,arguments)}function gj(t,n){if(t==null)return{};var s={},o=Object.keys(t),i,c;for(c=0;c<o.length;c++)i=o[c],!(n.indexOf(i)>=0)&&(s[i]=t[i]);return s}function Xk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zk(t,n){return t.button===0&&(!n||n==="_self")&&!Xk(t)}function Jm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,s)=>{let o=t[s];return n.concat(Array.isArray(o)?o.map(i=>[s,i]):[[s,o]])},[]))}function eR(t,n){let s=Jm(t);return n&&n.forEach((o,i)=>{s.has(i)||n.getAll(i).forEach(c=>{s.append(i,c)})}),s}const tR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rR="6";try{window.__reactRouterVersion=rR}catch{}const sR=d.createContext({isTransitioning:!1}),aR="startTransition",Yg=hh[aR];function oR(t){let{basename:n,children:s,future:o,window:i}=t,c=d.useRef();c.current==null&&(c.current=ck({window:i,v5Compat:!0}));let u=c.current,[h,f]=d.useState({action:u.action,location:u.location}),{v7_startTransition:v}=o||{},p=d.useCallback(x=>{v&&Yg?Yg(()=>f(x)):f(x)},[f,v]);return d.useLayoutEffect(()=>u.listen(p),[u,p]),d.useEffect(()=>Kk(o),[o]),d.createElement(Qk,{basename:n,children:s,location:h.location,navigationType:h.action,navigator:u,future:o})}const iR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,co=d.forwardRef(function(n,s){let{onClick:o,relative:i,reloadDocument:c,replace:u,state:h,target:f,to:v,preventScrollReset:p,viewTransition:x}=n,w=gj(n,tR),{basename:j}=d.useContext(ds),T,b=!1;if(typeof v=="string"&&lR.test(v)&&(T=v,iR))try{let S=new URL(window.location.href),_=v.startsWith("//")?new URL(S.protocol+v):new URL(v),D=lo(_.pathname,j);_.origin===S.origin&&D!=null?v=D+_.search+_.hash:b=!0}catch{}let N=Ak(v,{relative:i}),P=uR(v,{replace:u,state:h,target:f,preventScrollReset:p,relative:i,viewTransition:x});function C(S){o&&o(S),S.defaultPrevented||P(S)}return d.createElement("a",xc({},w,{href:T||N,onClick:b||c?o:C,ref:s,target:f}))}),cR=d.forwardRef(function(n,s){let{"aria-current":o="page",caseSensitive:i=!1,className:c="",end:u=!1,style:h,to:f,viewTransition:v,children:p}=n,x=gj(n,nR),w=Kc(f,{relative:x.relative}),j=Ln(),T=d.useContext(uj),{navigator:b,basename:N}=d.useContext(ds),P=T!=null&&hR(w)&&v===!0,C=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,S=j.pathname,_=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(S=S.toLowerCase(),_=_?_.toLowerCase():null,C=C.toLowerCase()),_&&N&&(_=lo(_,N)||_);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let U=S===C||!u&&S.startsWith(C)&&S.charAt(D)==="/",F=_!=null&&(_===C||!u&&_.startsWith(C)&&_.charAt(C.length)==="/"),Q={isActive:U,isPending:F,isTransitioning:P},ee=U?o:void 0,te;typeof c=="function"?te=c(Q):te=[c,U?"active":null,F?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let W=typeof h=="function"?h(Q):h;return d.createElement(co,xc({},x,{"aria-current":ee,className:te,ref:s,style:W,to:f,viewTransition:v}),typeof p=="function"?p(Q):p)});var Xm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xm||(Xm={}));var Kg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kg||(Kg={}));function dR(t){let n=d.useContext(Gc);return n||Ht(!1),n}function uR(t,n){let{target:s,replace:o,state:i,preventScrollReset:c,relative:u,viewTransition:h}=n===void 0?{}:n,f=Rr(),v=Ln(),p=Kc(t,{relative:u});return d.useCallback(x=>{if(Zk(x,s)){x.preventDefault();let w=o!==void 0?o:pc(v)===pc(p);f(t,{replace:w,state:i,preventScrollReset:c,relative:u,viewTransition:h})}},[v,f,p,o,i,s,t,c,u,h])}function mR(t){let n=d.useRef(Jm(t)),s=d.useRef(!1),o=Ln(),i=d.useMemo(()=>eR(o.search,s.current?null:n.current),[o.search]),c=Rr(),u=d.useCallback((h,f)=>{const v=Jm(typeof h=="function"?h(i):h);s.current=!0,c("?"+v,f)},[c,i]);return[i,u]}function hR(t,n){n===void 0&&(n={});let s=d.useContext(sR);s==null&&Ht(!1);let{basename:o}=dR(Xm.useViewTransitionState),i=Kc(t,{relative:n.relative});if(!s.isTransitioning)return!1;let c=lo(s.currentLocation.pathname,o)||s.currentLocation.pathname,u=lo(s.nextLocation.pathname,o)||s.nextLocation.pathname;return Ym(i.pathname,u)!=null||Ym(i.pathname,c)!=null}let Gn="https://theproparking-backend-1rxk.onrender.com";Gn.endsWith("/")&&(Gn=Gn.slice(0,-1));if(Gn.startsWith("http://")||Gn.startsWith("https://"))try{const t=new URL(Gn);Gn=`${t.protocol}//${t.host}`}catch{const n=Gn.match(/^(https?:\/\/[^\/]+)/);n&&(Gn=n[1])}Gn.endsWith("/api")||(Gn=`${Gn}/api`);const fR=Gn;class pR{baseUrl;authToken=null;constructor(n){this.baseUrl=n}setAuthToken(n){this.authToken=n||null}async request(n,s){const o=`${this.baseUrl}${n}`,i={"Content-Type":"application/json",...s?.headers||{}};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const c={...s,headers:i};try{const u=await fetch(o,c),f=(u.headers.get("content-type")||"").includes("application/json");if(!u.ok){if(!f){const T=await u.text();throw console.error(`Non-JSON error response from ${o}:`,T.substring(0,300)),new Error(`Server returned non-JSON response (${u.status}): ${u.statusText}`)}const v=u.clone();let p;try{p=await u.json()}catch{const b=await v.text().catch(()=>"Unable to read response");console.error(`Failed to parse error JSON from ${o}:`,b.substring(0,300)),p={error:"Unknown error"}}const x=p&&(p.error??p.message);let w;if(typeof x=="string")w=x;else if(x&&typeof x=="object"&&typeof x.message=="string")w=x.message;else if(p&&typeof p.details=="string")w=p.details;else if(p&&typeof p.hint=="string")w=p.hint;else{const T=JSON.stringify(p);w=T&&T.length<200?T:`HTTP ${u.status}: ${u.statusText}`}if(u.status===401)throw new Error(w||"Unauthorized");const j=new Error(w||`HTTP ${u.status}: ${u.statusText}`);throw j.status=u.status,j}if(u.status===204)return null;if(s?.responseType==="blob")return await u.blob();if(!f){const v=await u.text();throw console.error(`Non-JSON response from ${o}:`,v.substring(0,300)),new Error("Server returned non-JSON response")}return await u.json()}catch(u){throw console.error(`API Error [${n}]:`,u),u}}async get(n,s){const o={...s||{},method:"GET"};return this.request(n,o)}async post(n,s,o){const i={...o||{},method:"POST",body:s?JSON.stringify(s):void 0};return this.request(n,i)}async getRates(){return this.request("/rates")}async createRate(n){return this.request("/rates",{method:"POST",body:JSON.stringify(n)})}async updateRate(n,s){return this.request(`/rates/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRate(n){return this.request(`/rates/${n}`,{method:"DELETE"})}async getMonthlyCustomers(){return this.request("/monthlyCustomers")}async createMonthlyCustomer(n){return this.request("/monthlyCustomers",{method:"POST",body:JSON.stringify(n)})}async updateMonthlyCustomer(n,s){return this.request(`/monthlyCustomers/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteMonthlyCustomer(n){return this.request(`/monthlyCustomers/${n}`,{method:"DELETE"})}async registerMonthlyPayment(n,s){return this.request(`/monthlyCustomers/${n}/pay`,{method:"POST",body:JSON.stringify(s)})}async createTicket(n){return this.request("/tickets",{method:"POST",body:JSON.stringify(n)})}async processTicketExit(n,s){return this.request(`/tickets/${n}/exit`,{method:"POST",body:JSON.stringify(s)})}async getTicket(n){return this.request(`/tickets/${n}`)}async getPayments(n){const s=new URLSearchParams;n?.start&&s.append("start",n.start),n?.end&&s.append("end",n.end);const o=s.toString();return this.request(`/payments${o?`?${o}`:""}`)}async createPayment(n){return this.request("/payments",{method:"POST",body:JSON.stringify(n)})}async getFinancialReport(n){const s=new URLSearchParams;n?.start&&s.append("start",n.start),n?.end&&s.append("end",n.end);const o=s.toString();return this.request(`/reports${o?`?${o}`:""}`)}async getCompanyConfig(){return this.request("/companyConfig")}async updateCompanyConfig(n){return this.request("/companyConfig",{method:"PUT",body:JSON.stringify(n)})}async resetToFirstRun(){return this.request("/setup/reset-to-first-run",{method:"POST"})}async getVehicles(){try{return await this.request("/vehicles")}catch{return console.warn("Vehicles endpoint not available, using tickets instead"),[]}}async createVehicle(n){try{return await this.request("/vehicles",{method:"POST",body:JSON.stringify(n)})}catch{return this.createTicket({vehicle_plate:n.plate,vehicle_type:n.vehicleType})}}async updateVehicle(n,s){return this.request(`/vehicles/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteVehicle(n){return this.request(`/vehicles/${n}`,{method:"DELETE"})}async getVehicleTypes(){return this.request("/vehicleTypes")}async createVehicleType(n){return this.request("/vehicleTypes",{method:"POST",body:JSON.stringify({name:n})})}async deleteVehicleType(n){return this.request(`/vehicleTypes/${n}`,{method:"DELETE"})}async login(n){return this.request("/auth/login",{method:"POST",body:JSON.stringify(n)})}async getCurrentUser(){return this.request("/auth/me")}async changePassword(n){return this.request("/auth/change-password",{method:"POST",body:JSON.stringify(n)})}async getUsers(){return this.request("/users")}async createUser(n){return this.request("/users",{method:"POST",body:JSON.stringify(n)})}async updateUser(n,s){return this.request(`/users/${n}`,{method:"PUT",body:JSON.stringify(s)})}async updateUserPassword(n,s){return this.request(`/users/${n}/password`,{method:"PUT",body:JSON.stringify({newPassword:s})})}async updateOwnPassword(n,s,o){return this.request(`/users/${n}/password`,{method:"PUT",body:JSON.stringify({oldPassword:s,newPassword:o})})}async validatePasswordStrength(n){return this.request("/auth/validate-password",{method:"POST",body:JSON.stringify({password:n})})}async getPasswordRequirements(){return this.request("/auth/password-requirements")}async deleteUser(n){return this.request(`/users/${n}`,{method:"DELETE"})}async createAuditEvent(n){return this.request("/audit/events",{method:"POST",body:JSON.stringify(n)})}async getAuditEvents(n){const s=new URLSearchParams;n?.start&&s.append("start",n.start),n?.end&&s.append("end",n.end),n?.action&&s.append("action",n.action),n?.actorId&&s.append("actorId",n.actorId);const o=s.toString();return this.request(`/audit/events${o?`?${o}`:""}`)}async createBackup(){return this.request("/backup",{method:"POST"})}async listBackups(){return this.request("/backup")}async downloadBackup(n){const s=`${this.baseUrl}/backup/${encodeURIComponent(n)}`,o={};this.authToken&&(o.Authorization=`Bearer ${this.authToken}`);const i=await fetch(s,{headers:o});if(!i.ok){const u=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(u.error||`HTTP ${i.status}`)}return await i.blob()}async previewBackup(n){return this.request(`/backup/${encodeURIComponent(n)}/preview`)}async restoreBackup(n,s){return this.request(`/backup/${encodeURIComponent(n)}/restore`,{method:"POST",body:JSON.stringify({tables:s})})}async deleteBackup(n){return this.request(`/backup/${encodeURIComponent(n)}`,{method:"DELETE"})}async getBackupConfig(){return this.request("/backup-config")}async updateBackupConfig(n){return this.request("/backup-config",{method:"PUT",body:JSON.stringify(n)})}async triggerAutoBackup(){return this.request("/backup-config/trigger",{method:"POST"})}async generateMonthlyReport(n){return this.request("/reports/monthly",{method:"POST",body:JSON.stringify(n||{})})}async getMonthlyReports(n){const s=new URLSearchParams;n?.year&&s.append("year",n.year.toString()),n?.limit&&s.append("limit",n.limit.toString());const o=s.toString();return this.request(`/reports/monthly${o?`?${o}`:""}`)}async getMonthlyReportById(n){return this.request(`/reports/monthly/${n}`)}async deleteMonthlyReport(n){return this.request(`/reports/monthly/${n}`,{method:"DELETE"})}async getPricingRules(n){return this.request(`/pricing-rules/rate/${n}`)}async createPricingRule(n){return this.request("/pricing-rules",{method:"POST",body:JSON.stringify(n)})}async updatePricingRule(n,s){return this.request(`/pricing-rules/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deletePricingRule(n){return this.request(`/pricing-rules/${n}`,{method:"DELETE"})}async togglePricingRule(n,s){return this.request(`/pricing-rules/${n}/toggle`,{method:"PATCH",body:JSON.stringify({isActive:s})})}async getRateTimeWindows(n){return this.request(`/rates/${n}/windows`)}async createRateTimeWindow(n,s){return this.request(`/rates/${n}/windows`,{method:"POST",body:JSON.stringify(s)})}async updateRateTimeWindow(n,s){return this.request(`/rate-windows/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRateTimeWindow(n){return this.request(`/rate-windows/${n}`,{method:"DELETE"})}async getRateThresholds(n){return this.request(`/rates/${n}/thresholds`)}async createRateThreshold(n,s){return this.request(`/rates/${n}/thresholds`,{method:"POST",body:JSON.stringify(s)})}async updateRateThreshold(n,s){return this.request(`/rate-thresholds/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRateThreshold(n){return this.request(`/rate-thresholds/${n}`,{method:"DELETE"})}async getReceiptTemplates(n){const s=n&&n!=="all"?`?type=${n}`:"";return this.request(`/receipt-templates${s}`)}async createReceiptTemplate(n){return this.request("/receipt-templates",{method:"POST",body:JSON.stringify(n)})}async updateReceiptTemplate(n,s){return this.request(`/receipt-templates/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteReceiptTemplate(n){return this.request(`/receipt-templates/${n}`,{method:"DELETE"})}async setDefaultReceiptTemplate(n){return this.request(`/receipt-templates/${n}/set-default`,{method:"POST"})}async cloneReceiptTemplate(n){return this.request(`/receipt-templates/${n}/clone`,{method:"POST"})}async getBusinessHours(){return this.request("/business-hours")}async updateBusinessHours(n,s){return this.request(`/business-hours/${n}`,{method:"PUT",body:JSON.stringify(s)})}async getHolidays(n){const s=n?"?upcoming=true":"";return this.request(`/holidays${s}`)}async createHoliday(n){return this.request("/holidays",{method:"POST",body:JSON.stringify(n)})}async updateHoliday(n,s){return this.request(`/holidays/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteHoliday(n){return this.request(`/holidays/${n}`,{method:"DELETE"})}async getSpecialEvents(n){const s=n?"?active=true":"";return this.request(`/special-events${s}`)}async createSpecialEvent(n){return this.request("/special-events",{method:"POST",body:JSON.stringify(n)})}async updateSpecialEvent(n,s){return this.request(`/special-events/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteSpecialEvent(n){return this.request(`/special-events/${n}`,{method:"DELETE"})}async getOperationalStatus(){return this.request("/operational-status")}async enqueuePrinterJob(n){return this.request("/printer-jobs",{method:"POST",body:JSON.stringify(n)})}async listPrinterJobs(n){const s=new URLSearchParams;n?.status&&(Array.isArray(n.status)?n.status:[n.status]).forEach(c=>s.append("status",c)),n?.jobType&&(Array.isArray(n.jobType)?n.jobType:[n.jobType]).forEach(c=>s.append("jobType",c)),typeof n?.limit=="number"&&s.set("limit",n.limit.toString()),n?.since&&s.set("since",n.since),n?.search&&s.set("search",n.search);const o=s.toString();return this.request(`/printer-jobs${o?`?${o}`:""}`)}async getPrinterJob(n){return this.request(`/printer-jobs/${n}`)}async cancelPrinterJob(n,s){return this.request(`/printer-jobs/${n}/cancel`,{method:"POST",body:JSON.stringify({reason:s})})}async getPrinterJobStatuses(){return this.request("/printer-jobs/statuses")}async getExpenses(n){const s=new URLSearchParams;n?.start&&s.set("start",n.start),n?.end&&s.set("end",n.end),n?.category&&s.set("category",n.category),n?.status&&s.set("status",n.status);const o=s.toString();return this.request(`/expenses${o?`?${o}`:""}`)}async getExpense(n){return this.request(`/expenses/${n}`)}async createExpense(n){return this.request("/expenses",{method:"POST",body:JSON.stringify(n)})}async updateExpense(n,s){return this.request(`/expenses/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteExpense(n){return this.request(`/expenses/${n}`,{method:"DELETE"})}async getManualRevenues(n){const s=new URLSearchParams;n?.start&&s.set("start",n.start),n?.end&&s.set("end",n.end),n?.category&&s.set("category",n.category);const o=s.toString();return this.request(`/manual-revenues${o?`?${o}`:""}`)}async getManualRevenue(n){return this.request(`/manual-revenues/${n}`)}async createManualRevenue(n){return this.request("/manual-revenues",{method:"POST",body:JSON.stringify(n)})}async updateManualRevenue(n,s){return this.request(`/manual-revenues/${n}`,{method:"PUT",body:JSON.stringify(s)})}async deleteManualRevenue(n){return this.request(`/manual-revenues/${n}`,{method:"DELETE"})}async getConvenios(n){const s=new URLSearchParams;n?.status&&n.status!=="todos"&&s.set("status",n.status),n?.tipo&&n.tipo!=="todos"&&s.set("tipo",n.tipo),n?.categoria&&n.categoria!=="todos"&&s.set("categoria",n.categoria),n?.busca&&s.set("busca",n.busca);const o=s.toString();return this.request(`/convenios${o?`?${o}`:""}`)}async getConvenioById(n){return this.request(`/convenios/${n}`)}async getConvenioStats(){return this.request("/convenios/stats")}async getConveniosRanking(){return this.request("/convenios/relatorios/ocupacao")}async createConvenio(n){return this.request("/convenios",{method:"POST",body:JSON.stringify(n)})}async updateConvenio(n,s){return this.request(`/convenios/${n}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteConvenio(n){return this.request(`/convenios/${n}`,{method:"DELETE"})}async getConveniosRelatoriosFaturas(n){const s=new URLSearchParams;n?.status&&s.set("status",n.status),n?.periodo&&s.set("periodo",n.periodo),n?.data_inicio&&s.set("data_inicio",n.data_inicio),n?.data_fim&&s.set("data_fim",n.data_fim);const o=s.toString();return this.request(`/convenios/relatorios/faturas${o?`?${o}`:""}`)}async getConvenioMovimentacoes(n,s){const o=new URLSearchParams;s?.data_inicio&&o.set("data_inicio",s.data_inicio),s?.data_fim&&o.set("data_fim",s.data_fim),s?.placa&&o.set("placa",s.placa),s?.faturado!==void 0&&o.set("faturado",String(s.faturado));const i=o.toString();return this.request(`/convenios/${n}/movimentacoes${i?`?${i}`:""}`)}async getConvenioDocumentos(n){return this.request(`/convenios/${n}/documentos`)}async addConvenioVeiculo(n,s){return this.request(`/convenios/${n}/veiculos`,{method:"POST",body:JSON.stringify(s)})}async uploadConvenioDocumento(n,s){return this.request(`/convenios/${n}/documentos`,{method:"POST",body:JSON.stringify(s)})}async deleteConvenioDocumento(n,s){return this.request(`/convenios/${n}/documentos/${s}`,{method:"DELETE"})}async getNotificacoes(n){const s=n?"?unreadOnly=true":"";return this.request(`/notificacoes${s}`)}async countNotificacoes(){return this.request("/notificacoes/count")}async markNotificacaoRead(n){return this.request(`/notificacoes/${n}/read`,{method:"PATCH"})}async markAllNotificacoesRead(){return this.request("/notificacoes/read-all",{method:"PATCH"})}async runConveniosJob(n){return this.request(`/convenios/jobs/${n}`,{method:"POST"})}async openCashRegister(n){return this.request("/cash-register/open",{method:"POST",body:JSON.stringify(n)})}async getCurrentCashRegisterSession(){return this.request("/cash-register/current")}async getCashRegisterHistory(){return this.request("/cash-register/history")}async closeCashRegister(n){return this.request("/cash-register/close",{method:"POST",body:JSON.stringify(n)})}async addCashTransaction(n){return this.request("/cash-register/transaction",{method:"POST",body:JSON.stringify(n)})}}const xe=new pR(fR),vj=d.createContext(void 0);function xR(){try{return localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token")}catch{return null}}const gR=({children:t})=>{const[n,s]=d.useState(null),[o,i]=d.useState(null),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[v,p]=d.useState(!1);d.useEffect(()=>{const C=xR();C?i(C):u(!1)},[]),d.useEffect(()=>{if(!o){s(null),xe.setAuthToken(null),u(!1);return}(async()=>{u(!0),xe.setAuthToken(o);try{const S=await xe.getCurrentUser();s(S.user)}catch(S){console.warn("Token validation failed, clearing:",S),w(),i(null),s(null),xe.setAuthToken(null)}finally{u(!1)}})()},[o]);const x=(C,S)=>{try{S?(localStorage.setItem("auth:token",C),sessionStorage.removeItem("auth:token")):(sessionStorage.setItem("auth:token",C),localStorage.removeItem("auth:token"))}catch{}},w=()=>{try{localStorage.removeItem("auth:token"),sessionStorage.removeItem("auth:token")}catch{}},j=async(C,S,_)=>{const D=await xe.login({login:C,password:S});s(D.user),i(D.token),x(D.token,_),xe.setAuthToken(D.token),D.mustChangePassword!==void 0&&f(D.mustChangePassword),D.isFirstLogin!==void 0&&p(D.isFirstLogin)},T=()=>{s(null),i(null),f(!1),p(!1),w(),xe.setAuthToken(null)},b=()=>{f(!1),p(!1)},N=C=>n?n.role==="admin"?!0:!!(n.permissions||{})[C]:!1,P=d.useMemo(()=>({user:n,token:o,isAuthenticated:!!n,isAdmin:n?.role==="admin",hasPermission:N,loading:c,mustChangePassword:h,isFirstLogin:v,login:j,logout:T,clearPasswordChangeFlags:b}),[n,o,c,h,v]);return e.jsx(vj.Provider,{value:P,children:t})},zn=()=>{const t=d.useContext(vj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},yj=d.createContext(void 0),vR=({children:t})=>{const{token:n,loading:s}=zn(),[o,i]=d.useState([]),[c,u]=d.useState([]),[h,f]=d.useState([]),[v,p]=d.useState({name:"Estacionamento",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#2563eb",receiptCounter:1}),[x,w]=d.useState(!1),[j,T]=d.useState(void 0),[b,N]=d.useState(0),[P,C]=d.useState(!0);d.useEffect(()=>{if(s)return;(async()=>{try{C(!0);const[E,O]=await Promise.all([xe.getVehicles().catch($=>(console.error("Error loading vehicles:",$),[])),xe.getRates().catch($=>(console.error("Error loading rates:",$),[]))]);if(i(E||[]),u(O||[]),n){const[$,K,ce,je]=await Promise.all([xe.getMonthlyCustomers().catch(Z=>(console.error("Error loading monthly customers:",Z),[])),xe.getCompanyConfig().catch(Z=>(console.error("Error loading company config:",Z),null)),xe.getCurrentCashRegisterSession().catch(Z=>(console.error("Error loading cash register session:",Z),{isOpen:!1,session:null})),xe.getCashRegisterHistory().catch(Z=>(console.error("Error loading cash register history:",Z),[]))]);if(f($||[]),K&&p(K),ce?.isOpen&&ce?.session?(T({openedAt:ce.session.openedAt||new Date().toISOString(),openingAmount:ce.session.openingAmount||0,operatorName:ce.session.operatorName||"Operador"}),w(!0)):(w(!1),T(void 0)),je&&je.length>0){const Z=je[0],fe=Number(Z.actual_amount||Z.closing_amount||0);N(fe)}}else f([]),p({name:"Estacionamento",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#2563eb",receiptCounter:1}),w(!1),T(void 0)}catch(E){console.error("Erro ao carregar dados:",E),i([]),u([]),f([])}finally{C(!1)}})()},[n,s]);const S=async(M,E)=>{if(typeof M!="number"||M<0)throw new Error("Valor de abertura invlido. Deve ser um nmero maior ou igual a zero.");if(!E||E.trim()==="")throw new Error("Nome do operador  obrigatrio");if(x)throw new Error("Caixa j est aberto");const O=new Date().toISOString(),$=E.trim();try{if(n){const K=await xe.openCashRegister({openingAmount:M,operatorName:$,openedAt:O});if(K?.session)T({openedAt:K.session.openedAt,openingAmount:K.session.openingAmount,operatorName:K.session.operatorName}),w(!0);else throw new Error("Resposta invlida do servidor ao abrir caixa")}else throw new Error("Usurio no autenticado. Impossvel abrir caixa.")}catch(K){throw console.error("Erro ao abrir caixa:",K),K}},_=async(M,E)=>{try{n&&await xe.closeCashRegister({actualAmount:M,notes:`Fechamento por ${E}`}),T(void 0),w(!1),N(M)}catch(O){throw console.error("Erro ao fechar caixa:",O),O}},D=(M,E,O,$)=>{const K=new Date(`${M.entryDate}T${M.entryTime}`),ce=new Date(`${O}T${$}`),je=Math.floor((ce.getTime()-K.getTime())/6e4);if(E.rateType==="Hora/Frao"){const Z=Math.floor(je/60),fe=je%60;let Ee=Z;return fe>E.courtesyMinutes&&(Ee+=1),Math.max(Ee,1)*E.value}else{if(E.rateType==="Diria")return Math.ceil(je/1440)*E.value;if(E.rateType==="Pernoite")return E.value;if(["Semanal","Quinzenal","Mensal"].includes(E.rateType)){const Z=(M.contractedDays||30)*24*60;if(je<=Z)return E.value;const fe=c.find(Ee=>Ee.vehicleType===M.vehicleType&&Ee.rateType==="Hora/Frao");return fe?E.value+Math.ceil((je-Z)/60)*fe.value:E.value}}return E.value},U=M=>{const E=M?.start?new Date(M.start):void 0,O=M?.end?new Date(M.end):void 0;return o.filter($=>$.status==="Concludo").filter($=>{if(!E&&!O)return!0;const K=$.exitDate?new Date($.exitDate):void 0;if(!K||E&&K<E)return!1;if(O){const ce=new Date(O);if(ce.setHours(23,59,59,999),K>ce)return!1}return!0}).reduce(($,K)=>$+(K.totalValue||0),0)},F=M=>{const E=M?.start?new Date(M.start):void 0,O=M?.end?new Date(M.end):void 0;return h.reduce(($,K)=>{const je=(K.paymentHistory||[]).filter(Z=>{const fe=Z.date?new Date(Z.date):void 0;if(!fe||E&&fe<E)return!1;if(O){const Ee=new Date(O);if(Ee.setHours(23,59,59,999),fe>Ee)return!1}return!0}).reduce((Z,fe)=>Z+(fe.value||0),0);return $+je},0)},Q=M=>U(M)+F(M),ee=async M=>{try{const E=await xe.createVehicle(M);i(O=>[...O,E])}catch(E){throw console.error("Erro ao adicionar veculo:",E),E}},te=async(M,E)=>{try{const O=await xe.updateVehicle(M,E);i($=>$.map(K=>K.id===M?O:K))}catch(O){throw console.error("Erro ao atualizar veculo:",O),O}},W=async M=>{try{await xe.deleteVehicle(M),i(E=>E.filter(O=>O.id!==M))}catch(E){throw console.error("Erro ao remover veculo:",E),E}},V=async M=>{try{const E=await xe.createRate(M);u(O=>[...O,E])}catch(E){throw console.error("Erro ao adicionar tarifa:",E),E}},I=async(M,E)=>{try{const O=await xe.updateRate(M,E);return u($=>$.map(K=>K.id===M?O:K)),O}catch(O){throw console.error("Erro ao atualizar tarifa:",O),O}},J=async M=>{try{await xe.deleteRate(M),u(E=>E.filter(O=>O.id!==M))}catch(E){throw console.error("Erro ao remover tarifa:",E),E}},he=async M=>{try{const E=await xe.createMonthlyCustomer(M);return f(O=>[...O,E]),E}catch(E){throw console.error("Erro ao adicionar cliente:",E),E}},ie=async(M,E)=>{try{const O=await xe.updateMonthlyCustomer(M,E);f($=>$.map(K=>K.id===M?O:K))}catch(O){throw console.error("Erro ao atualizar cliente mensalista:",O),O}},ue=async M=>{try{await xe.deleteMonthlyCustomer(M),f(E=>E.filter(O=>O.id!==M))}catch(E){throw console.error("Erro ao remover cliente mensalista:",E),E}},L=async(M,E)=>{try{const O=await xe.registerMonthlyPayment(M,{value:E.value,method:E.method});return f(K=>K.map(ce=>ce.id===M?O.customer:ce)),p(K=>({...K,receiptCounter:K.receiptCounter+1})),Number(O.payment?.id)||Date.now()}catch(O){throw console.error("Erro ao registrar pagamento:",O),O}},R=async M=>{try{const E=await xe.updateCompanyConfig(M);p(E)}catch(E){throw console.error("Erro ao atualizar configuraes:",E),E}};return e.jsx(yj.Provider,{value:{vehicles:o,rates:c,monthlyCustomers:h,companyConfig:v,cashIsOpen:x,cashSession:j,lastClosingAmount:b,cashLoading:P,openCashRegister:S,closeCashRegister:_,getAvulsoRevenue:U,getMonthlyRevenue:F,getTotalRevenue:Q,addVehicle:ee,updateVehicle:te,deleteVehicle:W,addRate:V,updateRate:I,deleteRate:J,addMonthlyCustomer:he,updateMonthlyCustomer:ie,deleteMonthlyCustomer:ue,registerPayment:L,updateCompanyConfig:R,calculateRate:D},children:t})},Dr=()=>{const t=d.useContext(yj);if(!t)throw new Error("useParking deve ser usado dentro de um ParkingProvider");return t},$h=Ti("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=d.forwardRef(({className:t,variant:n,size:s,asChild:o=!1,...i},c)=>{const u=o?ES:"button";return e.jsx(u,{className:Pe($h({variant:n,size:s,className:t})),ref:c,...i})});H.displayName="Button";var um=0;function Qc(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Qg()),document.body.insertAdjacentElement("beforeend",t[1]??Qg()),um++,()=>{um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),um--}},[])}function Qg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mm="focusScope.autoFocusOnMount",hm="focusScope.autoFocusOnUnmount",Jg={bubbles:!1,cancelable:!0},yR="FocusScope",Di=d.forwardRef((t,n)=>{const{loop:s=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...u}=t,[h,f]=d.useState(null),v=Gt(i),p=Gt(c),x=d.useRef(null),w=Ke(n,b=>f(b)),j=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(o){let b=function(S){if(j.paused||!h)return;const _=S.target;h.contains(_)?x.current=_:Is(x.current,{select:!0})},N=function(S){if(j.paused||!h)return;const _=S.relatedTarget;_!==null&&(h.contains(_)||Is(x.current,{select:!0}))},P=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Is(h)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const C=new MutationObserver(P);return h&&C.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),C.disconnect()}}},[o,h,j.paused]),d.useEffect(()=>{if(h){Zg.add(j);const b=document.activeElement;if(!h.contains(b)){const P=new CustomEvent(mm,Jg);h.addEventListener(mm,v),h.dispatchEvent(P),P.defaultPrevented||(jR(SR(jj(h)),{select:!0}),document.activeElement===b&&Is(h))}return()=>{h.removeEventListener(mm,v),setTimeout(()=>{const P=new CustomEvent(hm,Jg);h.addEventListener(hm,p),h.dispatchEvent(P),P.defaultPrevented||Is(b??document.body,{select:!0}),h.removeEventListener(hm,p),Zg.remove(j)},0)}}},[h,v,p,j]);const T=d.useCallback(b=>{if(!s&&!o||j.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,P=document.activeElement;if(N&&P){const C=b.currentTarget,[S,_]=wR(C);S&&_?!b.shiftKey&&P===_?(b.preventDefault(),s&&Is(S,{select:!0})):b.shiftKey&&P===S&&(b.preventDefault(),s&&Is(_,{select:!0})):P===C&&b.preventDefault()}},[s,o,j.paused]);return e.jsx(Le.div,{tabIndex:-1,...u,ref:w,onKeyDown:T})});Di.displayName=yR;function jR(t,{select:n=!1}={}){const s=document.activeElement;for(const o of t)if(Is(o,{select:n}),document.activeElement!==s)return}function wR(t){const n=jj(t),s=Xg(n,t),o=Xg(n.reverse(),t);return[s,o]}function jj(t){const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function Xg(t,n){for(const s of t)if(!bR(s,{upTo:n}))return s}function bR(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NR(t){return t instanceof HTMLInputElement&&"select"in t}function Is(t,{select:n=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&NR(t)&&n&&t.select()}}var Zg=CR();function CR(){let t=[];return{add(n){const s=t[0];n!==s&&s?.pause(),t=ev(t,n),t.unshift(n)},remove(n){t=ev(t,n),t[0]?.resume()}}}function ev(t,n){const s=[...t],o=s.indexOf(n);return o!==-1&&s.splice(o,1),s}function SR(t){return t.filter(n=>n.tagName!=="A")}var ER=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},Ga=new WeakMap,Yl=new WeakMap,Kl={},fm=0,wj=function(t){return t&&(t.host||wj(t.parentNode))},TR=function(t,n){return n.map(function(s){if(t.contains(s))return s;var o=wj(s);return o&&t.contains(o)?o:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},PR=function(t,n,s,o){var i=TR(n,Array.isArray(t)?t:[t]);Kl[s]||(Kl[s]=new WeakMap);var c=Kl[s],u=[],h=new Set,f=new Set(i),v=function(x){!x||h.has(x)||(h.add(x),v(x.parentNode))};i.forEach(v);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(w){if(h.has(w))p(w);else try{var j=w.getAttribute(o),T=j!==null&&j!=="false",b=(Ga.get(w)||0)+1,N=(c.get(w)||0)+1;Ga.set(w,b),c.set(w,N),u.push(w),b===1&&T&&Yl.set(w,!0),N===1&&w.setAttribute(s,"true"),T||w.setAttribute(o,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return p(n),h.clear(),fm++,function(){u.forEach(function(x){var w=Ga.get(x)-1,j=c.get(x)-1;Ga.set(x,w),c.set(x,j),w||(Yl.has(x)||x.removeAttribute(o),Yl.delete(x)),j||x.removeAttribute(s)}),fm--,fm||(Ga=new WeakMap,Ga=new WeakMap,Yl=new WeakMap,Kl={})}},Jc=function(t,n,s){s===void 0&&(s="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=ER(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),PR(o,i,s,"aria-hidden")):function(){return null}},Vr=function(){return Vr=Object.assign||function(n){for(var s,o=1,i=arguments.length;o<i;o++){s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},Vr.apply(this,arguments)};function bj(t,n){var s={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(s[o[i]]=t[o[i]]);return s}function kR(t,n,s){if(s||arguments.length===2)for(var o=0,i=n.length,c;o<i;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var ac="right-scroll-bar-position",oc="width-before-scroll-bar",RR="with-scroll-bars-hidden",DR="--removed-body-scroll-bar-size";function pm(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function MR(t,n){var s=d.useState(function(){return{value:t,callback:n,facade:{get current(){return s.value},set current(o){var i=s.value;i!==o&&(s.value=o,s.callback(o,i))}}}})[0];return s.callback=n,s.facade}var _R=typeof window<"u"?d.useLayoutEffect:d.useEffect,tv=new WeakMap;function AR(t,n){var s=MR(null,function(o){return t.forEach(function(i){return pm(i,o)})});return _R(function(){var o=tv.get(s);if(o){var i=new Set(o),c=new Set(t),u=s.current;i.forEach(function(h){c.has(h)||pm(h,null)}),c.forEach(function(h){i.has(h)||pm(h,u)})}tv.set(s,t)},[t]),s}function OR(t){return t}function FR(t,n){n===void 0&&(n=OR);var s=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(c){var u=n(c,o);return s.push(u),function(){s=s.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(o=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(h){return c(h)},filter:function(){return s}}},assignMedium:function(c){o=!0;var u=[];if(s.length){var h=s;s=[],h.forEach(c),u=s}var f=function(){var p=u;u=[],p.forEach(c)},v=function(){return Promise.resolve().then(f)};v(),s={push:function(p){u.push(p),v()},filter:function(p){return u=u.filter(p),s}}}};return i}function IR(t){t===void 0&&(t={});var n=FR(null);return n.options=Vr({async:!0,ssr:!1},t),n}var Nj=function(t){var n=t.sideCar,s=bj(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return d.createElement(o,Vr({},s))};Nj.isSideCarExport=!0;function $R(t,n){return t.useMedium(n),Nj}var Cj=IR(),xm=function(){},Xc=d.forwardRef(function(t,n){var s=d.useRef(null),o=d.useState({onScrollCapture:xm,onWheelCapture:xm,onTouchMoveCapture:xm}),i=o[0],c=o[1],u=t.forwardProps,h=t.children,f=t.className,v=t.removeScrollBar,p=t.enabled,x=t.shards,w=t.sideCar,j=t.noRelative,T=t.noIsolation,b=t.inert,N=t.allowPinchZoom,P=t.as,C=P===void 0?"div":P,S=t.gapMode,_=bj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=w,U=AR([s,n]),F=Vr(Vr({},_),i);return d.createElement(d.Fragment,null,p&&d.createElement(D,{sideCar:Cj,removeScrollBar:v,shards:x,noRelative:j,noIsolation:T,inert:b,setCallbacks:c,allowPinchZoom:!!N,lockRef:s,gapMode:S}),u?d.cloneElement(d.Children.only(h),Vr(Vr({},F),{ref:U})):d.createElement(C,Vr({},F,{className:f,ref:U}),h))});Xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xc.classNames={fullWidth:oc,zeroRight:ac};var LR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=LR();return n&&t.setAttribute("nonce",n),t}function VR(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function BR(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var UR=function(){var t=0,n=null;return{add:function(s){t==0&&(n=zR())&&(VR(n,s),BR(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},HR=function(){var t=UR();return function(n,s){d.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&s])}},Sj=function(){var t=HR(),n=function(s){var o=s.styles,i=s.dynamic;return t(o,i),null};return n},WR={left:0,top:0,right:0,gap:0},gm=function(t){return parseInt(t||"",10)||0},qR=function(t){var n=window.getComputedStyle(document.body),s=n[t==="padding"?"paddingLeft":"marginLeft"],o=n[t==="padding"?"paddingTop":"marginTop"],i=n[t==="padding"?"paddingRight":"marginRight"];return[gm(s),gm(o),gm(i)]},GR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WR;var n=qR(t),s=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-s+n[2]-n[0])}},YR=Sj(),ro="data-scroll-locked",KR=function(t,n,s,o){var i=t.left,c=t.top,u=t.right,h=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(RR,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(h,"px ").concat(o,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(o,`;
    `),s==="padding"&&"padding-right: ".concat(h,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ac,` {
    right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(oc,` {
    margin-right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(ac," .").concat(ac,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(oc," .").concat(oc,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(DR,": ").concat(h,`px;
  }
`)},nv=function(){var t=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(t)?t:0},QR=function(){d.useEffect(function(){return document.body.setAttribute(ro,(nv()+1).toString()),function(){var t=nv()-1;t<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,t.toString())}},[])},JR=function(t){var n=t.noRelative,s=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;QR();var c=d.useMemo(function(){return GR(i)},[i]);return d.createElement(YR,{styles:KR(c,!n,i,s?"":"!important")})},Zm=!1;if(typeof window<"u")try{var Ql=Object.defineProperty({},"passive",{get:function(){return Zm=!0,!0}});window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Zm=!1}var Ya=Zm?{passive:!1}:!1,XR=function(t){return t.tagName==="TEXTAREA"},Ej=function(t,n){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[n]!=="hidden"&&!(s.overflowY===s.overflowX&&!XR(t)&&s[n]==="visible")},ZR=function(t){return Ej(t,"overflowY")},eD=function(t){return Ej(t,"overflowX")},rv=function(t,n){var s=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=Tj(t,o);if(i){var c=Pj(t,o),u=c[1],h=c[2];if(u>h)return!0}o=o.parentNode}while(o&&o!==s.body);return!1},tD=function(t){var n=t.scrollTop,s=t.scrollHeight,o=t.clientHeight;return[n,s,o]},nD=function(t){var n=t.scrollLeft,s=t.scrollWidth,o=t.clientWidth;return[n,s,o]},Tj=function(t,n){return t==="v"?ZR(n):eD(n)},Pj=function(t,n){return t==="v"?tD(n):nD(n)},rD=function(t,n){return t==="h"&&n==="rtl"?-1:1},sD=function(t,n,s,o,i){var c=rD(t,window.getComputedStyle(n).direction),u=c*o,h=s.target,f=n.contains(h),v=!1,p=u>0,x=0,w=0;do{if(!h)break;var j=Pj(t,h),T=j[0],b=j[1],N=j[2],P=b-N-c*T;(T||P)&&Tj(t,h)&&(x+=P,w+=T);var C=h.parentNode;h=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&h!==document.body||f&&(n.contains(h)||n===h));return(p&&Math.abs(x)<1||!p&&Math.abs(w)<1)&&(v=!0),v},Jl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sv=function(t){return[t.deltaX,t.deltaY]},av=function(t){return t&&"current"in t?t.current:t},aD=function(t,n){return t[0]===n[0]&&t[1]===n[1]},oD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iD=0,Ka=[];function lD(t){var n=d.useRef([]),s=d.useRef([0,0]),o=d.useRef(),i=d.useState(iD++)[0],c=d.useState(Sj)[0],u=d.useRef(t);d.useEffect(function(){u.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=kR([t.lockRef.current],(t.shards||[]).map(av),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var h=d.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var P=Jl(b),C=s.current,S="deltaX"in b?b.deltaX:C[0]-P[0],_="deltaY"in b?b.deltaY:C[1]-P[1],D,U=b.target,F=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in b&&F==="h"&&U.type==="range")return!1;var Q=rv(F,U);if(!Q)return!0;if(Q?D=F:(D=F==="v"?"h":"v",Q=rv(F,U)),!Q)return!1;if(!o.current&&"changedTouches"in b&&(S||_)&&(o.current=D),!D)return!0;var ee=o.current||D;return sD(ee,N,b,ee==="h"?S:_)},[]),f=d.useCallback(function(b){var N=b;if(!(!Ka.length||Ka[Ka.length-1]!==c)){var P="deltaY"in N?sv(N):Jl(N),C=n.current.filter(function(D){return D.name===N.type&&(D.target===N.target||N.target===D.shadowParent)&&aD(D.delta,P)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var S=(u.current.shards||[]).map(av).filter(Boolean).filter(function(D){return D.contains(N.target)}),_=S.length>0?h(N,S[0]):!u.current.noIsolation;_&&N.cancelable&&N.preventDefault()}}},[]),v=d.useCallback(function(b,N,P,C){var S={name:b,delta:N,target:P,should:C,shadowParent:cD(P)};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(_){return _!==S})},1)},[]),p=d.useCallback(function(b){s.current=Jl(b),o.current=void 0},[]),x=d.useCallback(function(b){v(b.type,sv(b),b.target,h(b,t.lockRef.current))},[]),w=d.useCallback(function(b){v(b.type,Jl(b),b.target,h(b,t.lockRef.current))},[]);d.useEffect(function(){return Ka.push(c),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Ya),document.addEventListener("touchmove",f,Ya),document.addEventListener("touchstart",p,Ya),function(){Ka=Ka.filter(function(b){return b!==c}),document.removeEventListener("wheel",f,Ya),document.removeEventListener("touchmove",f,Ya),document.removeEventListener("touchstart",p,Ya)}},[]);var j=t.removeScrollBar,T=t.inert;return d.createElement(d.Fragment,null,T?d.createElement(c,{styles:oD(i)}):null,j?d.createElement(JR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cD(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const dD=$R(Cj,lD);var Mi=d.forwardRef(function(t,n){return d.createElement(Xc,Vr({},t,{ref:n,sideCar:dD}))});Mi.classNames=Xc.classNames;var Zc="Popover",[kj]=cn(Zc,[Ys]),_i=Ys(),[uD,Qs]=kj(Zc),Rj=t=>{const{__scopePopover:n,children:s,open:o,defaultOpen:i,onOpenChange:c,modal:u=!1}=t,h=_i(n),f=d.useRef(null),[v,p]=d.useState(!1),[x,w]=ur({prop:o,defaultProp:i??!1,onChange:c,caller:Zc});return e.jsx(Lc,{...h,children:e.jsx(uD,{scope:n,contentId:cr(),triggerRef:f,open:x,onOpenChange:w,onOpenToggle:d.useCallback(()=>w(j=>!j),[w]),hasCustomAnchor:v,onCustomAnchorAdd:d.useCallback(()=>p(!0),[]),onCustomAnchorRemove:d.useCallback(()=>p(!1),[]),modal:u,children:s})})};Rj.displayName=Zc;var Dj="PopoverAnchor",mD=d.forwardRef((t,n)=>{const{__scopePopover:s,...o}=t,i=Qs(Dj,s),c=_i(s),{onCustomAnchorAdd:u,onCustomAnchorRemove:h}=i;return d.useEffect(()=>(u(),()=>h()),[u,h]),e.jsx(Ri,{...c,...o,ref:n})});mD.displayName=Dj;var Mj="PopoverTrigger",_j=d.forwardRef((t,n)=>{const{__scopePopover:s,...o}=t,i=Qs(Mj,s),c=_i(s),u=Ke(n,i.triggerRef),h=e.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$j(i.open),...o,ref:u,onClick:we(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?h:e.jsx(Ri,{asChild:!0,...c,children:h})});_j.displayName=Mj;var Lh="PopoverPortal",[hD,fD]=kj(Lh,{forceMount:void 0}),Aj=t=>{const{__scopePopover:n,forceMount:s,children:o,container:i}=t,c=Qs(Lh,n);return e.jsx(hD,{scope:n,forceMount:s,children:e.jsx(en,{present:s||c.open,children:e.jsx(fo,{asChild:!0,container:i,children:o})})})};Aj.displayName=Lh;var uo="PopoverContent",Oj=d.forwardRef((t,n)=>{const s=fD(uo,t.__scopePopover),{forceMount:o=s.forceMount,...i}=t,c=Qs(uo,t.__scopePopover);return e.jsx(en,{present:o||c.open,children:c.modal?e.jsx(xD,{...i,ref:n}):e.jsx(gD,{...i,ref:n})})});Oj.displayName=uo;var pD=Us("PopoverContent.RemoveScroll"),xD=d.forwardRef((t,n)=>{const s=Qs(uo,t.__scopePopover),o=d.useRef(null),i=Ke(n,o),c=d.useRef(!1);return d.useEffect(()=>{const u=o.current;if(u)return Jc(u)},[]),e.jsx(Mi,{as:pD,allowPinchZoom:!0,children:e.jsx(Fj,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,u=>{u.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,v=h.button===2||f;c.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:we(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),gD=d.forwardRef((t,n)=>{const s=Qs(uo,t.__scopePopover),o=d.useRef(!1),i=d.useRef(!1);return e.jsx(Fj,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{t.onCloseAutoFocus?.(c),c.defaultPrevented||(o.current||s.triggerRef.current?.focus(),c.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:c=>{t.onInteractOutside?.(c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),Fj=d.forwardRef((t,n)=>{const{__scopePopover:s,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:v,onInteractOutside:p,...x}=t,w=Qs(uo,s),j=_i(s);return Qc(),e.jsx(Di,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(wa,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:p,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:v,onDismiss:()=>w.onOpenChange(!1),children:e.jsx(zc,{"data-state":$j(w.open),role:"dialog",id:w.contentId,...j,...x,ref:n,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ij="PopoverClose",vD=d.forwardRef((t,n)=>{const{__scopePopover:s,...o}=t,i=Qs(Ij,s);return e.jsx(Le.button,{type:"button",...o,ref:n,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});vD.displayName=Ij;var yD="PopoverArrow",jD=d.forwardRef((t,n)=>{const{__scopePopover:s,...o}=t,i=_i(s);return e.jsx(Vc,{...i,...o,ref:n})});jD.displayName=yD;function $j(t){return t?"open":"closed"}var wD=Rj,bD=_j,ND=Aj,Lj=Oj;const CD=wD,SD=bD,zj=d.forwardRef(({className:t,align:n="center",sideOffset:s=4,...o},i)=>e.jsx(ND,{children:e.jsx(Lj,{ref:i,align:n,sideOffset:s,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})}));zj.displayName=Lj.displayName;var ED=d.createContext(void 0);function wo(t){const n=d.useContext(ED);return t||n||"ltr"}function eh(t,[n,s]){return Math.min(s,Math.max(n,t))}function TD(t,n){return d.useReducer((s,o)=>n[s][o]??s,t)}var zh="ScrollArea",[Vj]=cn(zh),[PD,mr]=Vj(zh),Bj=d.forwardRef((t,n)=>{const{__scopeScrollArea:s,type:o="hover",dir:i,scrollHideDelay:c=600,...u}=t,[h,f]=d.useState(null),[v,p]=d.useState(null),[x,w]=d.useState(null),[j,T]=d.useState(null),[b,N]=d.useState(null),[P,C]=d.useState(0),[S,_]=d.useState(0),[D,U]=d.useState(!1),[F,Q]=d.useState(!1),ee=Ke(n,W=>f(W)),te=wo(i);return e.jsx(PD,{scope:s,type:o,dir:te,scrollHideDelay:c,scrollArea:h,viewport:v,onViewportChange:p,content:x,onContentChange:w,scrollbarX:j,onScrollbarXChange:T,scrollbarXEnabled:D,onScrollbarXEnabledChange:U,scrollbarY:b,onScrollbarYChange:N,scrollbarYEnabled:F,onScrollbarYEnabledChange:Q,onCornerWidthChange:C,onCornerHeightChange:_,children:e.jsx(Le.div,{dir:te,...u,ref:ee,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});Bj.displayName=zh;var Uj="ScrollAreaViewport",Hj=d.forwardRef((t,n)=>{const{__scopeScrollArea:s,children:o,nonce:i,...c}=t,u=mr(Uj,s),h=d.useRef(null),f=Ke(n,h,u.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...c,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});Hj.displayName=Uj;var Yr="ScrollAreaScrollbar",Vh=d.forwardRef((t,n)=>{const{forceMount:s,...o}=t,i=mr(Yr,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=i,h=t.orientation==="horizontal";return d.useEffect(()=>(h?c(!0):u(!0),()=>{h?c(!1):u(!1)}),[h,c,u]),i.type==="hover"?e.jsx(kD,{...o,ref:n,forceMount:s}):i.type==="scroll"?e.jsx(RD,{...o,ref:n,forceMount:s}):i.type==="auto"?e.jsx(Wj,{...o,ref:n,forceMount:s}):i.type==="always"?e.jsx(Bh,{...o,ref:n}):null});Vh.displayName=Yr;var kD=d.forwardRef((t,n)=>{const{forceMount:s,...o}=t,i=mr(Yr,t.__scopeScrollArea),[c,u]=d.useState(!1);return d.useEffect(()=>{const h=i.scrollArea;let f=0;if(h){const v=()=>{window.clearTimeout(f),u(!0)},p=()=>{f=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return h.addEventListener("pointerenter",v),h.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),h.removeEventListener("pointerenter",v),h.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(en,{present:s||c,children:e.jsx(Wj,{"data-state":c?"visible":"hidden",...o,ref:n})})}),RD=d.forwardRef((t,n)=>{const{forceMount:s,...o}=t,i=mr(Yr,t.__scopeScrollArea),c=t.orientation==="horizontal",u=td(()=>f("SCROLL_END"),100),[h,f]=TD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(h==="idle"){const v=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(v)}},[h,i.scrollHideDelay,f]),d.useEffect(()=>{const v=i.viewport,p=c?"scrollLeft":"scrollTop";if(v){let x=v[p];const w=()=>{const j=v[p];x!==j&&(f("SCROLL"),u()),x=j};return v.addEventListener("scroll",w),()=>v.removeEventListener("scroll",w)}},[i.viewport,c,f,u]),e.jsx(en,{present:s||h!=="hidden",children:e.jsx(Bh,{"data-state":h==="hidden"?"hidden":"visible",...o,ref:n,onPointerEnter:we(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:we(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),Wj=d.forwardRef((t,n)=>{const s=mr(Yr,t.__scopeScrollArea),{forceMount:o,...i}=t,[c,u]=d.useState(!1),h=t.orientation==="horizontal",f=td(()=>{if(s.viewport){const v=s.viewport.offsetWidth<s.viewport.scrollWidth,p=s.viewport.offsetHeight<s.viewport.scrollHeight;u(h?v:p)}},10);return mo(s.viewport,f),mo(s.content,f),e.jsx(en,{present:o||c,children:e.jsx(Bh,{"data-state":c?"visible":"hidden",...i,ref:n})})}),Bh=d.forwardRef((t,n)=>{const{orientation:s="vertical",...o}=t,i=mr(Yr,t.__scopeScrollArea),c=d.useRef(null),u=d.useRef(0),[h,f]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=Qj(h.viewport,h.content),p={...o,sizes:h,onSizesChange:f,hasThumb:v>0&&v<1,onThumbChange:w=>c.current=w,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:w=>u.current=w};function x(w,j){return FD(w,u.current,h,j)}return s==="horizontal"?e.jsx(DD,{...p,ref:n,onThumbPositionChange:()=>{if(i.viewport&&c.current){const w=i.viewport.scrollLeft,j=ov(w,h,i.dir);c.current.style.transform=`translate3d(${j}px, 0, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollLeft=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollLeft=x(w,i.dir))}}):s==="vertical"?e.jsx(MD,{...p,ref:n,onThumbPositionChange:()=>{if(i.viewport&&c.current){const w=i.viewport.scrollTop,j=ov(w,h);c.current.style.transform=`translate3d(0, ${j}px, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollTop=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollTop=x(w))}}):null}),DD=d.forwardRef((t,n)=>{const{sizes:s,onSizesChange:o,...i}=t,c=mr(Yr,t.__scopeScrollArea),[u,h]=d.useState(),f=d.useRef(null),v=Ke(n,f,c.onScrollbarXChange);return d.useEffect(()=>{f.current&&h(getComputedStyle(f.current))},[f]),e.jsx(Gj,{"data-orientation":"horizontal",...i,ref:v,sizes:s,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ed(s)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,x)=>{if(c.viewport){const w=c.viewport.scrollLeft+p.deltaX;t.onWheelScroll(w),Xj(w,x)&&p.preventDefault()}},onResize:()=>{f.current&&c.viewport&&u&&o({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:vc(u.paddingLeft),paddingEnd:vc(u.paddingRight)}})}})}),MD=d.forwardRef((t,n)=>{const{sizes:s,onSizesChange:o,...i}=t,c=mr(Yr,t.__scopeScrollArea),[u,h]=d.useState(),f=d.useRef(null),v=Ke(n,f,c.onScrollbarYChange);return d.useEffect(()=>{f.current&&h(getComputedStyle(f.current))},[f]),e.jsx(Gj,{"data-orientation":"vertical",...i,ref:v,sizes:s,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ed(s)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,x)=>{if(c.viewport){const w=c.viewport.scrollTop+p.deltaY;t.onWheelScroll(w),Xj(w,x)&&p.preventDefault()}},onResize:()=>{f.current&&c.viewport&&u&&o({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:vc(u.paddingTop),paddingEnd:vc(u.paddingBottom)}})}})}),[_D,qj]=Vj(Yr),Gj=d.forwardRef((t,n)=>{const{__scopeScrollArea:s,sizes:o,hasThumb:i,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:h,onThumbPositionChange:f,onDragScroll:v,onWheelScroll:p,onResize:x,...w}=t,j=mr(Yr,s),[T,b]=d.useState(null),N=Ke(n,ee=>b(ee)),P=d.useRef(null),C=d.useRef(""),S=j.viewport,_=o.content-o.viewport,D=Gt(p),U=Gt(f),F=td(x,10);function Q(ee){if(P.current){const te=ee.clientX-P.current.left,W=ee.clientY-P.current.top;v({x:te,y:W})}}return d.useEffect(()=>{const ee=te=>{const W=te.target;T?.contains(W)&&D(te,_)};return document.addEventListener("wheel",ee,{passive:!1}),()=>document.removeEventListener("wheel",ee,{passive:!1})},[S,T,_,D]),d.useEffect(U,[o,U]),mo(T,F),mo(j.content,F),e.jsx(_D,{scope:s,scrollbar:T,hasThumb:i,onThumbChange:Gt(c),onThumbPointerUp:Gt(u),onThumbPositionChange:U,onThumbPointerDown:Gt(h),children:e.jsx(Le.div,{...w,ref:N,style:{position:"absolute",...w.style},onPointerDown:we(t.onPointerDown,ee=>{ee.button===0&&(ee.target.setPointerCapture(ee.pointerId),P.current=T.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),Q(ee))}),onPointerMove:we(t.onPointerMove,Q),onPointerUp:we(t.onPointerUp,ee=>{const te=ee.target;te.hasPointerCapture(ee.pointerId)&&te.releasePointerCapture(ee.pointerId),document.body.style.webkitUserSelect=C.current,j.viewport&&(j.viewport.style.scrollBehavior=""),P.current=null})})})}),gc="ScrollAreaThumb",Yj=d.forwardRef((t,n)=>{const{forceMount:s,...o}=t,i=qj(gc,t.__scopeScrollArea);return e.jsx(en,{present:s||i.hasThumb,children:e.jsx(AD,{ref:n,...o})})}),AD=d.forwardRef((t,n)=>{const{__scopeScrollArea:s,style:o,...i}=t,c=mr(gc,s),u=qj(gc,s),{onThumbPositionChange:h}=u,f=Ke(n,x=>u.onThumbChange(x)),v=d.useRef(void 0),p=td(()=>{v.current&&(v.current(),v.current=void 0)},100);return d.useEffect(()=>{const x=c.viewport;if(x){const w=()=>{if(p(),!v.current){const j=ID(x,h);v.current=j,h()}};return h(),x.addEventListener("scroll",w),()=>x.removeEventListener("scroll",w)}},[c.viewport,p,h]),e.jsx(Le.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:we(t.onPointerDownCapture,x=>{const j=x.target.getBoundingClientRect(),T=x.clientX-j.left,b=x.clientY-j.top;u.onThumbPointerDown({x:T,y:b})}),onPointerUp:we(t.onPointerUp,u.onThumbPointerUp)})});Yj.displayName=gc;var Uh="ScrollAreaCorner",Kj=d.forwardRef((t,n)=>{const s=mr(Uh,t.__scopeScrollArea),o=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&o?e.jsx(OD,{...t,ref:n}):null});Kj.displayName=Uh;var OD=d.forwardRef((t,n)=>{const{__scopeScrollArea:s,...o}=t,i=mr(Uh,s),[c,u]=d.useState(0),[h,f]=d.useState(0),v=!!(c&&h);return mo(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),f(p)}),mo(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),u(p)}),v?e.jsx(Le.div,{...o,ref:n,style:{width:c,height:h,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vc(t){return t?parseInt(t,10):0}function Qj(t,n){const s=t/n;return isNaN(s)?0:s}function ed(t){const n=Qj(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-s)*n;return Math.max(o,18)}function FD(t,n,s,o="ltr"){const i=ed(s),c=i/2,u=n||c,h=i-u,f=s.scrollbar.paddingStart+u,v=s.scrollbar.size-s.scrollbar.paddingEnd-h,p=s.content-s.viewport,x=o==="ltr"?[0,p]:[p*-1,0];return Jj([f,v],x)(t)}function ov(t,n,s="ltr"){const o=ed(n),i=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,c=n.scrollbar.size-i,u=n.content-n.viewport,h=c-o,f=s==="ltr"?[0,u]:[u*-1,0],v=eh(t,f);return Jj([0,u],[0,h])(v)}function Jj(t,n){return s=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(t[1]-t[0]);return n[0]+o*(s-t[0])}}function Xj(t,n){return t>0&&t<n}var ID=(t,n=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},o=0;return(function i(){const c={left:t.scrollLeft,top:t.scrollTop},u=s.left!==c.left,h=s.top!==c.top;(u||h)&&n(),s=c,o=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(o)};function td(t,n){const s=Gt(t),o=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(o.current),[]),d.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(s,n)},[s,n])}function mo(t,n){const s=Gt(n);ln(()=>{let o=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(s)});return i.observe(t),()=>{window.cancelAnimationFrame(o),i.unobserve(t)}}},[t,s])}var Zj=Bj,$D=Hj,LD=Kj;const e0=d.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(Zj,{ref:o,className:Pe("relative overflow-hidden",t),...s,children:[e.jsx($D,{className:"h-full w-full rounded-[inherit]",children:n}),e.jsx(t0,{}),e.jsx(LD,{})]}));e0.displayName=Zj.displayName;const t0=d.forwardRef(({className:t,orientation:n="vertical",...s},o)=>e.jsx(Vh,{ref:o,orientation:n,className:Pe("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(Yj,{className:"relative flex-1 rounded-full bg-border"})}));t0.displayName=Vh.displayName;function zD(){const[t,n]=d.useState([]),[s,o]=d.useState(0),[i,c]=d.useState(!1),u=Rr();d.useEffect(()=>{h();const w=setInterval(h,6e4);return()=>clearInterval(w)},[]);const h=async()=>{try{const w=await xe.getNotificacoes();n(w||[]),o(w?.filter(j=>!j.lida).length||0)}catch(w){console.error("Erro ao buscar notificaes:",w)}},f=async w=>{try{await xe.markNotificacaoRead(w),n(j=>j.map(T=>T.id===w?{...T,lida:!0}:T)),o(j=>Math.max(0,j-1))}catch(j){console.error("Erro ao marcar como lida:",j)}},v=async()=>{try{await xe.markAllNotificacoesRead(),n(w=>w.map(j=>({...j,lida:!0}))),o(0)}catch(w){console.error("Erro ao marcar todas como lidas:",w)}},p=async w=>{w.lida||f(w.id),w.acao_url&&(c(!1),u(w.acao_url))},x=w=>{switch(w){case"erro":return e.jsx(Xa,{className:"h-4 w-4 text-red-500"});case"alerta":return e.jsx(Dc,{className:"h-4 w-4 text-yellow-500"});case"sucesso":return e.jsx(jh,{className:"h-4 w-4 text-green-500"});default:return e.jsx(_m,{className:"h-4 w-4 text-blue-500"})}};return e.jsxs(CD,{open:i,onOpenChange:c,children:[e.jsx(SD,{asChild:!0,children:e.jsxs(H,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Rm,{className:"h-5 w-5"}),s>0&&e.jsx("span",{className:"absolute top-1 right-1 h-3 w-3 rounded-full bg-red-600 border-2 border-background"})]})}),e.jsxs(zj,{className:"w-80 p-0",align:"end",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h4",{className:"font-semibold",children:"Notificaes"}),s>0&&e.jsx(H,{variant:"ghost",size:"sm",className:"text-xs h-8 text-muted-foreground",onClick:v,children:"Marcar lidas"})]}),e.jsx(e0,{className:"h-[300px]",children:t.length>0?e.jsx("div",{className:"flex flex-col",children:t.map(w=>e.jsxs("button",{className:`flex items-start gap-3 p-4 text-left hover:bg-muted/50 transition-colors border-b last:border-0 ${w.lida?"":"bg-muted/20"}`,onClick:()=>p(w),children:[e.jsx("div",{className:"mt-1",children:x(w.tipo)}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:`text-sm font-medium leading-none ${w.lida?"":"text-primary"}`,children:w.titulo}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:w.mensagem}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:new Date(w.data_criacao).toLocaleString("pt-BR")})]}),!w.lida&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600 mt-2"})]},w.id))}):e.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[e.jsx(Rm,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]})})]})]})}const VD=()=>{const{cashIsOpen:t}=Dr(),{user:n,logout:s,hasPermission:o,isAdmin:i}=zn(),{toast:c}=St(),u=Rr(),h=[{to:"/",icon:Cr,label:"Operacional",perm:"openCloseCash"},{to:"/mensalistas",icon:gg,label:"Mensalistas",perm:"manageMonthlyCustomers"},{to:"/convenios",icon:fa,label:"Convnios",perm:"manageMonthlyCustomers"},{to:"/financeiro",icon:Za,label:"Financeiro",perm:"viewReports"},{to:"/relatorios-mensais",icon:Sn,label:"Relatrios Mensais",perm:"viewReports"},{to:"/users",icon:gg,label:"Usurios",perm:"manageUsers"},{to:"/tarifas",icon:hy,label:"Gerenciar Tarifas",perm:"manageRates"},{to:"/horarios-feriados",icon:fn,label:"Horrios e Feriados",perm:"manageCompanyConfig"},{to:"/configuracoes-dashboard",icon:v2,label:"Dashboard Analytics",perm:"viewReports"},{to:"/configuracoes",icon:Nh,label:"Configuraes",perm:"manageCompanyConfig"}].filter(f=>o(f.perm));return i&&(h.push({to:"/integracoes",icon:T2,label:"Integraes",perm:""}),h.push({to:"/modelos-recibos",icon:b2,label:"Modelos de Recibos",perm:""})),e.jsxs("aside",{className:"w-64 bg-sidebar-background text-sidebar-foreground flex flex-col border-r border-sidebar-border",children:[e.jsxs("div",{className:"p-6 border-b border-sidebar-border flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-sidebar-primary",children:"ProParking"}),e.jsx("p",{className:"text-sm text-sidebar-foreground/70 mt-1",children:"Gesto 2025"})]}),e.jsx(zD,{})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:h.map(f=>{const v=f.to==="/financeiro",p=f.to==="/relatorios-mensais",x=!t&&!v&&!p;return e.jsxs(cR,{to:f.to,end:f.to==="/",className:({isActive:w})=>Pe("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",x?"opacity-50 pointer-events-none":"",w?"bg-sidebar-primary text-sidebar-primary-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[e.jsx(f.icon,{className:"h-5 w-5"}),e.jsx("span",{children:f.label})]},f.to)})}),e.jsx("div",{className:"p-4 border-t border-sidebar-border",children:e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:n?.name||""}),e.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:n?.role||""})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{s(),c({title:"Sesso encerrada"}),u("/login")},children:"Sair"})]}),e.jsx("p",{className:"text-xs text-sidebar-foreground/60 text-center w-full",children:" 2024 Estacionamento"})]})})]})};var nd="Dialog",[n0,r0]=cn(nd),[BD,Mr]=n0(nd),s0=t=>{const{__scopeDialog:n,children:s,open:o,defaultOpen:i,onOpenChange:c,modal:u=!0}=t,h=d.useRef(null),f=d.useRef(null),[v,p]=ur({prop:o,defaultProp:i??!1,onChange:c,caller:nd});return e.jsx(BD,{scope:n,triggerRef:h,contentRef:f,contentId:cr(),titleId:cr(),descriptionId:cr(),open:v,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(x=>!x),[p]),modal:u,children:s})};s0.displayName=nd;var a0="DialogTrigger",o0=d.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=Mr(a0,s),c=Ke(n,i.triggerRef);return e.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qh(i.open),...o,ref:c,onClick:we(t.onClick,i.onOpenToggle)})});o0.displayName=a0;var Hh="DialogPortal",[UD,i0]=n0(Hh,{forceMount:void 0}),l0=t=>{const{__scopeDialog:n,forceMount:s,children:o,container:i}=t,c=Mr(Hh,n);return e.jsx(UD,{scope:n,forceMount:s,children:d.Children.map(o,u=>e.jsx(en,{present:s||c.open,children:e.jsx(fo,{asChild:!0,container:i,children:u})}))})};l0.displayName=Hh;var yc="DialogOverlay",c0=d.forwardRef((t,n)=>{const s=i0(yc,t.__scopeDialog),{forceMount:o=s.forceMount,...i}=t,c=Mr(yc,t.__scopeDialog);return c.modal?e.jsx(en,{present:o||c.open,children:e.jsx(WD,{...i,ref:n})}):null});c0.displayName=yc;var HD=Us("DialogOverlay.RemoveScroll"),WD=d.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=Mr(yc,s);return e.jsx(Mi,{as:HD,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Le.div,{"data-state":qh(i.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),xa="DialogContent",d0=d.forwardRef((t,n)=>{const s=i0(xa,t.__scopeDialog),{forceMount:o=s.forceMount,...i}=t,c=Mr(xa,t.__scopeDialog);return e.jsx(en,{present:o||c.open,children:c.modal?e.jsx(qD,{...i,ref:n}):e.jsx(GD,{...i,ref:n})})});d0.displayName=xa;var qD=d.forwardRef((t,n)=>{const s=Mr(xa,t.__scopeDialog),o=d.useRef(null),i=Ke(n,s.contentRef,o);return d.useEffect(()=>{const c=o.current;if(c)return Jc(c)},[]),e.jsx(u0,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&c.preventDefault()}),onFocusOutside:we(t.onFocusOutside,c=>c.preventDefault())})}),GD=d.forwardRef((t,n)=>{const s=Mr(xa,t.__scopeDialog),o=d.useRef(!1),i=d.useRef(!1);return e.jsx(u0,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{t.onCloseAutoFocus?.(c),c.defaultPrevented||(o.current||s.triggerRef.current?.focus(),c.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:c=>{t.onInteractOutside?.(c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),u0=d.forwardRef((t,n)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,...u}=t,h=Mr(xa,s),f=d.useRef(null),v=Ke(n,f);return Qc(),e.jsxs(e.Fragment,{children:[e.jsx(Di,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(wa,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":qh(h.open),...u,ref:v,onDismiss:()=>h.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(KD,{titleId:h.titleId}),e.jsx(JD,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Wh="DialogTitle",m0=d.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=Mr(Wh,s);return e.jsx(Le.h2,{id:i.titleId,...o,ref:n})});m0.displayName=Wh;var h0="DialogDescription",f0=d.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=Mr(h0,s);return e.jsx(Le.p,{id:i.descriptionId,...o,ref:n})});f0.displayName=h0;var p0="DialogClose",x0=d.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=Mr(p0,s);return e.jsx(Le.button,{type:"button",...o,ref:n,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});x0.displayName=p0;function qh(t){return t?"open":"closed"}var g0="DialogTitleWarning",[YD,v0]=CS(g0,{contentName:xa,titleName:Wh,docsSlug:"dialog"}),KD=({titleId:t})=>{const n=v0(g0),s=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},QD="DialogDescriptionWarning",JD=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v0(QD).contentName}}.`;return d.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},y0=s0,XD=o0,j0=l0,Gh=c0,Yh=d0,Kh=m0,Qh=f0,Jh=x0;const Nt=y0,ZD=j0,w0=d.forwardRef(({className:t,...n},s)=>e.jsx(Gh,{ref:s,className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));w0.displayName=Gh.displayName;const wt=d.forwardRef(({className:t,children:n,hideClose:s,"aria-describedby":o,...i},c)=>e.jsxs(ZD,{children:[e.jsx(w0,{}),e.jsxs(Yh,{ref:c,"aria-describedby":o??void 0,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[n,!s&&e.jsxs(Jh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(_c,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wt.displayName=Yh.displayName;const ft=({className:t,...n})=>e.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});ft.displayName="DialogHeader";const zt=({className:t,...n})=>e.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});zt.displayName="DialogFooter";const pt=d.forwardRef(({className:t,...n},s)=>e.jsx(Kh,{ref:s,className:Pe("text-lg font-semibold leading-none tracking-tight",t),...n}));pt.displayName=Kh.displayName;const $n=d.forwardRef(({className:t,...n},s)=>e.jsx(Qh,{ref:s,className:Pe("text-sm text-muted-foreground",t),...n}));$n.displayName=Qh.displayName;const re=d.forwardRef(({className:t,type:n,...s},o)=>e.jsx("input",{type:n,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...s}));re.displayName="Input";var eM="Label",b0=d.forwardRef((t,n)=>e.jsx(Le.label,{...t,ref:n,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));b0.displayName=eM;var N0=b0;const tM=Ti("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=d.forwardRef(({className:t,...n},s)=>e.jsx(N0,{ref:s,className:Pe(tM(),t),...n}));B.displayName=N0.displayName;function rd(t){const n=d.useRef({value:t,previous:t});return d.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var nM=[" ","Enter","ArrowUp","ArrowDown"],rM=[" ","Enter"],ga="Select",[sd,ad,sM]=Ec(ga),[bo]=cn(ga,[sM,Ys]),od=Ys(),[aM,Js]=bo(ga),[oM,iM]=bo(ga),C0=t=>{const{__scopeSelect:n,children:s,open:o,defaultOpen:i,onOpenChange:c,value:u,defaultValue:h,onValueChange:f,dir:v,name:p,autoComplete:x,disabled:w,required:j,form:T}=t,b=od(n),[N,P]=d.useState(null),[C,S]=d.useState(null),[_,D]=d.useState(!1),U=wo(v),[F,Q]=ur({prop:o,defaultProp:i??!1,onChange:c,caller:ga}),[ee,te]=ur({prop:u,defaultProp:h,onChange:f,caller:ga}),W=d.useRef(null),V=N?T||!!N.closest("form"):!0,[I,J]=d.useState(new Set),he=Array.from(I).map(ie=>ie.props.value).join(";");return e.jsx(Lc,{...b,children:e.jsxs(aM,{required:j,scope:n,trigger:N,onTriggerChange:P,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:D,contentId:cr(),value:ee,onValueChange:te,open:F,onOpenChange:Q,dir:U,triggerPointerDownPosRef:W,disabled:w,children:[e.jsx(sd.Provider,{scope:n,children:e.jsx(oM,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(ie=>{J(ue=>new Set(ue).add(ie))},[]),onNativeOptionRemove:d.useCallback(ie=>{J(ue=>{const L=new Set(ue);return L.delete(ie),L})},[]),children:s})}),V?e.jsxs(Y0,{"aria-hidden":!0,required:j,tabIndex:-1,name:p,autoComplete:x,value:ee,onChange:ie=>te(ie.target.value),disabled:w,form:T,children:[ee===void 0?e.jsx("option",{value:""}):null,Array.from(I)]},he):null]})})};C0.displayName=ga;var S0="SelectTrigger",E0=d.forwardRef((t,n)=>{const{__scopeSelect:s,disabled:o=!1,...i}=t,c=od(s),u=Js(S0,s),h=u.disabled||o,f=Ke(n,u.onTriggerChange),v=ad(s),p=d.useRef("touch"),[x,w,j]=Q0(b=>{const N=v().filter(S=>!S.disabled),P=N.find(S=>S.value===u.value),C=J0(N,b,P);C!==void 0&&u.onValueChange(C.value)}),T=b=>{h||(u.onOpenChange(!0),j()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return e.jsx(Ri,{asChild:!0,...c,children:e.jsx(Le.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":K0(u.value)?"":void 0,...i,ref:f,onClick:we(i.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&T(b)}),onPointerDown:we(i.onPointerDown,b=>{p.current=b.pointerType;const N=b.target;N.hasPointerCapture(b.pointerId)&&N.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(T(b),b.preventDefault())}),onKeyDown:we(i.onKeyDown,b=>{const N=x.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(N&&b.key===" ")&&nM.includes(b.key)&&(T(),b.preventDefault())})})})});E0.displayName=S0;var T0="SelectValue",P0=d.forwardRef((t,n)=>{const{__scopeSelect:s,className:o,style:i,children:c,placeholder:u="",...h}=t,f=Js(T0,s),{onValueNodeHasChildrenChange:v}=f,p=c!==void 0,x=Ke(n,f.onValueNodeChange);return ln(()=>{v(p)},[v,p]),e.jsx(Le.span,{...h,ref:x,style:{pointerEvents:"none"},children:K0(f.value)?e.jsx(e.Fragment,{children:u}):c})});P0.displayName=T0;var lM="SelectIcon",k0=d.forwardRef((t,n)=>{const{__scopeSelect:s,children:o,...i}=t;return e.jsx(Le.span,{"aria-hidden":!0,...i,ref:n,children:o||""})});k0.displayName=lM;var cM="SelectPortal",R0=t=>e.jsx(fo,{asChild:!0,...t});R0.displayName=cM;var va="SelectContent",D0=d.forwardRef((t,n)=>{const s=Js(va,t.__scopeSelect),[o,i]=d.useState();if(ln(()=>{i(new DocumentFragment)},[]),!s.open){const c=o;return c?ho.createPortal(e.jsx(M0,{scope:t.__scopeSelect,children:e.jsx(sd.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(_0,{...t,ref:n})});D0.displayName=va;var br=10,[M0,Xs]=bo(va),dM="SelectContentImpl",uM=Us("SelectContent.RemoveScroll"),_0=d.forwardRef((t,n)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:u,side:h,sideOffset:f,align:v,alignOffset:p,arrowPadding:x,collisionBoundary:w,collisionPadding:j,sticky:T,hideWhenDetached:b,avoidCollisions:N,...P}=t,C=Js(va,s),[S,_]=d.useState(null),[D,U]=d.useState(null),F=Ke(n,Z=>_(Z)),[Q,ee]=d.useState(null),[te,W]=d.useState(null),V=ad(s),[I,J]=d.useState(!1),he=d.useRef(!1);d.useEffect(()=>{if(S)return Jc(S)},[S]),Qc();const ie=d.useCallback(Z=>{const[fe,...Ee]=V().map(A=>A.ref.current),[ke]=Ee.slice(-1),ze=document.activeElement;for(const A of Z)if(A===ze||(A?.scrollIntoView({block:"nearest"}),A===fe&&D&&(D.scrollTop=0),A===ke&&D&&(D.scrollTop=D.scrollHeight),A?.focus(),document.activeElement!==ze))return},[V,D]),ue=d.useCallback(()=>ie([Q,S]),[ie,Q,S]);d.useEffect(()=>{I&&ue()},[I,ue]);const{onOpenChange:L,triggerPointerDownPosRef:R}=C;d.useEffect(()=>{if(S){let Z={x:0,y:0};const fe=ke=>{Z={x:Math.abs(Math.round(ke.pageX)-(R.current?.x??0)),y:Math.abs(Math.round(ke.pageY)-(R.current?.y??0))}},Ee=ke=>{Z.x<=10&&Z.y<=10?ke.preventDefault():S.contains(ke.target)||L(!1),document.removeEventListener("pointermove",fe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[S,L,R]),d.useEffect(()=>{const Z=()=>L(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[L]);const[M,E]=Q0(Z=>{const fe=V().filter(ze=>!ze.disabled),Ee=fe.find(ze=>ze.ref.current===document.activeElement),ke=J0(fe,Z,Ee);ke&&setTimeout(()=>ke.ref.current.focus())}),O=d.useCallback((Z,fe,Ee)=>{const ke=!he.current&&!Ee;(C.value!==void 0&&C.value===fe||ke)&&(ee(Z),ke&&(he.current=!0))},[C.value]),$=d.useCallback(()=>S?.focus(),[S]),K=d.useCallback((Z,fe,Ee)=>{const ke=!he.current&&!Ee;(C.value!==void 0&&C.value===fe||ke)&&W(Z)},[C.value]),ce=o==="popper"?th:A0,je=ce===th?{side:h,sideOffset:f,align:v,alignOffset:p,arrowPadding:x,collisionBoundary:w,collisionPadding:j,sticky:T,hideWhenDetached:b,avoidCollisions:N}:{};return e.jsx(M0,{scope:s,content:S,viewport:D,onViewportChange:U,itemRefCallback:O,selectedItem:Q,onItemLeave:$,itemTextRefCallback:K,focusSelectedItem:ue,selectedItemText:te,position:o,isPositioned:I,searchRef:M,children:e.jsx(Mi,{as:uM,allowPinchZoom:!0,children:e.jsx(Di,{asChild:!0,trapped:C.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:we(i,Z=>{C.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:e.jsx(wa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Z=>Z.preventDefault(),...P,...je,onPlaced:()=>J(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:we(P.onKeyDown,Z=>{const fe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!fe&&Z.key.length===1&&E(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ke=V().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ze=Z.target,A=ke.indexOf(ze);ke=ke.slice(A+1)}setTimeout(()=>ie(ke)),Z.preventDefault()}})})})})})})});_0.displayName=dM;var mM="SelectItemAlignedPosition",A0=d.forwardRef((t,n)=>{const{__scopeSelect:s,onPlaced:o,...i}=t,c=Js(va,s),u=Xs(va,s),[h,f]=d.useState(null),[v,p]=d.useState(null),x=Ke(n,F=>p(F)),w=ad(s),j=d.useRef(!1),T=d.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:P,focusSelectedItem:C}=u,S=d.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&v&&b&&N&&P){const F=c.trigger.getBoundingClientRect(),Q=v.getBoundingClientRect(),ee=c.valueNode.getBoundingClientRect(),te=P.getBoundingClientRect();if(c.dir!=="rtl"){const ze=te.left-Q.left,A=ee.left-ze,Ce=F.left-A,de=F.width+Ce,Ze=Math.max(de,Q.width),se=window.innerWidth-br,Me=eh(A,[br,Math.max(br,se-Ze)]);h.style.minWidth=de+"px",h.style.left=Me+"px"}else{const ze=Q.right-te.right,A=window.innerWidth-ee.right-ze,Ce=window.innerWidth-F.right-A,de=F.width+Ce,Ze=Math.max(de,Q.width),se=window.innerWidth-br,Me=eh(A,[br,Math.max(br,se-Ze)]);h.style.minWidth=de+"px",h.style.right=Me+"px"}const W=w(),V=window.innerHeight-br*2,I=b.scrollHeight,J=window.getComputedStyle(v),he=parseInt(J.borderTopWidth,10),ie=parseInt(J.paddingTop,10),ue=parseInt(J.borderBottomWidth,10),L=parseInt(J.paddingBottom,10),R=he+ie+I+L+ue,M=Math.min(N.offsetHeight*5,R),E=window.getComputedStyle(b),O=parseInt(E.paddingTop,10),$=parseInt(E.paddingBottom,10),K=F.top+F.height/2-br,ce=V-K,je=N.offsetHeight/2,Z=N.offsetTop+je,fe=he+ie+Z,Ee=R-fe;if(fe<=K){const ze=W.length>0&&N===W[W.length-1].ref.current;h.style.bottom="0px";const A=v.clientHeight-b.offsetTop-b.offsetHeight,Ce=Math.max(ce,je+(ze?$:0)+A+ue),de=fe+Ce;h.style.height=de+"px"}else{const ze=W.length>0&&N===W[0].ref.current;h.style.top="0px";const Ce=Math.max(K,he+b.offsetTop+(ze?O:0)+je)+Ee;h.style.height=Ce+"px",b.scrollTop=fe-K+b.offsetTop}h.style.margin=`${br}px 0`,h.style.minHeight=M+"px",h.style.maxHeight=V+"px",o?.(),requestAnimationFrame(()=>j.current=!0)}},[w,c.trigger,c.valueNode,h,v,b,N,P,c.dir,o]);ln(()=>S(),[S]);const[_,D]=d.useState();ln(()=>{v&&D(window.getComputedStyle(v).zIndex)},[v]);const U=d.useCallback(F=>{F&&T.current===!0&&(S(),C?.(),T.current=!1)},[S,C]);return e.jsx(fM,{scope:s,contentWrapper:h,shouldExpandOnScrollRef:j,onScrollButtonChange:U,children:e.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx(Le.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});A0.displayName=mM;var hM="SelectPopperPosition",th=d.forwardRef((t,n)=>{const{__scopeSelect:s,align:o="start",collisionPadding:i=br,...c}=t,u=od(s);return e.jsx(zc,{...u,...c,ref:n,align:o,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});th.displayName=hM;var[fM,Xh]=bo(va,{}),nh="SelectViewport",O0=d.forwardRef((t,n)=>{const{__scopeSelect:s,nonce:o,...i}=t,c=Xs(nh,s),u=Xh(nh,s),h=Ke(n,c.onViewportChange),f=d.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(sd.Slot,{scope:s,children:e.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:we(i.onScroll,v=>{const p=v.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w?.current&&x){const j=Math.abs(f.current-p.scrollTop);if(j>0){const T=window.innerHeight-br*2,b=parseFloat(x.style.minHeight),N=parseFloat(x.style.height),P=Math.max(b,N);if(P<T){const C=P+j,S=Math.min(T,C),_=C-S;x.style.height=S+"px",x.style.bottom==="0px"&&(p.scrollTop=_>0?_:0,x.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});O0.displayName=nh;var F0="SelectGroup",[pM,xM]=bo(F0),gM=d.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t,i=cr();return e.jsx(pM,{scope:s,id:i,children:e.jsx(Le.div,{role:"group","aria-labelledby":i,...o,ref:n})})});gM.displayName=F0;var I0="SelectLabel",$0=d.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t,i=xM(I0,s);return e.jsx(Le.div,{id:i.id,...o,ref:n})});$0.displayName=I0;var jc="SelectItem",[vM,L0]=bo(jc),z0=d.forwardRef((t,n)=>{const{__scopeSelect:s,value:o,disabled:i=!1,textValue:c,...u}=t,h=Js(jc,s),f=Xs(jc,s),v=h.value===o,[p,x]=d.useState(c??""),[w,j]=d.useState(!1),T=Ke(n,C=>f.itemRefCallback?.(C,o,i)),b=cr(),N=d.useRef("touch"),P=()=>{i||(h.onValueChange(o),h.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(vM,{scope:s,value:o,disabled:i,textId:b,isSelected:v,onItemTextChange:d.useCallback(C=>{x(S=>S||(C?.textContent??"").trim())},[]),children:e.jsx(sd.ItemSlot,{scope:s,value:o,disabled:i,textValue:p,children:e.jsx(Le.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":v&&w,"data-state":v?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:T,onFocus:we(u.onFocus,()=>j(!0)),onBlur:we(u.onBlur,()=>j(!1)),onClick:we(u.onClick,()=>{N.current!=="mouse"&&P()}),onPointerUp:we(u.onPointerUp,()=>{N.current==="mouse"&&P()}),onPointerDown:we(u.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:we(u.onPointerMove,C=>{N.current=C.pointerType,i?f.onItemLeave?.():N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:we(u.onKeyDown,C=>{f.searchRef?.current!==""&&C.key===" "||(rM.includes(C.key)&&P(),C.key===" "&&C.preventDefault())})})})})});z0.displayName=jc;var ui="SelectItemText",V0=d.forwardRef((t,n)=>{const{__scopeSelect:s,className:o,style:i,...c}=t,u=Js(ui,s),h=Xs(ui,s),f=L0(ui,s),v=iM(ui,s),[p,x]=d.useState(null),w=Ke(n,P=>x(P),f.onItemTextChange,P=>h.itemTextRefCallback?.(P,f.value,f.disabled)),j=p?.textContent,T=d.useMemo(()=>e.jsx("option",{value:f.value,disabled:f.disabled,children:j},f.value),[f.disabled,f.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=v;return ln(()=>(b(T),()=>N(T)),[b,N,T]),e.jsxs(e.Fragment,{children:[e.jsx(Le.span,{id:f.textId,...c,ref:w}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?ho.createPortal(c.children,u.valueNode):null]})});V0.displayName=ui;var B0="SelectItemIndicator",U0=d.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t;return L0(B0,s).isSelected?e.jsx(Le.span,{"aria-hidden":!0,...o,ref:n}):null});U0.displayName=B0;var rh="SelectScrollUpButton",H0=d.forwardRef((t,n)=>{const s=Xs(rh,t.__scopeSelect),o=Xh(rh,t.__scopeSelect),[i,c]=d.useState(!1),u=Ke(n,o.onScrollButtonChange);return ln(()=>{if(s.viewport&&s.isPositioned){let h=function(){const v=f.scrollTop>0;c(v)};const f=s.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,s.isPositioned]),i?e.jsx(q0,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=s;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});H0.displayName=rh;var sh="SelectScrollDownButton",W0=d.forwardRef((t,n)=>{const s=Xs(sh,t.__scopeSelect),o=Xh(sh,t.__scopeSelect),[i,c]=d.useState(!1),u=Ke(n,o.onScrollButtonChange);return ln(()=>{if(s.viewport&&s.isPositioned){let h=function(){const v=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<v;c(p)};const f=s.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,s.isPositioned]),i?e.jsx(q0,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=s;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});W0.displayName=sh;var q0=d.forwardRef((t,n)=>{const{__scopeSelect:s,onAutoScroll:o,...i}=t,c=Xs("SelectScrollButton",s),u=d.useRef(null),h=ad(s),f=d.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return d.useEffect(()=>()=>f(),[f]),ln(()=>{h().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),e.jsx(Le.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:we(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:we(i.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:we(i.onPointerLeave,()=>{f()})})}),yM="SelectSeparator",G0=d.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t;return e.jsx(Le.div,{"aria-hidden":!0,...o,ref:n})});G0.displayName=yM;var ah="SelectArrow",jM=d.forwardRef((t,n)=>{const{__scopeSelect:s,...o}=t,i=od(s),c=Js(ah,s),u=Xs(ah,s);return c.open&&u.position==="popper"?e.jsx(Vc,{...i,...o,ref:n}):null});jM.displayName=ah;var wM="SelectBubbleInput",Y0=d.forwardRef(({__scopeSelect:t,value:n,...s},o)=>{const i=d.useRef(null),c=Ke(o,i),u=rd(n);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==n&&p){const x=new Event("change",{bubbles:!0});p.call(h,n),h.dispatchEvent(x)}},[u,n]),e.jsx(Le.select,{...s,style:{...Iv,...s.style},ref:c,defaultValue:n})});Y0.displayName=wM;function K0(t){return t===""||t===void 0}function Q0(t){const n=Gt(t),s=d.useRef(""),o=d.useRef(0),i=d.useCallback(u=>{const h=s.current+u;n(h),(function f(v){s.current=v,window.clearTimeout(o.current),v!==""&&(o.current=window.setTimeout(()=>f(""),1e3))})(h)},[n]),c=d.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,i,c]}function J0(t,n,s){const i=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,c=s?t.indexOf(s):-1;let u=bM(t,Math.max(c,0));i.length===1&&(u=u.filter(v=>v!==s));const f=u.find(v=>v.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==s?f:void 0}function bM(t,n){return t.map((s,o)=>t[(n+o)%t.length])}var NM=C0,X0=E0,CM=P0,SM=k0,EM=R0,Z0=D0,TM=O0,ew=$0,tw=z0,PM=V0,kM=U0,nw=H0,rw=W0,sw=G0;const dt=NM,ut=CM,it=d.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(X0,{ref:o,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[n,e.jsx(SM,{asChild:!0,children:e.jsx(vh,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=X0.displayName;const aw=d.forwardRef(({className:t,...n},s)=>e.jsx(nw,{ref:s,className:Pe("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(y2,{className:"h-4 w-4"})}));aw.displayName=nw.displayName;const ow=d.forwardRef(({className:t,...n},s)=>e.jsx(rw,{ref:s,className:Pe("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(vh,{className:"h-4 w-4"})}));ow.displayName=rw.displayName;const lt=d.forwardRef(({className:t,children:n,position:s="popper",...o},i)=>e.jsx(EM,{children:e.jsxs(Z0,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...o,children:[e.jsx(aw,{}),e.jsx(TM,{className:Pe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(ow,{})]})}));lt.displayName=Z0.displayName;const RM=d.forwardRef(({className:t,...n},s)=>e.jsx(ew,{ref:s,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));RM.displayName=ew.displayName;const pe=d.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(tw,{ref:o,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kM,{children:e.jsx(kc,{className:"h-4 w-4"})})}),e.jsx(PM,{children:n})]}));pe.displayName=tw.displayName;const DM=d.forwardRef(({className:t,...n},s)=>e.jsx(sw,{ref:s,className:Pe("-mx-1 my-1 h-px bg-muted",t),...n}));DM.displayName=sw.displayName;function En(t){const n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new t.constructor(+t):typeof t=="number"||n==="[object Number]"||typeof t=="string"||n==="[object String]"?new Date(t):new Date(NaN)}function cs(t,n){return t instanceof Date?new t.constructor(n):new Date(n)}function iw(t,n){const s=En(t);if(isNaN(n))return cs(t,NaN);if(!n)return s;const o=s.getDate(),i=cs(t,s.getTime());i.setMonth(s.getMonth()+n+1,0);const c=i.getDate();return o>=c?i:(s.setFullYear(i.getFullYear(),i.getMonth(),o),s)}const lw=6048e5,MM=864e5,cw=6e4,dw=36e5;let _M={};function id(){return _M}function Ni(t,n){const s=id(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,i=En(t),c=i.getDay(),u=(c<o?7:0)+c-o;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function wc(t){return Ni(t,{weekStartsOn:1})}function uw(t){const n=En(t),s=n.getFullYear(),o=cs(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const i=wc(o),c=cs(t,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const u=wc(c);return n.getTime()>=i.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function iv(t){const n=En(t);return n.setHours(0,0,0,0),n}function lv(t){const n=En(t),s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),+t-+s}function AM(t,n){const s=iv(t),o=iv(n),i=+s-lv(s),c=+o-lv(o);return Math.round((i-c)/MM)}function OM(t){const n=uw(t),s=cs(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),wc(s)}function FM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function IM(t){if(!FM(t)&&typeof t!="number")return!1;const n=En(t);return!isNaN(Number(n))}function cv(t){const n=En(t);return n.setDate(1),n.setHours(0,0,0,0),n}function $M(t){const n=En(t),s=cs(t,0);return s.setFullYear(n.getFullYear(),0,1),s.setHours(0,0,0,0),s}const LM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zM=(t,n,s)=>{let o;const i=LM[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+o:o+" ago":o};function so(t){return(n={})=>{const s=n.width?String(n.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const VM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HM={date:so({formats:VM,defaultWidth:"full"}),time:so({formats:BM,defaultWidth:"full"}),dateTime:so({formats:UM,defaultWidth:"full"})},WM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qM=(t,n,s,o)=>WM[t];function Br(t){return(n,s)=>{const o=s?.context?String(s.context):"standalone";let i;if(o==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=s?.width?String(s.width):u;i=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=s?.width?String(s.width):t.defaultWidth;i=t.values[h]||t.values[u]}const c=t.argumentCallback?t.argumentCallback(n):n;return i[c]}}const GM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZM=(t,n)=>{const s=Number(t),o=s%100;if(o>20||o<10)switch(o%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},e_={ordinalNumber:ZM,era:Br({values:GM,defaultWidth:"wide"}),quarter:Br({values:YM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Br({values:KM,defaultWidth:"wide"}),day:Br({values:QM,defaultWidth:"wide"}),dayPeriod:Br({values:JM,defaultWidth:"wide",formattingValues:XM,defaultFormattingWidth:"wide"})};function Ur(t){return(n,s={})=>{const o=s.width,i=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],c=n.match(i);if(!c)return null;const u=c[0],h=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(h)?n_(h,x=>x.test(u)):t_(h,x=>x.test(u));let v;v=t.valueCallback?t.valueCallback(f):f,v=s.valueCallback?s.valueCallback(v):v;const p=n.slice(u.length);return{value:v,rest:p}}}function t_(t,n){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n(t[s]))return s}function n_(t,n){for(let s=0;s<t.length;s++)if(n(t[s]))return s}function mw(t){return(n,s={})=>{const o=n.match(t.matchPattern);if(!o)return null;const i=o[0],c=n.match(t.parsePattern);if(!c)return null;let u=t.valueCallback?t.valueCallback(c[0]):c[0];u=s.valueCallback?s.valueCallback(u):u;const h=n.slice(i.length);return{value:u,rest:h}}}const r_=/^(\d+)(th|st|nd|rd)?/i,s_=/\d+/i,a_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},o_={any:[/^b/i,/^(a|c)/i]},i_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l_={any:[/1/i,/2/i,/3/i,/4/i]},c_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},p_={ordinalNumber:mw({matchPattern:r_,parsePattern:s_,valueCallback:t=>parseInt(t,10)}),era:Ur({matchPatterns:a_,defaultMatchWidth:"wide",parsePatterns:o_,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:i_,defaultMatchWidth:"wide",parsePatterns:l_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ur({matchPatterns:c_,defaultMatchWidth:"wide",parsePatterns:d_,defaultParseWidth:"any"}),day:Ur({matchPatterns:u_,defaultMatchWidth:"wide",parsePatterns:m_,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:h_,defaultMatchWidth:"any",parsePatterns:f_,defaultParseWidth:"any"})},x_={code:"en-US",formatDistance:zM,formatLong:HM,formatRelative:qM,localize:e_,match:p_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function g_(t){const n=En(t);return AM(n,$M(n))+1}function v_(t){const n=En(t),s=+wc(n)-+OM(n);return Math.round(s/lw)+1}function hw(t,n){const s=En(t),o=s.getFullYear(),i=id(),c=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=cs(t,0);u.setFullYear(o+1,0,c),u.setHours(0,0,0,0);const h=Ni(u,n),f=cs(t,0);f.setFullYear(o,0,c),f.setHours(0,0,0,0);const v=Ni(f,n);return s.getTime()>=h.getTime()?o+1:s.getTime()>=v.getTime()?o:o-1}function y_(t,n){const s=id(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=hw(t,n),c=cs(t,0);return c.setFullYear(i,0,o),c.setHours(0,0,0,0),Ni(c,n)}function j_(t,n){const s=En(t),o=+Ni(s,n)-+y_(s,n);return Math.round(o/lw)+1}function Tt(t,n){const s=t<0?"-":"",o=Math.abs(t).toString().padStart(n,"0");return s+o}const _s={y(t,n){const s=t.getFullYear(),o=s>0?s:1-s;return Tt(n==="yy"?o%100:o,n.length)},M(t,n){const s=t.getMonth();return n==="M"?String(s+1):Tt(s+1,2)},d(t,n){return Tt(t.getDate(),n.length)},a(t,n){const s=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,n){return Tt(t.getHours()%12||12,n.length)},H(t,n){return Tt(t.getHours(),n.length)},m(t,n){return Tt(t.getMinutes(),n.length)},s(t,n){return Tt(t.getSeconds(),n.length)},S(t,n){const s=n.length,o=t.getMilliseconds(),i=Math.trunc(o*Math.pow(10,s-3));return Tt(i,n.length)}},Qa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dv={G:function(t,n,s){const o=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})}},y:function(t,n,s){if(n==="yo"){const o=t.getFullYear(),i=o>0?o:1-o;return s.ordinalNumber(i,{unit:"year"})}return _s.y(t,n)},Y:function(t,n,s,o){const i=hw(t,o),c=i>0?i:1-i;if(n==="YY"){const u=c%100;return Tt(u,2)}return n==="Yo"?s.ordinalNumber(c,{unit:"year"}):Tt(c,n.length)},R:function(t,n){const s=uw(t);return Tt(s,n.length)},u:function(t,n){const s=t.getFullYear();return Tt(s,n.length)},Q:function(t,n,s){const o=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Tt(o,2);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,s){const o=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Tt(o,2);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,s){const o=t.getMonth();switch(n){case"M":case"MM":return _s.M(t,n);case"Mo":return s.ordinalNumber(o+1,{unit:"month"});case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,s){const o=t.getMonth();switch(n){case"L":return String(o+1);case"LL":return Tt(o+1,2);case"Lo":return s.ordinalNumber(o+1,{unit:"month"});case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,s,o){const i=j_(t,o);return n==="wo"?s.ordinalNumber(i,{unit:"week"}):Tt(i,n.length)},I:function(t,n,s){const o=v_(t);return n==="Io"?s.ordinalNumber(o,{unit:"week"}):Tt(o,n.length)},d:function(t,n,s){return n==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):_s.d(t,n)},D:function(t,n,s){const o=g_(t);return n==="Do"?s.ordinalNumber(o,{unit:"dayOfYear"}):Tt(o,n.length)},E:function(t,n,s){const o=t.getDay();switch(n){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,s,o){const i=t.getDay(),c=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(c);case"ee":return Tt(c,2);case"eo":return s.ordinalNumber(c,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,s,o){const i=t.getDay(),c=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(c);case"cc":return Tt(c,n.length);case"co":return s.ordinalNumber(c,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,s){const o=t.getDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return Tt(i,n.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(o,{width:"short",context:"formatting"});case"iiii":default:return s.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,s){const i=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,s){const o=t.getHours();let i;switch(o===12?i=Qa.noon:o===0?i=Qa.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,s){const o=t.getHours();let i;switch(o>=17?i=Qa.evening:o>=12?i=Qa.afternoon:o>=4?i=Qa.morning:i=Qa.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,s){if(n==="ho"){let o=t.getHours()%12;return o===0&&(o=12),s.ordinalNumber(o,{unit:"hour"})}return _s.h(t,n)},H:function(t,n,s){return n==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):_s.H(t,n)},K:function(t,n,s){const o=t.getHours()%12;return n==="Ko"?s.ordinalNumber(o,{unit:"hour"}):Tt(o,n.length)},k:function(t,n,s){let o=t.getHours();return o===0&&(o=24),n==="ko"?s.ordinalNumber(o,{unit:"hour"}):Tt(o,n.length)},m:function(t,n,s){return n==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):_s.m(t,n)},s:function(t,n,s){return n==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):_s.s(t,n)},S:function(t,n){return _s.S(t,n)},X:function(t,n,s){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return mv(o);case"XXXX":case"XX":return ha(o);case"XXXXX":case"XXX":default:return ha(o,":")}},x:function(t,n,s){const o=t.getTimezoneOffset();switch(n){case"x":return mv(o);case"xxxx":case"xx":return ha(o);case"xxxxx":case"xxx":default:return ha(o,":")}},O:function(t,n,s){const o=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+uv(o,":");case"OOOO":default:return"GMT"+ha(o,":")}},z:function(t,n,s){const o=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+uv(o,":");case"zzzz":default:return"GMT"+ha(o,":")}},t:function(t,n,s){const o=Math.trunc(t.getTime()/1e3);return Tt(o,n.length)},T:function(t,n,s){const o=t.getTime();return Tt(o,n.length)}};function uv(t,n=""){const s=t>0?"-":"+",o=Math.abs(t),i=Math.trunc(o/60),c=o%60;return c===0?s+String(i):s+String(i)+n+Tt(c,2)}function mv(t,n){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):ha(t,n)}function ha(t,n=""){const s=t>0?"-":"+",o=Math.abs(t),i=Tt(Math.trunc(o/60),2),c=Tt(o%60,2);return s+i+n+c}const hv=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},fw=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},w_=(t,n)=>{const s=t.match(/(P+)(p+)?/)||[],o=s[1],i=s[2];if(!i)return hv(t,n);let c;switch(o){case"P":c=n.dateTime({width:"short"});break;case"PP":c=n.dateTime({width:"medium"});break;case"PPP":c=n.dateTime({width:"long"});break;case"PPPP":default:c=n.dateTime({width:"full"});break}return c.replace("{{date}}",hv(o,n)).replace("{{time}}",fw(i,n))},b_={p:fw,P:w_},N_=/^D+$/,C_=/^Y+$/,S_=["D","DD","YY","YYYY"];function E_(t){return N_.test(t)}function T_(t){return C_.test(t)}function P_(t,n,s){const o=k_(t,n,s);if(console.warn(o),S_.includes(t))throw new RangeError(o)}function k_(t,n,s){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${o} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,M_=/^'([^]*?)'?$/,__=/''/g,A_=/[a-zA-Z]/;function Re(t,n,s){const o=id(),i=s?.locale??o.locale??x_,c=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,h=En(t);if(!IM(h))throw new RangeError("Invalid time value");let f=n.match(D_).map(p=>{const x=p[0];if(x==="p"||x==="P"){const w=b_[x];return w(p,i.formatLong)}return p}).join("").match(R_).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const x=p[0];if(x==="'")return{isToken:!1,value:O_(p)};if(dv[x])return{isToken:!0,value:p};if(x.match(A_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(f=i.localize.preprocessor(h,f));const v={firstWeekContainsDate:c,weekStartsOn:u,locale:i};return f.map(p=>{if(!p.isToken)return p.value;const x=p.value;(!s?.useAdditionalWeekYearTokens&&T_(x)||!s?.useAdditionalDayOfYearTokens&&E_(x))&&P_(x,n,String(t));const w=dv[x[0]];return w(h,x,i.localize,v)}).join("")}function O_(t){const n=t.match(M_);return n?n[1].replace(__,"'"):t}function F_(t,n){const s=En(t),o=En(n);return+s<+o}function fv(t,n){const o=z_(t);let i;if(o.date){const f=V_(o.date,2);i=B_(f.restDateString,f.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const c=i.getTime();let u=0,h;if(o.time&&(u=U_(o.time),isNaN(u)))return new Date(NaN);if(o.timezone){if(h=H_(o.timezone),isNaN(h))return new Date(NaN)}else{const f=new Date(c+u),v=new Date(0);return v.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),v.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),v}return new Date(c+u+h)}const Xl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},I_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function z_(t){const n={},s=t.split(Xl.dateTimeDelimiter);let o;if(s.length>2)return n;if(/:/.test(s[0])?o=s[0]:(n.date=s[0],o=s[1],Xl.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Xl.timeZoneDelimiter)[0],o=t.substr(n.date.length,t.length))),o){const i=Xl.timezone.exec(o);i?(n.time=o.replace(i[1],""),n.timezone=i[1]):n.time=o}return n}function V_(t,n){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),o=t.match(s);if(!o)return{year:NaN,restDateString:""};const i=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?i:c*100,restDateString:t.slice((o[1]||o[2]).length)}}function B_(t,n){if(n===null)return new Date(NaN);const s=t.match(I_);if(!s)return new Date(NaN);const o=!!s[4],i=oi(s[1]),c=oi(s[2])-1,u=oi(s[3]),h=oi(s[4]),f=oi(s[5])-1;if(o)return K_(n,h,f)?W_(n,h,f):new Date(NaN);{const v=new Date(0);return!G_(n,c,u)||!Y_(n,i)?new Date(NaN):(v.setUTCFullYear(n,c,Math.max(i,u)),v)}}function oi(t){return t?parseInt(t):1}function U_(t){const n=t.match($_);if(!n)return NaN;const s=vm(n[1]),o=vm(n[2]),i=vm(n[3]);return Q_(s,o,i)?s*dw+o*cw+i*1e3:NaN}function vm(t){return t&&parseFloat(t.replace(",","."))||0}function H_(t){if(t==="Z")return 0;const n=t.match(L_);if(!n)return 0;const s=n[1]==="+"?-1:1,o=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return J_(o,i)?s*(o*dw+i*cw):NaN}function W_(t,n,s){const o=new Date(0);o.setUTCFullYear(t,0,4);const i=o.getUTCDay()||7,c=(n-1)*7+s+1-i;return o.setUTCDate(o.getUTCDate()+c),o}const q_=[31,null,31,30,31,30,31,31,30,31,30,31];function pw(t){return t%400===0||t%4===0&&t%100!==0}function G_(t,n,s){return n>=0&&n<=11&&s>=1&&s<=(q_[n]||(pw(t)?29:28))}function Y_(t,n){return n>=1&&n<=(pw(t)?366:365)}function K_(t,n,s){return n>=1&&n<=53&&s>=0&&s<=6}function Q_(t,n,s){return t===24?n===0&&s===0:s>=0&&s<60&&n>=0&&n<60&&t>=0&&t<25}function J_(t,n){return n>=0&&n<=59}function pv(t,n){return iw(t,-n)}function xw({value:t,onValueChange:n,placeholder:s="Selecione o tipo"}){const{toast:o}=St(),[i,c]=d.useState([]),[u,h]=d.useState(!1),[f,v]=d.useState(""),[p,x]=d.useState(!1),w=async()=>{try{const T=await xe.getVehicleTypes();console.log("Vehicle types fetched:",T),c(T||[])}catch(T){console.error("Error fetching vehicle types:",T),c([{id:"1",name:"Carro",isDefault:!0},{id:"2",name:"Moto",isDefault:!0},{id:"3",name:"Caminhonete",isDefault:!0}]),o({title:"Aviso",description:"No foi possvel carregar tipos de veculos. Usando tipos padro.",variant:"default"})}};d.useEffect(()=>{w()},[]);const j=async()=>{if(!f.trim()){o({title:"Nome obrigatrio",description:"Digite o nome do tipo de veculo",variant:"destructive"});return}x(!0);try{const T=await xe.createVehicleType(f.trim());o({title:"Tipo criado com sucesso",description:`${T.name} foi adicionado  lista`}),await w(),n(T.name),h(!1),v("")}catch(T){const b=T instanceof Error?T.message:String(T);o({title:"Erro ao criar tipo",description:b||"Tente novamente",variant:"destructive"})}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(dt,{value:t,onValueChange:n,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:s})}),e.jsx(lt,{children:i.map(T=>e.jsx(pe,{value:T.name,children:T.name},T.id))})]})}),e.jsx(H,{type:"button",variant:"outline",size:"icon",onClick:()=>h(!0),title:"Adicionar novo tipo de veculo",children:e.jsx(hn,{className:"h-4 w-4"})})]}),e.jsx(Nt,{open:u,onOpenChange:h,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Novo Tipo de Veculo"})}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(B,{htmlFor:"typeName",children:"Nome do Tipo *"}),e.jsx(re,{id:"typeName",value:f,onChange:T=>v(T.target.value),placeholder:"Ex: Caminho, Bicicleta, etc.",onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),j())},autoFocus:!0})]})}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>{h(!1),v("")},disabled:p,children:"Cancelar"}),e.jsx(H,{onClick:j,disabled:p,children:p?"Salvando...":"Confirmar & Salvar"})]})]})})]})}const X_=({open:t,onOpenChange:n,vehicle:s,onSaved:o})=>{const{addVehicle:i,updateVehicle:c,rates:u,calculateRate:h}=Dr(),{toast:f}=St(),[v,p]=d.useState(""),[x,w]=d.useState("Carro"),[j,T]=d.useState(""),[b,N]=d.useState(""),[P,C]=d.useState(""),[S,_]=d.useState(""),[D,U]=d.useState(""),[F,Q]=d.useState(""),[ee,te]=d.useState(""),[W,V]=d.useState(null),[I,J]=d.useState(!1);d.useEffect(()=>{const E=setTimeout(async()=>{if(v.length===7&&!s){J(!0);try{const O=localStorage.getItem("token"),$=await fetch(`https://theproparking-backend-1rxk.onrender.com/api/convenios/veiculos/verificar/${v}`,{headers:{Authorization:`Bearer ${O}`}});if($.ok){const K=await $.json();K.autorizado?(V(K),f({title:"Veculo de Convnio Identificado!",description:`${K.nome_empresa} - ${K.tipo_convenio}`,className:"bg-blue-50 border-blue-200 text-blue-800"})):K.bloqueio?(V({...K,bloqueado:!0}),f({title:"Entrada Bloqueada pelo Convnio",description:K.message,variant:"destructive"})):V(null)}}catch(O){console.error("Erro ao verificar convnio:",O)}finally{J(!1)}}else v.length<7&&V(null)},500);return()=>clearTimeout(E)},[v,s]),d.useEffect(()=>{if(s)p(s.plate),w(s.vehicleType),T(s.rateId),N(s.entryDate),C(s.entryTime),_(s.exitDate||""),U(s.exitTime||""),Q(s.contractedDays?.toString()||""),te(s.paymentMethod||"");else{const M=new Date;p(""),w("Carro"),T(""),N(Re(M,"yyyy-MM-dd")),C(Re(M,"HH:mm")),_(""),U(""),Q(""),te(""),V(null)}},[s,t]);const he=u.filter(M=>M.vehicleType===x),ie=u.find(M=>M.id===j),ue=()=>{if(W)return 0;const M=s||{entryDate:b,entryTime:P,vehicleType:x,rateId:j};return!S||!D||!ie?0:h(M,ie,S,D)},L=async M=>{if(M.preventDefault(),!v||!j&&!W||!b||!P){f({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}if(D&&!ee&&!W){f({title:"Forma de Pagamento obrigatria",description:"Por favor, selecione a forma de pagamento para este registro.",variant:"destructive"});return}if(S&&D){const O=new Date(`${b}T${P}`);if(new Date(`${S}T${D}`)<=O){f({title:"Erro na data/hora",description:"A hora de sada deve ser posterior  hora de entrada",variant:"destructive"});return}}const E={plate:v.toUpperCase(),vehicleType:x,rateId:j||he[0]?.id,entryDate:b,entryTime:P,exitDate:S||void 0,exitTime:D||void 0,status:S&&D?"Concludo":"Em andamento",totalValue:S&&D&&ie?ue():0,paymentMethod:S&&D?W?"Convnio":ee:void 0,contractedDays:F?parseInt(F):void 0,contractedEndDate:void 0,contractedEndTime:void 0,metadata:W?{isConvenio:!0,convenioId:W.convenio_id,convenioNome:W.nome_empresa,tipoConvenio:W.tipo_convenio}:void 0};if(R&&F&&b&&P){const O=parseInt(F),$=new Date(`${b}T${P}`),K=new Date($.getTime()+O*24*60*60*1e3);E.contractedEndDate=Re(K,"yyyy-MM-dd"),E.contractedEndTime=Re(K,"HH:mm")}try{if(s)await c(s.id,E),f({title:"Veculo atualizado",description:"As informaes foram atualizadas com sucesso"});else{const O=await i(E);if(W){const $=localStorage.getItem("token");await fetch(`https://theproparking-backend-1rxk.onrender.com/api/convenios/${W.convenio_id}/movimentacoes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({placa:v.toUpperCase(),tipo_movimentacao:"entrada",data_entrada:`${b}T${P}:00`})})}f({title:"Veculo adicionado",description:W?`Entrada registrada para convnio: ${W.nome_empresa}`:"O veculo foi registrado com sucesso"})}o?.(),n(!1)}catch(O){console.error(O),f({title:"Erro ao salvar veculo",description:"Tente novamente",variant:"destructive"})}},R=ie&&["Semanal","Quinzenal","Mensal"].includes(ie.rateType);return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ft,{children:e.jsx(pt,{children:s?"Editar Veculo":"Adicionar Veculo"})}),e.jsxs("form",{onSubmit:L,className:"space-y-4 mt-4",children:[W&&e.jsxs("div",{className:`border rounded-lg p-4 flex items-center gap-3 ${W.bloqueado?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[e.jsx("div",{className:`p-2 rounded-full ${W.bloqueado?"bg-red-100":"bg-blue-100"}`,children:W.bloqueado?e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${W.bloqueado?"text-red-900":"text-blue-900"}`,children:W.bloqueado?"Entrada Bloqueada":"Veculo de Convnio"}),e.jsx("p",{className:`text-sm ${W.bloqueado?"text-red-700":"text-blue-700"}`,children:W.message||`${W.nome_empresa}  ${W.tipo_convenio==="pre-pago"?"Pr-pago":"Ps-pago"}`}),W.observacoes&&e.jsxs("p",{className:`text-xs mt-1 italic ${W.bloqueado?"text-red-600":"text-blue-600"}`,children:["Obs: ",W.observacoes]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"plate",children:"Placa *"}),e.jsx(re,{id:"plate",value:v,onChange:M=>p(M.target.value),placeholder:"ABC-1234",className:"uppercase"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"vehicleType",children:"Tipo de Veculo *"}),e.jsx(xw,{value:x,onValueChange:M=>w(M)})]})]}),e.jsxs("div",{children:[e.jsxs(B,{htmlFor:"rate",children:["Tarifa ",W?"(Opcional/Automtica)":"*"]}),e.jsxs(dt,{value:j,onValueChange:T,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione uma tarifa"})}),e.jsx(lt,{children:he.map(M=>e.jsxs(pe,{value:M.id,children:[M.rateType," - R$ ",M.value.toFixed(2),"/",M.unit]},M.id))})]})]}),R&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"contractedDays",children:"Dias Contratados *"}),e.jsx(re,{id:"contractedDays",type:"number",value:F,onChange:M=>Q(M.target.value),placeholder:"30"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"entryDate",children:"Data de Entrada *"}),e.jsx(re,{id:"entryDate",type:"date",value:b,onChange:M=>N(M.target.value)})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"entryTime",children:"Hora de Entrada *"}),e.jsx(re,{id:"entryTime",type:"time",value:P,onChange:M=>C(M.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"exitDate",children:"Data de Sada"}),e.jsx(re,{id:"exitDate",type:"date",value:S,onChange:M=>_(M.target.value)})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"exitTime",children:"Hora de Sada"}),e.jsx(re,{id:"exitTime",type:"time",value:D,onChange:M=>{U(M.target.value),M.target.value&&!S&&_(b)}})]})]}),D&&(!s||s.status==="Em andamento")&&e.jsxs("div",{className:"bg-blue-50 border-blue-200 border p-3 rounded-md flex items-center gap-2 animate-in fade-in slide-in-from-top-1 duration-500",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("p",{className:"text-sm text-blue-800",children:"Ao informar a hora de sada, voc est registrando entrada e sada simultneas. O valor ser calculado automaticamente."})]}),D&&!W&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-1 duration-500",children:[e.jsx(B,{htmlFor:"paymentMethod",children:"Forma de Pagamento *"}),e.jsxs(dt,{value:ee,onValueChange:M=>te(M),children:[e.jsx(it,{id:"paymentMethod",children:e.jsx(ut,{placeholder:"Selecione a forma de pagamento"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(pe,{value:"Pix",children:"Pix"}),e.jsx(pe,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(pe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),S&&D&&(s||v)&&ie&&e.jsxs("div",{className:"bg-muted p-4 rounded-lg animate-in zoom-in-95 duration-300",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor calculado:"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",ue().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(H,{type:"submit",disabled:W?.bloqueado||!!D&&!ee&&!W,children:s?"Atualizar":"Adicionar"})]})]})]})})};var ym="rovingFocusGroup.onEntryFocus",Z_={bubbles:!1,cancelable:!0},Ai="RovingFocusGroup",[oh,gw,e4]=Ec(Ai),[t4,No]=cn(Ai,[e4]),[n4,r4]=t4(Ai),vw=d.forwardRef((t,n)=>e.jsx(oh.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(oh.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(s4,{...t,ref:n})})}));vw.displayName=Ai;var s4=d.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:i=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:v,preventScrollOnEntryFocus:p=!1,...x}=t,w=d.useRef(null),j=Ke(n,w),T=wo(c),[b,N]=ur({prop:u,defaultProp:h??null,onChange:f,caller:Ai}),[P,C]=d.useState(!1),S=Gt(v),_=gw(s),D=d.useRef(!1),[U,F]=d.useState(0);return d.useEffect(()=>{const Q=w.current;if(Q)return Q.addEventListener(ym,S),()=>Q.removeEventListener(ym,S)},[S]),e.jsx(n4,{scope:s,orientation:o,dir:T,loop:i,currentTabStopId:b,onItemFocus:d.useCallback(Q=>N(Q),[N]),onItemShiftTab:d.useCallback(()=>C(!0),[]),onFocusableItemAdd:d.useCallback(()=>F(Q=>Q+1),[]),onFocusableItemRemove:d.useCallback(()=>F(Q=>Q-1),[]),children:e.jsx(Le.div,{tabIndex:P||U===0?-1:0,"data-orientation":o,...x,ref:j,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{D.current=!0}),onFocus:we(t.onFocus,Q=>{const ee=!D.current;if(Q.target===Q.currentTarget&&ee&&!P){const te=new CustomEvent(ym,Z_);if(Q.currentTarget.dispatchEvent(te),!te.defaultPrevented){const W=_().filter(ie=>ie.focusable),V=W.find(ie=>ie.active),I=W.find(ie=>ie.id===b),he=[V,I,...W].filter(Boolean).map(ie=>ie.ref.current);ww(he,p)}}D.current=!1}),onBlur:we(t.onBlur,()=>C(!1))})})}),yw="RovingFocusGroupItem",jw=d.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:i=!1,tabStopId:c,children:u,...h}=t,f=cr(),v=c||f,p=r4(yw,s),x=p.currentTabStopId===v,w=gw(s),{onFocusableItemAdd:j,onFocusableItemRemove:T,currentTabStopId:b}=p;return d.useEffect(()=>{if(o)return j(),()=>T()},[o,j,T]),e.jsx(oh.ItemSlot,{scope:s,id:v,focusable:o,active:i,children:e.jsx(Le.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...h,ref:n,onMouseDown:we(t.onMouseDown,N=>{o?p.onItemFocus(v):N.preventDefault()}),onFocus:we(t.onFocus,()=>p.onItemFocus(v)),onKeyDown:we(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){p.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const P=i4(N,p.orientation,p.dir);if(P!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let S=w().filter(_=>_.focusable).map(_=>_.ref.current);if(P==="last")S.reverse();else if(P==="prev"||P==="next"){P==="prev"&&S.reverse();const _=S.indexOf(N.currentTarget);S=p.loop?l4(S,_+1):S.slice(_+1)}setTimeout(()=>ww(S))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:b!=null}):u})})});jw.displayName=yw;var a4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o4(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function i4(t,n,s){const o=o4(t.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return a4[o]}function ww(t,n=!1){const s=document.activeElement;for(const o of t)if(o===s||(o.focus({preventScroll:n}),document.activeElement!==s))return}function l4(t,n){return t.map((s,o)=>t[(n+o)%t.length])}var Zh=vw,ef=jw,tf="Radio",[c4,bw]=cn(tf),[d4,u4]=c4(tf),Nw=d.forwardRef((t,n)=>{const{__scopeRadio:s,name:o,checked:i=!1,required:c,disabled:u,value:h="on",onCheck:f,form:v,...p}=t,[x,w]=d.useState(null),j=Ke(n,N=>w(N)),T=d.useRef(!1),b=x?v||!!x.closest("form"):!0;return e.jsxs(d4,{scope:s,checked:i,disabled:u,children:[e.jsx(Le.button,{type:"button",role:"radio","aria-checked":i,"data-state":Tw(i),"data-disabled":u?"":void 0,disabled:u,value:h,...p,ref:j,onClick:we(t.onClick,N=>{i||f?.(),b&&(T.current=N.isPropagationStopped(),T.current||N.stopPropagation())})}),b&&e.jsx(Ew,{control:x,bubbles:!T.current,name:o,value:h,checked:i,required:c,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});Nw.displayName=tf;var Cw="RadioIndicator",Sw=d.forwardRef((t,n)=>{const{__scopeRadio:s,forceMount:o,...i}=t,c=u4(Cw,s);return e.jsx(en,{present:o||c.checked,children:e.jsx(Le.span,{"data-state":Tw(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:n})})});Sw.displayName=Cw;var m4="RadioBubbleInput",Ew=d.forwardRef(({__scopeRadio:t,control:n,checked:s,bubbles:o=!0,...i},c)=>{const u=d.useRef(null),h=Ke(u,c),f=rd(s),v=$c(n);return d.useEffect(()=>{const p=u.current;if(!p)return;const x=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==s&&j){const T=new Event("click",{bubbles:o});j.call(p,s),p.dispatchEvent(T)}},[f,s,o]),e.jsx(Le.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:h,style:{...i.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ew.displayName=m4;function Tw(t){return t?"checked":"unchecked"}var h4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ld="RadioGroup",[f4]=cn(ld,[No,bw]),Pw=No(),kw=bw(),[p4,x4]=f4(ld),Rw=d.forwardRef((t,n)=>{const{__scopeRadioGroup:s,name:o,defaultValue:i,value:c,required:u=!1,disabled:h=!1,orientation:f,dir:v,loop:p=!0,onValueChange:x,...w}=t,j=Pw(s),T=wo(v),[b,N]=ur({prop:c,defaultProp:i??null,onChange:x,caller:ld});return e.jsx(p4,{scope:s,name:o,required:u,disabled:h,value:b,onValueChange:N,children:e.jsx(Zh,{asChild:!0,...j,orientation:f,dir:T,loop:p,children:e.jsx(Le.div,{role:"radiogroup","aria-required":u,"aria-orientation":f,"data-disabled":h?"":void 0,dir:T,...w,ref:n})})})});Rw.displayName=ld;var Dw="RadioGroupItem",Mw=d.forwardRef((t,n)=>{const{__scopeRadioGroup:s,disabled:o,...i}=t,c=x4(Dw,s),u=c.disabled||o,h=Pw(s),f=kw(s),v=d.useRef(null),p=Ke(n,v),x=c.value===i.value,w=d.useRef(!1);return d.useEffect(()=>{const j=b=>{h4.includes(b.key)&&(w.current=!0)},T=()=>w.current=!1;return document.addEventListener("keydown",j),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",j),document.removeEventListener("keyup",T)}},[]),e.jsx(ef,{asChild:!0,...h,focusable:!u,active:x,children:e.jsx(Nw,{disabled:u,required:c.required,checked:x,...f,...i,name:c.name,ref:p,onCheck:()=>c.onValueChange(i.value),onKeyDown:we(j=>{j.key==="Enter"&&j.preventDefault()}),onFocus:we(i.onFocus,()=>{w.current&&v.current?.click()})})})});Mw.displayName=Dw;var g4="RadioGroupIndicator",_w=d.forwardRef((t,n)=>{const{__scopeRadioGroup:s,...o}=t,i=kw(s);return e.jsx(Sw,{...i,...o,ref:n})});_w.displayName=g4;var Aw=Rw,Ow=Mw,v4=_w;const Fw=d.forwardRef(({className:t,...n},s)=>e.jsx(Aw,{className:Pe("grid gap-2",t),...n,ref:s}));Fw.displayName=Aw.displayName;const ih=d.forwardRef(({className:t,...n},s)=>e.jsx(Ow,{ref:s,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsx(v4,{className:"flex items-center justify-center",children:e.jsx(wh,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ih.displayName=Ow.displayName;const y4={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},j4=(t,n,s)=>{let o;const i=y4[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",String(n)),s?.addSuffix?s.comparison&&s.comparison>0?"em "+o:"h "+o:o},w4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},b4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},N4={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C4={date:so({formats:w4,defaultWidth:"full"}),time:so({formats:b4,defaultWidth:"full"}),dateTime:so({formats:N4,defaultWidth:"full"})},S4={lastWeek:t=>{const n=t.getDay();return"'"+(n===0||n===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},E4=(t,n,s,o)=>{const i=S4[t];return typeof i=="function"?i(n):i},T4={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},P4={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},k4={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},R4={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},D4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},M4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},_4=(t,n)=>{const s=Number(t);return n?.unit==="week"?s+"":s+""},A4={ordinalNumber:_4,era:Br({values:T4,defaultWidth:"wide"}),quarter:Br({values:P4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Br({values:k4,defaultWidth:"wide"}),day:Br({values:R4,defaultWidth:"wide"}),dayPeriod:Br({values:D4,defaultWidth:"wide",formattingValues:M4,defaultFormattingWidth:"wide"})},O4=/^(\d+)[o]?/i,F4=/\d+/i,I4={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},$4={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},L4={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},z4={any:[/1/i,/2/i,/3/i,/4/i]},V4={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},B4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},U4={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},H4={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},W4={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},q4={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},G4={ordinalNumber:mw({matchPattern:O4,parsePattern:F4,valueCallback:t=>parseInt(t,10)}),era:Ur({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:$4,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:L4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ur({matchPatterns:V4,defaultMatchWidth:"wide",parsePatterns:B4,defaultParseWidth:"any"}),day:Ur({matchPatterns:U4,defaultMatchWidth:"wide",parsePatterns:H4,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:W4,defaultMatchWidth:"any",parsePatterns:q4,defaultParseWidth:"any"})},nt={code:"pt-BR",formatDistance:j4,formatLong:C4,formatRelative:E4,localize:A4,match:G4,options:{weekStartsOn:0,firstWeekContainsDate:1}},ya={name:"Estacionamento Modelo",legalName:"Estacionamento Modelo LTDA",cnpj:"12.345.678/0001-90",address:"Av. Central, 123 - Centro - So Paulo/SP",phone:"(11) 3333-0000"};function bc(t){return t==null||Number.isNaN(Number(t))?"R$ 0,00":Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function Iw(t){return t?t instanceof Date?t:new Date(t):new Date}function ss(t){return Iw(t).toLocaleDateString("pt-BR")}function $w(t){return Iw(t).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}function ii(t,n){if(!t)return[];const s=t.split(/\s+/),o=[];let i="";return s.forEach(c=>{if(!c)return;const u=i?`${i} ${c}`:c;u.length>n?(i&&o.push(i),i=c.length>n?c.slice(0,n):c):i=u}),i&&o.push(i),o}function Lw(t,n){if(!t)return null;const s=n?.customFieldValues||{};return s[t.name]?s[t.name]:t.defaultValue?t.defaultValue:""}function ic(t,n,s){const i=s||ya,c=[],u="-".repeat(32),h=(p="")=>c.push(p),f=p=>{if(!p)return;const x=p.slice(0,32),w=Math.floor((32-x.length)/2);h(`${" ".repeat(Math.max(w,0))}${x}`)};f(""),f(" PROPARKING APP"),f("       2025"),f(""),h(""),t.showLogo&&f("[ LOGO ]"),t.showCompanyName&&i?.name&&f(i.name),t.showCompanyDetails&&(i?.legalName&&f(i.legalName),i?.cnpj&&f(`CNPJ: ${i.cnpj}`),i?.address&&f(i.address),i?.phone&&f(`Tel: ${i.phone}`)),t.headerText&&ii(t.headerText,32).forEach(f),h(u),t.showReceiptNumber&&n.receiptNumber&&h(`RECIBO: ${n.receiptNumber}`);const v=n.payment?.paidAt||n.issuedAt;return t.showDate&&v&&h(`Data: ${ss(v)}`),t.showTime&&v&&h(`Hora: ${$w(v)}`),t.showPlate&&n.vehicle?.plate&&h(`Placa: ${n.vehicle.plate}`),t.showVehicleType&&n.vehicle?.model&&h(`Veculo: ${n.vehicle.model}`),t.showEntryTime&&n.customFieldValues?.entryTime&&h(`Entrada: ${n.customFieldValues.entryTime}`),t.showExitTime&&n.customFieldValues?.exitTime&&h(`Sada: ${n.customFieldValues.exitTime}`),t.showDuration&&n.customFieldValues?.duration&&h(`Permanncia: ${n.customFieldValues.duration}`),t.showRate&&n.rate?.name&&h(`Tarifa: ${n.rate.name}`),t.templateType==="monthly_payment"&&(n.plan?.name&&h(`Plano: ${n.plan.name}`),n.plan?.reference&&h(`Referncia: ${n.plan.reference}`),n.contract?.number&&h(`Contrato: ${n.contract.number}`),n.payment?.dueDate&&h(`Venc.: ${ss(n.payment.dueDate)}`),n.slot&&h(`Vaga: ${n.slot}`)),(t.templateType==="cash_closing_thermal"||t.templateType==="cash_closing_pdf")&&(f("=== FECHAMENTO DE CAIXA ==="),n.receiptNumber&&h(`Relatrio N: ${n.receiptNumber}`),h(`Data: ${ss(v)}`),n.payment?.receivedBy&&h(`Operador: ${n.payment.receivedBy}`),h(u),h("RESUMO FINANCEIRO"),h(`Saldo Inicial: ${bc(100)}`),h("Receitas (+): R$ 150,00"),h("Sangrias (-): R$ 20,00"),h("Saldo Final: R$ 230,00"),h(u),h("ESTATSTICAS"),h("Veculos: 12"),h("Ticket Mdio: R$ 15,00"),h("Permanncia: 1h 45m")),t.showValue&&h(`Valor: ${bc(n.payment?.amount)}`),t.showPaymentMethod&&n.payment?.method&&h(`Pagamento: ${n.payment.method}`),t.showOperator&&n.payment?.receivedBy&&h(`Operador: ${n.payment.receivedBy}`),t.customFields?.length&&(h(u),t.customFields.forEach(p=>{const x=Lw(p,n);x&&ii(`${p.label||p.name}: ${x}`,32).forEach(h)})),n.notes&&(h(u),ii(n.notes,32).forEach(h)),t.termsAndConditions&&(h(u),ii(t.termsAndConditions,32).forEach(h)),t.footerText&&(h(u),ii(t.footerText,32).forEach(f)),t.showSignatureLine&&(h(""),h("____________________________"),h("Assinatura do Responsvel")),h(""),c.join(`
`)}let Yn="https://theproparking-backend-1rxk.onrender.com";Yn.endsWith("/")&&(Yn=Yn.slice(0,-1));if(Yn.startsWith("http://")||Yn.startsWith("https://"))try{const t=new URL(Yn);Yn=`${t.protocol}//${t.host}`}catch{const n=Yn.match(/^(https?:\/\/[^\/]+)/);n&&(Yn=n[1])}Yn.endsWith("/api")||(Yn=`${Yn}/api`);const xv=Yn,Y4=({open:t,onOpenChange:n,vehicle:s,rate:o,calculatedValue:i,onConfirm:c,companyConfig:u,operatorName:h="Operador",isMonthlyVehicle:f=!1})=>{const{toast:v}=St(),{token:p}=zn(),[x,w]=d.useState("Dinheiro"),[j,T]=d.useState(""),[b,N]=d.useState(0),[P,C]=d.useState(!1),[S,_]=d.useState("simple"),[D,U]=d.useState(!1),[F,Q]=d.useState(s?.entryTime||""),[ee,te]=d.useState(null),[W,V]=d.useState(""),[I,J]=d.useState(!1);d.useEffect(()=>{s?.entryTime&&Q(s.entryTime)},[s]),d.useEffect(()=>{t&&(w("Dinheiro"),T(""),N(0),C(!1),_(f?"none":"simple"))},[t,f]),d.useEffect(()=>{if(!t||f)return;let $=!1;return(async()=>{J(!0);try{const ce=`${xv}/receipt-templates/default/parking_ticket`;console.log("[ExitConfirmationDialog] Loading template from:",ce,{hasToken:!!p});const je=await fetch(ce,{headers:p?{Authorization:`Bearer ${p}`}:void 0});if(console.log("[ExitConfirmationDialog] Template response:",{status:je.status,ok:je.ok,contentType:je.headers.get("content-type")}),!$)if(je.ok){const Z=await je.json();console.log("[ExitConfirmationDialog] Template loaded:",Z),te(Z)}else{const Z=await je.text().catch(()=>"Unable to read error");console.error("[ExitConfirmationDialog] Failed to load template:",{status:je.status,statusText:je.statusText,error:Z.substring(0,200)}),te(null)}}catch(ce){$||(console.error("[ExitConfirmationDialog] Error loading template:",ce),te(null))}finally{$||J(!1)}})(),()=>{$=!0}},[t,f,xv,p]),d.useEffect(()=>{if(!f&&x==="Dinheiro"&&j){const $=parseFloat(j);if(isNaN($))N(0);else{const K=$-i;N(K>=0?K:0)}}else N(0)},[j,i,x,f]);const he=d.useMemo(()=>{if(!ee||!s||f)return null;const $=new Date,K=s.entryDate&&(D?F:s.entryTime)?new Date(`${s.entryDate}T${D?F:s.entryTime}`):null,ce=$,je=K!==null?Math.max(Math.floor((ce.getTime()-K.getTime())/6e4),0):0,Z=Math.floor(je/60),fe=je%60,Ee=K?Re(K,"dd/MM/yyyy",{locale:nt}):"",ke=K?Re(K,"HH:mm",{locale:nt}):"",ze=Re(ce,"dd/MM/yyyy",{locale:nt}),A=Re(ce,"HH:mm",{locale:nt}),Ce=`${Z}h ${fe}min`,de={entrydate:Ee,entrytime:ke,exitdate:ze,exittime:A,duration:Ce,plate:s.plate,paymentmethod:x,value:bc(i),operator:h},Ze={};return ee.customFields?.forEach(se=>{const Me=se.name.replace(/[^a-zA-Z]/g,"").toLowerCase();Me&&de[Me]?Ze[se.name]=de[Me]:se.defaultValue&&!Ze[se.name]&&(Ze[se.name]=se.defaultValue)}),{receiptNumber:(s.id||"").toString().slice(-6).padStart(6,"0"),issuedAt:$,vehicle:{plate:s.plate,model:s.vehicleType},rate:o?.rateType?{name:o.rateType}:void 0,payment:{amount:i,method:x,paidAt:$,receivedBy:h},customFieldValues:Ze}},[ee,s,o,i,x,h,f,F,D]);d.useEffect(()=>{if(!ee||!he||f){console.log("[ExitConfirmationDialog] Cannot generate preview:",{hasTemplate:!!ee,hasSampleData:!!he,isMonthlyVehicle:f}),V("");return}console.log("[ExitConfirmationDialog] Generating thermal preview...");const $=ic(ee,he,u||ya);console.log("[ExitConfirmationDialog] Preview generated, length:",$.length),V($)},[ee,he,u,f]);const ie=()=>{if(!f&&x==="Dinheiro"){const $=parseFloat(j);if(isNaN($)||$<i){v({title:"Valor insuficiente",description:"O valor pago deve ser maior ou igual ao valor total",variant:"destructive"});return}}if(f||S==="none"){c(x,null),n(!1);return}C(!0)},ue=async()=>{S==="simple"?c(x,{receiptType:"simple"}):c(x,null),n(!1)},L=new Date,R=s?new Date(`${s.entryDate}T${D?F:s.entryTime}`):new Date,M=s?Math.floor((L.getTime()-R.getTime())/6e4):0,E=Math.floor(M/60),O=M%60;return P?e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-lg print:shadow-none space-y-4",children:[e.jsx(ft,{children:e.jsx(pt,{children:"Pr-visualizao do Ticket"})}),I?e.jsx("div",{className:"rounded border bg-muted/50 p-4 text-sm text-muted-foreground",children:"Carregando template configurado..."}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:W||"Preview indisponvel para este template."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Visualizao baseada no template de impressora trmica configurado em Modelos de Recibos."})]}),e.jsxs(zt,{className:"print:hidden",children:[e.jsx(H,{variant:"outline",onClick:()=>C(!1),children:"Voltar"}),e.jsxs(H,{onClick:ue,disabled:I,title:I?"Carregando template...":W?"Imprimir e confirmar sada":"Template no disponvel, mas voc pode continuar",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Imprimir e Confirmar"]})]})]})}):e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-md",children:[e.jsx(ft,{children:e.jsx(pt,{children:"Confirmar Sada do Veculo"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Placa:"}),e.jsx("span",{className:"font-bold",children:s?.plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Tipo:"}),e.jsx("span",{children:s?.vehicleType})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Entrada:"}),D?e.jsx("input",{type:"time",className:"border rounded px-2 py-1 text-sm",value:F,onChange:$=>Q($.target.value),onBlur:()=>U(!1),autoFocus:!0,style:{width:"90px"}}):e.jsx("span",{title:"Duplo clique para editar hora",style:{cursor:"pointer",userSelect:"none"},onDoubleClick:()=>U(!0),children:s&&Re(R,"dd/MM/yyyy 's' HH:mm",{locale:nt})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Permanncia:"}),e.jsxs("span",{children:[E,"h ",O,"min"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"font-semibold",children:"Valor Total:"}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:["R$ ",i.toFixed(2)]})]})]}),!f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"paymentMethod",children:"Forma de Pagamento *"}),e.jsxs(dt,{value:x,onValueChange:$=>w($),children:[e.jsx(it,{id:"paymentMethod",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(pe,{value:"Pix",children:"Pix"}),e.jsx(pe,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(pe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),x==="Dinheiro"&&e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-background",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(Dm,{className:"h-4 w-4"}),"Calculadora de Troco"]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"amountPaid",children:"Valor Recebido *"}),e.jsx(re,{id:"amountPaid",type:"number",step:"0.01",placeholder:"0.00",value:j,onChange:$=>T($.target.value),className:"text-lg"})]}),j&&e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded",children:[e.jsx("span",{className:"font-medium",children:"Troco:"}),e.jsxs("span",{className:"text-xl font-bold text-success",children:["R$ ",b.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/20",children:[e.jsx(B,{className:"text-base font-semibold",children:"Emitir ticket de sada:"}),f?e.jsx("div",{className:"rounded bg-muted px-3 py-2 text-sm text-muted-foreground",children:"Clientes mensalistas no necessitam de ticket na sada. Um recibo ser emitido no dia do pagamento."}):e.jsxs(Fw,{value:S,onValueChange:$=>_($),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ih,{value:"none",id:"none"}),e.jsx(B,{htmlFor:"none",className:"font-normal cursor-pointer",children:"No emitir"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ih,{value:"simple",id:"simple"}),e.jsx(B,{htmlFor:"simple",className:"font-normal cursor-pointer",children:"Imprimir ticket de sada"})]})]})]})]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(H,{onClick:ie,children:f||S==="none"?"Confirmar":e.jsxs(e.Fragment,{children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Gerar pr-visualizao"]})})]})]})})},Zt=d.forwardRef(({className:t,...n},s)=>e.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));Zt.displayName="Textarea";function K4({open:t,onOpenChange:n,vehicle:s,companyConfig:o,operatorName:i="Operador",onSubmit:c}){const[u,h]=d.useState(""),[f,v]=d.useState(""),[p,x]=d.useState(""),[w,j]=d.useState(!1),[T,b]=d.useState(!1),N=d.useRef(null);d.useEffect(()=>{t&&(h(""),v(""),x(""),j(!1),b(!1))},[t]);const P=d.useMemo(()=>s?.exitDate&&s?.exitTime?new Date(`${s.exitDate}T${s.exitTime}`):new Date,[s]),C=d.useMemo(()=>s?.entryDate&&s?.entryTime?new Date(`${s.entryDate}T${s.entryTime}`):new Date,[s]),S=d.useMemo(()=>{if(!s)return{hours:0,minutes:0};const U=P.getTime()-C.getTime(),F=Math.max(Math.floor(U/6e4),0);return{hours:Math.floor(F/60),minutes:F%60}},[s,C,P]),_=()=>{u.trim()&&j(!0)},D=async()=>{if(s)try{b(!0),c&&await c({clientName:u.trim(),clientCpf:f.trim()||void 0,notes:p.trim()||void 0}),window.print(),n(!1)}finally{b(!1)}};return s?e.jsx(Nt,{open:t,onOpenChange:U=>{U||j(!1),n(U)},children:e.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ft,{children:e.jsx(pt,{children:"Impresso para Reembolso"})}),w?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{ref:N,className:"bg-white text-black p-8 rounded-lg border-2 border-gray-300",children:[e.jsxs("div",{className:"text-center border-b-2 border-gray-300 pb-4 mb-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg p-2 shadow-md",children:e.jsx(Cr,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"PROPARKING"}),e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"APP - 2025"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Sistema de Gesto de Estacionamento"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o?.name||"Estacionamento"}),o?.cnpj&&e.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",o.cnpj]}),o?.address&&e.jsx("p",{className:"text-xs text-gray-600",children:o.address}),e.jsx("p",{className:"text-lg font-semibold mt-3 text-amber-600",children:"RECIBO DE REEMBOLSO"})]})]}),e.jsxs("div",{className:"space-y-2 border-b py-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Solicitante:"}),e.jsx("span",{children:u})]}),f&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"CPF:"}),e.jsx("span",{children:f})]})]}),e.jsxs("div",{className:"space-y-2 border-b py-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Placa:"}),e.jsx("span",{className:"font-semibold uppercase",children:s.plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"}),e.jsx("span",{children:s.vehicleType})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Entrada:"}),e.jsx("span",{children:Re(C,"dd/MM/yyyy 's' HH:mm",{locale:nt})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Sada:"}),e.jsx("span",{children:Re(P,"dd/MM/yyyy 's' HH:mm",{locale:nt})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Permanncia:"}),e.jsxs("span",{children:[S.hours,"h ",S.minutes,"min"]})]})]}),e.jsx("div",{className:"space-y-2 border-b py-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Valor Pago:"}),e.jsx("span",{className:"font-semibold",children:s.totalValue>0?`R$ ${s.totalValue.toFixed(2)}`:"R$ 0,00"})]})}),p&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-medium",children:"Observaes:"}),e.jsx("p",{className:"text-sm mt-1",children:p})]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground border-t pt-4 mt-6",children:[e.jsxs("p",{className:"font-medium",children:["Operador: ",i]}),e.jsx("p",{className:"mt-2",children:"Documento gerado para fins de reembolso corporativo."}),e.jsx("p",{className:"text-xs mt-2",children:Re(new Date,"dd/MM/yyyy 's' HH:mm:ss",{locale:nt})}),e.jsx("p",{className:"text-xs mt-3 text-gray-400",children:" 2025 ProParking App - Todos os direitos reservados"})]})]})}):e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"bg-muted/40 p-4 rounded border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Dados do veculo"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Placa:"}),e.jsx("p",{className:"font-semibold uppercase",children:s.plate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("p",{children:s.vehicleType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Entrada:"}),e.jsxs("p",{children:[s.entryDate?Re(new Date(s.entryDate),"dd/MM/yyyy",{locale:nt}):"-"," ",s.entryTime]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Sada:"}),e.jsxs("p",{children:[s.exitDate?Re(new Date(s.exitDate),"dd/MM/yyyy",{locale:nt}):Re(P,"dd/MM/yyyy",{locale:nt})," ",s.exitTime||Re(P,"HH:mm",{locale:nt})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Permanncia:"}),e.jsxs("p",{children:[S.hours,"h ",S.minutes,"min"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Valor total:"}),e.jsx("p",{children:s.totalValue>0?`R$ ${s.totalValue.toFixed(2)}`:""})]})]})]}),e.jsxs("div",{children:[e.jsxs(B,{children:["Nome do solicitante ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(re,{value:u,onChange:U=>h(U.target.value),placeholder:"Nome completo"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"CPF (opcional)"}),e.jsx(re,{value:f,onChange:U=>v(U.target.value),placeholder:"000.000.000-00",maxLength:14})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Observaes"}),e.jsx(Zt,{value:p,onChange:U=>x(U.target.value),placeholder:"Motivo do reembolso, centro de custo, etc.",rows:3})]})]}),e.jsx(zt,{children:w?e.jsxs(e.Fragment,{children:[e.jsx(H,{variant:"outline",onClick:()=>j(!1),children:"Voltar"}),e.jsxs(H,{onClick:D,disabled:T,children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),T?"Registrando...":"Imprimir e Registrar"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(H,{onClick:_,disabled:!u.trim(),children:"Gerar prvia"})]})})]})}):null}function Q4({vehicle:t,rate:n,currentValue:s,excessHours:o,excessValue:i}){if(!t||!n)return null;const c=["Pernoite","Semanal","Quinzenal","Mensal"].includes(n.rateType),u=t.status==="Concludo",h=t.entryDate?Re(new Date(t.entryDate),"dd/MM/yyyy",{locale:nt}):"",f=t.exitDate?Re(new Date(t.exitDate),"dd/MM/yyyy",{locale:nt}):"",v=()=>{if(!c||!t.entryDate)return"";const j=new Date(t.entryDate),T=t.contractedEndDate?new Date(t.contractedEndDate):new Date(j.getTime()+(t.contractedDays||7)*24*60*60*1e3);return`${Re(j,"dd/MM",{locale:nt})}  ${Re(T,"dd/MM",{locale:nt})}`},p=()=>!t.entryDate||!t.entryTime?"":`${Re(new Date(t.entryDate),"dd/MM/yyyy",{locale:nt})}  ${t.entryTime}`,x=()=>!t.contractedEndDate||!t.contractedEndTime?"":`${Re(new Date(t.contractedEndDate),"dd/MM/yyyy",{locale:nt})}  ${t.contractedEndTime}`,w=()=>{if(!o||o<=0)return"0h00";const j=Math.floor(o/60),T=o%60;return`${j}h${T.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"mt-4 bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-lg p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 text-primary flex items-center gap-2",children:[e.jsx(Pi,{className:"h-5 w-5"}),"Detalhes do Registro"]}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarifa"}),e.jsx("p",{className:"font-medium",children:n.rateType})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(fn,{className:"h-3 w-3"}),"Data"]}),e.jsx("p",{className:"font-medium",children:v()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2 border-t border-primary/10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Incio"}),e.jsx("p",{className:"font-medium",children:p()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Fim (contratada)"}),e.jsx("p",{className:"font-medium",children:x()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pt-2 border-t border-primary/10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Horas excedentes"}),e.jsx("p",{className:"font-medium text-warning",children:w()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor base"}),e.jsxs("p",{className:"font-medium",children:["R$ ",n.value.toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Excedentes"}),e.jsxs("p",{className:"font-medium text-warning",children:["R$ ",(i||0).toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Preview do valor total"}),e.jsxs("p",{className:"font-bold text-lg text-primary",children:["R$ ",s.toFixed(2)]})]})]}),e.jsx("div",{className:"pt-2 border-t border-primary/10",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(pi,{className:"h-3 w-3"}),"Forma de Pagamento"]}),e.jsx("p",{className:"font-medium",children:t.paymentMethod||"(aguardando sada)"})]})})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarifa"}),e.jsx("p",{className:"font-medium",children:n.rateType})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(fn,{className:"h-3 w-3"}),"Data"]}),e.jsx("p",{className:"font-medium",children:h})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Hs,{className:"h-3 w-3"}),"Entrada"]}),e.jsx("p",{className:"font-medium",children:t.entryTime||""})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Hs,{className:"h-3 w-3"}),"Sada"]}),e.jsx("p",{className:"font-medium",children:t.exitTime?`${f} ${t.exitTime}`:"(no registrada)"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview do valor ",u?"final":"atual"]}),e.jsxs("p",{className:"font-bold text-lg text-primary",children:["R$ ",s.toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(pi,{className:"h-3 w-3"}),"Forma de Pagamento"]}),e.jsx("p",{className:"font-medium",children:t.paymentMethod||"(aguardando sada)"})]})]})]})}function J4(){const t=async se=>{try{await fetch(`${R}/vehicles/${se.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({status:"Em andamento",exitDate:null,exitTime:null,totalValue:null,paymentMethod:null})}),n({title:"Finalizao desfeita",description:"O veculo voltou para o estado de entrada."}),M()}catch(Me){console.error(Me),n({title:"Erro ao desfazer finalizao",description:"Tente novamente",variant:"destructive"})}},{toast:n}=St(),{cashIsOpen:s,cashSession:o,companyConfig:i,monthlyCustomers:c}=Dr(),{user:u,hasPermission:h,token:f}=zn(),[v,p]=d.useState([]),[x,w]=d.useState([]),[j,T]=d.useState("Em andamento"),[b,N]=d.useState(!1),[P,C]=d.useState(!1),[S,_]=d.useState(),[D,U]=d.useState(),[F,Q]=d.useState(!1),[ee,te]=d.useState(!1),[W,V]=d.useState(!1),[I,J]=d.useState(),[he,ie]=d.useState(null),[ue,L]=d.useState(new Date),R="https://theproparking-backend-1rxk.onrender.com",M=async()=>{try{const Me=await(await fetch(`${R}/vehicles`)).json();p(Me)}catch(se){console.error(se)}},E=async()=>{try{const Me=await(await fetch(`${R}/rates`)).json();w(Me)}catch(se){console.error(se)}};d.useEffect(()=>{M(),E()},[]),d.useEffect(()=>{const se=setInterval(()=>{L(new Date)},1e3);return()=>clearInterval(se)},[]),d.useEffect(()=>{const se=Me=>{Me.key==="Escape"&&ie(null)};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[]);const O=v.filter(se=>j==="all"?!0:se.status===j).sort((se,Me)=>{const ht=new Date(se.entryDate).getTime(),bt=new Date(Me.entryDate).getTime();if(ht!==bt)return bt-ht;const et=se.entryTime||"00:00";return(Me.entryTime||"00:00").localeCompare(et)}),$=(se,Me,ht)=>{const bt=new Date(`${se.entryDate}T${se.entryTime}`),et=Math.floor((ht.getTime()-bt.getTime())/6e4);if(Me.rateType==="Hora/Frao"){const tt=Math.floor(et/60),Dt=et%60;let xt=tt;return Dt>(Me.courtesyMinutes||0)&&(xt+=1),Math.max(xt,1)*Me.value}else{if(Me.rateType==="Diria")return Math.ceil(et/1440)*Me.value;if(Me.rateType==="Pernoite")return Me.value;if(["Semanal","Quinzenal","Mensal"].includes(Me.rateType)){const tt=(se.contractedDays||30)*24*60;if(et<=tt)return Me.value;const Dt=x.find(xt=>xt.vehicleType===se.vehicleType&&xt.rateType==="Hora/Frao");return Dt?Me.value+Math.ceil((et-tt)/60)*Dt.value:Me.value}}return Me.value},K=se=>{if(console.log("Clicou em finalizar sada",se),!h("openCloseCash"))return;const Me=c.some(bt=>bt.plates.some(et=>et.toUpperCase()===se.plate.toUpperCase())),ht=se.metadata?.isConvenio;U(se),Q(Me),te(!!ht),C(!0)},ce=async(se,Me)=>{if(console.log("Entrou em handleConfirmExit",D,f),!D)return;const ht=new Date,bt=Re(ht,"yyyy-MM-dd"),et=Re(ht,"HH:mm"),tt=x.find(At=>At.id===D.rateId);if(!tt)return;const Dt=$(D,tt,ht),xt=F||ee?0:Dt;console.log("Token usado na sada:",f);try{ee&&D.metadata?.convenioId&&await fetch(`https://theproparking-backend-1rxk.onrender.com/api/convenios/${D.metadata.convenioId}/movimentacoes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({placa:D.plate,tipo_movimentacao:"saida",data_saida:`${bt}T${et}:00`})}),await fetch(`${R}/vehicles/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({exitDate:bt,exitTime:et,status:"Concludo",totalValue:xt,paymentMethod:ee?"Convnio":se})}),Me&&await fetch(`${R}/receipts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:D.id,receiptType:Me.receiptType,clientName:Me.clientName,clientCpf:Me.clientCpf,notes:Me.notes})}),n({title:"Sada registrada com sucesso",description:`Valor total: R$ ${xt.toFixed(2)} - ${ee?"Convnio":se}`}),M(),U(void 0)}catch(At){console.error(At),n({title:"Erro ao registrar sada",description:"Tente novamente",variant:"destructive"})}},je=se=>{J(se),V(!0)},Z=async se=>{if(I)try{await fetch(`${R}/receipts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:I.id,receiptType:"individual_reembolso",clientName:se.clientName,clientCpf:se.clientCpf,notes:se.notes})}),n({title:"Recibo de reembolso gerado",description:`Solicitante: ${se.clientName}`})}catch(Me){console.error(Me),n({title:"Erro ao gerar recibo",description:"No foi possvel registrar o recibo de reembolso.",variant:"destructive"})}},fe=se=>{h("openCloseCash")&&(_(se),N(!0))},Ee=()=>{h("openCloseCash")&&(_(void 0),N(!0))},ke=async se=>{if(!(!h("openCloseCash")||!window.confirm(`Tem certeza que deseja remover o registro da placa ${se.plate}?

Esta ao no pode ser desfeita e afetar todos os relatrios e registros financeiros.`)))try{await fetch(`${R}/vehicles/${se.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${f}`}}),n({title:"Registro removido",description:"O registro foi excludo com sucesso."}),M(),he===se.id&&ie(null)}catch(ht){console.error(ht),n({title:"Erro ao remover registro",description:"Tente novamente",variant:"destructive"})}},ze=se=>{const Me=x.find(et=>et.id===se.rateId);if(!Me)return{currentValue:0,excessHours:0,excessValue:0};const ht=se.exitDate&&se.exitTime?new Date(`${se.exitDate}T${se.exitTime}`):ue,bt=$(se,Me,ht);if(["Semanal","Quinzenal","Mensal"].includes(Me.rateType)){const et=new Date(`${se.entryDate}T${se.entryTime}`),tt=(se.contractedDays||30)*24*60,Dt=Math.floor((ht.getTime()-et.getTime())/6e4),xt=Math.max(0,Dt-tt),At=x.find(G=>G.vehicleType===se.vehicleType&&G.rateType==="Hora/Frao"),me=At?Math.ceil(xt/60)*At.value:0;return{currentValue:bt,excessHours:xt,excessValue:me}}return{currentValue:bt,excessHours:0,excessValue:0}},A=se=>{const Me=x.find(tt=>tt.id===se.rateId);if(!Me)return se.entryDate?Re(new Date(se.entryDate),"dd/MM/yyyy",{locale:nt}):"";if(!["Pernoite","Semanal","Quinzenal","Mensal"].includes(Me.rateType))return se.entryDate?Re(new Date(se.entryDate),"dd/MM/yyyy",{locale:nt}):"";if(!se.entryDate)return"";const bt=new Date(se.entryDate),et=se.contractedEndDate?new Date(se.contractedEndDate):new Date(bt.getTime()+(se.contractedDays||7)*24*60*60*1e3);return`${Re(bt,"dd/MM",{locale:nt})}  ${Re(et,"dd/MM",{locale:nt})}`},Ce=he?v.find(se=>se.id===he):null,de=Ce?x.find(se=>se.id===Ce.rateId):null,Ze=Ce?ze(Ce):null;return e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-l-4 border-primary rounded-lg p-6 mb-8 shadow-sm",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"ProParking App 2025"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de Gesto de Estacionamento"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fa,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Empresa:"}),e.jsx("span",{children:i?.name||"Carregando..."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Data:"}),e.jsx("span",{children:Re(ue,"dd 'de' MMMM 'de' yyyy",{locale:nt})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pi,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"CNPJ:"}),e.jsx("span",{children:i?.cnpj||"No configurado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Hora:"}),e.jsx("span",{className:"font-mono font-semibold text-primary",children:Re(ue,"HH:mm:ss")})]}),e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx(cy,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Endereo:"}),e.jsx("span",{children:i?.address||"No configurado"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Operador:"}),e.jsx("span",{className:"text-muted-foreground italic",children:u?.name||"Sistema (autenticao em desenvolvimento)"})]}),s&&o?.openedAt&&e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Caixa aberto por:"}),e.jsxs("span",{children:[o.operatorName||""," "," ",Re(new Date(o.openedAt),"dd/MM/yyyy HH:mm",{locale:nt})]})]})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(H,{size:"lg",onClick:Ee,className:"font-semibold bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(hn,{className:"h-5 w-5 mr-2"}),"Registrar Entrada"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{variant:j==="Em andamento"?"default":"outline",onClick:()=>T("Em andamento"),size:"sm",children:"Em andamento"}),e.jsx(H,{variant:j==="Concludo"?"default":"outline",onClick:()=>T("Concludo"),size:"sm",children:"Concludos"}),e.jsx(H,{variant:j==="all"?"default":"outline",onClick:()=>T("all"),size:"sm",children:"Todos"})]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Placa"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Data"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Entrada"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Sada"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Preview do Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Forma de Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-foreground",children:"Aes"})]})}),e.jsx("tbody",{children:O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-muted-foreground",children:"Nenhum veculo registrado"})}):O.map((se,Me)=>{const ht=ze(se),bt=he===se.id;return e.jsxs("tr",{className:`cursor-pointer transition-colors ${bt?"bg-primary/10 border-l-4 border-primary":Me%2===0?"bg-background hover:bg-muted/30":"bg-muted/20 hover:bg-muted/40"}`,onClick:()=>ie(se.id),onDoubleClick:()=>je(se),title:"Clique para selecionar | Clique duas vezes para acessar opes de reembolso",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:se.plate}),c.some(et=>et.plates.some(tt=>tt.toUpperCase()===se.plate.toUpperCase()))&&e.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Mensalista"}),se.metadata?.isConvenio&&e.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Convnio"})]})}),e.jsx("td",{className:"px-4 py-3",children:se.vehicleType}),e.jsx("td",{className:"px-4 py-3 text-sm",children:A(se)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:se.entryTime||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:se.exitTime||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${se.status==="Em andamento"?"bg-warning/10 text-warning":"bg-success/10 text-success"}`,children:se.status})}),e.jsx("td",{className:"px-4 py-3 font-medium text-primary",children:se.status==="Concludo"&&se.totalValue>0?`R$ ${se.totalValue.toFixed(2)}`:`R$ ${ht.currentValue.toFixed(2)}`}),e.jsx("td",{className:"px-4 py-3 text-sm",children:se.paymentMethod||e.jsx("span",{className:"text-muted-foreground italic",children:"(aguardando sada)"})}),e.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[h("openCloseCash")&&e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",variant:"ghost",onClick:et=>{et.stopPropagation(),fe(se)},children:e.jsx(Rc,{className:"h-4 w-4"})}),e.jsx(H,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:et=>{et.stopPropagation(),ke(se)},children:e.jsx(Jn,{className:"h-4 w-4"})})]}),se.status==="Em andamento"&&h("openCloseCash")&&e.jsxs(H,{size:"sm",onClick:et=>{et.stopPropagation(),K(se)},children:[e.jsx(jh,{className:"h-4 w-4 mr-1"}),"Finalizar"]}),se.status==="Concludo"&&h("openCloseCash")&&e.jsx(H,{size:"sm",variant:"outline",style:{color:"#b45309",borderColor:"#fbbf24"},onClick:et=>{et.stopPropagation(),t(se)},children:"Desfazer Finalizao"})]})]},se.id)})})]})})}),Ce&&de&&Ze&&e.jsx(Q4,{vehicle:Ce,rate:de,currentValue:Ze.currentValue,excessHours:Ze.excessHours,excessValue:Ze.excessValue})]}),e.jsx(X_,{open:b,onOpenChange:N,vehicle:S,onSaved:M}),e.jsx(Y4,{open:P,onOpenChange:C,vehicle:D,rate:D?x.find(se=>se.id===D.rateId):void 0,calculatedValue:D&&x.find(se=>se.id===D.rateId)?F?0:$(D,x.find(se=>se.id===D.rateId),new Date):0,onConfirm:ce,companyConfig:i,operatorName:"Operador do Sistema",isMonthlyVehicle:F}),e.jsx(K4,{open:W,onOpenChange:se=>{V(se),se||J(void 0)},vehicle:I,companyConfig:i,operatorName:"Operador do Sistema",onSubmit:Z})]})}function X4({dueDate:t,monthlyValue:n,selectedMonths:s,onMonthsChange:o}){const[i,c]=d.useState([]);d.useEffect(()=>{if(!t){c([]);return}try{const w=fv(t),j=pv(cv(w),1),T=[];for(let b=0;b<12;b++){const N=pv(j,b);F_(N,cv(new Date))&&T.unshift(Re(N,"yyyy-MM"))}c(T)}catch(w){console.error("Error calculating available months:",w),c([])}},[t]);const u=i.reduce((w,j)=>{const T=j.split("-")[0];return w[T]||(w[T]=[]),w[T].push(j),w},{}),h=w=>{s.includes(w)?o(s.filter(j=>j!==w)):o([...s,w].sort())},f=()=>{o([...i])},v=()=>{o([])},p=w=>{try{const j=fv(`${w}-01`);return Re(j,"MMM",{locale:nt})}catch{return w}},x=s.length*n;return i.length===0?e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 text-center text-sm text-muted-foreground",children:[e.jsx(fn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Defina o prximo vencimento para ver os meses disponveis"})]}):e.jsxs("div",{className:"space-y-4 bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fn,{className:"h-5 w-5 text-primary"}),e.jsx("h4",{className:"font-semibold text-sm",children:"Histrico de Pagamentos Anteriores"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marque os meses que ",e.jsx("span",{className:"font-medium",children:"J foram pagos"})," antes do cadastro no sistema:"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(u).reverse().map(([w,j])=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:w}),e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:j.map(T=>{const b=s.includes(T);return e.jsxs("button",{type:"button",onClick:()=>h(T),className:`
                      flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium
                      transition-all border-2
                      ${b?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border hover:border-primary/50"}
                    `,children:[b?e.jsx(fg,{className:"h-3 w-3"}):e.jsx(pg,{className:"h-3 w-3"}),p(T)]},T)})})]},w))}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:f,disabled:s.length===i.length,children:[e.jsx(fg,{className:"h-4 w-4 mr-2"}),"Marcar Todos"]}),e.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:v,disabled:s.length===0,children:[e.jsx(pg,{className:"h-4 w-4 mr-2"}),"Desmarcar Todos"]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-md p-3 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Meses selecionados:"}),e.jsx("span",{className:"font-medium",children:s.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Valor por ms:"}),e.jsxs("span",{className:"font-medium",children:["R$ ",n.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-base font-semibold pt-2 border-t",children:[e.jsx("span",{children:"Total a registrar:"}),e.jsxs("span",{className:"text-primary",children:["R$ ",x.toFixed(2)]})]})]}),s.length>0&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:' Estes pagamentos sero registrados como "importao inicial" e no afetaro os relatrios financeiros atuais.'})]})}var cd="Checkbox",[Z4]=cn(cd),[eA,nf]=Z4(cd);function tA(t){const{__scopeCheckbox:n,checked:s,children:o,defaultChecked:i,disabled:c,form:u,name:h,onCheckedChange:f,required:v,value:p="on",internal_do_not_use_render:x}=t,[w,j]=ur({prop:s,defaultProp:i??!1,onChange:f,caller:cd}),[T,b]=d.useState(null),[N,P]=d.useState(null),C=d.useRef(!1),S=T?!!u||!!T.closest("form"):!0,_={checked:w,disabled:c,setChecked:j,control:T,setControl:b,name:h,form:u,value:p,hasConsumerStoppedPropagationRef:C,required:v,defaultChecked:Bs(i)?!1:i,isFormControl:S,bubbleInput:N,setBubbleInput:P};return e.jsx(eA,{scope:n,..._,children:nA(x)?x(_):o})}var zw="CheckboxTrigger",Vw=d.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:s,...o},i)=>{const{control:c,value:u,disabled:h,checked:f,required:v,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:w,isFormControl:j,bubbleInput:T}=nf(zw,t),b=Ke(i,p),N=d.useRef(f);return d.useEffect(()=>{const P=c?.form;if(P){const C=()=>x(N.current);return P.addEventListener("reset",C),()=>P.removeEventListener("reset",C)}},[c,x]),e.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":Bs(f)?"mixed":f,"aria-required":v,"data-state":qw(f),"data-disabled":h?"":void 0,disabled:h,value:u,...o,ref:b,onKeyDown:we(n,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:we(s,P=>{x(C=>Bs(C)?!0:!C),T&&j&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});Vw.displayName=zw;var rf=d.forwardRef((t,n)=>{const{__scopeCheckbox:s,name:o,checked:i,defaultChecked:c,required:u,disabled:h,value:f,onCheckedChange:v,form:p,...x}=t;return e.jsx(tA,{__scopeCheckbox:s,checked:i,defaultChecked:c,disabled:h,required:u,onCheckedChange:v,name:o,form:p,value:f,internal_do_not_use_render:({isFormControl:w})=>e.jsxs(e.Fragment,{children:[e.jsx(Vw,{...x,ref:n,__scopeCheckbox:s}),w&&e.jsx(Ww,{__scopeCheckbox:s})]})})});rf.displayName=cd;var Bw="CheckboxIndicator",Uw=d.forwardRef((t,n)=>{const{__scopeCheckbox:s,forceMount:o,...i}=t,c=nf(Bw,s);return e.jsx(en,{present:o||Bs(c.checked)||c.checked===!0,children:e.jsx(Le.span,{"data-state":qw(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:n,style:{pointerEvents:"none",...t.style}})})});Uw.displayName=Bw;var Hw="CheckboxBubbleInput",Ww=d.forwardRef(({__scopeCheckbox:t,...n},s)=>{const{control:o,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:u,required:h,disabled:f,name:v,value:p,form:x,bubbleInput:w,setBubbleInput:j}=nf(Hw,t),T=Ke(s,j),b=rd(c),N=$c(o);d.useEffect(()=>{const C=w;if(!C)return;const S=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(S,"checked").set,U=!i.current;if(b!==c&&D){const F=new Event("click",{bubbles:U});C.indeterminate=Bs(c),D.call(C,Bs(c)?!1:c),C.dispatchEvent(F)}},[w,b,c,i]);const P=d.useRef(Bs(c)?!1:c);return e.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??P.current,required:h,disabled:f,name:v,value:p,form:x,...n,tabIndex:-1,ref:T,style:{...n.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ww.displayName=Hw;function nA(t){return typeof t=="function"}function Bs(t){return t==="indeterminate"}function qw(t){return Bs(t)?"indeterminate":t?"checked":"unchecked"}const ja=d.forwardRef(({className:t,...n},s)=>e.jsx(rf,{ref:s,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsx(Uw,{className:Pe("flex items-center justify-center text-current"),children:e.jsx(kc,{className:"h-4 w-4"})})}));ja.displayName=rf.displayName;const jm="https://theproparking-backend-1rxk.onrender.com";function rA({open:t,onOpenChange:n,customer:s,onSaved:o}){const{addMonthlyCustomer:i,updateMonthlyCustomer:c}=Dr(),{token:u}=zn(),[h,f]=d.useState(""),[v,p]=d.useState(""),[x,w]=d.useState(""),[j,T]=d.useState(""),[b,N]=d.useState(null),[P,C]=d.useState(""),[S,_]=d.useState(!1),[D,U]=d.useState([]),[F,Q]=d.useState(""),[ee,te]=d.useState(!1),[W,V]=d.useState(""),[I,J]=d.useState("Dinheiro"),[he,ie]=d.useState(""),[ue,L]=d.useState(0),[R,M]=d.useState(""),[E,O]=d.useState(new Date),[$,K]=d.useState(""),[ce,je]=d.useState(""),[Z,fe]=d.useState([]),[Ee,ke]=d.useState(!1);d.useEffect(()=>{if(s){f(s.name),p(s.cpf||""),w(s.phone||"");const me=s.parkingSlot?.toString()||"";T(me),N(me);const G=Array.isArray(s.plates)?s.plates:[];if(U(G.map(le=>({id:Math.random().toString(),value:le,isEditing:!1}))),V(s.value.toString()),M(s.operatorName||""),s.contractDate&&O(new Date(s.contractDate)),s.dueDate){const le=new Date(s.dueDate);K(le.toISOString().split("T")[0])}if(s.lastPayment){const le=new Date(s.lastPayment);je(le.toISOString().split("T")[0])}}else f(""),p(""),w(""),T(""),N(null),C(""),U([]),V("150"),J("Dinheiro"),ie(""),L(0),M(""),te(!1),Q(""),K(""),je(""),fe([]),ke(!1)},[s,t]);const ze=me=>{const G=me.replace(/\D/g,"");return G.length<=11?G.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):me},A=me=>{const G=me.replace(/\D/g,"");return G.length<=11?G.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d{1,4})$/,"$1-$2"):me},Ce=me=>{p(ze(me.target.value))},de=me=>{w(A(me.target.value))},Ze=()=>{D.length>=5||(te(!0),Q(""))},se=me=>{if(me.key==="Enter"){me.preventDefault();const G=F.trim();if(G){const le=G.toUpperCase();U(be=>[...be,{id:Date.now().toString(),value:le,isEditing:!1}]),Q(""),te(!1)}}else me.key==="Escape"&&(Q(""),te(!1))},Me=()=>{F.trim()||te(!1)},ht=me=>{U(G=>G.map(le=>le.id===me?{...le,isEditing:!0}:le))},bt=(me,G)=>{U(le=>le.map(be=>be.id===me?{...be,value:G.toUpperCase(),isEditing:!1}:be))},et=me=>{U(G=>G.filter(le=>le.id!==me))};d.useEffect(()=>{if(I==="Dinheiro"&&he&&W){const me=parseFloat(he),G=parseFloat(W);L(me>G?me-G:0)}else L(0)},[he,W,I]);const tt=async me=>{if(!me||isNaN(parseInt(me))){C("");return}_(!0),C("");try{const G=s?.id?`${jm}/monthlyCustomers/slot/${me}/check?customerId=${s.id}`:`${jm}/monthlyCustomers/slot/${me}/check`,le=u?{Authorization:`Bearer ${u}`}:{},be=await fetch(G,{headers:le}),We=await be.json();be.ok?We.available||C(We.message||"Esta vaga j est em uso."):(console.warn("Slot check failed:",We.error),C(""))}catch(G){console.error("Erro ao verificar vaga:",G),C("")}finally{_(!1)}},Dt=me=>{const G=me.target.value.replace(/\D/g,"");T(G),C("")};d.useEffect(()=>{if(!j){C("");return}if(s?.id&&b&&j===b){C("");return}const me=setTimeout(()=>{tt(j)},500);return()=>clearTimeout(me)},[j,s?.id,b,u]);const xt=async me=>{if(me.preventDefault(),!h.trim()){alert("Por favor, preencha o nome do cliente.");return}if(D.length===0){alert("Por favor, adicione pelo menos uma placa de veculo.");return}if(!W||parseFloat(W)<=0){alert("Por favor, informe o valor mensal.");return}if(P){alert("Por favor, escolha uma vaga disponvel antes de continuar.");return}try{if(s?.id){const G={name:h.trim(),cpf:v.trim()||null,phone:x.trim()||null,parkingSlot:j?parseInt(j):null,plates:(Array.isArray(D)?D:[]).map(le=>le.value),value:parseFloat(W),operatorName:R.trim()||void 0,contractDate:E?new Date(Re(E,"yyyy-MM-dd")+"T12:00:00").toISOString():void 0,dueDate:$?new Date($+"T12:00:00").toISOString():void 0,lastPayment:ce?new Date(ce+"T12:00:00").toISOString():void 0};await c(s.id,G)}else{const G={name:h.trim(),cpf:v.trim()||null,phone:x.trim()||null,parkingSlot:j?parseInt(j):null,plates:(Array.isArray(D)?D:[]).map(be=>be.value),value:parseFloat(W),paymentMethod:Ee?null:I,paidAmount:Ee?null:I==="Dinheiro"?parseFloat(he):void 0,operatorName:R.trim()||void 0,status:"Em dia",contractDate:E.toISOString(),dueDate:$||iw(E,1).toISOString(),retroactivePayments:Z.length>0?Z:void 0,isRetroactive:Ee},le=await i(G);if(le?.id&&!Ee&&Z.length===0){const be=await fetch(`${jm}/monthlyCustomers/${le.id}/receipt`,{headers:u?{Authorization:`Bearer ${u}`}:void 0});if(be.ok){const We=await be.json();At(We)}}}n(!1),o&&o()}catch(G){const le=G instanceof Error?G.message:String(G);console.error("Erro ao salvar cliente:",le),alert(`Erro ao salvar cliente: ${le}

Verifique o console para mais detalhes.`)}},At=me=>{const G=window.open("","_blank");if(!G)return;const le=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Recibo de Mensalista</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
            .receipt { border: 2px solid #000; padding: 20px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
            .header h1 { font-size: 24px; margin-bottom: 5px; }
            .header p { font-size: 12px; margin: 2px 0; }
            .section { margin: 15px 0; }
            .section-title { font-weight: bold; font-size: 14px; margin-bottom: 8px; border-bottom: 1px solid #000; }
            .field { display: flex; margin: 5px 0; font-size: 12px; }
            .field-label { font-weight: bold; width: 150px; }
            .field-value { flex: 1; }
            .plates { display: flex; flex-wrap: wrap; gap: 10px; }
            .plate-badge { background: #333; color: white; padding: 5px 10px; border-radius: 4px; font-weight: bold; }
            .footer { margin-top: 20px; padding-top: 15px; border-top: 2px solid #000; text-align: center; font-size: 11px; }
            @media print {
              body { padding: 0; }
              @page { margin: 0.5cm; }
            }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h1>${me.company.name}</h1>
              ${me.company.legalName?`<p>${me.company.legalName}</p>`:""}
              ${me.company.cnpj?`<p>CNPJ: ${me.company.cnpj}</p>`:""}
              ${me.company.address?`<p>${me.company.address}</p>`:""}
              ${me.company.phone?`<p>Tel: ${me.company.phone}</p>`:""}
            </div>
            
            <div class="section">
              <div class="section-title">RECIBO DE CONTRATO MENSALISTA</div>
            </div>

            <div class="section">
              <div class="section-title">Dados do Cliente</div>
              <div class="field">
                <span class="field-label">Nome:</span>
                <span class="field-value">${me.customer.name}</span>
              </div>
              ${me.customer.cpf?`
              <div class="field">
                <span class="field-label">CPF:</span>
                <span class="field-value">${me.customer.cpf}</span>
              </div>`:""}
              ${me.customer.phone?`
              <div class="field">
                <span class="field-label">Telefone:</span>
                <span class="field-value">${me.customer.phone}</span>
              </div>`:""}
            </div>

            <div class="section">
              <div class="section-title">Vaga e Veculos</div>
              ${me.customer.parkingSlot?`
              <div class="field">
                <span class="field-label">Vaga Reservada:</span>
                <span class="field-value" style="font-size: 18px; font-weight: bold; color: #2563eb;">N ${me.customer.parkingSlot}</span>
              </div>`:""}
              <div class="field" style="margin-top: 10px;">
                <span class="field-label">Placas Cadastradas:</span>
              </div>
              <div class="plates">
                ${(Array.isArray(me.customer.plates)?me.customer.plates:[]).map(be=>`<span class="plate-badge">${be}</span>`).join("")}
              </div>
              <p style="font-size: 11px; margin-top: 8px; color: #666;">
                * O cliente possui ${(Array.isArray(me.customer.plates)?me.customer.plates:[]).length} veculo(s) cadastrado(s) para esta vaga.
              </p>
            </div>

            <div class="section">
              <div class="section-title">Dados do Contrato</div>
              <div class="field">
                <span class="field-label">Data do Contrato:</span>
                <span class="field-value">${Re(new Date(me.contract.date),"dd/MM/yyyy HH:mm")}</span>
              </div>
              <div class="field">
                <span class="field-label">Valor Mensal:</span>
                <span class="field-value">R$ ${me.contract.value.toFixed(2)}</span>
              </div>
              <div class="field">
                <span class="field-label">Vencimento:</span>
                <span class="field-value">${Re(new Date(me.contract.dueDate),"dd/MM/yyyy")}</span>
              </div>
            </div>

            ${me.payment?`
            <div class="section">
              <div class="section-title">Pagamento</div>
              <div class="field">
                <span class="field-label">Forma de Pagamento:</span>
                <span class="field-value">${me.payment.method}</span>
              </div>
              <div class="field">
                <span class="field-label">Valor Pago:</span>
                <span class="field-value">R$ ${me.payment.value.toFixed(2)}</span>
              </div>
              <div class="field">
                <span class="field-label">Data do Pagamento:</span>
                <span class="field-value">${Re(new Date(me.payment.date),"dd/MM/yyyy HH:mm")}</span>
              </div>
            </div>`:""}

            ${me.operator?`
            <div class="section">
              <div class="field">
                <span class="field-label">Operador:</span>
                <span class="field-value">${me.operator}</span>
              </div>
            </div>`:""}

            <div class="footer">
              <p>Este recibo  comprovante de contrato de estacionamento mensal.</p>
              <p>Emitido em: ${Re(new Date,"dd/MM/yyyy HH:mm")}</p>
            </div>
          </div>
          <script>
            window.onload = () => {
              window.print();
            };
          <\/script>
        </body>
      </html>
    `;G.document.write(le),G.document.close()};return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-[650px] max-h-[95vh] overflow-y-auto",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:s?"Editar Cliente":"Adicionar Cliente Mensalista"}),e.jsx($n,{children:s?"Edite os dados do cliente mensalista.":"Registre um novo cliente mensalista com pagamento e recibo."})]}),!s&&e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900 rounded-md",children:[e.jsx(ja,{id:"retroactive",checked:Ee,onCheckedChange:me=>ke(me)}),e.jsx(B,{htmlFor:"retroactive",className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Cliente Retroativo (j era mensalista antes do app existir)"})]}),e.jsxs("form",{onSubmit:xt,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[!s&&!Ee&&e.jsxs("div",{className:"bg-muted/50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Data do Contrato"}),e.jsx("div",{className:"text-lg font-semibold",children:Re(E,"dd/MM/yyyy 's' HH:mm")})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(B,{htmlFor:"name",className:"text-right",children:["Nome ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"name",value:h,onChange:me=>f(me.target.value),className:"col-span-3",placeholder:"Nome completo do cliente",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"cpf",className:"text-right",children:"CPF"}),e.jsx(re,{id:"cpf",value:v,onChange:Ce,className:"col-span-3",placeholder:"000.000.000-00",maxLength:14,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"phone",className:"text-right",children:"Telefone"}),e.jsx(re,{id:"phone",value:x,onChange:de,className:"col-span-3",placeholder:"(00) 00000-0000",maxLength:15,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"parkingSlot",className:"text-right",children:"Vaga"}),e.jsxs("div",{className:"col-span-3 space-y-1",children:[e.jsx(re,{id:"parkingSlot",type:"number",value:j,onChange:Dt,placeholder:"Nmero da vaga",min:"1",required:!0,className:P?"border-red-500":""}),S&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verificando disponibilidade..."}),P&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:P}),j&&!P&&!S&&e.jsx("p",{className:"text-sm text-green-600 font-medium",children:" Vaga disponvel"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Uma vaga por cliente (at 5 veculos na mesma vaga)"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsxs(B,{className:"text-right pt-2",children:["Placas ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"col-span-3 space-y-2",children:[(Array.isArray(D)?D:[]).map(me=>e.jsxs("div",{className:"flex gap-2 items-center",children:[me.isEditing?e.jsx(re,{value:me.value,onChange:G=>{const le=G.target.value.toUpperCase();U(be=>be.map(We=>We.id===me.id?{...We,value:le}:We))},onBlur:()=>bt(me.id,me.value),onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),bt(me.id,me.value))},autoFocus:!0,placeholder:"ABC-1234",className:"flex-1"}):e.jsx("div",{className:"flex-1 px-3 py-2 border rounded-md bg-muted font-mono font-semibold",children:me.value}),e.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:()=>ht(me.id),disabled:me.isEditing,children:e.jsx(zs,{className:"h-4 w-4"})}),e.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:()=>et(me.id),children:e.jsx(Jn,{className:"h-4 w-4 text-red-500"})})]},me.id)),ee&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{value:F,onChange:me=>Q(me.target.value.toUpperCase()),onKeyDown:se,onBlur:Me,placeholder:"ABC-1234 (pressione Enter ou clique Confirmar)",autoFocus:!0,maxLength:8}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{type:"button",variant:"default",size:"sm",onClick:()=>{const me=F.trim();if(me){const G=me.toUpperCase();U(le=>[...le,{id:Date.now().toString(),value:G,isEditing:!1}]),Q(""),te(!1)}},disabled:!F.trim(),className:"flex-1",children:"Confirmar Placa"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{Q(""),te(!1)},children:"Cancelar"})]})]}),!ee&&D.length<5&&e.jsxs(H,{type:"button",variant:"outline",onClick:Ze,className:"w-full",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Adicionar Placa ",D.length>0&&`(${D.length}/5)`]}),D.length>=5&&e.jsx("p",{className:"text-sm text-muted-foreground",children:" Mximo de 5 veculos atingido"}),D.length===0&&!ee&&e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Clique no boto acima para adicionar a primeira placa"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(B,{htmlFor:"value",className:"text-right",children:["Valor Mensal ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"value",type:"number",step:"0.01",value:W,onChange:me=>V(me.target.value),placeholder:"150.00",className:"col-span-3",required:!0})]}),!s&&e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"dueDate",className:"text-right",children:"Prximo Vencimento"}),e.jsxs("div",{className:"col-span-3 space-y-1",children:[e.jsx(re,{id:"dueDate",type:"date",value:$,onChange:me=>K(me.target.value),className:"col-span-3"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para usar o padro (1 ms aps hoje)"})]})]}),!s&&$&&parseFloat(W)>0&&e.jsx("div",{className:"col-span-4",children:e.jsx(X4,{dueDate:$,monthlyValue:parseFloat(W),selectedMonths:Z,onMonthsChange:fe})}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"operator",className:"text-right",children:"Operador"}),e.jsx(re,{id:"operator",value:R,onChange:me=>M(me.target.value),placeholder:"Nome do operador (opcional)",className:"col-span-3"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"editContractDate",className:"text-right",children:"Data de Contratao"}),e.jsx(re,{id:"editContractDate",type:"date",value:E?Re(E,"yyyy-MM-dd"):"",onChange:me=>O(new Date(me.target.value)),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"editDueDate",className:"text-right",children:"Vencimento"}),e.jsx(re,{id:"editDueDate",type:"date",value:$,onChange:me=>K(me.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{htmlFor:"editLastPayment",className:"text-right",children:"ltimo Pagamento"}),e.jsx(re,{id:"editLastPayment",type:"date",value:ce,onChange:me=>je(me.target.value),className:"col-span-3"})]})]}),!s&&!Ee&&e.jsxs("div",{className:"border-t pt-4 mt-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Pagamento"}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 mb-3",children:[e.jsx(B,{className:"text-right",children:"Forma"}),e.jsxs(dt,{value:I,onValueChange:J,children:[e.jsx(it,{className:"col-span-3",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(pe,{value:"Pix",children:"Pix"}),e.jsx(pe,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(pe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),I==="Dinheiro"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 mb-3",children:[e.jsx(B,{htmlFor:"paidAmount",className:"text-right",children:"Valor Pago"}),e.jsx(re,{id:"paidAmount",type:"number",step:"0.01",value:he,onChange:me=>ie(me.target.value),placeholder:"200.00",className:"col-span-3"})]}),ue>0&&e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(B,{className:"text-right",children:"Troco"}),e.jsxs("div",{className:"col-span-3 px-3 py-2 bg-muted rounded-md font-semibold text-green-600",children:["R$ ",ue.toFixed(2)]})]})]})]})]}),e.jsxs(zt,{children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(H,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:s?"Salvar Alteraes":Ee?"Salvar":"Salvar + Imprimir Recibo"})]})]})]})})}const sA=({open:t,onOpenChange:n,customer:s,onSaved:o})=>{const{registerPayment:i,companyConfig:c}=Dr(),{toast:u}=St(),h=d.useRef(null),[f,v]=d.useState(""),[p,x]=d.useState("Dinheiro"),[w,j]=d.useState(""),[T,b]=d.useState(!1),[N,P]=d.useState(0),[C,S]=d.useState(null),[_,D]=d.useState({});d.useEffect(()=>{t&&(v(Re(new Date,"yyyy-MM-dd")),x("Dinheiro"),j(""),b(!1),U())},[t]);const U=async()=>{try{const W=await fetch("http://localhost:3000/receipt-templates/default/monthly_payment",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(W.ok){const V=await W.json();S(V);const I={};Array.isArray(V.customFields)&&V.customFields.forEach(J=>{I[J.name]=J.defaultValue||""}),I.referenceMonth=Re(new Date,"MMMM/yyyy",{locale:nt}),D(I)}}catch(W){const V=W instanceof Error?W.message:String(W);console.error("Error fetching template:",V)}},F=()=>!s||!w?0:parseFloat(w)-s.value,Q=async()=>{if(!s||!f)return;const W=await i(s.id,{date:f,value:s.value,method:p});P(W),b(!0),u({title:"Pagamento registrado",description:"O recibo foi gerado automaticamente"}),o&&o()},ee=()=>{window.print()},te=()=>{n(!1),b(!1)};return s?e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ft,{children:e.jsxs(pt,{children:["Registrar Pagamento - ",s.name]})}),T?e.jsxs("div",{children:[e.jsxs("div",{ref:h,className:"bg-white text-black p-8 rounded-lg border-2 border-gray-300",children:[e.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-gray-300",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg p-2 shadow-md",children:e.jsx(Car,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"PROPARKING"}),e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"APP - 2025"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Sistema de Gesto de Estacionamento"}),C?.showCompanyName!==!1&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",style:{color:C?.primaryColor||"#1e40af"},children:c.name}),C?.showCompanyDetails!==!1&&e.jsxs(e.Fragment,{children:[c.legalName&&e.jsx("p",{className:"text-sm text-gray-600",children:c.legalName}),c.cnpj&&e.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",c.cnpj]}),c.address&&e.jsx("p",{className:"text-sm text-gray-600",children:c.address}),c.phone&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Tel: ",c.phone]})]})]})]}),C?.showReceiptNumber!==!1&&e.jsxs("div",{className:"border-t-2 border-b-2 border-gray-300 py-4 my-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-center",children:["RECIBO N ",N.toString().padStart(6,"0")]}),e.jsx("p",{className:"text-center text-sm mt-1",children:"Mensalista"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Cliente:"})," ",s.name]}),C?.showPlate!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Placas:"})," ",s.plates.join(", ")]}),C?.showDate!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Data do Pagamento:"})," ",Re(new Date(f),"dd/MM/yyyy",{locale:nt})]}),C?.showPaymentMethod!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Forma de Pagamento:"})," ",p]}),C?.showValue!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Valor Pago:"})," R$ ",s.value.toFixed(2)]}),C?.customFields?.map(W=>e.jsxs("p",{children:[e.jsxs("strong",{children:[W.label,":"]})," ",_[W.name]||"-"]},W.name))]}),C?.showSignatureLine!==!1&&e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-300",children:[e.jsx("p",{className:"text-center",children:"_______________________________"}),e.jsx("p",{className:"text-center text-sm mt-1",children:"Assinatura do Responsvel"})]}),C?.termsAndConditions&&e.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-300 rounded",children:e.jsxs("p",{className:"text-xs text-center",children:[e.jsx("strong",{children:"ATENO:"})," ",C.termsAndConditions]})}),C?.footerText&&e.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:C.footerText}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:" 2025 ProParking App - Todos os direitos reservados"})})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(H,{variant:"outline",onClick:ee,className:"flex-1",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Imprimir"]}),e.jsx(H,{onClick:te,className:"flex-1",children:"Fechar"})]})]}):e.jsxs("form",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor a receber:"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",s.value.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"paymentDate",children:"Data do Pagamento"}),e.jsx(re,{id:"paymentDate",type:"date",value:f,onChange:W=>v(W.target.value)})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),e.jsxs(dt,{value:p,onValueChange:W=>x(W),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(pe,{value:"Pix",children:"Pix"}),e.jsx(pe,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(pe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),p==="Dinheiro"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"amountReceived",children:"Valor Recebido (R$)"}),e.jsx(re,{id:"amountReceived",type:"number",step:"0.01",value:w,onChange:W=>j(W.target.value),placeholder:"0.00"}),w&&e.jsxs("p",{className:"text-sm mt-2 text-muted-foreground",children:["Troco: R$ ",F().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(H,{type:"button",onClick:Q,children:"Confirmar Pagamento"})]})]})]})}):null};function aA({customer:t,statusInfo:n}){const s=i=>i?{cash:"Dinheiro",pix:"Pix",debit_card:"Carto Dbito",credit_card:"Carto Crdito",Dinheiro:"Dinheiro",Pix:"Pix","Carto Dbito":"Carto Dbito","Carto Crdito":"Carto Crdito"}[i]||i:"-",o=[...t.paymentHistory||[]].sort((i,c)=>new Date(c.date).getTime()-new Date(i.date).getTime());return e.jsxs("div",{className:"mt-4 bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-lg p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 text-primary flex items-center gap-2",children:[e.jsx(Pi,{className:"h-5 w-5"}),"Detalhes do Cliente"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[e.jsx(Mc,{className:"h-4 w-4"}),"Informaes Bsicas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nome"}),e.jsx("p",{className:"font-medium",children:t.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Cr,{className:"h-3 w-3"}),"Placa(s)"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(t.plates)?t.plates:[]).map((i,c)=>e.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded font-medium",children:i},c))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(uy,{className:"h-3 w-3"}),"Telefone"]}),e.jsx("p",{className:"font-medium",children:t.phone||""})]}),t.cpf&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Sn,{className:"h-3 w-3"}),"CPF"]}),e.jsx("p",{className:"font-medium",children:t.cpf})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(cy,{className:"h-3 w-3"}),"Vaga"]}),e.jsxs("p",{className:"font-medium",children:["Vaga ",t.parkingSlot]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tipo de Contrato"}),e.jsx("p",{className:"font-medium",children:"Mensalista"})]})]})]}),e.jsxs("div",{className:"mb-6 pt-4 border-t border-primary/10",children:[e.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[e.jsx(fn,{className:"h-4 w-4"}),"Situao Atual"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.bgColor} ${n.textColor}`,children:n.status})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Prximo Vencimento"}),e.jsx("p",{className:"font-medium",children:t.dueDate&&!isNaN(new Date(t.dueDate).getTime())?Re(new Date(t.dueDate),"dd/MM/yyyy",{locale:nt}):""})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimo Pagamento"}),e.jsx("p",{className:"font-medium",children:t.lastPayment&&!isNaN(new Date(t.lastPayment).getTime())?Re(new Date(t.lastPayment),"dd/MM/yyyy",{locale:nt}):""})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Mensal"}),e.jsxs("p",{className:"font-bold text-lg text-primary",children:["R$ ",t.value.toFixed(2)]})]}),n.daysOverdue!==void 0&&n.daysOverdue>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias de Atraso"}),e.jsxs("p",{className:"font-medium text-destructive",children:[n.daysOverdue," dia(s)"]})]}),n.daysUntilDue!==void 0&&n.daysUntilDue>=0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias Restantes"}),e.jsxs("p",{className:"font-medium text-success",children:[n.daysUntilDue," dia(s)"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Data de Contratao"}),e.jsx("p",{className:"font-medium",children:t.contractDate&&!isNaN(new Date(t.contractDate).getTime())?Re(new Date(t.contractDate),"dd/MM/yyyy",{locale:nt}):""})]}),t.operatorName&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Operador"}),e.jsx("p",{className:"font-medium",children:t.operatorName})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-primary/10",children:[e.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[e.jsx(pi,{className:"h-4 w-4"}),"Histrico de Pagamentos"]}),o.length===0?e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Nenhum pagamento registrado ainda"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3 text-sm text-muted-foreground",children:["Total de pagamentos: ",e.jsx("span",{className:"font-medium text-foreground",children:o.length})," | ","Total acumulado: ",e.jsxs("span",{className:"font-medium text-primary",children:["R$ ",o.reduce((i,c)=>i+c.value,0).toFixed(2)]})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/30 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Data"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Valor"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Mtodo"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Recibo"})]})}),e.jsx("tbody",{children:o.map((i,c)=>e.jsxs("tr",{className:c%2===0?"bg-background":"bg-muted/10",children:[e.jsx("td",{className:"px-3 py-2",children:i.date&&!isNaN(new Date(i.date).getTime())?Re(new Date(i.date),"dd/MM/yyyy",{locale:nt}):""}),e.jsxs("td",{className:"px-3 py-2 font-medium",children:["R$ ",i.value.toFixed(2)]}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-muted",children:s(i.method)})}),e.jsxs("td",{className:"px-3 py-2 text-muted-foreground",children:["#",i.receiptNumber]})]},i.id))})]})})]})]})]})}var lh=["Enter"," "],oA=["ArrowDown","PageUp","Home"],Gw=["ArrowUp","PageDown","End"],iA=[...oA,...Gw],lA={ltr:[...lh,"ArrowRight"],rtl:[...lh,"ArrowLeft"]},cA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oi="Menu",[Ci,dA,uA]=Ec(Oi),[ba,dd]=cn(Oi,[uA,Ys,No]),ud=Ys(),Yw=No(),[mA,Na]=ba(Oi),[hA,Fi]=ba(Oi),Kw=t=>{const{__scopeMenu:n,open:s=!1,children:o,dir:i,onOpenChange:c,modal:u=!0}=t,h=ud(n),[f,v]=d.useState(null),p=d.useRef(!1),x=Gt(c),w=wo(i);return d.useEffect(()=>{const j=()=>{p.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>p.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),e.jsx(Lc,{...h,children:e.jsx(mA,{scope:n,open:s,onOpenChange:x,content:f,onContentChange:v,children:e.jsx(hA,{scope:n,onClose:d.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:p,dir:w,modal:u,children:o})})})};Kw.displayName=Oi;var fA="MenuAnchor",sf=d.forwardRef((t,n)=>{const{__scopeMenu:s,...o}=t,i=ud(s);return e.jsx(Ri,{...i,...o,ref:n})});sf.displayName=fA;var af="MenuPortal",[pA,Qw]=ba(af,{forceMount:void 0}),Jw=t=>{const{__scopeMenu:n,forceMount:s,children:o,container:i}=t,c=Na(af,n);return e.jsx(pA,{scope:n,forceMount:s,children:e.jsx(en,{present:s||c.open,children:e.jsx(fo,{asChild:!0,container:i,children:o})})})};Jw.displayName=af;var dr="MenuContent",[xA,of]=ba(dr),Xw=d.forwardRef((t,n)=>{const s=Qw(dr,t.__scopeMenu),{forceMount:o=s.forceMount,...i}=t,c=Na(dr,t.__scopeMenu),u=Fi(dr,t.__scopeMenu);return e.jsx(Ci.Provider,{scope:t.__scopeMenu,children:e.jsx(en,{present:o||c.open,children:e.jsx(Ci.Slot,{scope:t.__scopeMenu,children:u.modal?e.jsx(gA,{...i,ref:n}):e.jsx(vA,{...i,ref:n})})})})}),gA=d.forwardRef((t,n)=>{const s=Na(dr,t.__scopeMenu),o=d.useRef(null),i=Ke(n,o);return d.useEffect(()=>{const c=o.current;if(c)return Jc(c)},[]),e.jsx(lf,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:we(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),vA=d.forwardRef((t,n)=>{const s=Na(dr,t.__scopeMenu);return e.jsx(lf,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),yA=Us("MenuContent.ScrollLock"),lf=d.forwardRef((t,n)=>{const{__scopeMenu:s,loop:o=!1,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:f,onEscapeKeyDown:v,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:w,onDismiss:j,disableOutsideScroll:T,...b}=t,N=Na(dr,s),P=Fi(dr,s),C=ud(s),S=Yw(s),_=dA(s),[D,U]=d.useState(null),F=d.useRef(null),Q=Ke(n,F,N.onContentChange),ee=d.useRef(0),te=d.useRef(""),W=d.useRef(0),V=d.useRef(null),I=d.useRef("right"),J=d.useRef(0),he=T?Mi:d.Fragment,ie=T?{as:yA,allowPinchZoom:!0}:void 0,ue=R=>{const M=te.current+R,E=_().filter(Z=>!Z.disabled),O=document.activeElement,$=E.find(Z=>Z.ref.current===O)?.textValue,K=E.map(Z=>Z.textValue),ce=DA(K,M,$),je=E.find(Z=>Z.textValue===ce)?.ref.current;(function Z(fe){te.current=fe,window.clearTimeout(ee.current),fe!==""&&(ee.current=window.setTimeout(()=>Z(""),1e3))})(M),je&&setTimeout(()=>je.focus())};d.useEffect(()=>()=>window.clearTimeout(ee.current),[]),Qc();const L=d.useCallback(R=>I.current===V.current?.side&&_A(R,V.current?.area),[]);return e.jsx(xA,{scope:s,searchRef:te,onItemEnter:d.useCallback(R=>{L(R)&&R.preventDefault()},[L]),onItemLeave:d.useCallback(R=>{L(R)||(F.current?.focus(),U(null))},[L]),onTriggerLeave:d.useCallback(R=>{L(R)&&R.preventDefault()},[L]),pointerGraceTimerRef:W,onPointerGraceIntentChange:d.useCallback(R=>{V.current=R},[]),children:e.jsx(he,{...ie,children:e.jsx(Di,{asChild:!0,trapped:i,onMountAutoFocus:we(c,R=>{R.preventDefault(),F.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:e.jsx(wa,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:v,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:w,onDismiss:j,children:e.jsx(Zh,{asChild:!0,...S,dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:D,onCurrentTabStopIdChange:U,onEntryFocus:we(f,R=>{P.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(zc,{role:"menu","aria-orientation":"vertical","data-state":fb(N.open),"data-radix-menu-content":"",dir:P.dir,...C,...b,ref:Q,style:{outline:"none",...b.style},onKeyDown:we(b.onKeyDown,R=>{const E=R.target.closest("[data-radix-menu-content]")===R.currentTarget,O=R.ctrlKey||R.altKey||R.metaKey,$=R.key.length===1;E&&(R.key==="Tab"&&R.preventDefault(),!O&&$&&ue(R.key));const K=F.current;if(R.target!==K||!iA.includes(R.key))return;R.preventDefault();const je=_().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);Gw.includes(R.key)&&je.reverse(),kA(je)}),onBlur:we(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(ee.current),te.current="")}),onPointerMove:we(t.onPointerMove,Si(R=>{const M=R.target,E=J.current!==R.clientX;if(R.currentTarget.contains(M)&&E){const O=R.clientX>J.current?"right":"left";I.current=O,J.current=R.clientX}}))})})})})})})});Xw.displayName=dr;var jA="MenuGroup",cf=d.forwardRef((t,n)=>{const{__scopeMenu:s,...o}=t;return e.jsx(Le.div,{role:"group",...o,ref:n})});cf.displayName=jA;var wA="MenuLabel",Zw=d.forwardRef((t,n)=>{const{__scopeMenu:s,...o}=t;return e.jsx(Le.div,{...o,ref:n})});Zw.displayName=wA;var Nc="MenuItem",gv="menu.itemSelect",md=d.forwardRef((t,n)=>{const{disabled:s=!1,onSelect:o,...i}=t,c=d.useRef(null),u=Fi(Nc,t.__scopeMenu),h=of(Nc,t.__scopeMenu),f=Ke(n,c),v=d.useRef(!1),p=()=>{const x=c.current;if(!s&&x){const w=new CustomEvent(gv,{bubbles:!0,cancelable:!0});x.addEventListener(gv,j=>o?.(j),{once:!0}),fh(x,w),w.defaultPrevented?v.current=!1:u.onClose()}};return e.jsx(eb,{...i,ref:f,disabled:s,onClick:we(t.onClick,p),onPointerDown:x=>{t.onPointerDown?.(x),v.current=!0},onPointerUp:we(t.onPointerUp,x=>{v.current||x.currentTarget?.click()}),onKeyDown:we(t.onKeyDown,x=>{const w=h.searchRef.current!=="";s||w&&x.key===" "||lh.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});md.displayName=Nc;var eb=d.forwardRef((t,n)=>{const{__scopeMenu:s,disabled:o=!1,textValue:i,...c}=t,u=of(Nc,s),h=Yw(s),f=d.useRef(null),v=Ke(n,f),[p,x]=d.useState(!1),[w,j]=d.useState("");return d.useEffect(()=>{const T=f.current;T&&j((T.textContent??"").trim())},[c.children]),e.jsx(Ci.ItemSlot,{scope:s,disabled:o,textValue:i??w,children:e.jsx(ef,{asChild:!0,...h,focusable:!o,children:e.jsx(Le.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:v,onPointerMove:we(t.onPointerMove,Si(T=>{o?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(t.onPointerLeave,Si(T=>u.onItemLeave(T))),onFocus:we(t.onFocus,()=>x(!0)),onBlur:we(t.onBlur,()=>x(!1))})})})}),bA="MenuCheckboxItem",tb=d.forwardRef((t,n)=>{const{checked:s=!1,onCheckedChange:o,...i}=t;return e.jsx(ob,{scope:t.__scopeMenu,checked:s,children:e.jsx(md,{role:"menuitemcheckbox","aria-checked":Cc(s)?"mixed":s,...i,ref:n,"data-state":uf(s),onSelect:we(i.onSelect,()=>o?.(Cc(s)?!0:!s),{checkForDefaultPrevented:!1})})})});tb.displayName=bA;var nb="MenuRadioGroup",[NA,CA]=ba(nb,{value:void 0,onValueChange:()=>{}}),rb=d.forwardRef((t,n)=>{const{value:s,onValueChange:o,...i}=t,c=Gt(o);return e.jsx(NA,{scope:t.__scopeMenu,value:s,onValueChange:c,children:e.jsx(cf,{...i,ref:n})})});rb.displayName=nb;var sb="MenuRadioItem",ab=d.forwardRef((t,n)=>{const{value:s,...o}=t,i=CA(sb,t.__scopeMenu),c=s===i.value;return e.jsx(ob,{scope:t.__scopeMenu,checked:c,children:e.jsx(md,{role:"menuitemradio","aria-checked":c,...o,ref:n,"data-state":uf(c),onSelect:we(o.onSelect,()=>i.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});ab.displayName=sb;var df="MenuItemIndicator",[ob,SA]=ba(df,{checked:!1}),ib=d.forwardRef((t,n)=>{const{__scopeMenu:s,forceMount:o,...i}=t,c=SA(df,s);return e.jsx(en,{present:o||Cc(c.checked)||c.checked===!0,children:e.jsx(Le.span,{...i,ref:n,"data-state":uf(c.checked)})})});ib.displayName=df;var EA="MenuSeparator",lb=d.forwardRef((t,n)=>{const{__scopeMenu:s,...o}=t;return e.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});lb.displayName=EA;var TA="MenuArrow",cb=d.forwardRef((t,n)=>{const{__scopeMenu:s,...o}=t,i=ud(s);return e.jsx(Vc,{...i,...o,ref:n})});cb.displayName=TA;var PA="MenuSub",[hF,db]=ba(PA),mi="MenuSubTrigger",ub=d.forwardRef((t,n)=>{const s=Na(mi,t.__scopeMenu),o=Fi(mi,t.__scopeMenu),i=db(mi,t.__scopeMenu),c=of(mi,t.__scopeMenu),u=d.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:f}=c,v={__scopeMenu:t.__scopeMenu},p=d.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return d.useEffect(()=>p,[p]),d.useEffect(()=>{const x=h.current;return()=>{window.clearTimeout(x),f(null)}},[h,f]),e.jsx(sf,{asChild:!0,...v,children:e.jsx(eb,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":fb(s.open),...t,ref:Sc(n,i.onTriggerChange),onClick:x=>{t.onClick?.(x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:we(t.onPointerMove,Si(x=>{c.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!s.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{s.onOpenChange(!0),p()},100))})),onPointerLeave:we(t.onPointerLeave,Si(x=>{p();const w=s.content?.getBoundingClientRect();if(w){const j=s.content?.dataset.side,T=j==="right",b=T?-5:5,N=w[T?"left":"right"],P=w[T?"right":"left"];c.onPointerGraceIntentChange({area:[{x:x.clientX+b,y:x.clientY},{x:N,y:w.top},{x:P,y:w.top},{x:P,y:w.bottom},{x:N,y:w.bottom}],side:j}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(x),x.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:we(t.onKeyDown,x=>{const w=c.searchRef.current!=="";t.disabled||w&&x.key===" "||lA[o.dir].includes(x.key)&&(s.onOpenChange(!0),s.content?.focus(),x.preventDefault())})})})});ub.displayName=mi;var mb="MenuSubContent",hb=d.forwardRef((t,n)=>{const s=Qw(dr,t.__scopeMenu),{forceMount:o=s.forceMount,...i}=t,c=Na(dr,t.__scopeMenu),u=Fi(dr,t.__scopeMenu),h=db(mb,t.__scopeMenu),f=d.useRef(null),v=Ke(n,f);return e.jsx(Ci.Provider,{scope:t.__scopeMenu,children:e.jsx(en,{present:o||c.open,children:e.jsx(Ci.Slot,{scope:t.__scopeMenu,children:e.jsx(lf,{id:h.contentId,"aria-labelledby":h.triggerId,...i,ref:v,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:we(t.onFocusOutside,p=>{p.target!==h.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:we(t.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:we(t.onKeyDown,p=>{const x=p.currentTarget.contains(p.target),w=cA[u.dir].includes(p.key);x&&w&&(c.onOpenChange(!1),h.trigger?.focus(),p.preventDefault())})})})})})});hb.displayName=mb;function fb(t){return t?"open":"closed"}function Cc(t){return t==="indeterminate"}function uf(t){return Cc(t)?"indeterminate":t?"checked":"unchecked"}function kA(t){const n=document.activeElement;for(const s of t)if(s===n||(s.focus(),document.activeElement!==n))return}function RA(t,n){return t.map((s,o)=>t[(n+o)%t.length])}function DA(t,n,s){const i=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,c=s?t.indexOf(s):-1;let u=RA(t,Math.max(c,0));i.length===1&&(u=u.filter(v=>v!==s));const f=u.find(v=>v.toLowerCase().startsWith(i.toLowerCase()));return f!==s?f:void 0}function MA(t,n){const{x:s,y:o}=t;let i=!1;for(let c=0,u=n.length-1;c<n.length;u=c++){const h=n[c],f=n[u],v=h.x,p=h.y,x=f.x,w=f.y;p>o!=w>o&&s<(x-v)*(o-p)/(w-p)+v&&(i=!i)}return i}function _A(t,n){if(!n)return!1;const s={x:t.clientX,y:t.clientY};return MA(s,n)}function Si(t){return n=>n.pointerType==="mouse"?t(n):void 0}var pb=Kw,xb=sf,gb=Jw,vb=Xw,yb=cf,jb=Zw,wb=md,bb=tb,Nb=rb,Cb=ab,Sb=ib,Eb=lb,Tb=cb,Pb=ub,kb=hb,mf="ContextMenu",[AA]=cn(mf,[dd]),Tn=dd(),[OA,Rb]=AA(mf),Db=t=>{const{__scopeContextMenu:n,children:s,onOpenChange:o,dir:i,modal:c=!0}=t,[u,h]=d.useState(!1),f=Tn(n),v=Gt(o),p=d.useCallback(x=>{h(x),v(x)},[v]);return e.jsx(OA,{scope:n,open:u,onOpenChange:p,modal:c,children:e.jsx(pb,{...f,dir:i,open:u,onOpenChange:p,modal:c,children:s})})};Db.displayName=mf;var Mb="ContextMenuTrigger",_b=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,disabled:o=!1,...i}=t,c=Rb(Mb,s),u=Tn(s),h=d.useRef({x:0,y:0}),f=d.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...h.current})}),v=d.useRef(0),p=d.useCallback(()=>window.clearTimeout(v.current),[]),x=w=>{h.current={x:w.clientX,y:w.clientY},c.onOpenChange(!0)};return d.useEffect(()=>p,[p]),d.useEffect(()=>void(o&&p()),[o,p]),e.jsxs(e.Fragment,{children:[e.jsx(xb,{...u,virtualRef:f}),e.jsx(Le.span,{"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,...i,ref:n,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:o?t.onContextMenu:we(t.onContextMenu,w=>{p(),x(w),w.preventDefault()}),onPointerDown:o?t.onPointerDown:we(t.onPointerDown,Zl(w=>{p(),v.current=window.setTimeout(()=>x(w),700)})),onPointerMove:o?t.onPointerMove:we(t.onPointerMove,Zl(p)),onPointerCancel:o?t.onPointerCancel:we(t.onPointerCancel,Zl(p)),onPointerUp:o?t.onPointerUp:we(t.onPointerUp,Zl(p))})]})});_b.displayName=Mb;var FA="ContextMenuPortal",Ab=t=>{const{__scopeContextMenu:n,...s}=t,o=Tn(n);return e.jsx(gb,{...o,...s})};Ab.displayName=FA;var Ob="ContextMenuContent",Fb=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Rb(Ob,s),c=Tn(s),u=d.useRef(!1);return e.jsx(vb,{...c,...o,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:h=>{t.onCloseAutoFocus?.(h),!h.defaultPrevented&&u.current&&h.preventDefault(),u.current=!1},onInteractOutside:h=>{t.onInteractOutside?.(h),!h.defaultPrevented&&!i.modal&&(u.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fb.displayName=Ob;var IA="ContextMenuGroup",$A=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(yb,{...i,...o,ref:n})});$A.displayName=IA;var LA="ContextMenuLabel",Ib=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(jb,{...i,...o,ref:n})});Ib.displayName=LA;var zA="ContextMenuItem",$b=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(wb,{...i,...o,ref:n})});$b.displayName=zA;var VA="ContextMenuCheckboxItem",Lb=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(bb,{...i,...o,ref:n})});Lb.displayName=VA;var BA="ContextMenuRadioGroup",UA=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(Nb,{...i,...o,ref:n})});UA.displayName=BA;var HA="ContextMenuRadioItem",zb=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(Cb,{...i,...o,ref:n})});zb.displayName=HA;var WA="ContextMenuItemIndicator",Vb=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(Sb,{...i,...o,ref:n})});Vb.displayName=WA;var qA="ContextMenuSeparator",Bb=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(Eb,{...i,...o,ref:n})});Bb.displayName=qA;var GA="ContextMenuArrow",YA=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(Tb,{...i,...o,ref:n})});YA.displayName=GA;var KA="ContextMenuSubTrigger",Ub=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(Pb,{...i,...o,ref:n})});Ub.displayName=KA;var QA="ContextMenuSubContent",Hb=d.forwardRef((t,n)=>{const{__scopeContextMenu:s,...o}=t,i=Tn(s);return e.jsx(kb,{...i,...o,ref:n,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hb.displayName=QA;function Zl(t){return n=>n.pointerType!=="mouse"?t(n):void 0}var JA=Db,XA=_b,ZA=Ab,Wb=Fb,qb=Ib,Gb=$b,Yb=Lb,Kb=zb,Qb=Vb,Jb=Bb,Xb=Ub,Zb=Hb;const eO=JA,tO=XA,nO=d.forwardRef(({className:t,inset:n,children:s,...o},i)=>e.jsxs(Xb,{ref:i,className:Pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",n&&"pl-8",t),...o,children:[s,e.jsx(yh,{className:"ml-auto h-4 w-4"})]}));nO.displayName=Xb.displayName;const rO=d.forwardRef(({className:t,...n},s)=>e.jsx(Zb,{ref:s,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));rO.displayName=Zb.displayName;const eN=d.forwardRef(({className:t,...n},s)=>e.jsx(ZA,{children:e.jsx(Wb,{ref:s,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));eN.displayName=Wb.displayName;const lc=d.forwardRef(({className:t,inset:n,...s},o)=>e.jsx(Gb,{ref:o,className:Pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n&&"pl-8",t),...s}));lc.displayName=Gb.displayName;const sO=d.forwardRef(({className:t,children:n,checked:s,...o},i)=>e.jsxs(Yb,{ref:i,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:s,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Qb,{children:e.jsx(kc,{className:"h-4 w-4"})})}),n]}));sO.displayName=Yb.displayName;const aO=d.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(Kb,{ref:o,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Qb,{children:e.jsx(wh,{className:"h-2 w-2 fill-current"})})}),n]}));aO.displayName=Kb.displayName;const oO=d.forwardRef(({className:t,inset:n,...s},o)=>e.jsx(qb,{ref:o,className:Pe("px-2 py-1.5 text-sm font-semibold text-foreground",n&&"pl-8",t),...s}));oO.displayName=qb.displayName;const iO=d.forwardRef(({className:t,...n},s)=>e.jsx(Jb,{ref:s,className:Pe("-mx-1 my-1 h-px bg-border",t),...n}));iO.displayName=Jb.displayName;const lO=Ti("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nn({className:t,variant:n,...s}){return e.jsx("div",{className:Pe(lO({variant:n}),t),...s})}function vv(t){const n=new Date;n.setHours(0,0,0,0);const s=new Date(t);s.setHours(0,0,0,0);const o=s.getTime()-n.getTime(),i=Math.ceil(o/(1e3*60*60*24));if(i<0){const c=Math.abs(i);return c>30?{status:"Atraso crtico",daysOverdue:c,color:"destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}:{status:"Atrasado",daysOverdue:c,color:"destructive",bgColor:"bg-destructive/10",textColor:"text-destructive"}}return i<=5?{status:"Prximo do vencimento",daysUntilDue:i,color:"warning",bgColor:"bg-warning/10",textColor:"text-warning"}:{status:"Em dia",daysUntilDue:i,color:"success",bgColor:"bg-success/10",textColor:"text-success"}}function cO(t,n,s){if(n)return"bg-primary/10 border-l-4 border-primary";const o=s%2===0?"bg-background":"bg-muted/20";switch(t){case"Prximo do vencimento":return`${o} hover:bg-warning/5`;case"Atrasado":return`${o} hover:bg-destructive/5`;case"Atraso crtico":return`${o} hover:bg-destructive/10`;default:return`${o} hover:bg-muted/30`}}const dO=t=>t?{cash:"Dinheiro",pix:"Pix",debit_card:"Carto Dbito",credit_card:"Carto Crdito",Dinheiro:"Dinheiro",Pix:"Pix","Carto Dbito":"Carto Dbito","Carto Crdito":"Carto Crdito"}[t]||t:"-";function uO(){const{toast:t}=St(),{monthlyCustomers:n,deleteMonthlyCustomer:s}=Dr(),{hasPermission:o}=zn(),[i,c]=d.useState(!1),[u,h]=d.useState(!1),[f,v]=d.useState(),[p,x]=d.useState(""),[w,j]=d.useState(null),T=()=>{o("manageMonthlyCustomers")&&(v(void 0),c(!0))},b=F=>{o("manageMonthlyCustomers")&&(v(F),c(!0))},N=F=>{o("manageMonthlyCustomers")&&(v(F),h(!0))},P=async F=>{if(o("manageMonthlyCustomers")&&confirm(`Deseja realmente remover o cliente ${F.name}?`))try{await s(F.id),t({title:"Cliente removido",description:"O cliente foi excludo com sucesso",variant:"default"})}catch(Q){console.error("Erro ao remover cliente:",Q),t({title:"Erro ao remover",description:"No foi possvel remover o cliente",variant:"destructive"})}};d.useEffect(()=>{const F=Q=>{Q.key==="Escape"&&j(null)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[]);const C=F=>{j(F)},S=o("manageMonthlyCustomers"),_=d.useMemo(()=>n.map(F=>({...F,statusInfo:vv(F.dueDate)})),[n]),D=d.useMemo(()=>{if(!p.trim())return _;const F=p.toLowerCase();return _.filter(Q=>Q.name.toLowerCase().includes(F)||(Array.isArray(Q.plates)?Q.plates:[]).some(ee=>ee.toLowerCase().includes(F))||Q.parkingSlot?.toString().includes(F))},[_,p]),U=d.useMemo(()=>{const F=_.length,Q=_.filter(W=>W.statusInfo.status==="Em dia").length,ee=_.filter(W=>W.statusInfo.status==="Atrasado"||W.statusInfo.status==="Atraso crtico").length,te=_.reduce((W,V)=>W+V.value,0);return{total:F,emDia:Q,atrasados:ee,totalRevenue:te}},[_]);return e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mensalistas"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Gesto de clientes recorrentes"}),!S&&e.jsx("div",{className:"mt-2",children:e.jsx(Nn,{variant:"secondary",className:"text-xs",children:"Somente leitura"})})]}),S&&e.jsxs(H,{onClick:T,children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Adicionar Cliente"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de Clientes"}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:U.total})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Em Dia"}),e.jsx("div",{className:"text-2xl font-bold mt-1 text-green-600",children:U.emDia})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Atrasados"}),e.jsx("div",{className:"text-2xl font-bold mt-1 text-red-600",children:U.atrasados})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Receita Mensal"}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:["R$ ",U.totalRevenue.toFixed(2)]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Buscar por nome, placa ou vaga...",value:p,onChange:F=>x(F.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-background"})}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Cliente"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Placas"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Vaga Reservada"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Data de Contratao"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Prximo Vencimento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"ltimo Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Mtodo de Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-foreground",children:"Aes"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-muted-foreground",children:p?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"})}):D.map((F,Q)=>{const ee=w===F.id,te=cO(F.statusInfo.status,ee,Q);return e.jsxs(eO,{children:[e.jsx(tO,{asChild:!0,children:e.jsxs("tr",{className:`cursor-pointer transition-colors ${te}`,onClick:()=>C(F.id),children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:F.name}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(F.plates)?F.plates:[]).map((W,V)=>e.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:W},V))})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:["Vaga ",F.parkingSlot]})}),e.jsxs("td",{className:"px-4 py-3 font-medium",children:["R$ ",F.value.toFixed(2)]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:F.contractDate&&!isNaN(new Date(F.contractDate).getTime())?Re(new Date(F.contractDate),"dd/MM/yyyy",{locale:nt}):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:F.dueDate&&!isNaN(new Date(F.dueDate).getTime())?Re(new Date(F.dueDate),"dd/MM/yyyy",{locale:nt}):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:F.lastPayment&&!isNaN(new Date(F.lastPayment).getTime())?Re(new Date(F.lastPayment),"dd/MM/yyyy",{locale:nt}):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:F.lastPaymentMethod?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-muted",children:dO(F.lastPaymentMethod)}):"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.statusInfo.bgColor} ${F.statusInfo.textColor}`,children:F.statusInfo.status})}),e.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:S&&e.jsx(H,{size:"sm",onClick:W=>{W.stopPropagation(),N(F)},children:"Registrar Pagamento"})})]})}),e.jsx(eN,{children:S&&e.jsxs(e.Fragment,{children:[e.jsx(lc,{onClick:()=>b(F),children:"Editar"}),e.jsx(lc,{onClick:()=>N(F),children:"Efetuar Pagamento"}),e.jsx(lc,{onClick:()=>P(F),className:"text-destructive",children:"Remover"})]})})]},F.id)})})]})})}),w&&(()=>{const F=n.find(ee=>ee.id===w);if(!F)return null;const Q=vv(F.dueDate);return e.jsx(aA,{customer:F,statusInfo:Q})})()]}),e.jsx(rA,{open:i,onOpenChange:c,customer:f}),e.jsx(sA,{open:u,onOpenChange:h,customer:f})]})}const Ie=d.forwardRef(({className:t,...n},s)=>e.jsx("div",{ref:s,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));Ie.displayName="Card";const rt=d.forwardRef(({className:t,...n},s)=>e.jsx("div",{ref:s,className:Pe("flex flex-col space-y-1.5 p-6",t),...n}));rt.displayName="CardHeader";const st=d.forwardRef(({className:t,...n},s)=>e.jsx("h3",{ref:s,className:Pe("text-2xl font-semibold leading-none tracking-tight",t),...n}));st.displayName="CardTitle";const $t=d.forwardRef(({className:t,...n},s)=>e.jsx("p",{ref:s,className:Pe("text-sm text-muted-foreground",t),...n}));$t.displayName="CardDescription";const $e=d.forwardRef(({className:t,...n},s)=>e.jsx("div",{ref:s,className:Pe("p-6 pt-0",t),...n}));$e.displayName="CardContent";const mO=d.forwardRef(({className:t,...n},s)=>e.jsx("div",{ref:s,className:Pe("flex items-center p-6 pt-0",t),...n}));mO.displayName="CardFooter";var hd="Tabs",[hO]=cn(hd,[No]),tN=No(),[fO,hf]=hO(hd),nN=d.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,onValueChange:i,defaultValue:c,orientation:u="horizontal",dir:h,activationMode:f="automatic",...v}=t,p=wo(h),[x,w]=ur({prop:o,onChange:i,defaultProp:c??"",caller:hd});return e.jsx(fO,{scope:s,baseId:cr(),value:x,onValueChange:w,orientation:u,dir:p,activationMode:f,children:e.jsx(Le.div,{dir:p,"data-orientation":u,...v,ref:n})})});nN.displayName=hd;var rN="TabsList",sN=d.forwardRef((t,n)=>{const{__scopeTabs:s,loop:o=!0,...i}=t,c=hf(rN,s),u=tN(s);return e.jsx(Zh,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:o,children:e.jsx(Le.div,{role:"tablist","aria-orientation":c.orientation,...i,ref:n})})});sN.displayName=rN;var aN="TabsTrigger",oN=d.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,disabled:i=!1,...c}=t,u=hf(aN,s),h=tN(s),f=cN(u.baseId,o),v=dN(u.baseId,o),p=o===u.value;return e.jsx(ef,{asChild:!0,...h,focusable:!i,active:p,children:e.jsx(Le.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":v,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...c,ref:n,onMouseDown:we(t.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?u.onValueChange(o):x.preventDefault()}),onKeyDown:we(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(o)}),onFocus:we(t.onFocus,()=>{const x=u.activationMode!=="manual";!p&&!i&&x&&u.onValueChange(o)})})})});oN.displayName=aN;var iN="TabsContent",lN=d.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,forceMount:i,children:c,...u}=t,h=hf(iN,s),f=cN(h.baseId,o),v=dN(h.baseId,o),p=o===h.value,x=d.useRef(p);return d.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),e.jsx(en,{present:i||p,children:({present:w})=>e.jsx(Le.div,{"data-state":p?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:v,tabIndex:0,...u,ref:n,style:{...t.style,animationDuration:x.current?"0s":void 0},children:w&&c})})});lN.displayName=iN;function cN(t,n){return`${t}-trigger-${n}`}function dN(t,n){return`${t}-content-${n}`}var pO=nN,uN=sN,mN=oN,hN=lN;const Qn=pO,In=d.forwardRef(({className:t,...n},s)=>e.jsx(uN,{ref:s,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));In.displayName=uN.displayName;const Je=d.forwardRef(({className:t,...n},s)=>e.jsx(mN,{ref:s,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...n}));Je.displayName=mN.displayName;const Xe=d.forwardRef(({className:t,...n},s)=>e.jsx(hN,{ref:s,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));Xe.displayName=hN.displayName;const Sr=d.forwardRef(({className:t,...n},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Pe("w-full caption-bottom text-sm",t),...n})}));Sr.displayName="Table";const Er=d.forwardRef(({className:t,...n},s)=>e.jsx("thead",{ref:s,className:Pe("[&_tr]:border-b",t),...n}));Er.displayName="TableHeader";const Tr=d.forwardRef(({className:t,...n},s)=>e.jsx("tbody",{ref:s,className:Pe("[&_tr:last-child]:border-0",t),...n}));Tr.displayName="TableBody";const xO=d.forwardRef(({className:t,...n},s)=>e.jsx("tfoot",{ref:s,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));xO.displayName="TableFooter";const Rt=d.forwardRef(({className:t,...n},s)=>e.jsx("tr",{ref:s,className:Pe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...n}));Rt.displayName="TableRow";const qe=d.forwardRef(({className:t,...n},s)=>e.jsx("th",{ref:s,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));qe.displayName="TableHead";const Ve=d.forwardRef(({className:t,...n},s)=>e.jsx("td",{ref:s,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));Ve.displayName="TableCell";const gO=d.forwardRef(({className:t,...n},s)=>e.jsx("caption",{ref:s,className:Pe("mt-4 text-sm text-muted-foreground",t),...n}));gO.displayName="TableCaption";function vO({convenioId:t,onClose:n}){const[s,o]=d.useState(null),[i,c]=d.useState(!0),[u,h]=d.useState("dados-gerais"),[f,v]=d.useState([]),[p,x]=d.useState([]),[w,j]=d.useState(!1),[T,b]=d.useState(!1),[N,P]=d.useState(!1);d.useEffect(()=>{_()},[t]),d.useEffect(()=>{u==="movimentacoes"?D():u==="documentos"&&U()},[u,t]);const{toast:C}=St(),S=async I=>{const J=I==="ativo"?"reativar":"suspender";if(confirm(`Deseja realmente ${J} este convnio?`))try{await xe.updateConvenio(t,{status:I}),C({title:`Convnio ${I==="ativo"?"reativado":"suspenso"}`,description:"O status foi atualizado com sucesso."}),_()}catch(he){console.error(`Erro ao ${J} convnio:`,he),alert("Erro ao atualizar status")}},_=async()=>{try{c(!0);const I=await xe.getConvenioById(t);o(I)}catch(I){console.error("Erro ao buscar detalhes:",I)}finally{c(!1)}},D=async()=>{try{j(!0);const I=await xe.getConvenioMovimentacoes(t);v(I||[])}catch(I){console.error("Erro ao buscar movimentaes:",I)}finally{j(!1)}},U=async()=>{try{b(!0);const I=await xe.getConvenioDocumentos(t);x(I||[])}catch(I){console.error("Erro ao buscar documentos:",I)}finally{b(!1)}},F=async I=>{const J=I.target.files?.[0];if(J){if(J.size>10*1024*1024){alert("Arquivo muito grande. Mximo 10MB.");return}try{P(!0);const he={nome_arquivo:J.name,tipo_documento:J.type||"application/octet-stream",tamanho_bytes:J.size,caminho_arquivo:URL.createObjectURL(J)};await xe.uploadConvenioDocumento(t,he),U()}catch(he){console.error("Erro ao enviar documento:",he),alert("Erro ao enviar documento")}finally{P(!1)}}},Q=async I=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{await xe.deleteConvenioDocumento(t,I),U()}catch(J){console.error("Erro ao excluir documento:",J),alert("Erro ao excluir documento")}},ee=I=>I.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"),te=I=>new Date(I).toLocaleDateString("pt-BR"),W=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),V=s?.planos?.find(I=>I.ativo);return i?e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsx("div",{className:"text-center py-8",children:"Carregando detalhes..."})})}):s?e.jsxs(Ie,{children:[e.jsx(rt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(fa,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx(st,{className:"text-2xl",children:s.nome_empresa}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[ee(s.cnpj),"  ",s.tipo_convenio==="pre-pago"?"Pr-pago":"Ps-pago"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nn,{variant:s.status==="ativo"?"default":"secondary",children:s.status}),e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.status==="ativo"?e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>S("suspenso"),children:[e.jsx(dy,{className:"h-4 w-4 mr-2"}),"Suspender"]}):e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>S("ativo"),children:[e.jsx(my,{className:"h-4 w-4 mr-2"}),"Reativar"]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:n,children:e.jsx(_c,{className:"h-4 w-4"})})]})]})}),e.jsx($e,{children:e.jsxs(Qn,{value:u,onValueChange:h,children:[e.jsxs(In,{className:"grid w-full grid-cols-7",children:[e.jsxs(Je,{value:"dados-gerais",children:[e.jsx(fa,{className:"h-4 w-4 mr-2"}),"Dados"]}),e.jsxs(Je,{value:"plano",children:[e.jsx(pi,{className:"h-4 w-4 mr-2"}),"Plano"]}),e.jsxs(Je,{value:"veiculos",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Veculos"]}),e.jsxs(Je,{value:"financeiro",children:[e.jsx(hy,{className:"h-4 w-4 mr-2"}),"Financeiro"]}),e.jsxs(Je,{value:"movimentacoes",children:[e.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Movimentaes"]}),e.jsxs(Je,{value:"documentos",children:[e.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Documentos"]}),e.jsxs(Je,{value:"historico",children:[e.jsx(bh,{className:"h-4 w-4 mr-2"}),"Histrico"]})]}),e.jsxs(Xe,{value:"dados-gerais",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Informaes da Empresa"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Razo Social"}),e.jsx("dd",{className:"font-medium",children:s.razao_social})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"CNPJ"}),e.jsx("dd",{className:"font-medium",children:ee(s.cnpj)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Categoria"}),e.jsx("dd",{className:"font-medium capitalize",children:s.categoria})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Endereo"}),e.jsx("dd",{className:"font-medium",children:s.endereco_completo||"No informado"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Contato"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Nome"}),e.jsx("dd",{className:"font-medium",children:s.contato_nome})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsx("dd",{className:"font-medium",children:s.contato_email})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx("dd",{className:"font-medium",children:s.contato_telefone})]})]}),e.jsx("h3",{className:"font-semibold mb-2 mt-4",children:"Contrato"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Data de Incio"}),e.jsx("dd",{className:"font-medium",children:te(s.data_inicio)})]}),s.data_vencimento_contrato&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Vencimento do Contrato"}),e.jsx("dd",{className:"font-medium",children:te(s.data_vencimento_contrato)})]})]})]})]}),s.observacoes&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Observaes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.observacoes})]})]}),e.jsxs(Xe,{value:"plano",className:"space-y-4",children:[V?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Plano Atual"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsx("dd",{className:"font-medium",children:V.tipo_plano})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Vagas Contratadas"}),e.jsx("dd",{className:"font-medium",children:V.num_vagas_contratadas})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Vagas Reservadas"}),e.jsx("dd",{className:"font-medium",children:V.num_vagas_reservadas})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor Mensal"}),e.jsx("dd",{className:"font-medium text-lg",children:W(V.valor_mensal)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Dia de Vencimento"}),e.jsxs("dd",{className:"font-medium",children:["Dia ",V.dia_vencimento_pagamento]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Configuraes"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Permite Vagas Extras"}),e.jsx("dd",{className:"font-medium",children:V.permite_vagas_extras?"Sim":"No"})]}),V.permite_vagas_extras&&V.valor_vaga_extra&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor por Vaga Extra"}),e.jsx("dd",{className:"font-medium",children:W(V.valor_vaga_extra)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Horrio Especial"}),e.jsx("dd",{className:"font-medium",children:V.permite_horario_especial?"Sim":"No"})]}),V.porcentagem_desconto&&Number(V.porcentagem_desconto)>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Desconto"}),e.jsxs("dd",{className:"font-medium text-green-600",children:[Number(V.porcentagem_desconto).toFixed(2),"%"]})]})]})]})]}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum plano ativo"}),e.jsx(H,{variant:"outline",children:"Alterar Plano"})]}),e.jsxs(Xe,{value:"veiculos",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold",children:["Veculos Autorizados (",s.veiculos?.length||0,")"]}),e.jsx(H,{size:"sm",children:"Adicionar Veculo"})]}),s.veiculos&&s.veiculos.length>0?e.jsx("div",{className:"space-y-2",children:s.veiculos.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Cr,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.placa}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.modelo||"Modelo no informado","  ",I.cor||"Cor no informada"]})]})]}),e.jsx(Nn,{variant:I.ativo?"default":"secondary",children:I.ativo?"Ativo":"Inativo"})]},I.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum veculo cadastrado"})]}),e.jsxs(Xe,{value:"financeiro",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold",children:["Faturas (",s.faturas?.length||0,")"]}),e.jsx(H,{size:"sm",children:"Gerar Fatura"})]}),s.faturas&&s.faturas.length>0?e.jsx("div",{className:"space-y-2",children:s.faturas.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.numero_fatura}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.periodo_referencia,"  Venc: ",te(I.data_vencimento)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:W(I.valor_total)}),e.jsx(Nn,{variant:I.status==="paga"?"default":"secondary",children:I.status})]})]},I.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma fatura gerada"})]}),e.jsxs(Xe,{value:"movimentacoes",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"font-semibold",children:"ltimas Movimentaes"})}),w?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando movimentaes..."}):f&&f.length>0?e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Data/Hora"}),e.jsx("th",{className:"p-3 text-left",children:"Placa"}),e.jsx("th",{className:"p-3 text-left",children:"Tipo"}),e.jsx("th",{className:"p-3 text-left",children:"Tempo"}),e.jsx("th",{className:"p-3 text-right",children:"Valor"}),e.jsx("th",{className:"p-3 text-center",children:"Faturado"})]})}),e.jsx("tbody",{children:f.map(I=>{const J=!!I.data_saida;return e.jsxs("tr",{className:"border-t hover:bg-muted/50",children:[e.jsxs("td",{className:"p-3",children:[e.jsx("div",{children:te(I.data_entrada)}),e.jsx("div",{className:"text-muted-foreground text-xs",children:I.hora_entrada.slice(0,5)})]}),e.jsx("td",{className:"p-3 font-medium",children:I.placa}),e.jsx("td",{className:"p-3",children:J?e.jsx(Nn,{variant:"outline",className:"text-red-600 border-red-200 bg-red-50",children:"Sada"}):e.jsx(Nn,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:"Entrada"})}),e.jsx("td",{className:"p-3 text-muted-foreground",children:I.tempo_permanencia?I.tempo_permanencia.replace("hours","h").replace("minutes","min"):"-"}),e.jsx("td",{className:"p-3 text-right font-medium",children:I.valor_calculado?W(Number(I.valor_calculado)):"-"}),e.jsx("td",{className:"p-3 text-center",children:I.faturado?e.jsx(Nn,{variant:"default",className:"bg-green-600",children:"Sim"}):e.jsx(Nn,{variant:"outline",children:"No"})})]},I.id)})})]})}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma movimentao registrada no perodo"})]}),e.jsxs(Xe,{value:"documentos",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold",children:["Documentos Anexados (",p.length,")"]}),e.jsxs("div",{children:[e.jsx(re,{type:"file",id:"upload-doc",className:"hidden",onChange:F,disabled:N}),e.jsx(B,{htmlFor:"upload-doc",children:e.jsxs("div",{className:`inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-3 cursor-pointer ${N?"opacity-50":""}`,children:[e.jsx(py,{className:"h-4 w-4 mr-2"}),N?"Enviando...":"Upload"]})})]})]}),T?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando documentos..."}):p&&p.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-2",children:p.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded flex items-center justify-center text-blue-600",children:e.jsx(Sn,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium truncate max-w-[200px]",children:I.nome_arquivo}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(I.tamanho_bytes/1024).toFixed(1)," KB  ",te(I.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>window.open(I.caminho_arquivo,"_blank"),children:e.jsx(po,{className:"h-4 w-4"})}),e.jsx(H,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Q(I.id),children:e.jsx(Jn,{className:"h-4 w-4"})})]})]},I.id))}):e.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg text-muted-foreground",children:[e.jsx(Sn,{className:"h-10 w-10 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"Nenhum documento anexado"}),e.jsx("p",{className:"text-xs mt-1",children:"Faa upload de contratos, aditivos e comprovantes"})]})]}),e.jsx(Xe,{value:"historico",className:"space-y-4",children:s.historico&&s.historico.length>0?e.jsx("div",{className:"space-y-2",children:s.historico.map(I=>e.jsxs("div",{className:"p-3 border-l-2 border-primary pl-4",children:[e.jsx("p",{className:"font-medium",children:I.tipo_alteracao}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(I.data_alteracao).toLocaleString("pt-BR")}),I.motivo&&e.jsx("p",{className:"text-sm mt-1",children:I.motivo})]},I.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum histrico disponvel"})})]})})]}):e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Convnio no encontrado"})})})}function yO(){const[t,n]=d.useState([]),[s,o]=d.useState([]),[i,c]=d.useState(!1),[u,h]=d.useState(""),[f,v]=d.useState("todos");d.useEffect(()=>{x(),h(new Date().toISOString().slice(0,7))},[]),d.useEffect(()=>{u&&p()},[u,f]);const p=async()=>{try{c(!0);const b=await xe.getConveniosRelatoriosFaturas({periodo:u,status:f!=="todos"?f:void 0});n(b||[])}catch(b){console.error("Erro ao buscar faturas:",b)}finally{c(!1)}},x=async()=>{try{const b=await xe.getConveniosRanking();o(b||[])}catch(b){console.error("Erro ao buscar ranking:",b)}},w=()=>t.reduce((b,N)=>b+Number(N.valor_total),0),j=b=>t.filter(N=>N.status===b).length,T=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Receita Total (Ms)"}),e.jsx(Za,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T(w())}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," faturas geradas"]})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Pendentes"}),e.jsx(fn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j("pendente")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando pagamento"})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Vencidas"}),e.jsx(fn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:j("vencida")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Necessitam ateno"})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Ranking Ocupao"}),e.jsx(Pi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"TOP 1"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s[0]?.nome_empresa||"N/A"," (",s[0]?.taxa_ocupacao_percentual,"%)"]})]})]})]}),e.jsxs(Qn,{defaultValue:"faturas",className:"space-y-4",children:[e.jsxs(In,{children:[e.jsx(Je,{value:"faturas",children:"Relatrio Financeiro"}),e.jsx(Je,{value:"inadimplencia",children:"Inadimplncia"}),e.jsx(Je,{value:"ranking",children:"Ranking de Ocupao"})]}),e.jsx(Xe,{value:"faturas",className:"space-y-4",children:e.jsxs(Ie,{children:[e.jsx(rt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(st,{children:"Faturamento Mensal"}),e.jsx($t,{children:"Lista consolidada de faturas geradas no perodo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-[180px]",children:e.jsx(re,{type:"month",value:u,onChange:b=>h(b.target.value)})}),e.jsxs(dt,{value:f,onValueChange:v,children:[e.jsx(it,{className:"w-[150px]",children:e.jsx(ut,{placeholder:"Status"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"todos",children:"Todos"}),e.jsx(pe,{value:"pendente",children:"Pendente"}),e.jsx(pe,{value:"paga",children:"Paga"}),e.jsx(pe,{value:"vencida",children:"Vencida"})]})]}),e.jsx(H,{variant:"outline",size:"icon",children:e.jsx(po,{className:"h-4 w-4"})})]})]})}),e.jsx($e,{children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Empresa"}),e.jsx(qe,{children:"Fatura"}),e.jsx(qe,{children:"Vencimento"}),e.jsx(qe,{children:"Valor Total"}),e.jsx(qe,{children:"Status"}),e.jsx(qe,{className:"text-right",children:"Atraso"})]})}),e.jsx(Tr,{children:i?e.jsx(Rt,{children:e.jsx(Ve,{colSpan:6,className:"text-center h-24",children:"Carregando..."})}):t.length===0?e.jsx(Rt,{children:e.jsx(Ve,{colSpan:6,className:"text-center h-24 text-muted-foreground",children:"Nenhuma fatura encontrada para este perodo."})}):t.map(b=>e.jsxs(Rt,{children:[e.jsx(Ve,{className:"font-medium",children:b.convenio?.nome_empresa}),e.jsx(Ve,{children:b.numero_fatura}),e.jsx(Ve,{children:Re(new Date(b.data_vencimento),"dd/MM/yyyy")}),e.jsx(Ve,{children:T(b.valor_total)}),e.jsx(Ve,{children:e.jsx(Nn,{variant:b.status==="paga"?"default":b.status==="pendente"?"secondary":"destructive",className:b.status==="paga"?"bg-green-600":"",children:b.status.toUpperCase()})}),e.jsx(Ve,{className:`text-right ${b.dias_atraso>0?"text-red-600 font-bold":""}`,children:b.dias_atraso>0?`${b.dias_atraso} dias`:"-"})]},b.id))})]})})]})}),e.jsx(Xe,{value:"ranking",className:"space-y-4",children:e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Ranking de Ocupao"}),e.jsx($t,{children:"Convnios com maior taxa de utilizao de vagas hoje"})]}),e.jsx($e,{children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Posio"}),e.jsx(qe,{children:"Empresa"}),e.jsx(qe,{children:"Vagas Contratadas"}),e.jsx(qe,{children:"Vagas Ocupadas"}),e.jsx(qe,{children:"Taxa de Ocupao"}),e.jsx(qe,{children:"Barra de Progresso"})]})}),e.jsxs(Tr,{children:[s.map((b,N)=>e.jsxs(Rt,{children:[e.jsxs(Ve,{className:"font-bold",children:["#",N+1]}),e.jsx(Ve,{className:"font-medium",children:b.nome_empresa}),e.jsx(Ve,{children:b.num_vagas_contratadas}),e.jsx(Ve,{children:b.vagas_ocupadas}),e.jsxs(Ve,{className:"font-bold",children:[b.taxa_ocupacao_percentual,"%"]}),e.jsx(Ve,{className:"w-[30%]",children:e.jsx("div",{className:"w-full bg-secondary h-2.5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-2.5 rounded-full ${b.taxa_ocupacao_percentual>90?"bg-red-500":b.taxa_ocupacao_percentual>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(b.taxa_ocupacao_percentual,100)}%`}})})})]},N)),s.length===0&&e.jsx(Rt,{children:e.jsx(Ve,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Nenhum dado de ocupao disponvel."})})]})]})})]})}),e.jsx(Xe,{value:"inadimplencia",className:"space-y-4",children:e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Relatrio de Inadimplncia"}),e.jsx($t,{children:"Empresas com faturas vencidas e no pagas."})]}),e.jsx($e,{children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Empresa"}),e.jsx(qe,{children:"Faturas Vencidas"}),e.jsx(qe,{children:"Valor Total Devido"}),e.jsx(qe,{children:"Maior Atraso"}),e.jsx(qe,{className:"text-right",children:"Aes"})]})}),e.jsx(Tr,{children:(()=>{const N=t.filter(C=>C.status==="vencida").reduce((C,S)=>{const _=S.convenio?.nome_empresa||"Desconhecida";return C[_]||(C[_]={nome:_,qtd:0,total:0,maiorAtraso:0,faturas:[]}),C[_].qtd+=1,C[_].total+=Number(S.valor_total),C[_].maiorAtraso=Math.max(C[_].maiorAtraso,S.dias_atraso),C[_].faturas.push(S),C},{}),P=Object.values(N);return P.length===0?e.jsx(Rt,{children:e.jsx(Ve,{colSpan:5,className:"text-center h-24 text-muted-foreground",children:"Nenhuma inadimplncia encontrada no perodo selecionado."})}):P.map((C,S)=>e.jsxs(Rt,{children:[e.jsx(Ve,{className:"font-medium text-red-600",children:C.nome}),e.jsx(Ve,{children:C.qtd}),e.jsx(Ve,{children:T(C.total)}),e.jsxs(Ve,{className:"font-bold",children:[C.maiorAtraso," dias"]}),e.jsx(Ve,{className:"text-right",children:e.jsx(H,{variant:"ghost",size:"sm",className:"text-blue-600",children:"Ver Detalhes"})})]},S))})()})]})})]})})]})]})}function jO({open:t,onOpenChange:n,onSuccess:s}){const[o,i]=d.useState(1),[c,u]=d.useState(!1),[h,f]=d.useState(""),[v,p]=d.useState(""),[x,w]=d.useState(""),[j,T]=d.useState(""),[b,N]=d.useState(""),[P,C]=d.useState(""),[S,_]=d.useState(""),[D,U]=d.useState(""),[F,Q]=d.useState(""),[ee,te]=d.useState(""),[W,V]=d.useState(""),[I,J]=d.useState(""),[he,ie]=d.useState(""),[ue,L]=d.useState(""),[R,M]=d.useState(!1),[E,O]=d.useState(""),[$,K]=d.useState(""),[ce,je]=d.useState(""),[Z,fe]=d.useState(""),[Ee,ke]=d.useState(""),ze=()=>{i(1),f(""),p(""),w(""),T(""),N(""),C(""),_(""),U(""),Q(""),te(""),V(""),J(""),ie(""),L(""),K(""),M(!1),O(""),je(""),fe(""),ke("")},A=async()=>{try{u(!0);const de=ee==="pre-pago",Ze={nome_empresa:h,razao_social:v,cnpj:x,tipo_convenio:ee,categoria:j,data_inicio:Z,data_vencimento_contrato:Ee||void 0,contato_nome:S,contato_email:D,contato_telefone:F,endereco_completo:b||void 0,observacoes:P||void 0,plano:{tipo_plano:"padrao",num_vagas_contratadas:parseInt(W),num_vagas_reservadas:parseInt(I)||0,valor_mensal:de?parseFloat(he):null,dia_vencimento_pagamento:de?parseInt(ue):void 0,dia_vencimento_pos_pago:de?void 0:parseInt(ue),dia_fechamento:de?void 0:parseInt($),permite_vagas_extras:R,valor_vaga_extra:R?parseFloat(E):void 0,porcentagem_desconto:ce?parseFloat(ce):void 0}};await xe.createConvenio(Ze),ze(),n(!1),s()}catch(de){console.error("Erro:",de),alert(de.message||"Erro ao criar convnio")}finally{u(!1)}},Ce=()=>o===1?h&&v&&x&&j:o===2?S&&D&&F:o===3?ee==="pre-pago"?ee&&W&&he&&ue:ee==="pos-pago"?ee&&W&&ue&&$:!1:o===4?Z:!1;return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(ft,{children:[e.jsxs(pt,{children:["Novo Convnio - Passo ",o," de 4"]}),e.jsxs($n,{children:[o===1&&"Dados da empresa",o===2&&"Informaes de contato",o===3&&"Configurao do plano",o===4&&"Dados do contrato"]})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[o===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"nome_empresa",children:["Nome da Empresa ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"nome_empresa",value:h,onChange:de=>f(de.target.value),placeholder:"Ex: Empresa LTDA"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"razao_social",children:["Razo Social ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"razao_social",value:v,onChange:de=>p(de.target.value),placeholder:"Ex: Empresa LTDA"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"cnpj",children:["CNPJ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"cnpj",value:x,onChange:de=>w(de.target.value),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"categoria",children:["Categoria ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"categoria",value:j,onChange:de=>T(de.target.value),placeholder:"Ex: Funcionrios, Clientes, Parceiros..."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"endereco",children:"Endereo Completo"}),e.jsx(Zt,{id:"endereco",value:b,onChange:de=>N(de.target.value),placeholder:"Rua, nmero, bairro, cidade, estado"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"observacoes",children:"Observaes"}),e.jsx(Zt,{id:"observacoes",value:P,onChange:de=>C(de.target.value),placeholder:"Informaes adicionais"})]})]}),o===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"contato_nome",children:["Nome do Contato ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"contato_nome",value:S,onChange:de=>_(de.target.value),placeholder:"Nome completo"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"contato_email",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"contato_email",type:"email",value:D,onChange:de=>U(de.target.value),placeholder:"email@empresa.com"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"contato_telefone",children:["Telefone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"contato_telefone",value:F,onChange:de=>Q(de.target.value),placeholder:"(00) 00000-0000"})]})]}),o===3&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"tipo_convenio",children:["Tipo de Convnio ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(dt,{value:ee,onValueChange:te,children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"pre-pago",children:"Pr-pago (Mensalidade Fixa)"}),e.jsx(pe,{value:"pos-pago",children:"Ps-pago (Por Uso)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"num_vagas",children:["Vagas Contratadas ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"num_vagas",type:"number",value:W,onChange:de=>V(de.target.value),placeholder:"0"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"num_vagas_reservadas",children:"Vagas Reservadas"}),e.jsx(re,{id:"num_vagas_reservadas",type:"number",value:I,onChange:de=>J(de.target.value),placeholder:"0"})]})]}),ee==="pre-pago"?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"valor_mensal",children:["Valor Mensal ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"valor_mensal",type:"number",step:"0.01",value:he,onChange:de=>ie(de.target.value),placeholder:"0.00"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"dia_vencimento",children:["Dia de Vencimento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"dia_vencimento",type:"number",min:"1",max:"28",value:ue,onChange:de=>L(de.target.value),placeholder:"1-28"})]})]}):ee==="pos-pago"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-md text-sm border border-blue-200",children:" Valor calculado mensalmente baseado no uso real"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"dia_fechamento",children:["Dia de Fechamento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"dia_fechamento",type:"number",min:"1",max:"28",value:$,onChange:de=>K(de.target.value),placeholder:"1-28"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"dia_vencimento",children:["Dia de Vencimento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"dia_vencimento",type:"number",min:"1",max:"28",value:ue,onChange:de=>L(de.target.value),placeholder:"1-28"})]})]})]}):null,ee&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"porcentagem_desconto",children:"Desconto Percentual (Opcional)"}),e.jsx(re,{id:"porcentagem_desconto",type:"number",step:"0.01",min:"0",max:"100",value:ce,onChange:de=>je(de.target.value),placeholder:"0.00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Desconto aplicado sobre o valor base da fatura (0-100%)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ja,{id:"permite_vagas_extras",checked:R,onCheckedChange:de=>M(de)}),e.jsx(B,{htmlFor:"permite_vagas_extras",className:"cursor-pointer",children:"Permite Vagas Extras"})]}),R&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"valor_vaga_extra",children:"Valor por Vaga Extra"}),e.jsx(re,{id:"valor_vaga_extra",type:"number",step:"0.01",value:E,onChange:de=>O(de.target.value),placeholder:"0.00"})]})]}),o===4&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"data_inicio",children:["Data de Incio ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"data_inicio",type:"date",value:Z,onChange:de=>fe(de.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"data_vencimento_contrato",children:"Data de Vencimento do Contrato (Opcional)"}),e.jsx(re,{id:"data_vencimento_contrato",type:"date",value:Ee,onChange:de=>ke(de.target.value)})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Convnio"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-muted-foreground",children:"Empresa:"}),e.jsx("dd",{className:"font-medium",children:h})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("dd",{className:"font-medium capitalize",children:ee})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-muted-foreground",children:"Vagas:"}),e.jsx("dd",{className:"font-medium",children:W})]}),ee==="pre-pago"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-muted-foreground",children:"Valor Mensal:"}),e.jsxs("dd",{className:"font-medium",children:["R$ ",parseFloat(he||"0").toFixed(2)]})]})]})]})]})]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),o>1&&e.jsx(H,{variant:"outline",onClick:()=>i(o-1),children:"Voltar"}),o<4?e.jsx(H,{onClick:()=>i(o+1),disabled:!Ce(),children:"Prximo"}):e.jsx(H,{onClick:A,disabled:!Ce()||c,className:"bg-green-600 hover:bg-green-700",children:c?"Salvando...":"Criar Convnio"})]})]})})}function wO({open:t,onOpenChange:n,convenioId:s,onSuccess:o}){const[i,c]=d.useState(!1),[u,h]=d.useState(""),[f,v]=d.useState(""),[p,x]=d.useState(""),[w,j]=d.useState(""),[T,b]=d.useState(""),[N,P]=d.useState(""),C=()=>{h(""),v(""),x(""),j(""),b(""),P("")},S=async()=>{if(!u){alert("Placa  obrigatria");return}try{c(!0);const _={placa:u,modelo:f||void 0,cor:p||void 0,proprietario_nome:w||void 0,proprietario_cpf:T||void 0,observacoes:N||void 0};await xe.addConvenioVeiculo(s,_),C(),n(!1),o()}catch(_){console.error("Erro:",_),alert(_.message||"Erro ao adicionar veculo")}finally{c(!1)}};return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-[500px]",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:"Adicionar Veculo"}),e.jsx($n,{children:"Adicione um novo veculo autorizado ao convnio"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(B,{htmlFor:"placa",children:["Placa ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"placa",value:u,onChange:_=>h(_.target.value.toUpperCase()),placeholder:"ABC1234",maxLength:7})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"modelo",children:"Modelo"}),e.jsx(re,{id:"modelo",value:f,onChange:_=>v(_.target.value),placeholder:"Ex: Civic"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"cor",children:"Cor"}),e.jsx(re,{id:"cor",value:p,onChange:_=>x(_.target.value),placeholder:"Ex: Prata"})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"proprietario_nome",children:"Nome do Proprietrio"}),e.jsx(re,{id:"proprietario_nome",value:w,onChange:_=>j(_.target.value),placeholder:"Nome completo"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"proprietario_cpf",children:"CPF do Proprietrio"}),e.jsx(re,{id:"proprietario_cpf",value:T,onChange:_=>b(_.target.value),placeholder:"000.000.000-00"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"observacoes",children:"Observaes"}),e.jsx(Zt,{id:"observacoes",value:N,onChange:_=>P(_.target.value),placeholder:"Informaes adicionais"})]})]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(H,{onClick:S,disabled:!u||i,className:"bg-green-600 hover:bg-green-700",children:i?"Salvando...":"Adicionar Veculo"})]})]})})}function bO(){const[t,n]=d.useState(null),[s,o]=d.useState([]),[i,c]=d.useState(!0),[u,h]=d.useState(null),[f,v]=d.useState("todos"),[p,x]=d.useState("todos"),[w,j]=d.useState("todos"),[T,b]=d.useState(""),[N,P]=d.useState(!1),[C,S]=d.useState(!1);d.useEffect(()=>{_()},[]),d.useEffect(()=>{const I=setTimeout(()=>{D()},300);return()=>clearTimeout(I)},[f,p,w,T]);const _=async()=>{try{const I=await xe.getConvenioStats();n(I)}catch(I){console.error("Erro ao buscar estatsticas:",I)}},D=async()=>{try{c(!0);const I=await xe.getConvenios({status:f,tipo:p,categoria:w,busca:T});o(I||[])}catch(I){console.error("Erro ao buscar convnios:",I)}finally{c(!1)}},U=I=>I.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"),F=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),Q=I=>I.status==="ativo"&&!I.inadimplente?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":I.status==="suspenso"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":I.status==="inadimplente"||I.inadimplente?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",{toast:ee}=St(),te=async(I,J)=>{const he=J==="ativo"?"reativar":"suspender";if(confirm(`Deseja realmente ${he} o convnio "${I.nome_empresa}"?`))try{await xe.updateConvenio(I.id,{status:J}),ee({title:`Convnio ${J==="ativo"?"reativado":"suspenso"}`,description:`O convnio foi ${J==="ativo"?"reativado":"suspenso"} com sucesso.`}),D(),_()}catch(ie){console.error(`Erro ao ${he} convnio:`,ie),ee({title:"Erro ao atualizar status",description:"No foi possvel completar a operao.",variant:"destructive"})}},W=I=>{ee({title:"Gerar Contrato",description:`Funcionalidade em desenvolvimento para: ${I.nome_empresa}`})},V=I=>I.inadimplente?"Inadimplente":I.status.charAt(0).toUpperCase()+I.status.slice(1);return d.useEffect(()=>{const I=J=>{J.key==="Escape"&&h(null)};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[]),e.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Convnios"}),e.jsx("p",{className:"text-muted-foreground",children:"Gesto de contratos empresariais de estacionamento"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(H,{onClick:()=>P(!0),children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Novo Convnio"]})})]}),e.jsxs(Qn,{defaultValue:"gerenciamento",className:"space-y-6",children:[e.jsxs(In,{children:[e.jsx(Je,{value:"gerenciamento",children:"Gerenciamento"}),e.jsx(Je,{value:"relatorios",children:"Relatrios"})]}),e.jsxs(Xe,{value:"gerenciamento",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Convnios Ativos"}),e.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t?.total_ativos||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Empresas parcerias"})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Receita Estimada"}),e.jsx(Pi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t?.receita_mensal_prevista.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})||"R$ 0,00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mensal recorrente"})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Ocupao Mdia"}),e.jsx(R2,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t?.taxa_ocupacao_media||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Utilizao de vagas"})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(st,{className:"text-sm font-medium",children:"Inadimplncia"}),e.jsx(Dc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($e,{children:[e.jsxs("div",{className:`text-2xl font-bold ${t?.taxa_inadimplencia?"text-red-500":""}`,children:[t?.taxa_inadimplencia||0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t?.total_inadimplentes||0," empresas pendentes"]})]})]})]}),e.jsxs(Ie,{children:[e.jsx(rt,{className:"pb-3",children:e.jsx(st,{className:"text-sm font-medium",children:"Filtros e Busca"})}),e.jsx($e,{children:e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(fy,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(re,{placeholder:"Buscar por empresa ou CNPJ...",className:"pl-8",value:T,onChange:I=>b(I.target.value)})]})})})]}),u?e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(H,{variant:"ghost",onClick:()=>h(null),className:"mb-4",children:" Voltar para lista"}),e.jsx(vO,{convenioId:u.id,onClose:()=>h(null)})]}):e.jsx(Ie,{children:e.jsx($e,{className:"p-0",children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Status"}),e.jsx(qe,{children:"Empresa"}),e.jsx(qe,{children:"CNPJ"}),e.jsx(qe,{children:"Tipo"}),e.jsx(qe,{children:"Vagas"}),e.jsx(qe,{children:"Valor Mensal"}),e.jsx(qe,{children:"Vencimento"}),e.jsx(qe,{className:"w-[50px]"})]})}),e.jsx(Tr,{children:i?e.jsx(Rt,{children:e.jsx(Ve,{colSpan:8,className:"h-24 text-center",children:"Carregando..."})}):s.length===0?e.jsx(Rt,{children:e.jsx(Ve,{colSpan:8,className:"h-24 text-center",children:"Nenhum convnio encontrado."})}):s.map(I=>e.jsxs(Rt,{className:`cursor-pointer hover:bg-muted/50 transition-all duration-200 ${I.status==="suspenso"?"opacity-50 grayscale-[0.5]":""}`,onClick:()=>h(I),children:[e.jsx(Ve,{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(I)}`,children:V(I)})}),e.jsx(Ve,{className:"font-medium",children:I.nome_empresa}),e.jsx(Ve,{className:"text-muted-foreground",children:U(I.cnpj)}),e.jsx(Ve,{className:"capitalize",children:I.tipo_convenio}),e.jsxs(Ve,{children:[I.vagas_ocupadas," / ",I.plano_ativo?.num_vagas_contratadas||0,e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",I.taxa_ocupacao.toFixed(0),"%)"]})]}),e.jsx(Ve,{className:"font-medium",children:F(I.plano_ativo?.valor_mensal||0)}),e.jsxs(Ve,{children:["Dia ",I.plano_ativo?.dia_vencimento_pagamento||"-"]}),e.jsx(Ve,{className:"flex gap-1",onClick:J=>J.stopPropagation(),children:I.status==="suspenso"?e.jsxs(H,{variant:"outline",size:"sm",className:"h-8 border-green-200 hover:bg-green-50 text-green-700 w-full",onClick:()=>te(I,"ativo"),children:[e.jsx(my,{className:"h-3.5 w-3.5 mr-1"}),"Reativar"]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:()=>W(I),title:"Gerar Contrato",children:e.jsx(Sn,{className:"h-4 w-4"})}),e.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-amber-600 hover:text-amber-700 hover:bg-amber-50",onClick:()=>te(I,"suspenso"),children:e.jsx(dy,{className:"h-4 w-4"})})]})})]},I.id))})]})})})})]}),e.jsx(Xe,{value:"relatorios",children:e.jsx(yO,{})})]}),e.jsx(jO,{open:N,onOpenChange:P,onSuccess:()=>{D(),_(),P(!1)}}),e.jsx(wO,{open:C,onOpenChange:S,convenioId:u?.id||"",onSuccess:()=>{}})]})}const ch=({open:t,onOpenChange:n,onSuccess:s,totalRevenue:o=0})=>{const{openCashRegister:i,lastClosingAmount:c}=Dr(),{user:u}=zn(),[h,f]=d.useState(""),[v,p]=d.useState(new Date);d.useEffect(()=>{if(t){p(new Date);const N=o>0?o:c||0;f(N>0?N.toFixed(2):"")}},[t,c,o]),d.useEffect(()=>{if(!t)return;const N=setInterval(()=>p(new Date),6e4);return()=>clearInterval(N)},[t]);const[x,w]=d.useState(!1),[j,T]=d.useState(null),b=async()=>{T(null),w(!0);try{const N=u?.name||"";if(!N)throw new Error("Operador no identificado. Faa login novamente.");const P=h?Number(h):c||0;if(isNaN(P)||P<0)throw new Error("Valor invlido. Informe um valor maior ou igual a zero.");await i(P,N),n(!1),s&&s()}catch(N){T(N.message||"Erro ao abrir caixa. Tente novamente."),console.error("Erro ao abrir caixa:",N)}finally{w(!1)}};return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-md",children:[e.jsxs(ft,{children:[e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(fn,{className:"h-5 w-5 text-primary"}),"Abertura de Caixa"]}),e.jsx($n,{children:"Confirme os dados para iniciar o turno."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 p-3 bg-muted/40 rounded-lg border border-border/50",children:[e.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground flex items-center gap-1",children:[e.jsx(fn,{className:"h-3 w-3"})," Data"]}),e.jsx("div",{className:"text-sm font-semibold",children:Re(v,"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 p-3 bg-muted/40 rounded-lg border border-border/50",children:[e.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground flex items-center gap-1",children:[e.jsx(Hs,{className:"h-3 w-3"})," Hora"]}),e.jsx("div",{className:"text-sm font-semibold",children:Re(v,"HH:mm")})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 p-3 bg-blue-50/50 rounded-lg border border-blue-100/50",children:[e.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-wider text-blue-600 flex items-center gap-1",children:[e.jsx(Mc,{className:"h-3 w-3"})," Operador"]}),e.jsx("div",{className:"text-sm font-bold text-blue-900",children:u?.name||"No identificado"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"openingAmount",children:"Valor de Abertura (Fundo de Caixa)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"R$"}),e.jsx(re,{id:"openingAmount",type:"number",min:0,step:"0.01",className:"pl-10 h-12 text-lg font-bold",value:h,onChange:N=>f(N.target.value),placeholder:c>0?c.toFixed(2):"0.00"})]}),e.jsx("p",{className:"text-xs text-muted-foreground bg-muted/30 p-2 rounded border border-dashed",children:o>0?`Sugerido: R$ ${o.toFixed(2)} (receita total em caixa).`:c>0?`Sugerido: R$ ${c.toFixed(2)} (ltimo fechamento).`:"Nenhum valor sugerido. Informe o valor inicial."})]}),j&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-3 border border-destructive/20",children:e.jsx("p",{className:"text-sm text-destructive font-medium",children:j})})]}),e.jsxs(zt,{className:"flex justify-end gap-2 sm:gap-0 sm:space-x-2",children:[e.jsx(H,{variant:"outline",onClick:()=>n(!1),disabled:x,children:"Cancelar"}),e.jsx(H,{onClick:b,disabled:x,className:"px-8",children:x?"Abrindo...":"Abrir Caixa"})]})]})})},fN=({isOpen:t,onClose:n,summaryData:s,onSuccess:o})=>{const[i,c]=d.useState(1),[u,h]=d.useState(""),[f,v]=d.useState(""),[p,x]=d.useState(!1),[w,j]=d.useState(null),[T,b]=d.useState(null),[N,P]=d.useState(!1),{toast:C}=St(),S=s||T;Te.useEffect(()=>{t&&!s&&!T&&(async()=>{try{P(!0);const Q=await xe.get("/cash-register/summary");b(Q)}catch(Q){C({title:"Erro ao carregar dados",description:Q.message||"Erro de conexo",variant:"destructive"}),n()}finally{P(!1)}})()},[t,s]);const _=async()=>{if(u)try{x(!0);const F=await xe.post("/cash-register/close",{actualAmount:Number(u),notes:f});j(F.session),c(3),C({title:"Caixa encerrado com sucesso!"})}catch(F){C({title:"Erro ao encerrar caixa",description:F.message||"Tente novamente",variant:"destructive"})}finally{x(!1)}},D=async F=>{try{const Q=await xe.get(`/cash-register/report/${w.id}/${F}`,{responseType:"blob"}),ee=window.URL.createObjectURL(new Blob([Q])),te=document.createElement("a");te.href=ee,te.setAttribute("download",`fechamento_${w.id.substring(0,8)}.${F==="thermal"?"txt":F}`),document.body.appendChild(te),te.click(),te.remove()}catch{C({title:"Erro ao baixar arquivo",variant:"destructive"})}};if(!t||N&&!S||!S)return null;const U=Number(u)-S.totals.saldoFinalEsperado;return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-[500px]",children:[i===1&&e.jsxs(e.Fragment,{children:[e.jsxs(ft,{children:[e.jsx(pt,{children:"Encerrar Turno"}),e.jsx($n,{children:"Confira os valores e informe o montante real em dinheiro no caixa."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Saldo Inicial:"}),e.jsxs("span",{className:"font-medium",children:["R$ ",S.totals.saldoInicial.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Receitas do Turno (+):"}),e.jsxs("span",{className:"font-medium text-emerald-600",children:["R$ ",S.totals.receitas.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Suprimentos (+):"}),e.jsxs("span",{className:"font-medium text-emerald-600",children:["R$ ",S.totals.suprimentos.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Sangrias (-):"}),e.jsxs("span",{className:"font-medium text-rose-600",children:["R$ ",S.totals.sangrias.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2 font-bold",children:[e.jsx("span",{children:"Valor Esperado:"}),e.jsxs("span",{children:["R$ ",S.totals.saldoFinalEsperado.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"actual",children:"Valor Real em Caixa (Dinheiro + Outros)"}),e.jsx(re,{id:"actual",type:"number",placeholder:"0,00",value:u,onChange:F=>h(F.target.value),autoFocus:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"notes",children:"Observaes do Fechamento"}),e.jsx(Zt,{id:"notes",placeholder:"Justifique eventuais diferenas...",value:f,onChange:F=>v(F.target.value)})]})]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:n,children:"Cancelar"}),e.jsx(H,{onClick:()=>c(2),disabled:!u,children:"Continuar"})]})]}),i===2&&e.jsxs(e.Fragment,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Confirmar Diferena"})}),e.jsxs("div",{className:"py-6 text-center space-y-4",children:[U===0?e.jsxs("div",{className:"flex flex-col items-center gap-2 text-emerald-600",children:[e.jsx(fi,{className:"h-12 w-12"}),e.jsx("p",{className:"font-bold text-lg",children:"Valores batem perfeitamente!"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-2 text-amber-600",children:[e.jsx(Dc,{className:"h-12 w-12"}),e.jsxs("p",{className:"font-bold text-lg",children:["Existe uma diferena de R$ ",U.toFixed(2)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:U>0?"Sobra de caixa detectada.":"Falta de caixa detectada."})]}),e.jsx("p",{className:"text-sm px-4",children:"Ao confirmar, a sesso ser encerrada e o relatrio final ser gerado. Esta ao no pode ser desfeita."})]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>c(1),disabled:p,children:"Voltar"}),e.jsx(H,{onClick:_,disabled:p,className:"bg-emerald-600 hover:bg-emerald-700",children:p?"Encerrando...":"Confirmar e Encerrar"})]})]}),i===3&&e.jsxs(e.Fragment,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Fechamento Concludo"})}),e.jsxs("div",{className:"py-8 text-center space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-emerald-600",children:[e.jsx(fi,{className:"h-16 w-16"}),e.jsx("h3",{className:"text-xl font-bold",children:"Tudo Pronto!"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 px-4",children:[e.jsxs(H,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>D("pdf"),children:[e.jsx(po,{className:"h-5 w-5"}),e.jsx("span",{children:"PDF A4"})]}),e.jsxs(H,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>D("thermal"),children:[e.jsx(Ws,{className:"h-5 w-5"}),e.jsx("span",{children:"Trmico 80mm"})]}),e.jsxs(H,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>D("xml"),children:[e.jsx(Sn,{className:"h-5 w-5"}),e.jsx("span",{children:"XML Contbil"})]}),e.jsxs(H,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>{o(),n()},children:[e.jsx(bh,{className:"h-5 w-5"}),e.jsx("span",{children:"Ver Histrico"})]})]})]}),e.jsx(zt,{children:e.jsx(H,{className:"w-full",onClick:()=>{o(),n()},children:"Sair"})})]})]})})},NO=({isOpen:t,onClose:n,type:s,sessionId:o,onSuccess:i})=>{const[c,u]=d.useState(""),[h,f]=d.useState(""),[v,p]=d.useState(!1),{toast:x}=St(),w=async j=>{if(j.preventDefault(),!c||Number(c)<=0)return x({title:"Valor invlido",variant:"destructive"});try{p(!0),await xe.post("/cash-register/transaction",{sessionId:o,type:s,amount:Number(c),description:h}),x({title:`${s==="sangria"?"Sangria":"Suprimento"} realizada`,description:`O valor de R$ ${Number(c).toFixed(2)} foi registrado.`}),u(""),f(""),i()}catch(T){x({title:"Erro ao registrar operao",description:T.response?.data?.error||"Tente novamente mais tarde",variant:"destructive"})}finally{p(!1)}};return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-[425px]",children:[e.jsxs(ft,{children:[e.jsx(pt,{className:"flex items-center gap-2",children:s==="sangria"?e.jsxs(e.Fragment,{children:[e.jsx(oy,{className:"h-5 w-5 text-rose-500"})," Registrar Sangria"]}):e.jsxs(e.Fragment,{children:[e.jsx(Mm,{className:"h-5 w-5 text-emerald-500"})," Registrar Suprimento"]})}),e.jsx($n,{children:s==="sangria"?"Retirada de valores do caixa para despesas ou transferncias.":"Adio de valores ao caixa para troco ou reforo de saldo."})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"amount",children:"Valor (R$)"}),e.jsx(re,{id:"amount",type:"number",step:"0.01",placeholder:"0,00",value:c,onChange:j=>u(j.target.value),required:!0,autoFocus:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"desc",children:"Observao / Motivo"}),e.jsx(Zt,{id:"desc",placeholder:"Ex: Pagamento de fornecedor, Troco inicial...",value:h,onChange:j=>f(j.target.value),rows:3})]}),e.jsxs(zt,{children:[e.jsx(H,{type:"button",variant:"outline",onClick:n,disabled:v,children:"Cancelar"}),e.jsx(H,{type:"submit",className:s==="sangria"?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700",disabled:v,children:v?"Registrando...":"Confirmar"})]})]})]})})},CO=({onSessionClose:t})=>{const[n,s]=d.useState(!0),[o,i]=d.useState(null),{toast:c}=St(),[u,h]=d.useState(!1),[f,v]=d.useState("sangria"),[p,x]=d.useState(!1),[w,j]=d.useState(!1),T=async()=>{try{s(!0);const D=await xe.get("/cash-register/summary");i(D)}catch(D){console.error("Error fetching summary:",D),D.status===404||D.message?.includes("404")?i(null):c({title:"Erro ao carregar resumo",description:D.message||"Erro de conexo",variant:"destructive"})}finally{s(!1)}};d.useEffect(()=>{T()},[]);const b=()=>{h(!1),T()},N=()=>{x(!1),T(),t&&t()},P=()=>{j(!1),T()};if(n)return e.jsx("div",{className:"p-8 text-center bg-card rounded-lg border border-dashed",children:"Carregando resumo financeiro..."});if(!o)return e.jsx(Ie,{className:"border-dashed",children:e.jsxs($e,{className:"py-12 flex flex-col items-center justify-center text-center space-y-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:e.jsx(Xa,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"max-w-xs",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Caixa Fechado"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No h um turno aberto no momento. Abra o caixa para gerenciar operaes."}),e.jsxs(H,{onClick:()=>j(!0),className:"bg-emerald-600 hover:bg-emerald-700 w-full",children:[e.jsx(Za,{className:"mr-2 h-4 w-4"})," Abrir Caixa"]})]}),e.jsx(ch,{open:w,onOpenChange:j,onSuccess:P})]})});const C=o?.session||{},S=o?.totals||{saldoInicial:0,receitas:0,suprimentos:0,sangrias:0,saldoFinalEsperado:0,porCategoria:{mensalista:0,avulso:0,convenio:0}},_=o?.stats||{totalVeiculos:0,ticketMedio:0,tempoMedio:0,picoMovimento:"N/A"};return e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsx(Ie,{className:"border-l-4 border-l-blue-500 overflow-hidden",children:e.jsxs($e,{className:"py-4 flex flex-wrap gap-8 items-center text-sm bg-blue-50/30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-semibold",children:"Abertura:"}),e.jsx("span",{children:C?.opened_at?Re(new Date(C.opened_at),"dd/MM 's' HH:mm",{locale:nt}):"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sn,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-semibold",children:"Operador:"}),e.jsx("span",{children:C?.operator_name||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xa,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-semibold",children:"Status:"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs font-bold uppercase tracking-wider",children:"Aberto"})]}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsxs(H,{onClick:()=>j(!0),variant:"outline",size:"sm",className:"border-emerald-600 text-emerald-600 hover:bg-emerald-50",disabled:!!C,children:[e.jsx(Za,{className:"mr-2 h-4 w-4"})," Abrir Caixa"]}),e.jsxs(H,{onClick:()=>x(!0),variant:"default",size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",children:[e.jsx(Dm,{className:"mr-2 h-4 w-4"})," Finalizar Turno"]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs(Ie,{className:"shadow-sm border-gray-100",children:[e.jsx(rt,{className:"pb-2",children:e.jsx(st,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Saldo Inicial"})}),e.jsxs($e,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",S.saldoInicial.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium",children:"Fundo de reserva"})]})]}),e.jsxs(Ie,{className:"shadow-sm border-emerald-100 bg-emerald-50/20",children:[e.jsx(rt,{className:"pb-2",children:e.jsx(st,{className:"text-xs font-medium text-emerald-700 uppercase tracking-wider",children:"Total Entradas"})}),e.jsxs($e,{children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:["R$ ",(S.receitas+S.suprimentos).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-[10px] text-emerald-600/70 mt-1 font-medium",children:"Receitas + Suprimentos"})]})]}),e.jsxs(Ie,{className:"shadow-sm border-rose-100 bg-rose-50/20",children:[e.jsx(rt,{className:"pb-2",children:e.jsx(st,{className:"text-xs font-medium text-rose-700 uppercase tracking-wider",children:"Total Sadas"})}),e.jsxs($e,{children:[e.jsxs("div",{className:"text-2xl font-bold text-rose-600",children:["R$ ",S.sangrias.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-[10px] text-rose-600/70 mt-1 font-medium",children:"Total de Sangrias"})]})]}),e.jsxs(Ie,{className:"bg-blue-600 text-white border-none shadow-md",children:[e.jsx(rt,{className:"pb-2",children:e.jsx(st,{className:"text-xs font-medium opacity-80 uppercase tracking-wider",children:"Saldo em Caixa"})}),e.jsxs($e,{children:[e.jsxs("div",{className:"text-3xl font-black",children:["R$ ",S.saldoFinalEsperado.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-[10px] opacity-70 mt-1 font-medium",children:"Estimativa atual"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs(Ie,{className:"shadow-sm border-gray-100",children:[e.jsxs(rt,{children:[e.jsxs(st,{className:"flex items-center gap-2 text-lg",children:[e.jsx(_2,{className:"h-5 w-5 text-blue-500"}),"Aes de Caixa"]}),e.jsx($t,{children:"Movimentaes avulsas durante o turno"})]}),e.jsxs($e,{className:"grid grid-cols-2 gap-4",children:[e.jsxs(H,{variant:"outline",className:"h-28 flex-col gap-2 hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200 transition-all border-dashed",onClick:()=>{v("sangria"),h(!0)},children:[e.jsx(oy,{className:"h-8 w-8"}),e.jsx("span",{className:"font-bold",children:"Sangria"}),e.jsx("span",{className:"text-[10px] opacity-70",children:"Sada de valor"})]}),e.jsxs(H,{variant:"outline",className:"h-28 flex-col gap-2 hover:bg-emerald-50 hover:text-emerald-600 hover:border-emerald-200 transition-all border-dashed",onClick:()=>{v("suprimento"),h(!0)},children:[e.jsx(Mm,{className:"h-8 w-8"}),e.jsx("span",{className:"font-bold",children:"Suprimento"}),e.jsx("span",{className:"text-[10px] opacity-70",children:"Aporte de valor"})]})]})]}),e.jsxs(Ie,{className:"shadow-sm border-gray-100",children:[e.jsx(rt,{className:"pb-4",children:e.jsxs(st,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Dm,{className:"h-5 w-5 text-blue-500"}),"Faturamento por Categoria"]})}),e.jsxs($e,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-md",children:[e.jsx("span",{className:"text-sm font-medium",children:"Mensalistas"}),e.jsxs("span",{className:"font-bold",children:["R$ ",S.porCategoria.mensalista.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-md",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avulsos"}),e.jsxs("span",{className:"font-bold",children:["R$ ",S.porCategoria.avulso.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-md",children:[e.jsx("span",{className:"text-sm font-medium",children:"Convnios"}),e.jsxs("span",{className:"font-bold",children:["R$ ",S.porCategoria.convenio.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 px-3 mt-4 border-t-2 border-primary/10",children:[e.jsx("span",{className:"font-bold text-primary",children:"Total em Operaes"}),e.jsxs("span",{className:"font-black text-primary text-xl",children:["R$ ",S.receitas.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(Xa,{className:"h-5 w-5 text-blue-500"}),"Indicadores do Turno"]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsx(Ie,{className:"border-none bg-blue-50/40 shadow-none",children:e.jsxs($e,{className:"pt-6 text-center",children:[e.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:e.jsx(Cr,{className:"h-5 w-5 text-blue-500"})}),e.jsx("div",{className:"text-2xl font-black text-blue-700",children:_.totalVeiculos}),e.jsx("div",{className:"text-[11px] font-bold text-blue-600/70 uppercase tracking-tighter",children:"Veculos"})]})}),e.jsx(Ie,{className:"border-none bg-emerald-50/40 shadow-none",children:e.jsxs($e,{className:"pt-6 text-center",children:[e.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:e.jsx(Za,{className:"h-5 w-5 text-emerald-500"})}),e.jsxs("div",{className:"text-2xl font-black text-emerald-700",children:["R$ ",_.ticketMedio.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("div",{className:"text-[11px] font-bold text-emerald-600/70 uppercase tracking-tighter",children:"Ticket Mdio"})]})}),e.jsx(Ie,{className:"border-none bg-indigo-50/40 shadow-none",children:e.jsxs($e,{className:"pt-6 text-center",children:[e.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:e.jsx(Hs,{className:"h-5 w-5 text-indigo-500"})}),e.jsxs("div",{className:"text-2xl font-black text-indigo-700",children:[Math.floor(_.tempoMedio/60),"h ",Math.round(_.tempoMedio%60),"m"]}),e.jsx("div",{className:"text-[11px] font-bold text-indigo-600/70 uppercase tracking-tighter",children:"Permanncia"})]})}),e.jsx(Ie,{className:"border-none bg-amber-50/40 shadow-none",children:e.jsxs($e,{className:"pt-6 text-center",children:[e.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:e.jsx(Mm,{className:"h-5 w-5 text-amber-500"})}),e.jsx("div",{className:"text-2xl font-black text-amber-700",children:_.picoMovimento}),e.jsx("div",{className:"text-[11px] font-bold text-amber-600/70 uppercase tracking-tighter",children:"Pico (Horas)"})]})})]})]}),e.jsx(NO,{isOpen:u,onClose:()=>h(!1),type:f,sessionId:C.id,onSuccess:b}),e.jsx(fN,{isOpen:p,onClose:()=>x(!1),summaryData:o,onSuccess:N}),e.jsx(ch,{open:w,onOpenChange:j,onSuccess:P})]})};var fd="DropdownMenu",[SO]=cn(fd,[dd]),Pn=dd(),[EO,pN]=SO(fd),xN=t=>{const{__scopeDropdownMenu:n,children:s,dir:o,open:i,defaultOpen:c,onOpenChange:u,modal:h=!0}=t,f=Pn(n),v=d.useRef(null),[p,x]=ur({prop:i,defaultProp:c??!1,onChange:u,caller:fd});return e.jsx(EO,{scope:n,triggerId:cr(),triggerRef:v,contentId:cr(),open:p,onOpenChange:x,onOpenToggle:d.useCallback(()=>x(w=>!w),[x]),modal:h,children:e.jsx(pb,{...f,open:p,onOpenChange:x,dir:o,modal:h,children:s})})};xN.displayName=fd;var gN="DropdownMenuTrigger",vN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,disabled:o=!1,...i}=t,c=pN(gN,s),u=Pn(s);return e.jsx(xb,{asChild:!0,...u,children:e.jsx(Le.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:Sc(n,c.triggerRef),onPointerDown:we(t.onPointerDown,h=>{!o&&h.button===0&&h.ctrlKey===!1&&(c.onOpenToggle(),c.open||h.preventDefault())}),onKeyDown:we(t.onKeyDown,h=>{o||(["Enter"," "].includes(h.key)&&c.onOpenToggle(),h.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});vN.displayName=gN;var TO="DropdownMenuPortal",yN=t=>{const{__scopeDropdownMenu:n,...s}=t,o=Pn(n);return e.jsx(gb,{...o,...s})};yN.displayName=TO;var jN="DropdownMenuContent",wN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=pN(jN,s),c=Pn(s),u=d.useRef(!1);return e.jsx(vb,{id:i.contentId,"aria-labelledby":i.triggerId,...c,...o,ref:n,onCloseAutoFocus:we(t.onCloseAutoFocus,h=>{u.current||i.triggerRef.current?.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:we(t.onInteractOutside,h=>{const f=h.detail.originalEvent,v=f.button===0&&f.ctrlKey===!0,p=f.button===2||v;(!i.modal||p)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wN.displayName=jN;var PO="DropdownMenuGroup",kO=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(yb,{...i,...o,ref:n})});kO.displayName=PO;var RO="DropdownMenuLabel",bN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(jb,{...i,...o,ref:n})});bN.displayName=RO;var DO="DropdownMenuItem",NN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(wb,{...i,...o,ref:n})});NN.displayName=DO;var MO="DropdownMenuCheckboxItem",CN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(bb,{...i,...o,ref:n})});CN.displayName=MO;var _O="DropdownMenuRadioGroup",AO=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(Nb,{...i,...o,ref:n})});AO.displayName=_O;var OO="DropdownMenuRadioItem",SN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(Cb,{...i,...o,ref:n})});SN.displayName=OO;var FO="DropdownMenuItemIndicator",EN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(Sb,{...i,...o,ref:n})});EN.displayName=FO;var IO="DropdownMenuSeparator",TN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(Eb,{...i,...o,ref:n})});TN.displayName=IO;var $O="DropdownMenuArrow",LO=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(Tb,{...i,...o,ref:n})});LO.displayName=$O;var zO="DropdownMenuSubTrigger",PN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(Pb,{...i,...o,ref:n})});PN.displayName=zO;var VO="DropdownMenuSubContent",kN=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...o}=t,i=Pn(s);return e.jsx(kb,{...i,...o,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kN.displayName=VO;var BO=xN,UO=vN,HO=yN,RN=wN,DN=bN,MN=NN,_N=CN,AN=SN,ON=EN,FN=TN,IN=PN,$N=kN;const WO=BO,qO=UO,GO=d.forwardRef(({className:t,inset:n,children:s,...o},i)=>e.jsxs(IN,{ref:i,className:Pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",n&&"pl-8",t),...o,children:[s,e.jsx(yh,{className:"ml-auto h-4 w-4"})]}));GO.displayName=IN.displayName;const YO=d.forwardRef(({className:t,...n},s)=>e.jsx($N,{ref:s,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));YO.displayName=$N.displayName;const LN=d.forwardRef(({className:t,sideOffset:n=4,...s},o)=>e.jsx(HO,{children:e.jsx(RN,{ref:o,sideOffset:n,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));LN.displayName=RN.displayName;const cc=d.forwardRef(({className:t,inset:n,...s},o)=>e.jsx(MN,{ref:o,className:Pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n&&"pl-8",t),...s}));cc.displayName=MN.displayName;const KO=d.forwardRef(({className:t,children:n,checked:s,...o},i)=>e.jsxs(_N,{ref:i,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:s,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ON,{children:e.jsx(kc,{className:"h-4 w-4"})})}),n]}));KO.displayName=_N.displayName;const QO=d.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(AN,{ref:o,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ON,{children:e.jsx(wh,{className:"h-2 w-2 fill-current"})})}),n]}));QO.displayName=AN.displayName;const JO=d.forwardRef(({className:t,inset:n,...s},o)=>e.jsx(DN,{ref:o,className:Pe("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...s}));JO.displayName=DN.displayName;const XO=d.forwardRef(({className:t,...n},s)=>e.jsx(FN,{ref:s,className:Pe("-mx-1 my-1 h-px bg-muted",t),...n}));XO.displayName=FN.displayName;const ZO=()=>{const[t,n]=d.useState(!0),[s,o]=d.useState([]),[i,c]=d.useState(""),{toast:u}=St(),h=async()=>{try{n(!0);const p=await xe.get("/cash-register/history");o(p)}catch{u({title:"Erro ao carregar histrico",variant:"destructive"})}finally{n(!1)}};d.useEffect(()=>{h()},[]);const f=async(p,x)=>{try{const w=await xe.get(`/cash-register/report/${p}/${x}`,{responseType:"blob"}),j=window.URL.createObjectURL(new Blob([w])),T=document.createElement("a");T.href=j,T.setAttribute("download",`fechamento_${p.substring(0,8)}.${x==="thermal"?"txt":x}`),document.body.appendChild(T),T.click(),T.remove()}catch{u({title:"Erro ao baixar arquivo",variant:"destructive"})}},v=s.filter(p=>(p.operator_name||"").toLowerCase().includes(i.toLowerCase())||Re(new Date(p.closed_at),"dd/MM/yyyy").includes(i));return e.jsxs(Ie,{className:"shadow-sm border-gray-100",children:[e.jsx(rt,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(st,{className:"text-xl flex items-center gap-2",children:[e.jsx(bh,{className:"h-5 w-5 text-blue-500"}),"Histrico de Turnos"]}),e.jsx($t,{children:"Consulte fechamentos passados e re-emita relatrios"})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(fy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(re,{placeholder:"Buscar por operador ou data...",className:"pl-10",value:i,onChange:p=>c(p.target.value)})]})]})}),e.jsx($e,{children:t?e.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"Carregando histrico..."})]}):v.length===0?e.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-2",children:[e.jsx(fn,{className:"h-10 w-10 text-muted/30"}),e.jsx("span",{className:"text-muted-foreground font-medium",children:"Nenhum fechamento encontrado."})]}):e.jsx("div",{className:"border rounded-md overflow-hidden bg-white",children:e.jsxs(Sr,{children:[e.jsx(Er,{className:"bg-muted/50",children:e.jsxs(Rt,{children:[e.jsx(qe,{className:"w-[120px]",children:"Relatrio"}),e.jsx(qe,{children:"Data / Hora"}),e.jsx(qe,{children:"Operador"}),e.jsx(qe,{children:"Valor em Caixa"}),e.jsx(qe,{children:"Diferena"}),e.jsx(qe,{className:"text-right",children:"Aes"})]})}),e.jsx(Tr,{children:v.map(p=>e.jsxs(Rt,{className:"hover:bg-muted/30 transition-colors",children:[e.jsxs(Ve,{className:"font-bold text-primary",children:["#",p.report_sequential_number||p.id.substring(0,6)]}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:Re(new Date(p.closed_at),"dd/MM/yyyy")}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-tight",children:p?.opened_at&&p?.closed_at?`${Re(new Date(p.opened_at),"HH:mm")}  ${Re(new Date(p.closed_at),"HH:mm")}`:"N/A"})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 text-xs font-black ring-2 ring-white",children:p?.operator_name?.[0]||"?"}),e.jsx("span",{className:"text-sm font-medium",children:p?.operator_name||"N/A"})]})}),e.jsx(Ve,{children:e.jsxs("span",{className:"font-bold text-gray-900",children:["R$ ",Number(p.actual_amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx(Ve,{children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-black uppercase ${p.difference===0?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:p.difference===0?"Exato":`R$ ${Number(p.difference).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})}),e.jsx(Ve,{className:"text-right",children:e.jsxs(WO,{children:[e.jsx(qO,{asChild:!0,children:e.jsxs(H,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(po,{className:"h-3 w-3 mr-2"})," Relatrios"]})}),e.jsxs(LN,{align:"end",className:"w-56",children:[e.jsxs(cc,{onClick:()=>f(p.id,"pdf"),children:[e.jsx(Sn,{className:"h-4 w-4 mr-2 text-red-500"})," PDF Formal (A4)"]}),e.jsxs(cc,{onClick:()=>f(p.id,"thermal"),children:[e.jsx(Ws,{className:"h-4 w-4 mr-2 text-blue-500"})," Trmico (80mm)"]}),e.jsxs(cc,{onClick:()=>f(p.id,"xml"),children:[e.jsx(Sn,{className:"h-4 w-4 mr-2 text-emerald-500"})," XML Contbil"]})]})]})})]},p.id))})]})})})]})},e3=Ti("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),as=d.forwardRef(({className:t,variant:n,...s},o)=>e.jsx("div",{ref:o,role:"alert",className:Pe(e3({variant:n}),t),...s}));as.displayName="Alert";const t3=d.forwardRef(({className:t,...n},s)=>e.jsx("h5",{ref:s,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...n}));t3.displayName="AlertTitle";const os=d.forwardRef(({className:t,...n},s)=>e.jsx("div",{ref:s,className:Pe("text-sm [&_p]:leading-relaxed",t),...n}));os.displayName="AlertDescription";const yv=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Maro"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}];function n3({open:t,onOpenChange:n,onConfirm:s}){const o=new Date,i=o.getFullYear(),c=o.getMonth()+1,u=c===1?12:c-1,h=c===1?i-1:i,[f,v]=d.useState(u),[p,x]=d.useState(h),[w,j]=d.useState(!0),[T,b]=d.useState(!1),N=[i,i-1,i-2],P=async()=>{b(!0);try{await s({month:f,year:p,clearOperational:w}),n(!1)}catch(S){console.error("Error in dialog:",S)}finally{b(!1)}},C=yv.find(S=>S.value===f)?.label||"";return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"sm:max-w-[500px]",children:[e.jsxs(ft,{children:[e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(Sn,{className:"h-5 w-5"}),"Gerar Relatrio Mensal"]}),e.jsx($n,{children:"Encerre o ciclo financeiro mensal e gere um relatrio completo."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"month",children:"Ms de Referncia"}),e.jsxs(dt,{value:f.toString(),onValueChange:S=>v(Number(S)),children:[e.jsx(it,{id:"month",children:e.jsx(ut,{placeholder:"Selecione o ms"})}),e.jsx(lt,{children:yv.map(S=>e.jsx(pe,{value:S.value.toString(),children:S.label},S.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"year",children:"Ano"}),e.jsxs(dt,{value:p.toString(),onValueChange:S=>x(Number(S)),children:[e.jsx(it,{id:"year",children:e.jsx(ut,{placeholder:"Selecione o ano"})}),e.jsx(lt,{children:N.map(S=>e.jsx(pe,{value:S.toString(),children:S},S))})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(ja,{id:"clearOperational",checked:w,onCheckedChange:S=>j(S)}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(B,{htmlFor:"clearOperational",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Limpar registros operacionais"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove todos os tickets (entrada/sada) do perodo aps arquivamento. Recomendado para iniciar novo ciclo mensal."})]})]}),e.jsxs(as,{children:[e.jsx(Xa,{className:"h-4 w-4"}),e.jsxs(os,{children:[e.jsx("strong",{children:"Ateno:"})," Esta ao ir:",e.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1 text-sm",children:[e.jsxs("li",{children:["Arquivar todos os dados financeiros de"," ",e.jsxs("strong",{children:[C,"/",p]})]}),e.jsx("li",{children:"Gerar relatrio completo com receitas e despesas"}),e.jsx("li",{children:"Salvar snapshot de todos os pagamentos e tickets"}),w&&e.jsxs("li",{className:"text-orange-600 dark:text-orange-400",children:[e.jsx("strong",{children:"Limpar tabela operacional"})," (tickets de entrada/sada)"]})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Apenas um relatrio por ms pode ser gerado. Certifique-se de que todos os lanamentos do perodo foram registrados."})]})]})]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>n(!1),disabled:T,children:"Cancelar"}),e.jsx(H,{onClick:P,disabled:T,className:"min-w-[120px]",children:T?e.jsxs(e.Fragment,{children:[e.jsx(iy,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Gerar Relatrio"]})})]})]})})}const li="dd/mm/aaaa",zN=t=>{if(!t)return"";const[n]=t.split("T");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:""},dh=t=>{if(!t)return"";if(t.includes("/"))return t;const n=zN(t);if(!n)return"";const[s,o,i]=n.split("-");return!s||!o||!i?"":`${i}/${o}/${s}`},lr=t=>{if(!t)return"";if(t.includes("-")&&/^\d{4}-\d{2}-\d{2}/.test(t))return zN(t);const n=t.replace(/\D/g,"").slice(0,8);if(n.length!==8)return"";const s=n.slice(0,2),o=n.slice(2,4);return`${n.slice(4,8)}-${o}-${s}`},ci=t=>{const n=t.replace(/\D/g,"").slice(0,8);return n.length<=2?n:n.length<=4?`${n.slice(0,2)}/${n.slice(2)}`:`${n.slice(0,2)}/${n.slice(2,4)}/${n.slice(4)}`},r3=t=>{const n=lr(t);if(!n)return null;const[s,o,i]=n.split("-").map(u=>Number(u));if(!s||!o||!i)return null;const c=new Date(s,o-1,i);return c.setHours(0,0,0,0),c},s3=t=>{if(!t.isRecurring)return"No";const n=t.recurringFrequency||"monthly";return n==="monthly"?"Mensal":n==="weekly"?"Semanal":"Anual"},ec=t=>{const n=t.isRecurring?t.recurringFrequency||"monthly":null;return{...t,dueDate:dh(t.dueDate),paymentDate:t.paymentDate?dh(t.paymentDate):null,recurringFrequency:n}},wm=t=>({...t,date:dh(t.date)}),jv=t=>{const n=lr(t.dueDate);if(!n)throw new Error("Data de vencimento invlida. Utilize o formato dd/mm/aaaa.");const s=t.paymentDate&&lr(t.paymentDate)?lr(t.paymentDate):null;if(t.paymentDate&&!s)throw new Error("Data de pagamento invlida. Utilize o formato dd/mm/aaaa.");const o=t.isRecurring?t.recurringFrequency||"monthly":null;return{name:t.name,value:t.value,dueDate:n,paymentDate:s,category:t.category,isRecurring:t.isRecurring,recurringFrequency:o,notes:t.notes}},a3=t=>{const n=lr(t.date);if(!n)throw new Error("Data da receita invlida. Utilize o formato dd/mm/aaaa.");return{description:t.description,value:t.value,date:n,category:t.category,status:t.status,notes:t.notes}};function o3(){const{toast:t}=St(),{cashIsOpen:n,cashSession:s,openCashRegister:o,getAvulsoRevenue:i,getMonthlyRevenue:c,getTotalRevenue:u}=Dr(),{hasPermission:h}=zn(),[f,v]=d.useState([]),[p,x]=d.useState([]),[w,j]=d.useState([]),[T,b]=d.useState([]),[N,P]=d.useState(""),[C,S]=d.useState(""),[_,D]=d.useState(!1),[U,F]=d.useState(!1),[Q,ee]=d.useState(!1),[te,W]=d.useState(null),[V,I]=d.useState(null),[J,he]=d.useState(!1),[ie,ue]=d.useState(null),[L,R]=d.useState(null);d.useEffect(()=>{(async()=>{try{he(!0);const le=lr(N),be=lr(C),We=le&&be?{start:le,end:be}:void 0;console.log("[Financeiro] Loading financial data with filters:",We);const[ct,yt,Ct,Vt]=await Promise.all([xe.getFinancialReport(We).catch(gt=>{throw console.error("[Financeiro] Error fetching financial report:",gt),gt}),xe.getExpenses(We).catch(gt=>(console.error("[Financeiro] Error fetching expenses:",gt),(gt.message?.includes("expenses")||gt.message?.includes("table")||gt.message?.includes("schema cache"))&&console.warn("[Financeiro] Expenses table not found. Please run CREATE-TABLES-FINANCEIRO.sql in Supabase."),[])),xe.getManualRevenues(We).catch(gt=>(console.error("[Financeiro] Error fetching manual revenues:",gt),(gt.message?.includes("manual_revenues")||gt.message?.includes("table")||gt.message?.includes("schema cache"))&&console.warn("[Financeiro] Manual revenues table not found. Please run CREATE-TABLES-FINANCEIRO.sql in Supabase."),[])),xe.getConveniosRelatoriosFaturas({status:"paga",data_inicio:le,data_fim:be}).catch(gt=>(console.error("[Financeiro] Error fetching convenios invoices:",gt),[]))]);console.log("[Financeiro] Report received:",{hasReport:!!ct,paymentsCount:ct?.payments?.length||0,total:ct?.total||0});const jn=ct?.payments||[],kn=gt=>gt==="monthly_customer"?"Mensalista":"Avulso",tn=jn.map(gt=>({type:kn(gt.target_type),date:gt.date,value:Number(gt.value)||0}));console.log("[Financeiro] Mapped records:",tn.length),v(tn);const _r=(yt||[]).map(ec);x(_r);const Ar=(Ct||[]).map(gt=>{const dn={...gt,status:gt.status||"No Pago",category:gt.category||""};return console.log("[Financeiro] Manual revenue loaded:",{id:dn.id,hasStatus:!!dn.status,hasCategory:!!dn.category}),dn});console.log("[Financeiro] Manual revenues with status:",Ar.length);const Or=Ar.map(wm);j(Or),b(Vt||[])}catch(le){console.error("[Financeiro] Failed to load financial data:",le);const We=le.message?.includes("table")||le.message?.includes("schema cache")||le.message?.includes("manual_revenues")||le.message?.includes("expenses")?"Tabelas no encontradas. Execute o script CREATE-TABLES-FINANCEIRO.sql no Supabase SQL Editor.":le.message||String(le);t({title:"Erro ao carregar dados",description:We,variant:"destructive"}),v([]),x([]),j([])}finally{he(!1)}})()},[N,C,t,n,s]),d.useEffect(()=>{if(!n)return;const G=le=>{le.preventDefault();try{localStorage.setItem("cash:pendingClose","1")}catch{}return le.returnValue="",""};return window.addEventListener("beforeunload",G),()=>window.removeEventListener("beforeunload",G)},[n]),d.useEffect(()=>{if((typeof window<"u"?localStorage.getItem("cash:pendingClose"):null)&&n){F(!0);try{localStorage.removeItem("cash:pendingClose")}catch{}}},[n]);const M=lr(N),E=lr(C),O=M?new Date(M):null,$=E?new Date(`${E}T23:59:59`):null,K=f.filter(G=>{if(!O||!$)return!0;const le=new Date(G.date);return le>=O&&le<=$}),ce=K.filter(G=>G.type==="Avulso").reduce((G,le)=>G+le.value,0),je=K.filter(G=>G.type==="Mensalista").reduce((G,le)=>G+le.value,0),Z=ce+je,fe=d.useMemo(()=>w.reduce((G,le)=>G+(le.value||0),0),[w]),Ee=d.useMemo(()=>p.reduce((G,le)=>G+(le.value||0),0),[p]),ke=d.useMemo(()=>T.reduce((G,le)=>G+(Number(le.valor_total)||0),0),[T]),ze=Z+fe+ke,A=ze-Ee,Ce=()=>{const G=[["Tipo","Data","Valor"],...K.map(We=>[We.type,We.date,We.value.toFixed(2)]),["Total Receitas Estacionamento","",Z.toFixed(2)],["Total Receitas Manuais","",fe.toFixed(2)],["Total Receitas Convnios","",ke.toFixed(2)],["Total Receitas","",ze.toFixed(2)],["Total Despesas","",Ee.toFixed(2)],["Saldo Lquido","",A.toFixed(2)]].map(We=>We.join(",")).join(`
`),le=new Blob([G],{type:"text/csv;charset=utf-8;"}),be=document.createElement("a");be.href=URL.createObjectURL(le),be.download=`financeiro_${Re(new Date,"dd-MM-yyyy")}.csv`,be.click(),t({title:"Relatrio exportado",description:"O arquivo CSV foi baixado com sucesso"})},de=()=>{const G={id:`new-${Date.now()}`,name:"",value:0,dueDate:Re(new Date,"dd/MM/yyyy"),paymentDate:null,status:"Em dia",category:"Contas",isRecurring:!1,recurringFrequency:null,notes:null};x([...p,G]),W(G.id)},Ze=(G,le,be)=>{x(We=>We.map(yt=>{if(yt.id!==G)return yt;let Ct=be;le==="dueDate"&&typeof be=="string"&&(Ct=ci(be)),le==="paymentDate"&&(be?typeof be=="string"&&(Ct=ci(be)):Ct=null);const Vt={...yt,[le]:Ct};return le==="isRecurring"&&(Ct?Vt.recurringFrequency=Vt.recurringFrequency||"monthly":Vt.recurringFrequency=null),(le==="dueDate"||le==="paymentDate")&&(Vt.status=se(Vt.dueDate,Vt.paymentDate)),Vt}))},se=(G,le)=>{if(le?!!lr(le):!1)return"Pago";const We=new Date;We.setHours(0,0,0,0);const ct=r3(G);if(!ct)return"Em dia";const yt=Math.floor((ct.getTime()-We.getTime())/(1e3*60*60*24));return yt<0?"Atrasado":yt<=3?"Perto do Vencimento":"Em dia"},Me=async G=>{try{const le=jv(G);if(G.id.startsWith("new-")){const{id:be}=G,We=await xe.createExpense(le),ct=ec(We);x(yt=>yt.map(Ct=>Ct.id===be?ct:Ct)),t({title:"Despesa criada",description:"A despesa foi registrada com sucesso"})}else{const{id:be}=G,We=await xe.updateExpense(be,le),ct=ec(We);x(yt=>yt.map(Ct=>Ct.id===be?ct:Ct)),t({title:"Despesa atualizada",description:"A despesa foi atualizada com sucesso"})}W(null)}catch(le){t({title:"Erro",description:le.message||"No foi possvel salvar a despesa",variant:"destructive"})}},ht=async G=>{try{const le=Re(new Date,"dd/MM/yyyy"),be={...G,paymentDate:le,status:"Pago"};if(G.id.startsWith("new-"))x(We=>We.map(ct=>ct.id===G.id?be:ct)),t({title:"Pagamento registrado",description:"A despesa foi marcada como paga"});else{const We=jv(be),ct=await xe.updateExpense(G.id,We),yt=ec(ct);x(Ct=>Ct.map(Vt=>Vt.id===G.id?yt:Vt)),t({title:"Pagamento registrado",description:"A despesa foi marcada como paga"})}}catch(le){t({title:"Erro",description:le.message||"No foi possvel registrar o pagamento",variant:"destructive"})}},bt=async G=>{if(confirm("Tem certeza que deseja excluir esta despesa?"))try{G.startsWith("new-")||await xe.deleteExpense(G),x(le=>le.filter(be=>be.id!==G)),t({title:"Despesa excluda",description:"A despesa foi removida com sucesso"})}catch(le){t({title:"Erro",description:le.message||"No foi possvel excluir a despesa",variant:"destructive"})}},et=()=>{const G={id:`new-${Date.now()}`,description:"",value:0,date:Re(new Date,"dd/MM/yyyy"),category:"",status:"No Pago",notes:null};j([...w,G]),I(G.id)},tt=(G,le,be)=>{j(We=>We.map(ct=>{if(ct.id!==G)return ct;let yt=be;return le==="date"&&typeof be=="string"&&(yt=ci(be)),{...ct,[le]:yt}}))},Dt=async G=>{try{const le=a3(G);if(G.id.startsWith("new-")){const{id:be}=G,We=await xe.createManualRevenue(le),ct=wm(We);j(yt=>yt.map(Ct=>Ct.id===be?ct:Ct)),t({title:"Receita criada",description:"A receita foi registrada com sucesso"})}else{const{id:be}=G,We=await xe.updateManualRevenue(be,le),ct=wm(We);j(yt=>yt.map(Ct=>Ct.id===be?ct:Ct)),t({title:"Receita atualizada",description:"A receita foi atualizada com sucesso"})}I(null)}catch(le){t({title:"Erro",description:le.message||"No foi possvel salvar a receita",variant:"destructive"})}},xt=async G=>{if(confirm("Tem certeza que deseja excluir esta receita?"))try{G.startsWith("new-")||await xe.deleteManualRevenue(G),j(le=>le.filter(be=>be.id!==G)),t({title:"Receita excluda",description:"A receita foi removida com sucesso"})}catch(le){t({title:"Erro",description:le.message||"No foi possvel excluir a receita",variant:"destructive"})}},At=G=>{switch(G){case"Pago":return"bg-success/10 text-success";case"Atrasado":return"bg-destructive/10 text-destructive";case"Perto do Vencimento":return"bg-warning/10 text-warning";case"Em dia":return"bg-primary/10 text-primary";default:return"bg-muted text-muted-foreground"}},me=async G=>{try{const le=await xe.generateMonthlyReport(G);t({title:"Relatrio mensal gerado!",description:le.message||"O relatrio foi gerado e arquivado com sucesso."});const be=lr(N),We=lr(C),ct=be&&We?{start:be,end:We}:void 0,Ct=(await xe.getFinancialReport(ct))?.payments||[],Vt=kn=>kn==="monthly_customer"?"Mensalista":"Avulso",jn=Ct.map(kn=>({type:Vt(kn.target_type),date:kn.date,value:Number(kn.value)||0}));v(jn)}catch(le){throw console.error("Error generating monthly report:",le),t({title:"Erro ao gerar relatrio",description:le.message||"No foi possvel gerar o relatrio mensal.",variant:"destructive"}),le}};return h("viewReports")?e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Financeiro"}),n&&s?.openedAt&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Caixa aberto em"," ",Re(new Date(s.openedAt),"dd/MM/yyyy HH:mm",{locale:nt})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",onClick:Ce,children:[e.jsx(po,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),e.jsxs(H,{variant:"outline",onClick:()=>ee(!0),className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[e.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio Mensal"]}),h("openCloseCash")&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:()=>D(!0),className:"bg-green-600 hover:bg-green-700",disabled:n,children:"Abrir Caixa"}),e.jsx(H,{onClick:()=>F(!0),variant:"destructive",disabled:!n,children:"Finalizar Turno"})]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border mb-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Filtrar por Perodo"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"startDate",children:"Data Inicial"}),e.jsx(re,{id:"startDate",type:"text",inputMode:"numeric",placeholder:li,value:N,onChange:G=>P(ci(G.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endDate",children:"Data Final"}),e.jsx(re,{id:"endDate",type:"text",inputMode:"numeric",placeholder:li,value:C,onChange:G=>S(ci(G.target.value)),className:"mt-1"})]})]}),N&&C&&e.jsx(H,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{P(""),S("")},children:"Limpar Filtro"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita Estacionamento"}),e.jsxs("p",{className:"text-3xl font-bold text-primary",children:["R$ ",Z.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avulsos: R$ ",ce.toFixed(2)," | Mensalistas: R$ ",je.toFixed(2)]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receitas Manuais"}),e.jsxs("p",{className:"text-3xl font-bold text-accent",children:["R$ ",fe.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sublocao e outros"})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Despesas"}),e.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",Ee.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total de despesas registradas"})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita Convnios"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["R$ ",ke.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Faturas pagas no perodo"})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border border-primary/20",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Saldo Lquido"}),e.jsxs("p",{className:`text-3xl font-bold ${A>=0?"text-success":"text-destructive"}`,children:["R$ ",A.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Receitas - Despesas"})]})]}),e.jsxs(Qn,{defaultValue:"shift-ops",className:"space-y-6",children:[e.jsxs(In,{className:"grid w-full grid-cols-2 md:w-auto md:flex",children:[e.jsx(Je,{value:"shift-ops",children:"Operaes de Turno"}),e.jsx(Je,{value:"shift-history",children:"Histrico de Turnos"}),e.jsx(Je,{value:"expenses",children:"Despesas"}),e.jsx(Je,{value:"revenues",children:"Receitas Manuais"})]}),e.jsx(Xe,{value:"shift-ops",children:e.jsx(CO,{onSessionClose:()=>{}})}),e.jsx(Xe,{value:"shift-history",children:e.jsx(ZO,{})}),e.jsxs(Xe,{value:"expenses",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Despesas"}),e.jsxs(H,{onClick:de,size:"sm",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Adicionar Despesa"]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Vencimento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Recorrente"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:'Nenhuma despesa registrada. Clique em "Adicionar Despesa" para comear.'})}):p.map((G,le)=>(le===0&&console.log("[Financeiro] First expense status:",{id:G.id,status:G.status,shouldShowButton:G.status!=="Pago"}),e.jsxs("tr",{className:le%2===0?"bg-background":"bg-muted/20",children:[e.jsx("td",{className:"px-4 py-3",children:te===G.id?e.jsx(re,{value:G.name,onChange:be=>Ze(G.id,"name",be.target.value),placeholder:"Nome da despesa",className:"w-full"}):e.jsx("span",{className:"font-medium",children:G.name||""})}),e.jsx("td",{className:"px-4 py-3",children:te===G.id?e.jsx(re,{type:"number",step:"0.01",min:"0",value:G.value,onChange:be=>Ze(G.id,"value",Number(be.target.value)),className:"w-full"}):e.jsxs("span",{children:["R$ ",G.value.toFixed(2)]})}),e.jsx("td",{className:"px-4 py-3",children:te===G.id?e.jsxs(dt,{value:G.category,onValueChange:be=>Ze(G.id,"category",be),children:[e.jsx(it,{className:"w-full",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Contas",children:"Contas"}),e.jsx(pe,{value:"Manuteno",children:"Manuteno"}),e.jsx(pe,{value:"Pr-labore",children:"Pr-labore"}),e.jsx(pe,{value:"Impostos",children:"Impostos"})]})]}):e.jsx("span",{children:G.category})}),e.jsx("td",{className:"px-4 py-3",children:te===G.id?e.jsx(re,{type:"text",inputMode:"numeric",placeholder:li,value:G.dueDate||"",onChange:be=>Ze(G.id,"dueDate",be.target.value),className:"w-full"}):e.jsx("span",{children:G.dueDate||""})}),e.jsx("td",{className:"px-4 py-3",children:te===G.id?e.jsx(re,{type:"text",inputMode:"numeric",placeholder:li,value:G.paymentDate||"",onChange:be=>Ze(G.id,"paymentDate",be.target.value),className:"w-full"}):e.jsx("span",{children:G.paymentDate||""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${At(G.status)}`,children:G.status})}),e.jsx("td",{className:"px-4 py-3",children:te===G.id?e.jsxs("div",{className:"space-y-1",children:[e.jsxs(dt,{value:G.isRecurring?"true":"false",onValueChange:be=>Ze(G.id,"isRecurring",be==="true"),children:[e.jsx(it,{className:"w-full",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"false",children:"No"}),e.jsx(pe,{value:"true",children:"Sim"})]})]}),G.isRecurring&&e.jsxs(dt,{value:G.recurringFrequency||"monthly",onValueChange:be=>Ze(G.id,"recurringFrequency",be),children:[e.jsx(it,{className:"w-full",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"monthly",children:"Mensal"}),e.jsx(pe,{value:"weekly",children:"Semanal"}),e.jsx(pe,{value:"yearly",children:"Anual"})]})]})]}):e.jsx("span",{className:"text-sm",children:s3(G)})}),e.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:te===G.id?e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>{ie&&x(be=>be.map(We=>We.id===G.id?ie:We)),W(null),ue(null)},children:"Cancelar"}),e.jsxs(H,{size:"sm",onClick:()=>Me(G),disabled:!G.name||G.value<=0,children:[e.jsx(Am,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):e.jsxs(e.Fragment,{children:[G.status!=="Pago"&&e.jsxs(H,{size:"sm",variant:"ghost",onClick:()=>ht(G),className:"text-green-600 hover:text-green-700",children:[e.jsx(fi,{className:"h-4 w-4 mr-1"}),"Realizar Pagamento"]}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>{ue({...G}),W(G.id)},children:"Editar"}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>bt(G.id),children:e.jsx(Jn,{className:"h-4 w-4 text-destructive"})})]})})]},G.id)))})]})})})]}),e.jsxs(Xe,{value:"revenues",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Receitas Manuais"}),e.jsxs(H,{onClick:et,size:"sm",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Adicionar Receita"]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Descrio"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),e.jsx("tbody",{children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:'Nenhuma receita manual registrada. Clique em "Adicionar Receita" para comear.'})}):w.map((G,le)=>e.jsxs("tr",{className:le%2===0?"bg-background":"bg-muted/20",children:[e.jsx("td",{className:"px-4 py-3",children:V===G.id?e.jsx(re,{value:G.description,onChange:be=>tt(G.id,"description",be.target.value),placeholder:"Descrio da receita",className:"w-full"}):e.jsx("span",{className:"font-medium",children:G.description||""})}),e.jsx("td",{className:"px-4 py-3",children:V===G.id?e.jsx(re,{type:"number",step:"0.01",min:"0",value:G.value,onChange:be=>tt(G.id,"value",Number(be.target.value)),className:"w-full"}):e.jsxs("span",{children:["R$ ",G.value.toFixed(2)]})}),e.jsx("td",{className:"px-4 py-3",children:V===G.id?e.jsx(re,{value:G.category,onChange:be=>tt(G.id,"category",be.target.value),placeholder:"Digite a categoria",className:"w-full"}):e.jsx("span",{children:G.category||""})}),e.jsx("td",{className:"px-4 py-3",children:V===G.id?e.jsx(re,{type:"text",inputMode:"numeric",placeholder:li,value:G.date||"",onChange:be=>tt(G.id,"date",be.target.value),className:"w-full"}):e.jsx("span",{children:G.date||""})}),e.jsx("td",{className:"px-4 py-3",children:V===G.id?e.jsxs(dt,{value:G.status,onValueChange:be=>tt(G.id,"status",be),children:[e.jsx(it,{className:"w-full",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Pago",children:"Pago"}),e.jsx(pe,{value:"No Pago",children:"No Pago"})]})]}):e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G.status==="Pago"?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:G.status})}),e.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:V===G.id?e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>{L&&j(be=>be.map(We=>We.id===G.id?L:We)),I(null),R(null)},children:"Cancelar"}),e.jsxs(H,{size:"sm",onClick:()=>Dt(G),disabled:!G.description||G.value<=0,children:[e.jsx(Am,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>{R({...G}),I(G.id)},children:"Editar"}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>xt(G.id),children:e.jsx(Jn,{className:"h-4 w-4 text-destructive"})})]})})]},G.id))})]})})})]})]})]}),e.jsx(ch,{open:_,onOpenChange:D,totalRevenue:ze}),e.jsx(fN,{isOpen:U,onClose:()=>F(!1),summaryData:null,onSuccess:()=>{}}),e.jsx(n3,{open:Q,onOpenChange:ee,onConfirm:me})]}):e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para visualizar relatrios financeiros."})]})})}const bm=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function i3(){const{toast:t}=St(),{hasPermission:n}=zn(),[s,o]=d.useState([]),[i,c]=d.useState(!0),[u,h]=d.useState(null),[f,v]=d.useState(!1),[p,x]=d.useState(new Date().getFullYear());d.useEffect(()=>{w()},[p]);const w=async()=>{try{c(!0);const N=await xe.getMonthlyReports({year:p,limit:12});o(N||[])}catch(N){console.error("Error loading reports:",N);const P=N.message?.includes("relation")||N.message?.includes("monthly_reports")||N.message?.includes("does not exist");t(P?{title:"Tabela no encontrada",description:"Execute o script backend/create-monthly-reports-table.sql no Supabase para criar a estrutura necessria.",variant:"destructive"}:{title:"Erro ao carregar relatrios",description:N.message||"No foi possvel carregar os relatrios mensais.",variant:"destructive"}),o([])}finally{c(!1)}},j=async N=>{try{const P=await xe.getMonthlyReportById(N.id);h(P),v(!0)}catch(P){t({title:"Erro ao carregar detalhes",description:P.message||"No foi possvel carregar os detalhes do relatrio.",variant:"destructive"})}},T=N=>{const P=b(N),C=new Blob([P],{type:"text/plain;charset=utf-8"}),S=document.createElement("a");S.href=URL.createObjectURL(C),S.download=`relatorio_mensal_${N.report_month}_${N.report_year}.txt`,S.click(),t({title:"Relatrio baixado",description:"O documento foi baixado com sucesso."})},b=N=>`

             RELATRIO FINANCEIRO MENSAL


PERODO: ${bm[N.report_month-1]}/${N.report_year}
GERADO EM: ${Re(new Date(N.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:nt})}


INFORMAES DA EMPRESA

Razo Social: ${N.company_legal_name||N.company_name}
Nome Fantasia: ${N.company_name}
CNPJ: ${N.company_cnpj}
Endereo: ${N.company_address}
Telefone: ${N.company_phone}


OPERADOR RESPONSVEL

Nome: ${N.operator_name}
ID: ${N.operator_id}


RESUMO FINANCEIRO

Receita Total:          R$ ${N.total_revenue.toFixed(2)}
   Avulsos:            R$ ${N.avulsos_revenue.toFixed(2)}
   Mensalistas:        R$ ${N.mensalistas_revenue.toFixed(2)}


FORMAS DE PAGAMENTO

Dinheiro:               R$ ${N.cash_total.toFixed(2)}
PIX:                    R$ ${N.pix_total.toFixed(2)}
Carto Dbito:          R$ ${N.debit_card_total.toFixed(2)}
Carto Crdito:         R$ ${N.credit_card_total.toFixed(2)}


ESTATSTICAS OPERACIONAIS

Total de Tickets:       ${N.total_tickets}
Tickets Encerrados:     ${N.tickets_closed}
Clientes Mensalistas:   ${N.monthly_customers_count}
Pagamentos Mensalistas: ${N.monthly_payments_count}


OBSERVAES

Este relatrio foi gerado automaticamente pelo sistema de
gesto de estacionamento. Todos os dados operacionais foram
arquivados e podem ser consultados atravs do ID do relatrio:
${N.id}

Status: ${N.status==="completed"?"Concludo":N.status}


            FIM DO RELATRIO MENSAL

`;return n("viewReports")?i?e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Relatrios Mensais"}),e.jsx("div",{className:"text-center py-12",children:"Carregando..."})]})}):e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Relatrios Mensais"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Histrico de encerramentos mensais e relatrios financeiros"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:()=>x(p-1),children:""}),e.jsx("span",{className:"font-semibold min-w-[80px] text-center",children:p}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>x(p+1),disabled:p>=new Date().getFullYear(),children:""})]})]}),s.length===0?e.jsx(Ie,{children:e.jsxs($e,{className:"py-12 text-center",children:[e.jsx(Sn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum relatrio gerado"}),e.jsx("p",{className:"text-muted-foreground",children:'Clique em "Gerar Relatrio Mensal" na pgina Financeiro para criar seu primeiro relatrio.'})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(N=>e.jsxs(Ie,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(rt,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(st,{className:"text-lg",children:[bm[N.report_month-1]," ",N.report_year]}),e.jsxs($t,{className:"text-xs mt-1",children:["Gerado em"," ",Re(new Date(N.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:nt})]})]}),e.jsx(Nn,{variant:N.status==="completed"?"default":"secondary",children:N.status==="completed"?"Concludo":N.status})]})}),e.jsxs($e,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Receita Total:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",N.total_revenue.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avulsos:"}),e.jsxs("span",{children:["R$ ",N.avulsos_revenue.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Mensalistas:"}),e.jsxs("span",{children:["R$ ",N.mensalistas_revenue.toFixed(2)]})]})]}),e.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:["Operador: ",N.operator_name]}),e.jsx("div",{className:"flex gap-2 pt-2",children:e.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>j(N),children:[e.jsx(eo,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]})})]})]},N.id))})]}),e.jsx(Nt,{open:f,onOpenChange:v,children:e.jsx(wt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:u&&e.jsxs(e.Fragment,{children:[e.jsxs(ft,{children:[e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(Sn,{className:"h-5 w-5"}),"Relatrio Mensal - ",bm[u.report_month-1],"/",u.report_year]}),e.jsxs($n,{children:["Gerado em"," ",Re(new Date(u.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:nt})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(fn,{className:"h-4 w-4"}),"Informaes da Empresa"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Nome:"}),e.jsx("p",{className:"font-medium",children:u.company_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"CNPJ:"}),e.jsx("p",{className:"font-medium",children:u.company_cnpj})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Endereo:"}),e.jsx("p",{className:"font-medium",children:u.company_address})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Za,{className:"h-4 w-4"}),"Resumo Financeiro"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ie,{children:e.jsxs($e,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita Total"}),e.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",u.total_revenue.toFixed(2)]})]})}),e.jsx(Ie,{children:e.jsxs($e,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avulsos"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",u.avulsos_revenue.toFixed(2)]})]})}),e.jsx(Ie,{children:e.jsxs($e,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensalistas"}),e.jsxs("p",{className:"text-2xl font-bold text-accent",children:["R$ ",u.mensalistas_revenue.toFixed(2)]})]})}),e.jsx(Ie,{children:e.jsxs($e,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),e.jsx("p",{className:"text-2xl font-bold",children:u.total_tickets})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Formas de Pagamento"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Dinheiro:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",u.cash_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"PIX:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",u.pix_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Carto Dbito:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",u.debit_card_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Carto Crdito:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",u.credit_card_total.toFixed(2)]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Cr,{className:"h-4 w-4"}),"Estatsticas Operacionais"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total de Tickets:"}),e.jsx("span",{className:"font-semibold",children:u.total_tickets})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tickets Encerrados:"}),e.jsx("span",{className:"font-semibold",children:u.tickets_closed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Clientes Mensalistas:"}),e.jsx("span",{className:"font-semibold",children:u.monthly_customers_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Pagamentos Mensalistas:"}),e.jsx("span",{className:"font-semibold",children:u.monthly_payments_count})]})]})]}),e.jsxs("div",{className:"text-sm border-t pt-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Operador responsvel:"}),e.jsx("span",{className:"ml-2 font-medium",children:u.operator_name})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(H,{onClick:()=>T(u),className:"flex-1",children:[e.jsx(po,{className:"h-4 w-4 mr-2"}),"Baixar Documento"]}),e.jsx(H,{variant:"outline",onClick:()=>v(!1),children:"Fechar"})]})]})})})]}):e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para visualizar relatrios mensais."})]})})}const l3=({open:t,onOpenChange:n})=>{const[s,o]=d.useState([]),[i,c]=d.useState(!1),[u,h]=d.useState({startDate:"",endDate:"",action:"",actorId:""}),[f,v]=d.useState(new Set),{toast:p}=St(),x=async()=>{c(!0);try{const C={};u.startDate&&(C.start=new Date(u.startDate).toISOString()),u.endDate&&(C.end=new Date(u.endDate).toISOString()),u.action&&(C.action=u.action),u.actorId&&(C.actorId=u.actorId);const S=await xe.getAuditEvents(C);o(S||[])}catch(C){const S=C instanceof Error?C.message:String(C);p({title:"Erro ao carregar eventos",description:S,variant:"destructive"})}finally{c(!1)}};d.useEffect(()=>{t&&x()},[t,x]);const w=C=>{const S=new Set(f);S.has(C)?S.delete(C):S.add(C),v(S)},j=C=>({"user.create":"Criao de usurio","user.update":"Atualizao de usurio","user.delete":"Excluso de usurio","user.password.update":"Atualizao de senha","user.bulkUpdate":"Atualizao em massa","cash.open":"Abertura de caixa","cash.close":"Fechamento de caixa","ticket.create":"Criao de ticket","ticket.finalize":"Finalizao de ticket","payment.create":"Criao de pagamento","customer.create":"Criao de mensalista","customer.update":"Atualizao de mensalista","customer.delete":"Excluso de mensalista","rate.create":"Criao de tarifa","rate.update":"Atualizao de tarifa","rate.delete":"Excluso de tarifa","config.update":"Atualizao de configurao"})[C]||C,T=C=>C.includes("create")?"text-green-600":C.includes("update")?"text-blue-600":C.includes("delete")?"text-red-600":C.includes("close")||C.includes("finalize")?"text-purple-600":C.includes("open")?"text-emerald-600":"text-gray-600",b=Array.from(new Set(s.map(C=>C.action))),N=Array.from(new Set(s.map(C=>({id:C.actor_id,name:C.actor_name})))),P=C=>{if(!C)return null;try{return JSON.parse(C)}catch{return C}};return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx(ft,{children:e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(g2,{className:"h-5 w-5"}),"Log de Auditoria"]})}),e.jsxs("div",{className:"bg-muted/30 rounded-lg border p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Data Incio"}),e.jsx(re,{type:"date",value:u.startDate,onChange:C=>h({...u,startDate:C.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Data Fim"}),e.jsx(re,{type:"date",value:u.endDate,onChange:C=>h({...u,endDate:C.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Ao"}),e.jsxs(dt,{value:u.action,onValueChange:C=>h({...u,action:C}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Todas"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"",children:"Todas"}),b.map(C=>e.jsx(pe,{value:C,children:j(C)},C))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Usurio"}),e.jsxs(dt,{value:u.actorId,onValueChange:C=>h({...u,actorId:C}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Todos"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"",children:"Todos"}),N.map(C=>e.jsx(pe,{value:C.id,children:C.name},C.id))]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," evento",s.length!==1?"s":""," encontrado",s.length!==1?"s":""]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:()=>h({startDate:"",endDate:"",action:"",actorId:""}),children:"Limpar filtros"}),e.jsx(H,{size:"sm",onClick:x,disabled:i,children:i?"Carregando...":"Atualizar"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:i?e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Carregando eventos..."}):s.length===0?e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Nenhum evento encontrado"}):e.jsx("div",{className:"divide-y",children:s.map(C=>{const S=f.has(C.id),_=P(C.details),D=_!==null;return e.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[D?e.jsx("button",{onClick:()=>w(C.id),className:"mt-0.5 text-muted-foreground hover:text-foreground transition-colors","aria-label":S?"Recolher detalhes":"Expandir detalhes",children:S?e.jsx(vh,{className:"h-4 w-4"}):e.jsx(yh,{className:"h-4 w-4"})}):e.jsx("div",{className:"w-4"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`font-medium ${T(C.action)}`,children:j(C.action)}),C.target_type&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",C.target_type,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mc,{className:"h-3 w-3"}),C.actor_name," (",C.actor_login,")"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(fn,{className:"h-3 w-3"}),Re(new Date(C.created_at),"dd/MM/yyyy 's' HH:mm",{locale:nt})]})]})]})}),S&&D&&e.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded border text-xs",children:[e.jsx("div",{className:"font-medium mb-2",children:"Detalhes:"}),e.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs overflow-x-auto",children:typeof _=="object"?JSON.stringify(_,null,2):String(_)})]})]})]})},C.id)})})})]})})},c3=()=>{const{isAdmin:t,hasPermission:n,user:s,logout:o}=zn(),i=Rr(),[c,u]=d.useState([]),[h,f]=d.useState(!1),[v,p]=d.useState(null),[x,w]=d.useState(!1),[j,T]=d.useState(!1),[b,N]=d.useState(!1),[P,C]=d.useState(!1),[S,_]=d.useState(!1),[D,U]=d.useState(null),[F,Q]=d.useState([]),[ee,te]=d.useState(!1),[W,V]=d.useState(null),{toast:I}=St(),[J,he]=d.useState(""),[ie,ue]=d.useState(""),[L,R]=d.useState("all"),M=Object.keys({manageRates:!1,manageMonthlyCustomers:!1,viewReports:!1,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!1,manageBackups:!1}),[E,O]=d.useState("any"),$={manageRates:!1,manageMonthlyCustomers:!0,viewReports:!0,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1},K={manageRates:!0,manageMonthlyCustomers:!0,viewReports:!0,manageUsers:!0,manageCompanyConfig:!0,manageVehicleTypes:!0,openCloseCash:!0,manageBackups:!0},ce={Admin:{role:"admin",permissions:{...K}},Operacional:{role:"operator",permissions:{manageRates:!1,manageMonthlyCustomers:!0,viewReports:!1,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1}},Financeiro:{role:"operator",permissions:{manageRates:!0,manageMonthlyCustomers:!1,viewReports:!0,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1}}},je=oe=>{const ve=ce[oe];Ee(Oe=>({...Oe,role:ve.role,permissions:{...ve.permissions}}))},Z=oe=>{const ve=ce[oe];ze(Oe=>({...Oe,role:ve.role,permissions:{...ve.permissions}}))},[fe,Ee]=d.useState({name:"",email:"",login:"",password:"",role:"operator",permissions:{...$}}),[ke,ze]=d.useState({name:"",email:"",login:"",role:"operator",permissions:{...$}}),[A,Ce]=d.useState(""),[de,Ze]=d.useState(""),[se,Me]=d.useState(""),[ht,bt]=d.useState(!1),et=oe=>{const ve=[],Oe=oe.length>=8;Oe||ve.push("Mnimo de 8 caracteres");const at=/[a-z]/.test(oe),Pt=/[A-Z]/.test(oe),Wt=/[0-9]/.test(oe),kt=/[^A-Za-z0-9]/.test(oe),nn=[at,Pt,Wt,kt].filter(Boolean).length;nn<3&&ve.push("Use 3 tipos: maiscula, minscula, nmero, smbolo");let Mt=0;Mt+=Oe?1:0,Mt+=nn>=2?1:0,Mt+=nn>=3?1:0,Mt+=oe.length>=12?1:0,Mt+=oe.length>=16?1:0;const pn=["Muito fraca","Fraca","Mdia","Forte","Muito forte"],hr=["text-red-600","text-orange-500","text-yellow-600","text-green-600","text-emerald-600"],Zs=Math.min(Mt,4),Ca=Oe&&nn>=3;return{score:Mt,label:pn[Zs],color:hr[Zs],valid:Ca,issues:ve}},tt=d.useMemo(()=>et(fe.password||""),[fe.password]),Dt=d.useMemo(()=>et(de||""),[de]),xt=async()=>{f(!0);try{const oe=await xe.getUsers();u(oe||[])}catch(oe){p(oe.message||"Erro ao carregar usurios")}finally{f(!1)}};d.useEffect(()=>{n("manageUsers")&&xt()},[t]),d.useEffect(()=>{const oe=setTimeout(()=>ue(J.trim().toLowerCase()),300);return()=>clearTimeout(oe)},[J]);const At=d.useMemo(()=>{let oe=c.slice();return L!=="all"&&(oe=oe.filter(ve=>ve.role===L)),E!=="any"&&(oe=oe.filter(ve=>!!(ve.permissions||{})[E])),ie&&(oe=oe.filter(ve=>`${ve.name||""} ${ve.login||""} ${ve.email||""}`.toLowerCase().includes(ie))),oe},[c,L,E,ie]),me=d.useMemo(()=>At.length?At.every(oe=>F.includes(oe.id)):!1,[At,F]),G=oe=>{if(oe){const ve=Array.from(new Set([...F,...At.map(Oe=>Oe.id)]));Q(ve)}else{const ve=new Set(At.map(Oe=>Oe.id));Q(Oe=>Oe.filter(at=>!ve.has(at)))}},le=(oe,ve)=>{Q(Oe=>ve?Array.from(new Set([...Oe,oe])):Oe.filter(at=>at!==oe))},be=()=>{Ee({name:"",email:"",login:"",password:"",role:"operator",permissions:{...$}}),w(!0)},We=async oe=>{if(oe.preventDefault(),!tt.valid){I({title:"Senha fraca",description:tt.issues.join("  "),variant:"destructive"});return}try{const ve=await xe.createUser(fe);I({title:"Usurio criado",description:ve.name}),w(!1),xt()}catch(ve){I({title:"Erro ao criar usurio",description:ve.message})}},ct=oe=>{U(oe),ze({name:oe.name,email:oe.email,login:oe.login,role:oe.role,permissions:{...$,...oe.permissions||{}}}),T(!0)},yt=async oe=>{if(oe.preventDefault(),!!D)try{const ve=await xe.updateUser(D.id,ke);I({title:"Usurio atualizado",description:ve.name}),T(!1),xt()}catch(ve){I({title:"Erro ao atualizar",description:ve.message})}},Ct=oe=>{U(oe),Ce(""),Ze(""),Me(""),bt(!1),N(!0)},Vt=async oe=>{if(oe.preventDefault(),!!D){if(de!==se){I({title:"Senhas no conferem",description:"Confirme a nova senha corretamente."});return}if(!Dt.valid){I({title:"Senha fraca",description:Dt.issues.join("  "),variant:"destructive"});return}try{A?await xe.updateOwnPassword(D.id,A,de):await xe.updateUserPassword(D.id,de),I({title:"Senha atualizada",description:D.name}),N(!1),s&&D.id===s.id&&(o(),i("/login"))}catch(ve){I({title:"Erro ao atualizar senha",description:ve.message})}}},jn=oe=>{U(oe),C(!0)},kn=async()=>{if(D)try{await xe.deleteUser(D.id),I({title:"Usurio removido",description:D.name}),C(!1),xt()}catch(oe){I({title:"Erro ao remover usurio",description:oe.message})}},tn=d.useMemo(()=>c.filter(oe=>oe.role==="admin").length,[c]),_r=d.useMemo(()=>c.filter(oe=>F.includes(oe.id)&&oe.role==="admin").length,[c,F]),Ar=async oe=>{if(F.length){if(oe==="operator"&&tn>0&&_r===tn){I({title:"Operao bloqueada",description:"No  permitido remover o ltimo admin.",variant:"destructive"});return}try{const ve=F.map(Oe=>xe.updateUser(Oe,{role:oe}));await Promise.all(ve),I({title:"Papel atualizado",description:`${F.length} usurio(s) atualizado(s)`}),Q([]),await xt()}catch(ve){I({title:"Erro em atualizao em massa",description:ve.message,variant:"destructive"})}}},Or=async oe=>{if(!F.length)return;const ve=ce[oe];try{const Oe=F.map(at=>xe.updateUser(at,{role:ve.role,permissions:ve.permissions}));await Promise.all(Oe),I({title:"Preset aplicado",description:`${oe} aplicado para ${F.length} usurio(s)`}),Q([]),await xt()}catch(Oe){I({title:"Erro ao aplicar preset",description:Oe.message,variant:"destructive"})}},gt=async()=>{if(!W)return;const{kind:oe,value:ve}=W;try{oe==="role"?await Ar(ve):await Or(ve);try{await xe.createAuditEvent({action:"user.bulkUpdate",targetType:"user",details:{kind:oe,value:ve,count:F.length,ids:F}})}catch(Oe){console.warn("Failed to write bulk audit event",Oe)}te(!1),V(null)}catch{}},dn=Object.keys($),Zn=()=>{const oe=At.map(Pt=>({id:Pt.id,name:Pt.name,login:Pt.login,email:Pt.email,role:Pt.role,permissions:dn.reduce((Wt,kt)=>({...Wt,[kt]:!!(Pt.permissions||{})[kt]}),{})})),ve=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(ve),at=document.createElement("a");at.href=Oe,at.download="usuarios.json",at.click(),URL.revokeObjectURL(Oe)},Vn=()=>{const oe=["id","name","login","email","role",...dn],ve=At.map(kt=>{const nn=dn.map(pn=>kt.permissions&&kt.permissions[pn]?"1":"0");return[kt.id,kt.name,kt.login,kt.email,kt.role,...nn].map(pn=>{const hr=String(pn??"");return/[",\n]/.test(hr)?'"'+hr.replace(/"/g,'""')+'"':hr}).join(",")}),Oe=[oe.join(","),...ve].join(`
`),at=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),Pt=URL.createObjectURL(at),Wt=document.createElement("a");Wt.href=Pt,Wt.download="usuarios.csv",Wt.click(),URL.revokeObjectURL(Pt)};return n("manageUsers")?e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Usurios"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"outline",onClick:()=>_(!0),children:"Log de Auditoria"}),e.jsx(H,{variant:"outline",onClick:Vn,children:"Exportar CSV"}),e.jsx(H,{variant:"outline",onClick:Zn,children:"Exportar JSON"}),n("manageUsers")&&e.jsx(H,{onClick:be,children:"Criar usurio"})]})]}),h&&e.jsx("p",{children:"Carregando..."}),v&&e.jsx("p",{className:"text-red-600",children:v}),e.jsxs("div",{className:"bg-card rounded-lg border p-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Buscar"}),e.jsx(re,{placeholder:"Nome, login ou email",value:J,onChange:oe=>he(oe.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Papel"}),e.jsxs(dt,{value:L,onValueChange:oe=>R(oe),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Todos"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"all",children:"Todos"}),e.jsx(pe,{value:"admin",children:"Admin"}),e.jsx(pe,{value:"operator",children:"Operador"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Permisso"}),e.jsxs(dt,{value:E,onValueChange:oe=>O(oe),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Qualquer"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"any",children:"Qualquer"}),M.map(oe=>e.jsx(pe,{value:oe,children:Nm(oe)},oe))]})]})]})]}),(J||L!=="all"||E!=="any")&&e.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[At.length," resultados"]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{he(""),R("all"),O("any")},children:"Limpar filtros"})]})]}),F.length>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-900 rounded-md p-3 mb-3 flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:["Selecionados: ",F.length]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxs(dt,{onValueChange:oe=>{V({kind:"role",value:oe}),te(!0)},children:[e.jsx(it,{className:"w-[170px]",children:e.jsx(ut,{placeholder:"Definir papel"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"admin",children:"Admin"}),e.jsx(pe,{value:"operator",children:"Operador"})]})]}),e.jsxs(dt,{onValueChange:oe=>{V({kind:"preset",value:oe}),te(!0)},children:[e.jsx(it,{className:"w-[200px]",children:e.jsx(ut,{placeholder:"Aplicar preset"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Admin",children:"Admin"}),e.jsx(pe,{value:"Operacional",children:"Operacional"}),e.jsx(pe,{value:"Financeiro",children:"Financeiro"})]})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Q([]),children:"Limpar seleo"})]})]}),e.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium w-10",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:me,onChange:oe=>G(oe.target.checked),"aria-label":"Selecionar todos"})}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Login"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Papel"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),e.jsx("tbody",{children:At.map(oe=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:F.includes(oe.id),onChange:ve=>le(oe.id,ve.target.checked),"aria-label":`Selecionar ${oe.name}`})}),e.jsx("td",{className:"px-4 py-3",children:oe.name}),e.jsx("td",{className:"px-4 py-3",children:oe.login}),e.jsx("td",{className:"px-4 py-3",children:oe.email}),e.jsx("td",{className:"px-4 py-3",children:oe.role}),e.jsx("td",{className:"px-4 py-3 text-right flex gap-1 justify-end",children:n("manageUsers")&&e.jsxs(e.Fragment,{children:[e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>ct(oe),children:"Editar"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Ct(oe),children:"Senha"}),e.jsx(H,{variant:"destructive",size:"sm",onClick:()=>jn(oe),children:"Excluir"})]})})]},oe.id))})]})}),e.jsx(Nt,{open:x,onOpenChange:w,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Novo usurio"})}),e.jsxs("form",{onSubmit:We,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Presets rpidos"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>je("Admin"),children:"Admin"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>je("Operacional"),children:"Operacional"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>je("Financeiro"),children:"Financeiro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nome"}),e.jsx(re,{value:fe.name,onChange:oe=>Ee({...fe,name:oe.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(re,{type:"email",value:fe.email,onChange:oe=>Ee({...fe,email:oe.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Login"}),e.jsx(re,{value:fe.login,onChange:oe=>Ee({...fe,login:oe.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Senha"}),e.jsx(re,{type:ht?"text":"password",value:fe.password,onChange:oe=>Ee({...fe,password:oe.target.value}),required:!0}),fe.password&&e.jsxs("p",{className:`text-xs mt-1 ${tt.color}`,children:["Fora da senha: ",tt.label]}),!tt.valid&&fe.password&&e.jsx("p",{className:"text-xs text-muted-foreground",children:tt.issues.join("  ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Papel"}),e.jsxs(dt,{value:fe.role,onValueChange:oe=>Ee({...fe,role:oe,permissions:oe==="admin"?{...K}:{...$}}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"operator",children:"Operador"}),e.jsx(pe,{value:"admin",children:"Admin"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Permisses"}),Object.keys($).map(oe=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ja,{checked:fe.permissions[oe],onCheckedChange:ve=>Ee({...fe,permissions:{...fe.permissions,[oe]:!!ve}})}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[Nm(oe),e.jsxs(Ag,{children:[e.jsx(Og,{className:"cursor-help",children:e.jsx(_m,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(Bm,{className:"max-w-xs",children:wv(oe)})]})]})]},oe))]}),e.jsxs(zt,{children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(H,{type:"submit",children:"Criar"})]})]})]})}),e.jsx(Nt,{open:j,onOpenChange:T,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Editar usurio"})}),e.jsxs("form",{onSubmit:yt,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Presets rpidos"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>Z("Admin"),children:"Admin"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>Z("Operacional"),children:"Operacional"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>Z("Financeiro"),children:"Financeiro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nome"}),e.jsx(re,{value:ke.name,onChange:oe=>ze({...ke,name:oe.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(re,{type:"email",value:ke.email,onChange:oe=>ze({...ke,email:oe.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Login"}),e.jsx(re,{value:ke.login,onChange:oe=>ze({...ke,login:oe.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Papel"}),e.jsxs(dt,{value:ke.role,onValueChange:oe=>ze({...ke,role:oe,permissions:oe==="admin"?{...K}:{...ke.permissions}}),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"operator",children:"Operador"}),e.jsx(pe,{value:"admin",children:"Admin"})]})]})]}),ke.role==="admin"?e.jsx("div",{className:"text-xs text-muted-foreground",children:"Admins possuem acesso total por padro."}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Permisses"}),Object.keys($).map(oe=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ja,{checked:ke.permissions[oe],onCheckedChange:ve=>ze({...ke,permissions:{...ke.permissions,[oe]:!!ve}})}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[Nm(oe),e.jsxs(Ag,{children:[e.jsx(Og,{className:"cursor-help",children:e.jsx(_m,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(Bm,{className:"max-w-xs",children:wv(oe)})]})]})]},oe))]}),e.jsxs(zt,{children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),e.jsx(H,{type:"submit",children:"Salvar"})]})]})]})}),e.jsx(Nt,{open:b,onOpenChange:N,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Atualizar senha"})}),e.jsxs("form",{onSubmit:Vt,className:"space-y-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Administradores podem redefinir senhas sem informar a senha atual. Usurios comuns devem informar a senha atual."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Senha atual (somente se for sua prpria conta)"}),e.jsx(re,{type:ht?"text":"password",value:A,onChange:oe=>Ce(oe.target.value),placeholder:"Opcional para admin"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nova senha"}),e.jsx(re,{type:ht?"text":"password",value:de,onChange:oe=>Ze(oe.target.value),required:!0}),de&&e.jsxs("p",{className:`text-xs mt-1 ${Dt.color}`,children:["Fora da senha: ",Dt.label]}),!Dt.valid&&de&&e.jsx("p",{className:"text-xs text-muted-foreground",children:Dt.issues.join("  ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Confirmar nova senha"}),e.jsx(re,{type:ht?"text":"password",value:se,onChange:oe=>Me(oe.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"showPasswords",type:"checkbox",checked:ht,onChange:oe=>bt(oe.target.checked),className:"h-4 w-4"}),e.jsx("label",{htmlFor:"showPasswords",className:"text-sm cursor-pointer select-none",children:"Mostrar senhas"})]}),e.jsxs(zt,{children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(H,{type:"submit",children:"Atualizar"})]})]})]})}),e.jsx(Nt,{open:P,onOpenChange:C,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Excluir usurio"})}),e.jsxs("p",{children:["Tem certeza que deseja excluir ",D?.name,"? Esta ao no pode ser desfeita."]}),e.jsxs(zt,{children:[e.jsx(H,{variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),e.jsx(H,{variant:"destructive",onClick:kn,children:"Excluir"})]})]})}),e.jsx(Nt,{open:ee,onOpenChange:te,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsx(pt,{children:"Confirmar ao em massa"})}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:["Voc est prestes a aplicar"," ",e.jsx("span",{className:"font-medium",children:W?.kind==="role"?`o papel "${W?.value}"`:`o preset "${W?.value}"`})," ","em ",e.jsx("span",{className:"font-medium",children:F.length})," usurio(s)."]}),W?.kind==="role"&&W?.value==="operator"&&_r===tn&&tn>0&&e.jsx("p",{className:"text-red-600",children:"Ateno: isso removeria o ltimo admin, o que no  permitido."})]}),e.jsxs(zt,{children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>{te(!1),V(null)},children:"Cancelar"}),e.jsx(H,{onClick:gt,children:"Confirmar"})]})]})}),e.jsx(l3,{open:S,onOpenChange:_})]})}):e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para ver esta pgina."})]})})};function Nm(t){return{manageRates:"Gerenciar tarifas",manageMonthlyCustomers:"Gerenciar mensalistas",viewReports:"Ver relatrios",manageUsers:"Gerenciar usurios",manageCompanyConfig:"Configuraes da empresa",manageVehicleTypes:"Tipos de veculos",openCloseCash:"Abrir/Fechar caixa",manageBackups:"Gerenciar backups"}[t]||t}function wv(t){return{manageRates:"Permite criar, editar e remover tarifas. Usurios sem esta permisso s conseguem visualizar as tarifas.",manageMonthlyCustomers:"Permite cadastrar, editar e excluir mensalistas, bem como registrar pagamentos de planos mensais.",viewReports:"Permite acessar relatrios financeiros e operacionais. Sem esta permisso, a pgina de relatrios fica inacessvel.",manageUsers:"Permite criar, editar, redefinir senha e excluir usurios, alm de gerenciar papis e permisses.",manageCompanyConfig:"Permite alterar configuraes gerais da empresa (nome, CNPJ, recibos, etc.). Sem esta permisso o formulrio fica somente leitura.",manageVehicleTypes:"Permite gerenciar os tipos de veculos disponveis (criar, editar, remover).",openCloseCash:"Permite abrir e fechar o caixa, alm de registrar entradas/sadas avulsas e finalizar tickets.",manageBackups:"Permite criar, baixar, restaurar e excluir backups do sistema, bem como configurar backups automticos programados."}[t]||"Permisso do sistema."}var VN="AlertDialog",[d3]=cn(VN,[r0]),us=r0(),BN=t=>{const{__scopeAlertDialog:n,...s}=t,o=us(n);return e.jsx(y0,{...o,...s,modal:!0})};BN.displayName=VN;var u3="AlertDialogTrigger",UN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...o}=t,i=us(s);return e.jsx(XD,{...i,...o,ref:n})});UN.displayName=u3;var m3="AlertDialogPortal",HN=t=>{const{__scopeAlertDialog:n,...s}=t,o=us(n);return e.jsx(j0,{...o,...s})};HN.displayName=m3;var h3="AlertDialogOverlay",WN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...o}=t,i=us(s);return e.jsx(Gh,{...i,...o,ref:n})});WN.displayName=h3;var ao="AlertDialogContent",[f3,p3]=d3(ao),x3=_v("AlertDialogContent"),qN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,children:o,...i}=t,c=us(s),u=d.useRef(null),h=Ke(n,u),f=d.useRef(null);return e.jsx(YD,{contentName:ao,titleName:GN,docsSlug:"alert-dialog",children:e.jsx(f3,{scope:s,cancelRef:f,children:e.jsxs(Yh,{role:"alertdialog",...c,...i,ref:h,onOpenAutoFocus:we(i.onOpenAutoFocus,v=>{v.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[e.jsx(x3,{children:o}),e.jsx(v3,{contentRef:u})]})})})});qN.displayName=ao;var GN="AlertDialogTitle",YN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...o}=t,i=us(s);return e.jsx(Kh,{...i,...o,ref:n})});YN.displayName=GN;var KN="AlertDialogDescription",QN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...o}=t,i=us(s);return e.jsx(Qh,{...i,...o,ref:n})});QN.displayName=KN;var g3="AlertDialogAction",JN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...o}=t,i=us(s);return e.jsx(Jh,{...i,...o,ref:n})});JN.displayName=g3;var XN="AlertDialogCancel",ZN=d.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...o}=t,{cancelRef:i}=p3(XN,s),c=us(s),u=Ke(n,i);return e.jsx(Jh,{...c,...o,ref:u})});ZN.displayName=XN;var v3=({contentRef:t})=>{const n=`\`${ao}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ao}\` by passing a \`${KN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ao}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},y3=BN,j3=UN,w3=HN,eC=WN,tC=qN,nC=JN,rC=ZN,sC=YN,aC=QN;const oC=y3,b3=j3,N3=w3,iC=d.forwardRef(({className:t,...n},s)=>e.jsx(eC,{className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:s}));iC.displayName=eC.displayName;const ff=d.forwardRef(({className:t,...n},s)=>e.jsxs(N3,{children:[e.jsx(iC,{}),e.jsx(tC,{ref:s,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));ff.displayName=tC.displayName;const pf=({className:t,...n})=>e.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",t),...n});pf.displayName="AlertDialogHeader";const xf=({className:t,...n})=>e.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});xf.displayName="AlertDialogFooter";const gf=d.forwardRef(({className:t,...n},s)=>e.jsx(sC,{ref:s,className:Pe("text-lg font-semibold",t),...n}));gf.displayName=sC.displayName;const vf=d.forwardRef(({className:t,...n},s)=>e.jsx(aC,{ref:s,className:Pe("text-sm text-muted-foreground",t),...n}));vf.displayName=aC.displayName;const yf=d.forwardRef(({className:t,...n},s)=>e.jsx(nC,{ref:s,className:Pe($h(),t),...n}));yf.displayName=nC.displayName;const jf=d.forwardRef(({className:t,...n},s)=>e.jsx(rC,{ref:s,className:Pe($h({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));jf.displayName=rC.displayName;var pd="Switch",[C3]=cn(pd),[S3,E3]=C3(pd),lC=d.forwardRef((t,n)=>{const{__scopeSwitch:s,name:o,checked:i,defaultChecked:c,required:u,disabled:h,value:f="on",onCheckedChange:v,form:p,...x}=t,[w,j]=d.useState(null),T=Ke(n,S=>j(S)),b=d.useRef(!1),N=w?p||!!w.closest("form"):!0,[P,C]=ur({prop:i,defaultProp:c??!1,onChange:v,caller:pd});return e.jsxs(S3,{scope:s,checked:P,disabled:h,children:[e.jsx(Le.button,{type:"button",role:"switch","aria-checked":P,"aria-required":u,"data-state":mC(P),"data-disabled":h?"":void 0,disabled:h,value:f,...x,ref:T,onClick:we(t.onClick,S=>{C(_=>!_),N&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),N&&e.jsx(uC,{control:w,bubbles:!b.current,name:o,value:f,checked:P,required:u,disabled:h,form:p,style:{transform:"translateX(-100%)"}})]})});lC.displayName=pd;var cC="SwitchThumb",dC=d.forwardRef((t,n)=>{const{__scopeSwitch:s,...o}=t,i=E3(cC,s);return e.jsx(Le.span,{"data-state":mC(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:n})});dC.displayName=cC;var T3="SwitchBubbleInput",uC=d.forwardRef(({__scopeSwitch:t,control:n,checked:s,bubbles:o=!0,...i},c)=>{const u=d.useRef(null),h=Ke(u,c),f=rd(s),v=$c(n);return d.useEffect(()=>{const p=u.current;if(!p)return;const x=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==s&&j){const T=new Event("click",{bubbles:o});j.call(p,s),p.dispatchEvent(T)}},[f,s,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:h,style:{...i.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uC.displayName=T3;function mC(t){return t?"checked":"unchecked"}var hC=lC,P3=dC;const He=d.forwardRef(({className:t,...n},s)=>e.jsx(hC,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...n,ref:s,children:e.jsx(P3,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));He.displayName=hC.displayName;const k3=[{value:"generic_escpos",label:"Generic ESC/POS (Compatvel)"},{value:"epson_tm_t20",label:"Epson TM-T20"},{value:"epson_tm_t88",label:"Epson TM-T88"},{value:"bematech_mp4200",label:"Bematech MP-4200"},{value:"bematech_mp100",label:"Bematech MP-100"},{value:"daruma_dr700",label:"Daruma DR-700"},{value:"elgin_i9",label:"Elgin i9"},{value:"elgin_i7",label:"Elgin i7"},{value:"nitere_nscale",label:"Nitere NScale"},{value:"sweda_si300",label:"Sweda SI-300"}],R3=[{value:"usb",label:"USB"},{value:"network",label:"Rede (Wi-Fi/Ethernet)"},{value:"bluetooth",label:"Bluetooth"},{value:"serial",label:"Serial (COM)"}];function D3({config:t,onChange:n,onSave:s,onPreview:o}){const{toast:i}=St(),[c,u]=d.useState([]),[h,f]=d.useState(!1),v=async()=>{f(!0);try{"getInstalledRelatedApps"in navigator&&i({title:"Deteco de impressoras",description:"Selecione manualmente a impressora nas configuraes do navegador ao imprimir."}),u(["Impressora Padro do Sistema"])}catch(x){console.error("Error detecting printers:",x),i({title:"Erro ao detectar impressoras",description:"Use o dilogo de impresso do navegador para selecionar a impressora.",variant:"destructive"})}finally{f(!1)}};d.useEffect(()=>{v()},[]);const p=x=>{const w=x.target.files?.[0];if(!w)return;if(!w.type.startsWith("image/")){i({title:"Arquivo invlido",description:"Por favor, selecione uma imagem (PNG, JPG, etc.)",variant:"destructive"});return}const j=new FileReader;j.onload=T=>{const b=T.target?.result;n({...t,logoUrl:b,logoEnabled:!0}),i({title:"Logo carregada",description:"A logo ser exibida nos recibos impressos."})},j.readAsDataURL(w)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsxs(st,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5"}),"Configurao da Impressora"]}),e.jsx($t,{children:"Configure a impressora trmica para emisso de recibos"})]}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"printerModel",children:"Modelo da Impressora"}),e.jsxs(dt,{value:t.printerModel,onValueChange:x=>n({...t,printerModel:x}),children:[e.jsx(it,{id:"printerModel",children:e.jsx(ut,{})}),e.jsx(lt,{children:k3.map(x=>e.jsx(pe,{value:x.value,children:x.label},x.value))})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"connectionType",children:"Tipo de Conexo"}),e.jsxs(dt,{value:t.connectionType,onValueChange:x=>n({...t,connectionType:x}),children:[e.jsx(it,{id:"connectionType",children:e.jsx(ut,{})}),e.jsx(lt,{children:R3.map(x=>e.jsx(pe,{value:x.value,children:x.label},x.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"paperWidth",children:"Largura do Papel"}),e.jsxs(dt,{value:t.paperWidth,onValueChange:x=>n({...t,paperWidth:x}),children:[e.jsx(it,{id:"paperWidth",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"58mm",children:"58mm (Mini)"}),e.jsx(pe,{value:"80mm",children:"80mm (Padro)"})]})]})]}),t.connectionType==="usb"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"usbVendorId",children:"Vendor ID (USB)"}),e.jsx(re,{id:"usbVendorId",value:t.usbVendorId||"",onChange:x=>n({...t,usbVendorId:x.target.value}),placeholder:"Ex: 0x0416"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Utilize o ID hexadecimal da impressora (ex.: 0x0416). Consulte o gerenciador de dispositivos do sistema operacional."})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"usbProductId",children:"Product ID (USB)"}),e.jsx(re,{id:"usbProductId",value:t.usbProductId||"",onChange:x=>n({...t,usbProductId:x.target.value}),placeholder:"Ex: 0x5011"})]})]}),t.connectionType==="network"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"networkHost",children:"Endereo IP da Impressora"}),e.jsx(re,{id:"networkHost",value:t.networkHost||"",onChange:x=>n({...t,networkHost:x.target.value}),placeholder:"Ex: 192.168.0.50"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"networkPort",children:"Porta"}),e.jsx(re,{id:"networkPort",type:"number",value:t.networkPort!=null?String(t.networkPort):"9100",onChange:x=>n({...t,networkPort:Number(x.target.value)||9100}),placeholder:"9100"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"defaultPrinter",children:"Nome da Impressora (opcional)"}),e.jsx(re,{id:"defaultPrinter",value:t.defaultPrinter,onChange:x=>n({...t,defaultPrinter:x.target.value}),placeholder:"Ex: Epson TM-T20"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe em branco para usar a impressora padro do sistema"})]})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Recursos ESC/POS"}),e.jsx($t,{children:"Ative recursos especiais da impressora trmica"})]}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(B,{htmlFor:"autoprint",children:"Impresso Automtica"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Imprime automaticamente sem mostrar dilogo"})]}),e.jsx(He,{id:"autoprint",checked:t.autoprint,onCheckedChange:x=>n({...t,autoprint:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(B,{htmlFor:"enableCut",children:"Corte Automtico"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Corta o papel aps imprimir o recibo"})]}),e.jsx(He,{id:"enableCut",checked:t.enableCut,onCheckedChange:x=>n({...t,enableCut:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(B,{htmlFor:"enableBeep",children:"Sinal Sonoro"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Emite um beep ao finalizar impresso"})]}),e.jsx(He,{id:"enableBeep",checked:t.enableBeep,onCheckedChange:x=>n({...t,enableBeep:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(B,{htmlFor:"enableDrawer",children:"Abertura de Gaveta"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Abre a gaveta de dinheiro automaticamente"})]}),e.jsx(He,{id:"enableDrawer",checked:t.enableDrawer,onCheckedChange:x=>n({...t,enableDrawer:x})})]})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Personalizao do Layout"}),e.jsx($t,{children:"Configure cabealho, rodap e logo do recibo"})]}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{htmlFor:"logoUpload",children:"Logo da Empresa"}),e.jsx(He,{checked:t.logoEnabled,onCheckedChange:x=>n({...t,logoEnabled:x})})]}),t.logoEnabled&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{id:"logoUpload",type:"file",accept:"image/*",onChange:p,className:"flex-1"}),e.jsx(H,{variant:"outline",size:"icon",onClick:()=>document.getElementById("logoUpload")?.click(),children:e.jsx(py,{className:"h-4 w-4"})})]}),t.logoUrl&&e.jsx("div",{className:"border rounded p-2 flex justify-center bg-muted",children:e.jsx("img",{src:t.logoUrl,alt:"Logo",className:"max-h-24 object-contain"})})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"headerText",children:"Texto do Cabealho"}),e.jsx(Zt,{id:"headerText",value:t.headerText,onChange:x=>n({...t,headerText:x.target.value}),placeholder:"Ex: Estacionamento 24h - Seguro e Confivel",rows:2})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"footerText",children:"Texto do Rodap"}),e.jsx(Zt,{id:"footerText",value:t.footerText,onChange:x=>n({...t,footerText:x.target.value}),placeholder:"Ex: Obrigado pela preferncia! Volte sempre!",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"fontSize",children:"Tamanho da Fonte"}),e.jsxs(dt,{value:t.fontSize,onValueChange:x=>n({...t,fontSize:x}),children:[e.jsx(it,{id:"fontSize",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"small",children:"Pequena"}),e.jsx(pe,{value:"normal",children:"Normal"}),e.jsx(pe,{value:"large",children:"Grande"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"lineSpacing",children:"Espaamento"}),e.jsxs(dt,{value:t.lineSpacing,onValueChange:x=>n({...t,lineSpacing:x}),children:[e.jsx(it,{id:"lineSpacing",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"compact",children:"Compacto"}),e.jsx(pe,{value:"normal",children:"Normal"}),e.jsx(pe,{value:"relaxed",children:"Relaxado"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(H,{variant:"outline",onClick:o,children:[e.jsx(eo,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),e.jsxs(H,{onClick:s,children:[e.jsx(Am,{className:"h-4 w-4 mr-2"}),"Salvar Configuraes"]})]})]})}function M3({open:t,onOpenChange:n,printerConfig:s,companyInfo:o}){const i=()=>{window.print()},c={number:"000123",date:new Date,plate:"ABC-1234",vehicleType:"Carro",entryTime:new Date(Date.now()-72e5),exitTime:new Date,duration:"2h 00min",value:20,paymentMethod:"Dinheiro",operator:"Joo Silva"},u={small:"text-xs",normal:"text-sm",large:"text-base"}[s.fontSize]||"text-sm",h={compact:"leading-tight",normal:"leading-normal",relaxed:"leading-relaxed"}[s.lineSpacing]||"leading-normal";return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:"Visualizao de Impresso"}),e.jsxs($n,{children:["Preview do recibo configurado para ",s.paperWidth]})]}),e.jsx("div",{className:"my-4",children:e.jsxs("div",{className:`thermal-receipt-preview ${s.paperWidth==="58mm"?"thermal-58mm":"thermal-80mm"} ${u} ${h}`,style:{paddingTop:`${s.margins.top}px`,paddingBottom:`${s.margins.bottom}px`,paddingLeft:`${s.margins.left}px`,paddingRight:`${s.margins.right}px`},children:[s.logoEnabled&&s.logoUrl&&e.jsx("div",{className:"receipt-logo",children:e.jsx("img",{src:s.logoUrl,alt:"Logo"})}),e.jsxs("div",{className:"receipt-header",children:[e.jsx("div",{className:"company-name",children:o.name}),o.legalName&&e.jsx("div",{className:"company-legal",children:o.legalName}),o.cnpj&&e.jsxs("div",{className:"company-info",children:["CNPJ: ",o.cnpj]}),o.address&&e.jsx("div",{className:"company-info",children:o.address}),o.phone&&e.jsxs("div",{className:"company-info",children:["Tel: ",o.phone]}),s.headerText&&e.jsx("div",{className:"header-text",children:s.headerText})]}),e.jsx("div",{className:"receipt-divider",children:""}),e.jsxs("div",{className:"receipt-body",children:[e.jsx("div",{className:"receipt-title",children:"RECIBO DE ESTACIONAMENTO"}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"N:"}),e.jsx("span",{className:"receipt-value",children:c.number})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Data:"}),e.jsx("span",{className:"receipt-value",children:Re(c.date,"dd/MM/yyyy 's' HH:mm",{locale:nt})})]}),e.jsx("div",{className:"receipt-divider-light",children:"-------------------------------"}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Placa:"}),e.jsx("span",{className:"receipt-value font-bold",children:c.plate})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Veculo:"}),e.jsx("span",{className:"receipt-value",children:c.vehicleType})]}),e.jsx("div",{className:"receipt-divider-light",children:"-------------------------------"}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Entrada:"}),e.jsx("span",{className:"receipt-value",children:Re(c.entryTime,"dd/MM/yyyy HH:mm",{locale:nt})})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Sada:"}),e.jsx("span",{className:"receipt-value",children:Re(c.exitTime,"dd/MM/yyyy HH:mm",{locale:nt})})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Permanncia:"}),e.jsx("span",{className:"receipt-value",children:c.duration})]}),e.jsx("div",{className:"receipt-divider",children:""}),e.jsxs("div",{className:"receipt-row receipt-total",children:[e.jsx("span",{className:"font-bold",children:"VALOR:"}),e.jsxs("span",{className:"receipt-value font-bold text-lg",children:["R$ ",c.value.toFixed(2)]})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Forma Pgto:"}),e.jsx("span",{className:"receipt-value",children:c.paymentMethod})]}),e.jsx("div",{className:"receipt-divider",children:""}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Operador:"}),e.jsx("span",{className:"receipt-value",children:c.operator})]})]}),s.footerText&&e.jsx("div",{className:"receipt-footer",children:e.jsx("div",{className:"footer-text",children:s.footerText})}),e.jsx("div",{className:"receipt-cut-line",children:" - - - - - - - - - - - - - - - - - -"})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(H,{variant:"outline",onClick:()=>n(!1),children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),"Fechar"]}),e.jsxs(H,{onClick:i,children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Imprimir Teste"]})]})]})})}const _3=()=>{const[t,n]=d.useState({enabled:!1,schedule:"0 2 * * *",retentionDays:30}),[s,o]=d.useState(!1),[i,c]=d.useState(!1),{toast:u}=St(),h=async()=>{o(!0);try{const x=await xe.getBackupConfig();n(x)}catch(x){console.error("Erro ao carregar configurao de backup:",x);const w=x instanceof Error?x.message:String(x);!w.includes("404")&&!w.includes("Not Found")&&u({title:"Erro ao carregar configurao",description:w,variant:"destructive"})}finally{o(!1)}};d.useEffect(()=>{h()},[h]);const f=async()=>{c(!0);try{await xe.updateBackupConfig(t),u({title:"Configurao salva",description:"As configuraes de backup foram atualizadas"})}catch(x){const w=x instanceof Error?x.message:String(x);u({title:"Erro ao salvar",description:w,variant:"destructive"})}finally{c(!1)}},v=async()=>{try{await xe.triggerAutoBackup(),u({title:"Backup iniciado",description:"Um backup automtico est sendo criado"})}catch(x){const w=x instanceof Error?x.message:String(x);u({title:"Erro",description:w,variant:"destructive"})}},p={"0 2 * * *":"Diariamente s 2:00 AM","0 0 * * 0":"Semanalmente aos domingos  meia-noite","0 3 1 * *":"Mensalmente no dia 1 s 3:00 AM","0 */6 * * *":"A cada 6 horas"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-2 flex items-center gap-2",children:[e.jsx(w2,{className:"h-5 w-5"}),"Backups Automticos"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure backups automticos regulares para proteger seus dados"})]}),s?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando configuraes..."}):e.jsxs("div",{className:"space-y-6 bg-card border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(B,{className:"text-base font-medium",children:"Ativar backups automticos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Criar backups automaticamente no horrio agendado"})]}),e.jsx(He,{checked:t.enabled,onCheckedChange:x=>n({...t,enabled:x})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Agendamento (Cron Expression)"]}),e.jsx(re,{value:t.schedule,onChange:x=>n({...t,schedule:x.target.value}),placeholder:"0 2 * * *",disabled:!t.enabled}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Exemplos comuns:"}),Object.entries(p).map(([x,w])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"bg-muted px-2 py-0.5 rounded text-xs",children:x}),e.jsx("span",{className:"text-xs",children:w})]},x))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(fn,{className:"h-4 w-4"}),"Reteno (dias)"]}),e.jsx(re,{type:"number",min:"1",max:"365",value:t.retentionDays,onChange:x=>n({...t,retentionDays:parseInt(x.target.value)||30}),disabled:!t.enabled}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Backups automticos mais antigos que ",t.retentionDays," dias sero removidos automaticamente"]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.jsx(H,{onClick:f,disabled:i,children:i?"Salvando...":"Salvar Configuraes"}),e.jsx(H,{variant:"outline",onClick:v,disabled:!t.enabled,children:"Executar Backup Agora"})]}),t.enabled&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-green-900",children:[e.jsx(A3,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Backups automticos ativos"}),e.jsxs("p",{className:"text-sm text-green-800",children:["Prximo backup: ",p[t.schedule]||t.schedule]})]})]})})]})]})};function A3({className:t}){return e.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function O3(){const{toast:t}=St(),{hasPermission:n,isAdmin:s}=zn();Rr();const[o,i]=d.useState(!1),[c,u]=d.useState(!1),[h,f]=d.useState({name:"",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#000000",receiptCounter:0,printerConfig:{printerModel:"generic_escpos",paperWidth:"80mm",connectionType:"usb",autoprint:!1,defaultPrinter:"",enableCut:!0,enableBeep:!1,enableDrawer:!1,logoUrl:"",logoEnabled:!1,headerText:"",footerText:"Obrigado pela preferncia!",fontSize:"normal",lineSpacing:"normal",margins:{top:10,bottom:10,left:5,right:5},usbVendorId:"",usbProductId:"",networkHost:"",networkPort:9100}}),[v,p]=d.useState(!1),x=async()=>{try{const j=await xe.getCompanyConfig();f({...j,printerConfig:j.printerConfig||{printerModel:"generic_escpos",paperWidth:"80mm",connectionType:"usb",autoprint:!1,defaultPrinter:"",enableCut:!0,enableBeep:!1,enableDrawer:!1,logoUrl:"",logoEnabled:!1,headerText:"",footerText:"Obrigado pela preferncia!",fontSize:"normal",lineSpacing:"normal",margins:{top:10,bottom:10,left:5,right:5},usbVendorId:"",usbProductId:"",networkHost:"",networkPort:9100}})}catch(j){console.error("Erro ao buscar configuraes:",j)}};d.useEffect(()=>{x()},[]);const w=async j=>{if(j.preventDefault(),!!n("manageCompanyConfig"))try{await xe.updateCompanyConfig(h),t({title:"Configuraes salvas",description:"As informaes da empresa foram atualizadas com sucesso"}),window.dispatchEvent(new CustomEvent("companyConfigUpdated")),x()}catch(T){console.error(T),t({title:"Erro",description:"No foi possvel atualizar as configuraes",variant:"destructive"})}};return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuraes"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Dados da empresa, impressora e personalizao"})]}),e.jsxs(Qn,{defaultValue:"company",className:"w-full",children:[e.jsxs(In,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsx(Je,{value:"company",children:"Informaes da Empresa"}),e.jsx(Je,{value:"printer",children:"Configurao de Impressora"}),e.jsx(Je,{value:"backup",children:"Backups Automticos"})]}),e.jsx(Xe,{value:"company",children:e.jsx("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"name",children:"Nome da Empresa *"}),e.jsx(re,{id:"name",value:h.name,onChange:j=>f({...h,name:j.target.value}),placeholder:"Estacionamento Exemplo"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"legalName",children:"Razo Social"}),e.jsx(re,{id:"legalName",value:h.legalName,onChange:j=>f({...h,legalName:j.target.value}),placeholder:"Empresa Exemplo Ltda"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(re,{id:"cnpj",value:h.cnpj,onChange:j=>f({...h,cnpj:j.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"address",children:"Endereo"}),e.jsx(re,{id:"address",value:h.address,onChange:j=>f({...h,address:j.target.value}),placeholder:"Rua Exemplo, 123 - Bairro - Cidade/UF"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"phone",children:"Telefone / WhatsApp"}),e.jsx(re,{id:"phone",value:h.phone,onChange:j=>f({...h,phone:j.target.value}),placeholder:"(00) 00000-0000"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"primaryColor",children:"Cor Primria"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(re,{id:"primaryColor",type:"color",value:h.primaryColor,onChange:j=>f({...h,primaryColor:j.target.value}),className:"w-20 h-10"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:h.primaryColor})]})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Contador de Recibos:"})," ",h.receiptCounter.toString().padStart(6,"0")]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"O contador  incrementado automaticamente a cada recibo emitido"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:n("manageCompanyConfig")?e.jsx(H,{type:"submit",children:"Salvar Configuraes"}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"Visualizao somente. Sem permisso para editar."})})]})})}),e.jsx(Xe,{value:"printer",children:e.jsx(D3,{config:h.printerConfig||{},onChange:j=>f({...h,printerConfig:j}),onSave:()=>w({preventDefault:()=>{}}),onPreview:()=>p(!0)})}),e.jsx(Xe,{value:"backup",children:e.jsx(_3,{})})]}),s&&e.jsx("div",{className:"mt-8 bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Dc,{className:"h-5 w-5 text-destructive mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"rea de Manuteno"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Esta ao ir resetar o sistema para o estado inicial (first-run). Todos os dados sero limpos e voc precisar executar o wizard de configurao novamente."}),e.jsxs(oC,{open:o,onOpenChange:i,children:[e.jsx(b3,{asChild:!0,children:e.jsxs(H,{variant:"destructive",size:"sm",children:[e.jsx(P2,{className:"mr-2 h-4 w-4"}),"Resetar para First-Run"]})}),e.jsxs(ff,{children:[e.jsxs(pf,{children:[e.jsx(gf,{children:"Confirmar Reset do Sistema"}),e.jsxs(vf,{className:"space-y-3",children:[e.jsx("p",{children:e.jsx("strong",{children:"Esta ao  irreversvel!"})}),e.jsx("p",{children:"O sistema ser resetado para o estado inicial. Isso ir:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"Limpar todos os tickets, clientes mensalistas e pagamentos"}),e.jsx("li",{children:"Remover todas as tarifas e tipos de veculos"}),e.jsx("li",{children:"Deletar todos os usurios (exceto voc, temporariamente)"}),e.jsx("li",{children:"Resetar as configuraes da empresa"}),e.jsx("li",{children:"Marcar o setup como no concludo"})]}),e.jsx("p",{className:"pt-2",children:"Aps o reset, voc ser redirecionado para o wizard de configurao inicial."})]})]}),e.jsxs(xf,{children:[e.jsx(jf,{disabled:c,children:"Cancelar"}),e.jsx(yf,{onClick:async()=>{u(!0);try{await xe.resetToFirstRun(),t({title:"Sistema resetado",description:"O sistema foi resetado com sucesso. Redirecionando..."}),setTimeout(()=>{window.location.href="/setup"},1500)}catch(j){t({title:"Erro ao resetar",description:j.message||"Falha ao resetar o sistema",variant:"destructive"}),i(!1)}finally{u(!1)}},disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?"Resetando...":"Confirmar Reset"})]})]})]})]})]})}),e.jsx(M3,{open:v,onOpenChange:p,printerConfig:h.printerConfig||{},companyInfo:{name:h.name,legalName:h.legalName,cnpj:h.cnpj,address:h.address,phone:h.phone}})]})})}function F3({rateId:t,onClose:n}){const{toast:s}=St(),[o,i]=d.useState([]),[c,u]=d.useState(!0),[h,f]=d.useState(!1),[v,p]=d.useState(null),[x,w]=d.useState("first_hour"),[j,T]=d.useState(""),[b,N]=d.useState(""),[P,C]=d.useState("0");d.useEffect(()=>{S()},[t]);const S=async()=>{try{u(!0),console.log(" Loading pricing rules for rate ID:",t);const V=await xe.getPricingRules(t);console.log(" Pricing rules loaded:",V),i(V)}catch(V){const I=V;console.error(" Error loading pricing rules:",V),console.error("Error details:",{message:V.message,status:V.status,rateId:t}),s({title:"Erro ao carregar regras",description:I.message||"No foi possvel carregar as regras de precificao.",variant:"destructive"})}finally{u(!1)}},_=async()=>{try{const V=Q();await xe.createPricingRule(V),s({title:"Regra criada",description:"Regra de precificao criada com sucesso."}),ee(),S()}catch(V){s({title:"Erro ao criar regra",description:V.message,variant:"destructive"})}},D=async()=>{if(v)try{const V=Q();await xe.updatePricingRule(v.id,V),s({title:"Regra atualizada",description:"Regra de precificao atualizada com sucesso."}),ee(),S()}catch(V){s({title:"Erro ao atualizar regra",description:V.message,variant:"destructive"})}},U=async V=>{if(confirm("Deseja realmente excluir esta regra?"))try{await xe.deletePricingRule(V),s({title:"Regra excluda",description:"Regra de precificao excluda com sucesso."}),S()}catch(I){s({title:"Erro ao excluir regra",description:I.message,variant:"destructive"})}},F=async(V,I)=>{try{await xe.togglePricingRule(V,!I),s({title:I?"Regra desativada":"Regra ativada",description:`Regra ${I?"desativada":"ativada"} com sucesso.`}),S()}catch(J){s({title:"Erro ao alterar status",description:J.message,variant:"destructive"})}},Q=()=>{const V=parseFloat(j);switch(x){case"first_hour":return{rateId:t,ruleType:x,conditions:{},valueAdjustment:{type:"override",value:V},priority:parseInt(P)||1,description:b||`Primeira hora: R$ ${V.toFixed(2)}`};case"daily_max":return{rateId:t,ruleType:x,conditions:{},valueAdjustment:{type:"cap",value:V},priority:parseInt(P)||99,description:b||`Valor mximo dirio: R$ ${V.toFixed(2)}`};case"time_range":return{rateId:t,ruleType:x,conditions:{hour_start:8,hour_end:18,days_of_week:[1,2,3,4,5]},valueAdjustment:{type:"multiplier",value:V},priority:parseInt(P)||3,description:b||`Horrio de pico: ${V}x`};case"hourly_progression":return{rateId:t,ruleType:x,conditions:{},valueAdjustment:{type:"progressive",ranges:[{from:0,to:2,value:V},{from:2,to:5,value:V*.8},{from:5,to:999,value:V*.6}]},priority:parseInt(P)||2,description:b||`Preo progressivo a partir de R$ ${V.toFixed(2)}`};default:throw new Error("Tipo de regra invlido")}},ee=()=>{w("first_hour"),T(""),N(""),C("0"),p(null),f(!1)},te=V=>{p(V),w(V.ruleType);const I=V.valueAdjustment;"value"in I&&typeof I.value=="number"?T(I.value.toString()):"ranges"in I&&Array.isArray(I.ranges)&&I.ranges.length>0&&T(I.ranges[0].value.toString()),N(V.description),C(V.priority.toString()),f(!0)},W=V=>({first_hour:"Primeira Hora",daily_max:"Mximo Dirio",time_range:"Faixa Horria",hourly_progression:"Preo Progressivo"})[V]||V;return c?e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando regras..."})})}):e.jsx("div",{className:"space-y-4",children:e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Regras de Precificao Avanada"}),e.jsx($t,{children:"Configure regras especiais de preo baseadas em tempo (primeira hora, mximo dirio, etc.)"})]}),e.jsx($e,{children:h?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Tipo de Regra"}),e.jsxs(dt,{value:x,onValueChange:w,children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"first_hour",children:"Primeira Hora"}),e.jsx(pe,{value:"daily_max",children:"Mximo Dirio"}),e.jsx(pe,{value:"time_range",children:"Faixa Horria (Pico)"}),e.jsx(pe,{value:"hourly_progression",children:"Preo Progressivo"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Valor (R$)"}),e.jsx(re,{type:"number",step:"0.01",value:j,onChange:V=>T(V.target.value),placeholder:"Ex: 10.00"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x==="first_hour"&&"Valor fixo para a primeira hora",x==="daily_max"&&"Valor mximo cobrado por dia",x==="time_range"&&"Multiplicador (ex: 1.5 = 150%)",x==="hourly_progression"&&"Valor base (ser reduzido progressivamente)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Descrio (Opcional)"}),e.jsx(re,{value:b,onChange:V=>N(V.target.value),placeholder:"Ex: Primeira hora: R$ 10,00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Prioridade"}),e.jsx(re,{type:"number",value:P,onChange:V=>C(V.target.value),placeholder:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Menor nmero = maior prioridade. Sugerido: primeira hora=1, progressivo=2, faixa horria=3, mximo dirio=99"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:v?D:_,className:"flex-1",children:[v?"Atualizar":"Criar"," Regra"]}),e.jsx(H,{variant:"outline",onClick:ee,children:"Cancelar"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(H,{onClick:()=>f(!0),className:"w-full",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Adicionar Nova Regra"]}),o.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:"Nenhuma regra configurada. Clique acima para adicionar."}):e.jsx("div",{className:"space-y-2",children:o.map(V=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:W(V.ruleType)}),!V.isActive&&e.jsx("span",{className:"text-xs bg-gray-200 px-2 py-0.5 rounded",children:"Inativa"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:V.description}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Prioridade: ",V.priority]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>F(V.id,V.isActive),children:V.isActive?e.jsx(M2,{className:"h-4 w-4 text-green-600"}):e.jsx(D2,{className:"h-4 w-4 text-gray-400"})}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>te(V),children:e.jsx(Rc,{className:"h-4 w-4"})}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>U(V.id),children:e.jsx(Jn,{className:"h-4 w-4 text-destructive"})})]})]},V.id))})]})})]})})}var I3="Separator",bv="horizontal",$3=["horizontal","vertical"],fC=d.forwardRef((t,n)=>{const{decorative:s,orientation:o=bv,...i}=t,c=L3(o)?o:bv,h=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Le.div,{"data-orientation":c,...h,...i,ref:n})});fC.displayName=I3;function L3(t){return $3.includes(t)}var pC=fC;const xC=d.forwardRef(({className:t,orientation:n="horizontal",decorative:s=!0,...o},i)=>e.jsx(pC,{ref:i,decorative:s,orientation:n,className:Pe("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));xC.displayName=pC.displayName;const Nv={daily:"Diria",overnight:"Pernoite",weekly:"Semanal",biweekly:"Quinzenal"},uh=[{value:0,label:"Domingo"},{value:1,label:"Segunda-feira"},{value:2,label:"Tera-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"Sbado"}],Cm="__CURRENT_RATE__";function $s(t){return t?t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():""}function Sm(t){const n=$s(t);return n.includes("daily")||n.includes("diaria")?"daily":n.includes("overnight")||n.includes("pernoite")?"overnight":n.includes("weekly")||n.includes("semanal")?"weekly":n.includes("biweekly")||n.includes("quinzenal")?"biweekly":null}function z3(t){const n=$s(t);return n.includes("diaria")?"daily":n.includes("pernoite")?"overnight":n.includes("semanal")?"weekly":n.includes("quinzenal")?"biweekly":"daily"}function Cv(t){return t?t.length===5?t:t.slice(0,5):"--:--"}function Sv(t){const n=uh.find(s=>s.value===t);return n?n.label:"Dia"}function V3(t){if(!t)return"";try{const n=new Date(t);return Re(n,"dd/MM/yyyy HH:mm")}catch{return t}}function B3({rate:t,allRates:n,onClose:s,onUpdated:o}){const{toast:i}=St(),{updateRate:c}=Dr(),[u,h]=d.useState("windows"),[f,v]=d.useState([]),[p,x]=d.useState([]),[w,j]=d.useState(t.config||{}),[T,b]=d.useState(!0),[N,P]=d.useState(!1),C=d.useMemo(()=>n.filter(E=>E.id!==t.id&&$s(E.vehicleType)===$s(t.vehicleType)&&$s(E.rateType).includes("hora")),[n,t.id,t.rateType,t.vehicleType]),S=d.useMemo(()=>n.filter(E=>E.id!==t.id&&$s(E.vehicleType)===$s(t.vehicleType)&&$s(E.rateType)!=="mensal"),[n,t.id,t.vehicleType]),_=z3(t.rateType),[D,U]=d.useState({id:"",windowType:_,startTime:"",endTime:"",startDay:1,endDay:5,durationLimitMinutes:"",extraRateId:"",isActive:!0,metadata:""}),[F,Q]=d.useState({id:"",targetRateId:"",thresholdAmount:"",autoApply:!1}),ee=`${t.vehicleType} - ${t.rateType}`;d.useEffect(()=>{te()},[t.id]),d.useEffect(()=>{W(),V()},[t.id]);const te=async()=>{try{b(!0);const[E,O]=await Promise.all([xe.getRateTimeWindows(t.id),xe.getRateThresholds(t.id)]);v(E||[]),x(O||[]),j(t.config||{})}catch(E){console.error("Erro ao carregar dados avanados da tarifa:",E),i({title:"Erro ao carregar configuraes",description:"No foi possvel carregar as configuraes avanadas desta tarifa.",variant:"destructive"})}finally{b(!1)}},W=()=>{U({id:"",windowType:_,startTime:"",endTime:"",startDay:1,endDay:5,durationLimitMinutes:"",extraRateId:"",isActive:!0,metadata:""})},V=()=>{Q({id:"",targetRateId:"",thresholdAmount:"",autoApply:!1})},I=E=>{h("windows"),U({id:E.id,windowType:Sm(E.window_type)||_,startTime:E.start_time||"",endTime:E.end_time||"",startDay:E.start_day??1,endDay:E.end_day??5,durationLimitMinutes:E.duration_limit_minutes?.toString()||"",extraRateId:E.extra_rate_id||"",isActive:E.is_active,metadata:JSON.stringify(E.metadata||{},null,2)})},J=E=>{h("thresholds"),Q({id:E.id,targetRateId:E.target_rate_id,thresholdAmount:E.threshold_amount.toString(),autoApply:E.auto_apply})},he=async E=>{E.preventDefault(),P(!0);try{const O={windowType:D.windowType,startTime:D.startTime||null,endTime:D.endTime||null,startDay:D.startDay,endDay:D.endDay,durationLimitMinutes:D.durationLimitMinutes?Number(D.durationLimitMinutes):null,extraRateId:D.extraRateId||null,isActive:D.isActive,metadata:U3(D.metadata)};if((D.windowType==="daily"||D.windowType==="overnight")&&(!D.startTime||!D.endTime))throw new Error("Informe horrio de incio e trmino.");if((D.windowType==="weekly"||D.windowType==="biweekly")&&!D.durationLimitMinutes)throw new Error("Informe o limite de durao em minutos.");D.id?(await xe.updateRateTimeWindow(D.id,O),i({title:"Janela atualizada com sucesso."})):(await xe.createRateTimeWindow(t.id,O),i({title:"Janela criada com sucesso."})),W(),te(),o?.()}catch(O){i({title:"Erro ao salvar janela",description:O.message||"Verifique os campos e tente novamente.",variant:"destructive"})}finally{P(!1)}},ie=async E=>{if(confirm("Confirmar excluso desta janela?"))try{await xe.deleteRateTimeWindow(E.id),i({title:"Janela removida com sucesso."}),te(),o?.()}catch(O){i({title:"Erro ao remover janela",description:O.message,variant:"destructive"})}},ue=async E=>{E.preventDefault(),P(!0);try{if(!F.targetRateId)throw new Error("Selecione a tarifa alvo.");if(!F.thresholdAmount)throw new Error("Informe o valor limite para sugesto.");const O={targetRateId:F.targetRateId,thresholdAmount:Number(F.thresholdAmount),autoApply:F.autoApply};F.id?(await xe.updateRateThreshold(F.id,O),i({title:"Sugesto atualizada com sucesso."})):(await xe.createRateThreshold(t.id,O),i({title:"Sugesto criada com sucesso."})),V(),te(),o?.()}catch(O){i({title:"Erro ao salvar sugesto",description:O.message,variant:"destructive"})}finally{P(!1)}},L=async E=>{if(confirm("Remover esta sugesto automtica?"))try{await xe.deleteRateThreshold(E.id),i({title:"Sugesto removida com sucesso."}),te(),o?.()}catch(O){i({title:"Erro ao remover sugesto",description:O.message,variant:"destructive"})}},R=E=>{const O=Sm(E.window_type)||"daily";return e.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nn,{variant:E.is_active?"default":"secondary",children:Nv[O]}),!E.is_active&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"(Inativa)"})]}),e.jsxs("p",{className:"text-sm",children:["Horrio:"," ",e.jsxs("span",{className:"font-medium",children:[Cv(E.start_time),"  ",Cv(E.end_time)]})]}),(O==="weekly"||O==="biweekly")&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Sv(E.start_day),"  ",Sv(E.end_day),"  limite:"," ",E.duration_limit_minutes?`${E.duration_limit_minutes} min`:"no definido"]}),E.extra_rate_id&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tarifa extra:"," ",n.find($=>$.id===E.extra_rate_id)?.rateType||E.extra_rate_id]}),E.metadata&&Object.keys(E.metadata).length>0&&e.jsx("pre",{className:"bg-muted/60 rounded-md p-2 text-[11px] text-muted-foreground overflow-x-auto",children:JSON.stringify(E.metadata,null,2)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:()=>I(E),children:"Editar"}),e.jsx(H,{variant:"destructive",size:"sm",onClick:()=>ie(E),children:"Excluir"})]})]},E.id)},M=E=>{const O=n.find($=>$.id===E.target_rate_id);return e.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nn,{variant:E.auto_apply?"default":"outline",children:E.auto_apply?"Aplicao automtica":"Sugesto"}),O&&e.jsxs("span",{className:"text-sm font-medium",children:[O.vehicleType," - ",O.rateType]})]}),e.jsxs("p",{className:"text-sm",children:["Valor limite:"," ",e.jsxs("span",{className:"font-medium",children:["R$ ",Number(E.threshold_amount).toFixed(2)]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criado em: ",V3(E.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:()=>J(E),children:"Editar"}),e.jsx(H,{variant:"destructive",size:"sm",onClick:()=>L(E),children:"Excluir"})]})]},E.id)};return T?e.jsx(Ie,{children:e.jsx($e,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando configuraes avanadas..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Configuraes Avanadas"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ajuste janelas de tempo, sugestes de tarifa e regras especiais para ",ee]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.unit&&e.jsxs(Nn,{variant:"outline",children:["Valor base: R$ ",t.value.toFixed(2),"/",t.unit]}),e.jsx(Nn,{variant:"outline",children:t.vehicleType}),e.jsx(Nn,{variant:"outline",children:t.rateType}),s&&e.jsx(H,{variant:"outline",onClick:s,children:"Fechar"})]})]}),e.jsxs(Qn,{value:u,onValueChange:h,className:"space-y-4",children:[e.jsxs(In,{children:[e.jsx(Je,{value:"windows",children:"Janelas de Tempo"}),e.jsx(Je,{value:"thresholds",children:"Sugestes Automticas"}),e.jsx(Je,{value:"config",children:"Configuraes da Tarifa"}),e.jsx(Je,{value:"rules",children:"Regras Avanadas"})]}),e.jsxs(Xe,{value:"windows",className:"space-y-4",children:[e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Janelas de Tempo"}),e.jsx($t,{children:"Configure horrios vlidos para esta tarifa. Voc pode definir mltiplas janelas por tipo."})]}),e.jsx($e,{children:e.jsxs("form",{onSubmit:he,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Tipo de Janela"}),e.jsxs(dt,{value:D.windowType,onValueChange:E=>U(O=>({...O,windowType:E})),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"daily",children:"Diria"}),e.jsx(pe,{value:"overnight",children:"Pernoite"}),e.jsx(pe,{value:"weekly",children:"Semanal"}),e.jsx(pe,{value:"biweekly",children:"Quinzenal"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Status"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ative/desative temporariamente a janela"})]}),e.jsx(He,{checked:D.isActive,onCheckedChange:E=>U(O=>({...O,isActive:E}))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Horrio Inicial"}),e.jsx(re,{type:"time",value:D.startTime,onChange:E=>U(O=>({...O,startTime:E.target.value})),required:D.windowType==="daily"||D.windowType==="overnight"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Horrio Final"}),e.jsx(re,{type:"time",value:D.endTime,onChange:E=>U(O=>({...O,endTime:E.target.value})),required:D.windowType==="daily"||D.windowType==="overnight"})]})]}),(D.windowType==="weekly"||D.windowType==="biweekly")&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Dia Inicial"}),e.jsxs(dt,{value:String(D.startDay),onValueChange:E=>U(O=>({...O,startDay:Number(E)})),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsx(lt,{children:uh.map(E=>e.jsx(pe,{value:String(E.value),children:E.label},E.value))})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Dia Final"}),e.jsxs(dt,{value:String(D.endDay),onValueChange:E=>U(O=>({...O,endDay:Number(E)})),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsx(lt,{children:uh.map(E=>e.jsx(pe,{value:String(E.value),children:E.label},E.value))})]})]})]}),(D.windowType==="weekly"||D.windowType==="biweekly")&&e.jsxs("div",{children:[e.jsx(B,{children:"Limite (minutos)"}),e.jsx(re,{type:"number",min:"0",placeholder:"Ex: 1440",value:D.durationLimitMinutes,onChange:E=>U(O=>({...O,durationLimitMinutes:E.target.value}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo mximo coberto pela tarifa. Ultrapassando, ser cobrada hora extra."})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Tarifa para hora extra (opcional)"}),e.jsxs(dt,{value:D.extraRateId||Cm,onValueChange:E=>U(O=>({...O,extraRateId:E===Cm?"":E})),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione uma tarifa de hora/frao"})}),e.jsxs(lt,{children:[e.jsx(pe,{value:Cm,children:"Padro (hora/frao atual)"}),C.map(E=>e.jsxs(pe,{value:E.id,children:[E.vehicleType," - ",E.rateType," (R$ ",E.value.toFixed(2),"/",E.unit,")"]},E.id))]})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Metadata (JSON opcional)"}),e.jsx(Zt,{className:"font-mono text-xs",rows:4,placeholder:'Ex: { "observacao": "Especial feriados" }',value:D.metadata,onChange:E=>U(O=>({...O,metadata:E.target.value}))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{type:"submit",disabled:N,className:"flex-1",children:D.id?"Atualizar Janela":"Adicionar Janela"}),D.id&&e.jsx(H,{type:"button",variant:"outline",onClick:W,children:"Cancelar"})]})]})})]}),e.jsx("div",{className:"space-y-4",children:["daily","overnight","weekly","biweekly"].map(E=>{const O=f.filter($=>Sm($.window_type)===E);return O.length?e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:Nv[E]}),e.jsxs($t,{children:[E==="daily"&&"Intervalos cobertos pela tarifa diria.",E==="overnight"&&"Perodos de pernoite. Horas alm do fim sero cobradas como extra.",E==="weekly"&&"Controle de planos semanais com limite mximo de permanncia.",E==="biweekly"&&"Controle de planos quinzenais com limite mximo de permanncia."]})]}),e.jsx($e,{className:"space-y-3",children:O.map(R)})]},E):null})})]}),e.jsxs(Xe,{value:"thresholds",className:"space-y-4",children:[e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Sugestes Automticas"}),e.jsx($t,{children:"Configure o valor mximo para sugerir (ou aplicar automaticamente) outra tarifa."})]}),e.jsx($e,{children:e.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Tarifa alvo"}),e.jsxs(dt,{value:F.targetRateId,onValueChange:E=>Q(O=>({...O,targetRateId:E})),children:[e.jsx(it,{children:e.jsx(ut,{placeholder:"Selecione a tarifa de destino"})}),e.jsx(lt,{children:S.map(E=>e.jsxs(pe,{value:E.id,children:[E.vehicleType," - ",E.rateType," (R$ ",E.value.toFixed(2),")"]},E.id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Valor limite (R$)"}),e.jsx(re,{type:"number",step:"0.01",value:F.thresholdAmount,onChange:E=>Q(O=>({...O,thresholdAmount:E.target.value})),placeholder:"Ex: 30.00",required:!0})]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Aplicar automaticamente?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Se ativado, a tarifa ser trocada sem necessidade de confirmao."})]}),e.jsx(He,{checked:F.autoApply,onCheckedChange:E=>Q(O=>({...O,autoApply:E}))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{type:"submit",disabled:N,className:"flex-1",children:F.id?"Atualizar Sugesto":"Adicionar Sugesto"}),F.id&&e.jsx(H,{type:"button",variant:"outline",onClick:V,children:"Cancelar"})]})]})})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Limites configurados"}),e.jsx($t,{children:"Quando o valor atual de cobrana exceder o limite, uma sugesto de troca ser exibida para o operador."})]}),e.jsx($e,{className:"space-y-3",children:p.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-6",children:"Nenhuma sugesto configurada ainda."}):p.map(M)})]})]}),e.jsx(Xe,{value:"config",children:e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Configurao da Tarifa"}),e.jsx($t,{children:"Ajuste parmetros complementares da tarifa, como tolerncia e valores padro."})]}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Minutos de cortesia"}),e.jsx(re,{type:"number",min:"0",value:String(w.courtesyMinutes??t.courtesyMinutes??0),onChange:E=>j(O=>({...O,courtesyMinutes:Number(E.target.value)}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo tolerado antes de cobrar a prxima frao em Hora/Frao."})]}),e.jsx(xC,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Observaes adicionais"}),e.jsx(Zt,{rows:4,placeholder:"Notas internas, instrues especiais, etc.",value:w.metadata?.notes||"",onChange:E=>j(O=>({...O,metadata:{...O.metadata||{},notes:E.target.value}}))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{onClick:async()=>{try{const E=await c(t.id,{config:w,courtesyMinutes:w.courtesyMinutes??t.courtesyMinutes});j(E?.config||{}),i({title:"Configurao da tarifa atualizada."}),o?.()}catch(E){i({title:"Erro ao salvar configurao",description:E.message,variant:"destructive"})}},children:"Salvar configuraes"})})]})]})}),e.jsx(Xe,{value:"rules",children:e.jsx(F3,{rateId:t.id,onClose:s})})]})]})}function U3(t){if(!t||!t.trim())return{};try{return JSON.parse(t)}catch{throw new Error("Metadata invlido. Informe um JSON vlido.")}}function H3(){const{rates:t,addRate:n,updateRate:s,deleteRate:o}=Dr(),{hasPermission:i}=zn(),{toast:c}=St(),[u,h]=d.useState(null),[f,v]=d.useState(null),[p,x]=d.useState({vehicleType:"Carro",rateType:"Hora/Frao",value:"",unit:"hora",courtesyMinutes:"10"}),w=async S=>{S.preventDefault();const _={vehicleType:p.vehicleType,rateType:p.rateType,value:parseFloat(p.value),unit:p.unit,courtesyMinutes:parseInt(p.courtesyMinutes)};try{u?(await s(u,_),c({title:"Tarifa atualizada com sucesso"})):(await n(_),c({title:"Tarifa adicionada com sucesso"})),b()}catch{c({title:"Erro ao salvar tarifa",description:"Tente novamente",variant:"destructive"})}},j=S=>{h(S.id),x({vehicleType:S.vehicleType,rateType:S.rateType,value:S.value.toString(),unit:S.unit,courtesyMinutes:S.courtesyMinutes.toString()}),window.scrollTo({top:0,behavior:"smooth"})},T=async S=>{if(confirm("Tem certeza que deseja excluir esta tarifa?"))try{await o(S),c({title:"Tarifa excluda com sucesso"})}catch{c({title:"Erro ao excluir tarifa",variant:"destructive"})}},b=()=>{h(null),x({vehicleType:"Carro",rateType:"Hora/Frao",value:"",unit:"hora",courtesyMinutes:"10"})},N=t.filter(S=>S.vehicleType===p.vehicleType),P=f&&t.find(S=>S.id===f)||null,C=i("manageRates");return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Tarifas"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure os valores e tipos de tarifas para cada tipo de veculo"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Ie,{className:C?"":"opacity-50 pointer-events-none select-none",children:[e.jsxs(rt,{children:[e.jsx(st,{children:u?"Editar Tarifa":"Adicionar Nova Tarifa"}),e.jsx($t,{children:u?"Atualize as informaes da tarifa selecionada":"Preencha os campos abaixo para criar uma nova tarifa"})]}),e.jsx($e,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Tipo de Veculo"}),e.jsx(xw,{value:p.vehicleType,onValueChange:S=>x({...p,vehicleType:S})})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Tipo de Tarifa"}),e.jsxs(dt,{value:p.rateType,onValueChange:S=>x({...p,rateType:S}),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Hora/Frao",children:"Hora/Frao"}),e.jsx(pe,{value:"Diria",children:"Diria"}),e.jsx(pe,{value:"Pernoite",children:"Pernoite"}),e.jsx(pe,{value:"Semanal",children:"Semanal"}),e.jsx(pe,{value:"Quinzenal",children:"Quinzenal"}),e.jsx(pe,{value:"Mensal",children:"Mensal"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Valor (R$)"}),e.jsx(re,{type:"number",step:"0.01",value:p.value,onChange:S=>x({...p,value:S.target.value}),placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Unidade"}),e.jsx(re,{value:p.unit,onChange:S=>x({...p,unit:S.target.value}),placeholder:"hora, dia, ms...",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Minutos de Cortesia"}),e.jsx(re,{type:"number",value:p.courtesyMinutes,onChange:S=>x({...p,courtesyMinutes:S.target.value}),placeholder:"10",min:"0",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tempo de tolerncia antes de cobrar a prxima frao"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[C&&e.jsxs(H,{type:"submit",className:"flex-1",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),u?"Atualizar Tarifa":"Adicionar Tarifa"]}),u&&C&&e.jsx(H,{type:"button",variant:"outline",onClick:b,children:"Cancelar"})]})]})})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsxs(st,{children:["Tarifas Cadastradas - ",p.vehicleType]}),e.jsxs($t,{children:[N.length," ",N.length===1?"tarifa cadastrada":"tarifas cadastradas"]})]}),e.jsx($e,{children:e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Nenhuma tarifa cadastrada para ",p.vehicleType]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use o formulrio ao lado para adicionar a primeira tarifa"})]}):N.map(S=>e.jsxs("div",{className:`bg-muted/50 p-4 rounded-lg flex items-center justify-between transition-colors hover:bg-muted ${u===S.id?"ring-2 ring-primary":""}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium",children:[S.vehicleType," - ",S.rateType]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",S.value.toFixed(2),"/",S.unit,S.courtesyMinutes>0&&`  ${S.courtesyMinutes}min cortesia`]})]}),e.jsx("div",{className:"flex gap-2",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>v(S.id),title:"Regras avanadas",children:e.jsx(Nh,{className:"h-4 w-4"})}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>j(S),title:"Editar tarifa",children:e.jsx(Rc,{className:"h-4 w-4"})}),e.jsx(H,{size:"sm",variant:"ghost",onClick:()=>T(S.id),title:"Excluir tarifa",className:"text-destructive hover:text-destructive",children:e.jsx(Jn,{className:"h-4 w-4"})})]})})]},S.id))})})]})]}),P&&e.jsx("div",{className:"mt-6",children:e.jsx(B3,{rate:P,allRates:t,onClose:()=>v(null),onUpdated:()=>{u===P.id&&x(S=>({...S,courtesyMinutes:(P.courtesyMinutes??0).toString()}))}})})]})})}const W3=()=>{const{toast:t}=St(),[n,s]=d.useState(!1),[o,i]=d.useState(!1),[c,u]=d.useState(!1),[h,f]=d.useState(!1),[v,p]=d.useState(!1),[x,w]=d.useState(""),[j,T]=d.useState(587),[b,N]=d.useState(""),[P,C]=d.useState(""),[S,_]=d.useState(!1),[D,U]=d.useState(""),[F,Q]=d.useState(!1),[ee,te]=d.useState(""),[W,V]=d.useState(""),[I,J]=d.useState(""),[he,ie]=d.useState(!1),[ue,L]=d.useState(""),[R,M]=d.useState(""),[E,O]=d.useState(""),[$,K]=d.useState("");d.useEffect(()=>{ce()},[]);const ce=async()=>{s(!0);try{const A=localStorage.getItem("token"),Ce=await fetch("/api/integrations/configs/smtp",{headers:{Authorization:`Bearer ${A}`}});if(Ce.ok){const se=await Ce.json();p(se.enabled),w(se.config.host||""),T(se.config.port||587),N(se.config.user||""),C(se.config.pass||""),_(se.config.secure||!1),U(se.config.fromEmail||"")}const de=await fetch("/api/integrations/configs/sms",{headers:{Authorization:`Bearer ${A}`}});if(de.ok){const se=await de.json();Q(se.enabled),te(se.config.accountSid||""),V(se.config.authToken||""),J(se.config.fromNumber||"")}const Ze=await fetch("/api/integrations/configs/whatsapp",{headers:{Authorization:`Bearer ${A}`}});if(Ze.ok){const se=await Ze.json();ie(se.enabled),L(se.config.phoneNumberId||""),M(se.config.accessToken||"")}}catch(A){console.error("Error loading configs:",A),t({variant:"destructive",title:"Erro",description:"Erro ao carregar configuraes"})}finally{s(!1)}},je=async()=>{s(!0);try{const A=localStorage.getItem("token");if((await fetch("/api/integrations/configs/smtp",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({enabled:v,config:{host:x,port:j,user:b,pass:P,secure:S,fromEmail:D}})})).ok)t({title:"Sucesso",description:"Configurao SMTP salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{t({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao SMTP"})}finally{s(!1)}},Z=async()=>{s(!0);try{const A=localStorage.getItem("token");if((await fetch("/api/integrations/configs/sms",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({enabled:F,config:{accountSid:ee,authToken:W,fromNumber:I}})})).ok)t({title:"Sucesso",description:"Configurao SMS salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{t({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao SMS"})}finally{s(!1)}},fe=async()=>{s(!0);try{const A=localStorage.getItem("token");if((await fetch("/api/integrations/configs/whatsapp",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({enabled:he,config:{phoneNumberId:ue,accessToken:R}})})).ok)t({title:"Sucesso",description:"Configurao WhatsApp salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{t({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao WhatsApp"})}finally{s(!1)}},Ee=async()=>{if(!E){t({variant:"destructive",title:"Erro",description:"Informe um email para teste"});return}i(!0);try{const A=localStorage.getItem("token"),Ce=await fetch("/api/integrations/test-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({to:E})});if(Ce.ok)t({title:"Email Enviado",description:"Email de teste enviado com sucesso!"});else{const de=await Ce.json();throw new Error(de.error||"Erro ao enviar email")}}catch(A){t({variant:"destructive",title:"Erro",description:A.message||"Erro ao enviar email de teste"})}finally{i(!1)}},ke=async()=>{if(!$){t({variant:"destructive",title:"Erro",description:"Informe um telefone para teste"});return}u(!0);try{const A=localStorage.getItem("token"),Ce=await fetch("/api/integrations/test-sms",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({to:$})});if(Ce.ok)t({title:"SMS Enviado",description:"SMS de teste enviado com sucesso!"});else{const de=await Ce.json();throw new Error(de.error||"Erro ao enviar SMS")}}catch(A){t({variant:"destructive",title:"Erro",description:A.message||"Erro ao enviar SMS de teste"})}finally{u(!1)}},ze=async()=>{if(!$){t({variant:"destructive",title:"Erro",description:"Informe um telefone para teste"});return}f(!0);try{const A=localStorage.getItem("token"),Ce=await fetch("/api/integrations/test-whatsapp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({to:$})});if(Ce.ok)t({title:"WhatsApp Enviado",description:"Mensagem de teste enviada com sucesso!"});else{const de=await Ce.json();throw new Error(de.error||"Erro ao enviar WhatsApp")}}catch(A){t({variant:"destructive",title:"Erro",description:A.message||"Erro ao enviar WhatsApp de teste"})}finally{f(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Integraes"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure integraes com servios externos"})]}),e.jsxs(Qn,{defaultValue:"email",className:"space-y-4",children:[e.jsxs(In,{children:[e.jsxs(Je,{value:"email",children:[e.jsx(ly,{className:"w-4 h-4 mr-2"}),"Email (SMTP)"]}),e.jsxs(Je,{value:"sms",children:[e.jsx(uy,{className:"w-4 h-4 mr-2"}),"SMS"]}),e.jsxs(Je,{value:"whatsapp",children:[e.jsx(E2,{className:"w-4 h-4 mr-2"}),"WhatsApp"]}),e.jsxs(Je,{value:"webhooks",children:[e.jsx(A2,{className:"w-4 h-4 mr-2"}),"Webhooks"]})]}),e.jsx(Xe,{value:"email",children:e.jsxs(Ie,{children:[e.jsx(rt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(st,{children:"Configurao SMTP"}),e.jsx($t,{children:"Configure o servidor de email para envio de recibos e notificaes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{htmlFor:"smtp-enabled",children:"Ativo"}),e.jsx(He,{id:"smtp-enabled",checked:v,onCheckedChange:p})]})]})}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"smtp-host",children:"Host SMTP"}),e.jsx(re,{id:"smtp-host",placeholder:"smtp.gmail.com",value:x,onChange:A=>w(A.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"smtp-port",children:"Porta"}),e.jsx(re,{id:"smtp-port",type:"number",placeholder:"587",value:j,onChange:A=>T(parseInt(A.target.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"smtp-user",children:"Usurio / Email"}),e.jsx(re,{id:"smtp-user",type:"email",placeholder:"seu@email.com",value:b,onChange:A=>N(A.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"smtp-pass",children:"Senha"}),e.jsx(re,{id:"smtp-pass",type:"password",placeholder:"",value:P,onChange:A=>C(A.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"smtp-from",children:"Email de Envio"}),e.jsx(re,{id:"smtp-from",type:"email",placeholder:"noreply@estacionamento.com",value:D,onChange:A=>U(A.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{id:"smtp-secure",checked:S,onCheckedChange:_}),e.jsx(B,{htmlFor:"smtp-secure",children:"Usar SSL/TLS"})]}),e.jsx(as,{children:e.jsxs(os,{className:"text-sm",children:[e.jsx("strong",{children:"Gmail:"}),' Use smtp.gmail.com, porta 587, e crie uma "Senha de app" nas configuraes de segurana do Google.']})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:je,disabled:n,children:"Salvar Configurao"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(re,{placeholder:"email@teste.com",value:E,onChange:A=>O(A.target.value),className:"w-64"}),e.jsxs(H,{variant:"outline",onClick:Ee,disabled:o||!v,children:[o?"Enviando...":"Testar Email",e.jsx(om,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),e.jsx(Xe,{value:"sms",children:e.jsxs(Ie,{children:[e.jsx(rt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(st,{children:"Configurao SMS (Twilio)"}),e.jsx($t,{children:"Configure o Twilio para envio de SMS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{htmlFor:"sms-enabled",children:"Ativo"}),e.jsx(He,{id:"sms-enabled",checked:F,onCheckedChange:Q})]})]})}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"twilio-sid",children:"Account SID"}),e.jsx(re,{id:"twilio-sid",placeholder:"AC...",value:ee,onChange:A=>te(A.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"twilio-token",children:"Auth Token"}),e.jsx(re,{id:"twilio-token",type:"password",placeholder:"",value:W,onChange:A=>V(A.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"twilio-from",children:"Nmero de Envio"}),e.jsx(re,{id:"twilio-from",placeholder:"+5511999999999",value:I,onChange:A=>J(A.target.value)})]}),e.jsx(as,{children:e.jsxs(os,{className:"text-sm",children:["Obtenha suas credenciais no"," ",e.jsx("a",{href:"https://console.twilio.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Console Twilio"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:Z,disabled:n,children:"Salvar Configurao"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(re,{placeholder:"+5511999999999",value:$,onChange:A=>K(A.target.value),className:"w-64"}),e.jsxs(H,{variant:"outline",onClick:ke,disabled:c||!F,children:[c?"Enviando...":"Testar SMS",e.jsx(om,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),e.jsx(Xe,{value:"whatsapp",children:e.jsxs(Ie,{children:[e.jsx(rt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(st,{children:"Configurao WhatsApp Business"}),e.jsx($t,{children:"Configure a API do WhatsApp Business"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{htmlFor:"whatsapp-enabled",children:"Ativo"}),e.jsx(He,{id:"whatsapp-enabled",checked:he,onCheckedChange:ie})]})]})}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"whatsapp-phone-id",children:"Phone Number ID"}),e.jsx(re,{id:"whatsapp-phone-id",placeholder:"123456789012345",value:ue,onChange:A=>L(A.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"whatsapp-token",children:"Access Token"}),e.jsx(re,{id:"whatsapp-token",type:"password",placeholder:"",value:R,onChange:A=>M(A.target.value)})]}),e.jsx(as,{children:e.jsxs(os,{className:"text-sm",children:["Configure no"," ",e.jsx("a",{href:"https://developers.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Meta for Developers"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:fe,disabled:n,children:"Salvar Configurao"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(re,{placeholder:"+5511999999999",value:$,onChange:A=>K(A.target.value),className:"w-64"}),e.jsxs(H,{variant:"outline",onClick:ze,disabled:h||!he,children:[h?"Enviando...":"Testar WhatsApp",e.jsx(om,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),e.jsx(Xe,{value:"webhooks",children:e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Webhooks"}),e.jsx($t,{children:"Configure webhooks para integraes personalizadas"})]}),e.jsx($e,{children:e.jsx(as,{children:e.jsx(os,{children:"Webhooks permitem enviar eventos do sistema para URLs externas. Em breve!"})})})]})})]})]})},q3=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function Ev(t){return`${q3[t.getMonth()]}/${t.getFullYear()}`}function di(t,n){const s=n||ya,o="--------------------------------";return["parking_ticket","monthly_payment","general_receipt"].includes(t)?t==="monthly_payment"?`${o}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${o}
${s.name||"Nome da Empresa"}
${s.legalName||"Razo Social"}
CNPJ: ${s.cnpj||"00.000.000/0000-00"}
${s.address||"Endereo da Empresa"}
Tel: ${s.phone||"(00) 0000-0000"}
${o}

RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

CLIENTE: {{customerName}}
CPF/CNPJ: {{customerDocument}}
Telefone: {{customerPhone}}
Email: {{customerEmail}}

PLANO: {{planName}}
Referncia: {{reference}}
Contrato: {{contractNumber}}
Perodo: {{contractPeriod}}
Vaga: {{parkingSlot}}

Vencimento: {{dueDate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Data Pagamento: {{paymentDate}}
Operador: {{operator}}

${o}
Documento sem validade fiscal
${o}
Obrigado pela preferncia!
 2025 ProParking App
`:`${o}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${o}
${s.name||"Nome da Empresa"}
${s.legalName||"Razo Social"}
CNPJ: ${s.cnpj||"00.000.000/0000-00"}
${s.address||"Endereo da Empresa"}
Tel: ${s.phone||"(00) 0000-0000"}
${o}

RECIBO DE REEMBOLSO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

SOLICITANTE: {{recipientName}}
CPF: {{recipientCpf}}

Placa: {{plate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Emitido por: {{issuedBy}}

Descrio:
{{description}}

Observaes:
{{notes}}

${o}
Documento sem validade fiscal
${o}
Obrigado pela preferncia!
 2025 ProParking App
`:`${o}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${o}
${s.name||"Nome da Empresa"}
${s.legalName||"Razo Social"}
CNPJ: ${s.cnpj||"00.000.000/0000-00"}
${s.address||"Endereo da Empresa"}
Tel: ${s.phone||"(00) 0000-0000"}
${o}

RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

${o}
Documento sem validade fiscal
${o}
Obrigado pela preferncia!
 2025 ProParking App
`}function tc(t){const n=t||ya,s="--------------------------------",o=`${s}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${s}
${n.name||"Nome da Empresa"}
${n.legalName||"Razo Social"}
CNPJ: ${n.cnpj||"00.000.000/0000-00"}
${n.address||"Endereo da Empresa"}
Tel: ${n.phone||"(00) 0000-0000"}
${s}

TICKET DE ENTRADA
RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}
Placa: {{plate}}
Tipo: {{vehicleType}}
Entrada: {{entryTime}}
Operador: {{operator}}

${s}
Documento sem validade fiscal
${s}
Obrigado pela preferncia!
 2025 ProParking App
`,i=`${s}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${s}
${n.name||"Nome da Empresa"}
${n.legalName||"Razo Social"}
CNPJ: ${n.cnpj||"00.000.000/0000-00"}
${n.address||"Endereo da Empresa"}
Tel: ${n.phone||"(00) 0000-0000"}
${s}

TICKET DE SADA
RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}
Placa: {{plate}}
Tipo: {{vehicleType}}

Entrada: {{entryTime}}
Sada: {{exitTime}}
Durao: {{duration}}

Tarifa: {{rate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Operador: {{operator}}

${s}
Documento sem validade fiscal
${s}
Obrigado pela preferncia!
 2025 ProParking App
`;return{entry:o,exit:i}}function G3(t,n,s){const o=s||ya,i=new Date;if(t==="monthly_payment"){const u=new Date(i);u.setDate(u.getDate()+20);const h=new Date(i);h.setMonth(h.getMonth()-1);const f=new Date(h);f.setMonth(f.getMonth()+1);const v={receiptNumber:"000321",issuedAt:i,customer:{name:"Joo Henrique Souza",document:"CPF 123.456.789-00",phone:"(11) 91234-5678",email:"joao.souza@email.com"},vehicle:{plate:"ABC-1D23",model:"SUV",color:"Prata"},plan:{name:"Mensalidade Premium 24h",description:"Acesso 24h, vaga coberta, 1 veculo cadastrado",reference:Ev(i)},payment:{method:"Pix",amount:420.5,dueDate:u,paidAt:i,status:"Pago",transactionId:"PIX-9F3A2",receivedBy:"Maria Operadora"},contract:{start:h,end:f,number:"CN-2025-083"},slot:"Vaga 12 - Setor B",notes:"Tag 0152 liberada. Vaga exclusiva na rea coberta.",company:o,customFieldValues:{referenceMonth:Ev(i),contractNumber:"CN-2025-083",contractStart:ss(h),contractEnd:ss(f),contractPeriod:`${ss(h)} a ${ss(f)}`,parkingSlot:"Vaga 12 - Setor B",customerName:"Joo Henrique Souza",customerDocument:"CPF 123.456.789-00",customerPhone:"(11) 91234-5678",customerEmail:"joao.souza@email.com",description:"Mensalidade do plano premium com vaga coberta e tag de acesso."}};return Array.isArray(n.customFields)&&n.customFields.forEach((p,x)=>{v.customFieldValues[p.name]||(v.customFieldValues[p.name]=p.defaultValue||`Valor de exemplo ${x+1}`)}),v}if(t==="parking_ticket"){const u=new Date(i);u.setHours(u.getHours()-2);const h=new Date(i),f={receiptNumber:"ENT-001",issuedAt:u,vehicle:{plate:"ABC-1234",vehicleType:"Carro",entryTime:u},payment:{method:"No aplicvel",amount:0,paidAt:u},operator:"Operador Exemplo",company:o,customFieldValues:{}},v={receiptNumber:"SAI-001",issuedAt:h,vehicle:{plate:"ABC-1234",vehicleType:"Carro",entryTime:u,exitTime:h,duration:"2h 15min"},payment:{method:"Dinheiro",amount:15,paidAt:h},operator:"Operador Exemplo",company:o,customFieldValues:{}};return Array.isArray(n.customFields)&&n.customFields.forEach((p,x)=>{f.customFieldValues[p.name]=p.defaultValue||`Valor de exemplo ${x+1}`,v.customFieldValues[p.name]=p.defaultValue||`Valor de exemplo ${x+1}`}),{entry:f,exit:v}}const c={receiptNumber:"000145",issuedAt:i,customer:{name:"Cliente Exemplo",document:"CPF 000.000.000-00"},vehicle:{plate:"XYZ-9A88"},payment:{method:"Dinheiro",amount:35.9,paidAt:i},notes:"Recibo gerado para demonstrao.",company:o,customFieldValues:{}};return Array.isArray(n.customFields)&&n.customFields.forEach((u,h)=>{c.customFieldValues[u.name]=u.defaultValue||`Valor de exemplo ${h+1}`}),c}function Ja({template:t,sample:n,company:s}){const o=t.primaryColor||"#000000",i=t.secondaryColor||"#666666",c=t.fontFamily||"Arial, sans-serif",u=s||ya,h=(t.customFields||[]).map(f=>({label:f.label||f.name,value:Lw(f,n)})).filter(f=>f.value);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"mx-auto w-full max-w-[480px] rounded-lg border bg-white shadow",style:{fontFamily:c},children:[e.jsxs("div",{className:"border-b p-6 text-center",style:{borderColor:`${i}55`},children:[t.showLogo&&e.jsx("div",{className:"mb-3 flex justify-center",children:e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full border border-dashed border-muted-foreground/60 text-[10px] text-muted-foreground",children:"LOGO"})}),t.showCompanyName&&e.jsx("h2",{className:"text-xl font-bold",style:{color:o},children:u?.name||ya.name}),t.showCompanyDetails&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[u?.legalName&&e.jsx("p",{children:u.legalName}),u?.cnpj&&e.jsxs("p",{children:["CNPJ: ",u.cnpj]}),u?.address&&e.jsx("p",{children:u.address}),u?.phone&&e.jsxs("p",{children:["Tel: ",u.phone]})]}),t.headerText&&e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:t.headerText})]}),e.jsxs("div",{className:"space-y-6 p-6 text-sm text-slate-700",children:[e.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[t.showReceiptNumber&&n.receiptNumber&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Recibo"}),e.jsxs("p",{className:"font-medium",children:["#",n.receiptNumber]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Data de Emisso"}),e.jsx("p",{className:"font-medium",children:ss(n.payment?.paidAt||n.issuedAt)}),t.showTime&&e.jsx("p",{className:"text-xs text-muted-foreground",children:$w(n.payment?.paidAt||n.issuedAt)})]}),t.templateType==="monthly_payment"&&n.payment?.dueDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Vencimento"}),e.jsx("p",{className:"font-medium",children:ss(n.payment.dueDate)})]}),t.showPaymentMethod&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Pagamento"}),e.jsx("p",{className:"font-medium",children:n.payment?.method})]}),t.showPlate&&n.vehicle?.plate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Placa"}),e.jsx("p",{className:"font-medium",children:n.vehicle.plate})]}),t.templateType==="monthly_payment"&&n.slot&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Vaga"}),e.jsx("p",{className:"font-medium",children:n.slot})]})]}),e.jsxs("section",{className:"rounded-lg border border-dashed border-muted-foreground/40 p-4",children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Resumo do Pagamento"}),e.jsx("p",{className:"text-2xl font-semibold",style:{color:o},children:bc(n.payment?.amount)}),t.templateType==="monthly_payment"&&n.plan?.reference&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Referncia: ",n.plan.reference]}),t.templateType==="monthly_payment"&&n.plan?.name&&e.jsx("p",{className:"text-sm text-muted-foreground",children:n.plan.name}),t.showOperator&&n.payment?.receivedBy&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Recebido por: ",n.payment.receivedBy]}),n.payment?.transactionId&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Transao: ",n.payment.transactionId]})]}),e.jsxs("section",{className:"grid gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Cliente"}),e.jsx("p",{className:"font-medium",children:n.customer?.name}),n.customer?.document&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n.customer.document}),n.customer?.phone&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n.customer.phone})]}),t.customFields?.length>0&&h.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-xs uppercase text-muted-foreground",children:"Informaes"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:h.map(f=>e.jsxs("div",{className:"rounded bg-muted px-3 py-2 text-xs",children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:f.label}),e.jsx("p",{className:"text-slate-700",children:f.value})]},f.label))})]})]}),n.notes&&e.jsxs("section",{className:"rounded-lg bg-muted/60 p-3 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-slate-600",children:"Observaes"}),e.jsx("p",{children:n.notes})]}),t.termsAndConditions&&e.jsxs("section",{className:"rounded-lg border border-dashed border-muted-foreground/60 p-3 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-slate-600",children:"Termos e Condies"}),e.jsx("p",{children:t.termsAndConditions})]}),(t.showQrCode||t.showBarcode)&&e.jsxs("section",{className:"flex flex-col items-center gap-4",children:[t.showQrCode&&e.jsx("div",{className:"flex h-28 w-28 items-center justify-center rounded border border-dashed border-muted-foreground/70 text-[10px] text-muted-foreground",children:"QR CODE"}),t.showBarcode&&e.jsxs("div",{className:"flex h-16 w-full max-w-[320px] items-center justify-center rounded border border-dashed border-muted-foreground/70 text-[10px] text-muted-foreground",children:["BARRAS (",t.barcodeType||"CODE128",")"]})]}),t.showSignatureLine&&e.jsx("section",{className:"pt-6",children:e.jsx("div",{className:"border-t border-dashed border-muted-foreground/60 pt-3 text-center text-xs text-muted-foreground",children:"Assinatura do Responsvel"})})]}),t.footerText&&e.jsx("div",{className:"px-6 pb-6 text-center text-xs text-muted-foreground",children:t.footerText})]}),e.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Este preview representa o modelo em PDF enviado por e-mail/WhatsApp ao cliente."})]})}function Y3(){const{toast:t}=St(),[n,s]=d.useState([]),[o,i]=d.useState("all"),[c,u]=d.useState(!1),[h,f]=d.useState(!1),[v,p]=d.useState(!1),[x,w]=d.useState(null),[j,T]=d.useState(null),[b,N]=d.useState(!1),[P,C]=d.useState(null),[S,_]=d.useState(null),[D,U]=d.useState(""),[F,Q]=d.useState(""),[ee,te]=d.useState(""),[W,V]=d.useState(null),[I,J]=d.useState("thermal"),[he,ie]=d.useState(!1),[ue,L]=d.useState(""),[R,M]=d.useState({templateName:"",templateType:"general_receipt",description:"",isActive:!0,isDefault:!1,showLogo:!0,showCompanyName:!0,showCompanyDetails:!0,showReceiptNumber:!0,showDate:!0,showTime:!0,showPlate:!0,showValue:!0,showPaymentMethod:!0,showSignatureLine:!0,showVehicleType:!1,showEntryTime:!1,showExitTime:!1,showDuration:!1,showRate:!1,showOperator:!1,showQrCode:!1,showBarcode:!1,barcodeType:"CODE128",primaryColor:"#000000",secondaryColor:"#666666",fontFamily:"Arial",customFields:[]});d.useEffect(()=>{E()},[o]),d.useEffect(()=>{(async()=>{try{const Ce=await xe.getCompanyConfig();V(Ce)}catch(Ce){console.error("Erro ao carregar configurao da empresa:",Ce)}})()},[]),d.useEffect(()=>{if(!P){_(null),U(""),Q(""),te("");return}const A=G3(P.templateType,P,W);if(_(A),P.templateType==="parking_ticket"&&A&&typeof A=="object"&&"entry"in A&&"exit"in A){const Ce=A;Q(ic(P,Ce.entry,W)),te(ic(P,Ce.exit,W)),U("")}else U(ic(P,A,W)),Q(""),te("")},[P,W]);const E=async()=>{try{const A=await xe.getReceiptTemplates(o),Ce=Array.isArray(A)?A:[];s(Ce),C(de=>{if(!Ce.length)return null;if(de){const se=Ce.find(Me=>Me.id===de.id);if(se)return se}return Ce.find(se=>se.templateType!=="parking_ticket")||Ce[0]})}catch(A){console.error("Error fetching templates:",A),s([]),C(null),t({variant:"destructive",title:"Erro",description:"Erro ao carregar modelos de recibo"})}},O=A=>{C(A),J("thermal"),f(!0)},$=A=>{if(!A){C(null);return}const de=(Array.isArray(n)?n:[]).find(Ze=>Ze.id===A)||null;C(de)},K=()=>{w(null),ie(!1),L("");const A="general_receipt",Ce=di(A,W);M({templateName:"",templateType:A,description:"",isActive:!0,isDefault:!1,showLogo:!0,showCompanyName:!0,showCompanyDetails:!0,showReceiptNumber:!0,showDate:!0,showTime:!0,showPlate:!0,showValue:!0,showPaymentMethod:!0,showSignatureLine:!0,showVehicleType:!1,showEntryTime:!1,showExitTime:!1,showDuration:!1,showRate:!1,showOperator:!1,showQrCode:!1,showBarcode:!1,barcodeType:"CODE128",primaryColor:"#000000",secondaryColor:"#666666",fontFamily:"Arial",customFields:[],customTemplateText:Ce}),u(!0)},ce=A=>{w(A);const Ce=!["parking_ticket","monthly_payment","general_receipt"].includes(A.templateType);ie(Ce),L(Ce?A.templateType:"");const de={...A};if(A.templateType==="parking_ticket"){if(!de.customTemplateTextEntry||!de.customTemplateTextExit){const Ze=tc(W);de.customTemplateTextEntry=de.customTemplateTextEntry||Ze.entry,de.customTemplateTextExit=de.customTemplateTextExit||Ze.exit}}else Ce||de.customTemplateText||(de.customTemplateText=di(A.templateType,W));M(de),u(!0)},je=async()=>{if(he&&(!ue||ue.trim()==="")){t({title:"Erro",description:"Digite o nome do tipo de recibo",variant:"destructive"});return}if(!R.templateName||!R.templateType||R.templateType.trim()===""){t({title:"Erro",description:"Nome e tipo so obrigatrios",variant:"destructive"});return}N(!0);try{x?await xe.updateReceiptTemplate(x.id,R):await xe.createReceiptTemplate(R),t({title:"Sucesso",description:x?"Template atualizado":"Template criado"}),u(!1),E()}catch(A){t({title:"Erro",description:A.message||"No foi possvel salvar o template",variant:"destructive"})}finally{N(!1)}},Z=async()=>{if(j){N(!0);try{await xe.deleteReceiptTemplate(j.id),t({title:"Template excludo",description:"O template foi removido com sucesso"}),p(!1),T(null),E()}catch(A){t({title:"Erro",description:A.message||"No foi possvel excluir o template",variant:"destructive"})}finally{N(!1)}}},fe=async A=>{try{await xe.setDefaultReceiptTemplate(A.id),t({title:"Template padro definido",description:`"${A.templateName}" agora  o template padro`}),E()}catch(Ce){t({title:"Erro",description:Ce.message||"No foi possvel definir como padro",variant:"destructive"})}},Ee=async A=>{try{await xe.cloneReceiptTemplate(A.id),t({title:"Template duplicado",description:"Uma cpia do template foi criada"}),E()}catch(Ce){t({title:"Erro",description:Ce.message||"No foi possvel duplicar o template",variant:"destructive"})}},ke=A=>({parking_ticket:"Ticket de Estacionamento",monthly_payment:"Mensalista",general_receipt:"Recibo de Reembolso"})[A]||A,ze=Array.isArray(n)?n:[];return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Modelos de Recibos"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie templates personalizados para diferentes tipos de recibos"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(dt,{value:o,onValueChange:i,children:[e.jsx(it,{className:"w-64",children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"all",children:"Todos os Tipos"}),e.jsx(pe,{value:"parking_ticket",children:"Ticket de Estacionamento"}),e.jsx(pe,{value:"monthly_payment",children:"Mensalista"}),e.jsx(pe,{value:"general_receipt",children:"Recibo de Reembolso"}),e.jsx(pe,{value:"cash_closing_thermal",children:"Fechamento de Caixa (Trmico)"}),e.jsx(pe,{value:"cash_closing_pdf",children:"Fechamento de Caixa (PDF)"})]})]}),e.jsxs(H,{onClick:K,children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Novo Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ze.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum template encontrado. Crie seu primeiro template!"}),e.jsxs(H,{onClick:K,children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Template"]})]}):ze.map(A=>e.jsxs("div",{className:`bg-card border rounded-lg p-6 hover:shadow-md transition-shadow ${A.id===P?.id?"border-primary ring-1 ring-primary/30":A.isDefault?"border-primary":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:A.templateName}),A.isDefault&&e.jsx(xg,{className:"h-4 w-4 text-primary fill-primary"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ke(A.templateType)})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${A.isActive?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:A.isActive?"Ativo":"Inativo"})]}),A.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:A.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground mb-4",children:[A.showQrCode&&e.jsx("span",{className:"bg-muted px-2 py-1 rounded",children:"QR Code"}),A.showBarcode&&e.jsx("span",{className:"bg-muted px-2 py-1 rounded",children:"Cdigo de Barras"}),A.customFields?.length>0&&e.jsxs("span",{className:"bg-muted px-2 py-1 rounded",children:[A.customFields.length," campos extras"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>O(A),className:"flex-1",children:[e.jsx(eo,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>ce(A),className:"flex-1",children:[e.jsx(zs,{className:"h-3 w-3 mr-1"}),"Editar"]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>Ee(A),children:e.jsx(j2,{className:"h-3 w-3"})}),!A.isDefault&&e.jsx(H,{variant:"outline",size:"sm",onClick:()=>fe(A),children:e.jsx(xg,{className:"h-3 w-3"})}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{T(A),p(!0)},disabled:A.isDefault,children:e.jsx(Jn,{className:"h-3 w-3"})})]})]},A.id))}),ze.length>0&&e.jsxs("section",{className:"mt-12 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Pr-visualizao Rpida"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja como o comprovante  renderizado antes de aplicar alteraes nos modelos."})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(dt,{value:P?.id,onValueChange:$,children:[e.jsx(it,{className:"min-w-[240px]",children:e.jsx(ut,{placeholder:"Selecione um template"})}),e.jsx(lt,{children:ze.map(A=>e.jsxs(pe,{value:A.id,children:[A.templateName,"  ",ke(A.templateType)]},A.id))})]}),e.jsxs(H,{variant:"outline",onClick:()=>P&&O(P),disabled:!P,children:[e.jsx(S2,{className:"h-4 w-4 mr-2"}),"Abrir em modal"]})]})]}),P&&S?e.jsxs(Qn,{value:I,onValueChange:A=>J(A),className:"space-y-4",children:[e.jsxs(In,{className:"grid w-full max-w-[320px] grid-cols-2",children:[e.jsx(Je,{value:"thermal",children:"Impressora Trmica"}),e.jsx(Je,{value:"pdf",children:"Modelo PDF (completo)"})]}),e.jsx(Xe,{value:"thermal",className:"space-y-3",children:P.templateType==="parking_ticket"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:F||"Preview indisponvel para este template."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:ee||"Preview indisponvel para este template."})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:D||"Preview indisponvel para este template."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulao textual de um cupom de 58 mm com dados fictcios."})]})}),e.jsx(Xe,{value:"pdf",className:"pt-4",children:P.templateType==="parking_ticket"&&S&&typeof S=="object"&&"entry"in S&&"exit"in S?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx(Ja,{template:P,sample:S.entry,company:W})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx(Ja,{template:P,sample:S.exit,company:W})]})]}):e.jsx(Ja,{template:P,sample:S,company:W})})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione um template para visualizar o recibo em tempo real."})]}),e.jsx(Nt,{open:c,onOpenChange:u,children:e.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:x?"Editar Template":"Novo Template"}),e.jsx($n,{children:"Configure os campos e estilos do recibo"})]}),e.jsxs(Qn,{defaultValue:"basic",children:[e.jsxs(In,{className:"grid w-full grid-cols-5",children:[e.jsx(Je,{value:"basic",children:"Bsico"}),e.jsx(Je,{value:"fields",children:"Campos"}),e.jsx(Je,{value:"footer",children:"Rodap"}),e.jsx(Je,{value:"template",children:"Template Livre"}),e.jsx(Je,{value:"email",children:"Email/WhatsApp"})]}),e.jsxs(Xe,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Nome do Template *"}),e.jsx(re,{value:R.templateName,onChange:A=>M({...R,templateName:A.target.value}),placeholder:"Ex: Recibo Padro Vermelho"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Tipo *"}),he?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(re,{placeholder:"Digite o nome do tipo (ex: Recibo de Lavagem)",value:ue,onChange:A=>{const Ce=A.target.value.trim();L(Ce),M({...R,templateType:Ce})},className:"flex-1"}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>{ie(!1),L(""),M({...R,templateType:"general_receipt",customTemplateText:di("general_receipt",W)})},children:"Cancelar"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite um nome nico para o novo tipo de recibo"})]}):e.jsxs(dt,{value:R.templateType||"",onValueChange:A=>{if(A==="__create_new__")ie(!0),L(""),M({...R,templateType:"",customTemplateText:"",customTemplateTextEntry:void 0,customTemplateTextExit:void 0});else{const Ce=A;if(Ce==="parking_ticket"){const de=tc(W);M({...R,templateType:Ce,customTemplateText:void 0,customTemplateTextEntry:R.customTemplateTextEntry||de.entry,customTemplateTextExit:R.customTemplateTextExit||de.exit})}else{const Ze=!R.customTemplateText||R.customTemplateText.trim()===""?di(Ce,W):R.customTemplateText;M({...R,templateType:Ce,customTemplateText:Ze,customTemplateTextEntry:void 0,customTemplateTextExit:void 0})}}},children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"parking_ticket",children:"Ticket de Estacionamento"}),e.jsx(pe,{value:"monthly_payment",children:"Mensalista"}),e.jsx(pe,{value:"general_receipt",children:"Recibo de Reembolso"}),e.jsx(pe,{value:"__create_new__",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-4 w-4"}),"Criar Novo +"]})})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Descrio"}),e.jsx(Zt,{value:R.description,onChange:A=>M({...R,description:A.target.value}),placeholder:"Descreva o propsito deste template",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Template Ativo"}),e.jsx(He,{checked:R.isActive,onCheckedChange:A=>M({...R,isActive:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Template Padro"}),e.jsx(He,{checked:R.isDefault,onCheckedChange:A=>M({...R,isDefault:A})})]})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4",children:[e.jsx("h4",{className:"font-medium",children:"Cabealho"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Mostrar Logo"}),e.jsx(He,{checked:R.showLogo,onCheckedChange:A=>M({...R,showLogo:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Mostrar Nome da Empresa"}),e.jsx(He,{checked:R.showCompanyName,onCheckedChange:A=>M({...R,showCompanyName:A})})]}),e.jsxs("div",{className:"flex items-center justify-between col-span-2",children:[e.jsx(B,{className:"text-sm",children:"Mostrar Detalhes da Empresa"}),e.jsx(He,{checked:R.showCompanyDetails,onCheckedChange:A=>M({...R,showCompanyDetails:A})})]})]})]})]}),e.jsxs(Xe,{value:"fields",className:"space-y-6",children:[R.templateType==="parking_ticket"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Ticket de Entrada"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure quais campos aparecero no ticket impresso quando um veculo entra no estacionamento."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Nmero do Recibo"}),e.jsx(He,{checked:R.showReceiptNumber,onCheckedChange:A=>M({...R,showReceiptNumber:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Data"}),e.jsx(He,{checked:R.showDate,onCheckedChange:A=>M({...R,showDate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio"}),e.jsx(He,{checked:R.showTime,onCheckedChange:A=>M({...R,showTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Placa"}),e.jsx(He,{checked:R.showPlate,onCheckedChange:A=>M({...R,showPlate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Tipo de Veculo"}),e.jsx(He,{checked:R.showVehicleType,onCheckedChange:A=>M({...R,showVehicleType:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio de Entrada"}),e.jsx(He,{checked:R.showEntryTime,onCheckedChange:A=>M({...R,showEntryTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Operador"}),e.jsx(He,{checked:R.showOperator,onCheckedChange:A=>M({...R,showOperator:A})})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Ticket de Sada"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure quais campos aparecero no ticket impresso quando um veculo sai do estacionamento."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Nmero do Recibo"}),e.jsx(He,{checked:R.showReceiptNumber,onCheckedChange:A=>M({...R,showReceiptNumber:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Data"}),e.jsx(He,{checked:R.showDate,onCheckedChange:A=>M({...R,showDate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio"}),e.jsx(He,{checked:R.showTime,onCheckedChange:A=>M({...R,showTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Placa"}),e.jsx(He,{checked:R.showPlate,onCheckedChange:A=>M({...R,showPlate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Tipo de Veculo"}),e.jsx(He,{checked:R.showVehicleType,onCheckedChange:A=>M({...R,showVehicleType:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio de Entrada"}),e.jsx(He,{checked:R.showEntryTime,onCheckedChange:A=>M({...R,showEntryTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio de Sada"}),e.jsx(He,{checked:R.showExitTime,onCheckedChange:A=>M({...R,showExitTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Durao"}),e.jsx(He,{checked:R.showDuration,onCheckedChange:A=>M({...R,showDuration:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Tarifa"}),e.jsx(He,{checked:R.showRate,onCheckedChange:A=>M({...R,showRate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Valor"}),e.jsx(He,{checked:R.showValue,onCheckedChange:A=>M({...R,showValue:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Forma de Pagamento"}),e.jsx(He,{checked:R.showPaymentMethod,onCheckedChange:A=>M({...R,showPaymentMethod:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Operador"}),e.jsx(He,{checked:R.showOperator,onCheckedChange:A=>M({...R,showOperator:A})})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"font-medium",children:"Campos do Recibo"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Nmero do Recibo"}),e.jsx(He,{checked:R.showReceiptNumber,onCheckedChange:A=>M({...R,showReceiptNumber:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Data"}),e.jsx(He,{checked:R.showDate,onCheckedChange:A=>M({...R,showDate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio"}),e.jsx(He,{checked:R.showTime,onCheckedChange:A=>M({...R,showTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Placa"}),e.jsx(He,{checked:R.showPlate,onCheckedChange:A=>M({...R,showPlate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Tipo de Veculo"}),e.jsx(He,{checked:R.showVehicleType,onCheckedChange:A=>M({...R,showVehicleType:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio de Entrada"}),e.jsx(He,{checked:R.showEntryTime,onCheckedChange:A=>M({...R,showEntryTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Horrio de Sada"}),e.jsx(He,{checked:R.showExitTime,onCheckedChange:A=>M({...R,showExitTime:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Durao"}),e.jsx(He,{checked:R.showDuration,onCheckedChange:A=>M({...R,showDuration:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Tarifa"}),e.jsx(He,{checked:R.showRate,onCheckedChange:A=>M({...R,showRate:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Valor"}),e.jsx(He,{checked:R.showValue,onCheckedChange:A=>M({...R,showValue:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Forma de Pagamento"}),e.jsx(He,{checked:R.showPaymentMethod,onCheckedChange:A=>M({...R,showPaymentMethod:A})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-sm",children:"Operador"}),e.jsx(He,{checked:R.showOperator,onCheckedChange:A=>M({...R,showOperator:A})})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Estilo"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{className:"text-sm",children:"Cor Primria"}),e.jsx(re,{type:"color",value:R.primaryColor,onChange:A=>M({...R,primaryColor:A.target.value})})]}),e.jsxs("div",{children:[e.jsx(B,{className:"text-sm",children:"Cor Secundria"}),e.jsx(re,{type:"color",value:R.secondaryColor,onChange:A=>M({...R,secondaryColor:A.target.value})})]}),e.jsxs("div",{children:[e.jsx(B,{className:"text-sm",children:"Fonte"}),e.jsxs(dt,{value:R.fontFamily,onValueChange:A=>M({...R,fontFamily:A}),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"Arial",children:"Arial"}),e.jsx(pe,{value:"Helvetica",children:"Helvetica"}),e.jsx(pe,{value:"Times New Roman",children:"Times New Roman"}),e.jsx(pe,{value:"Courier",children:"Courier"})]})]})]})]})]})]}),e.jsxs(Xe,{value:"footer",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"QR Code"}),e.jsx(He,{checked:R.showQrCode,onCheckedChange:A=>M({...R,showQrCode:A})})]}),R.showQrCode&&e.jsxs("div",{className:"col-span-2",children:[e.jsx(B,{className:"text-sm",children:"Dados do QR Code (use variveis)"}),e.jsx(re,{value:R.qrCodeData||"",onChange:A=>M({...R,qrCodeData:A.target.value}),placeholder:"{{receiptNumber}}|{{plate}}|{{value}}"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Cdigo de Barras"}),e.jsx(He,{checked:R.showBarcode,onCheckedChange:A=>M({...R,showBarcode:A})})]}),R.showBarcode&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(B,{className:"text-sm",children:"Dados do Cdigo de Barras"}),e.jsx(re,{value:R.barcodeData||"",onChange:A=>M({...R,barcodeData:A.target.value}),placeholder:"{{receiptNumber}}"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(B,{className:"text-sm",children:"Tipo"}),e.jsxs(dt,{value:R.barcodeType,onValueChange:A=>M({...R,barcodeType:A}),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"CODE128",children:"CODE128"}),e.jsx(pe,{value:"EAN13",children:"EAN13"}),e.jsx(pe,{value:"CODE39",children:"CODE39"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Termos e Condies"}),e.jsx(Zt,{value:R.termsAndConditions||"",onChange:A=>M({...R,termsAndConditions:A.target.value}),rows:3,placeholder:"Documento sem validade fiscal..."})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Texto do Rodap"}),e.jsx(Zt,{value:R.footerText||"",onChange:A=>M({...R,footerText:A.target.value}),rows:2,placeholder:"Obrigado pela preferncia!"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Linha de Assinatura"}),e.jsx(He,{checked:R.showSignatureLine,onCheckedChange:A=>M({...R,showSignatureLine:A})})]})]}),e.jsx(Xe,{value:"template",className:"space-y-4",children:R.templateType==="parking_ticket"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-base font-semibold",children:"Template de Entrada"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{const A=tc(W);M({...R,customTemplateTextEntry:A.entry})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso para o ticket de entrada. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{operator}}"]}),e.jsx(Zt,{value:R.customTemplateTextEntry||"",onChange:A=>M({...R,customTemplateTextEntry:A.target.value}),placeholder:"Digite ou edite o template de entrada...",rows:15,className:"font-mono text-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-base font-semibold",children:"Template de Sada"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{const A=tc(W);M({...R,customTemplateTextExit:A.exit})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso para o ticket de sada. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}"]}),e.jsx(Zt,{value:R.customTemplateTextExit||"",onChange:A=>M({...R,customTemplateTextExit:A.target.value}),placeholder:"Digite ou edite o template de sada...",rows:15,className:"font-mono text-xs"})]}),e.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[e.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),e.jsx("p",{className:"text-muted-foreground",children:"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Template de Impresso (Texto Livre)"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{const A=di(R.templateType||"general_receipt",W);M({...R,customTemplateText:A})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{value}}, etc."]}),e.jsx(Zt,{value:R.customTemplateText||"",onChange:A=>M({...R,customTemplateText:A.target.value}),placeholder:"Digite ou edite o template de impresso...",rows:20,className:"font-mono text-xs"}),e.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[e.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),e.jsxs("p",{className:"text-muted-foreground",children:[R.templateType==="monthly_payment"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{customerName}}, {{customerDocument}}, {{customerPhone}}, {{customerEmail}}, {{planName}}, {{reference}}, {{contractNumber}}, {{contractPeriod}}, {{parkingSlot}}, {{dueDate}}, {{value}}, {{paymentMethod}}, {{paymentDate}}, {{operator}}"}),R.templateType==="general_receipt"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{customerName}}, {{customerDocument}}, {{plate}}, {{value}}, {{paymentMethod}}, {{operator}}, {{notes}}"})]})]})]})}),e.jsxs(Xe,{value:"email",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Assunto do Email"}),e.jsx(re,{value:R.emailSubject||"",onChange:A=>M({...R,emailSubject:A.target.value}),placeholder:"Recibo #{{receiptNumber}} - {{companyName}}"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{className:"text-base font-semibold",children:"Template PDF/Email (HTML)"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:async()=>{try{const Ce=await fetch(`/api/receipt-templates?type=${R.templateType}&default=true`);if(Ce.ok){const de=await Ce.json();if(de&&de.length>0&&de[0].emailBodyHtml){M({...R,emailBodyHtml:de[0].emailBodyHtml});return}}}catch(Ce){console.error("Erro ao buscar template padro:",Ce)}const A=R.templateType==="monthly_payment"?`<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recibo Mensalista - ProParking App</title>
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <div style="background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden;">
    <div style="background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); padding: 30px 20px; text-align: center; color: white;">
      <h1 style="margin: 0; font-size: 28px; font-weight: 700;">PROPARKING APP - 2025</h1>
    </div>
    <div style="padding: 24px;">
      <h2>Recibo #{{receiptNumber}}</h2>
      <p><strong>Cliente:</strong> {{customerName}}</p>
      <p><strong>Valor:</strong> R$ {{value}}</p>
      <p><strong>Data:</strong> {{date}}</p>
    </div>
  </div>
</body>
</html>`:`<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recibo - ProParking App</title>
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <div style="background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden;">
    <div style="background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); padding: 30px 20px; text-align: center; color: white;">
      <h1 style="margin: 0; font-size: 28px; font-weight: 700;">PROPARKING APP - 2025</h1>
    </div>
    <div style="padding: 24px;">
      <h2>Recibo #{{receiptNumber}}</h2>
      <p><strong>Valor:</strong> R$ {{value}}</p>
      <p><strong>Data:</strong> {{date}}</p>
    </div>
  </div>
</body>
</html>`;M({...R,emailBodyHtml:A})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template HTML para PDF/Email. Use variveis como"," ",R.templateType==="monthly_payment"?"{{receiptNumber}}, {{customerName}}, {{plates}}, {{value}}, {{date}}, {{referenceMonth}}, {{paymentMethod}}, {{dueDate}}, {{companyName}}, etc.":R.templateType==="general_receipt"?"{{receiptNumber}}, {{recipientName}}, {{recipientCpf}}, {{plate}}, {{value}}, {{date}}, {{time}}, {{paymentMethod}}, {{description}}, {{issuedBy}}, {{companyName}}, etc.":"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{value}}, {{paymentMethod}}, {{companyName}}, etc."]}),e.jsxs(Qn,{defaultValue:"editor",className:"w-full",children:[e.jsxs(In,{className:"grid w-full grid-cols-2",children:[e.jsx(Je,{value:"editor",children:"Editor HTML"}),e.jsx(Je,{value:"preview",children:"Preview"})]}),e.jsxs(Xe,{value:"editor",className:"space-y-2",children:[e.jsx(Zt,{value:R.emailBodyHtml||"",onChange:A=>M({...R,emailBodyHtml:A.target.value}),rows:20,placeholder:"<!DOCTYPE html>...",className:"font-mono text-xs"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Dica: Use variveis entre chaves duplas, ex: ","{{receiptNumber}}"]})]}),e.jsxs(Xe,{value:"preview",className:"space-y-2",children:[e.jsx("div",{className:"border rounded-lg p-4 bg-white max-h-[600px] overflow-auto",children:R.emailBodyHtml?e.jsx("div",{dangerouslySetInnerHTML:{__html:R.emailBodyHtml.replace(/\{\{receiptNumber\}\}/g,"001234").replace(/\{\{customerName\}\}/g,"Cliente Exemplo").replace(/\{\{plates\}\}/g,"ABC-1234").replace(/\{\{value\}\}/g,"150,00").replace(/\{\{date\}\}/g,"15/01/2025").replace(/\{\{time\}\}/g,"14:30").replace(/\{\{referenceMonth\}\}/g,"Janeiro/2025").replace(/\{\{paymentMethod\}\}/g,"PIX").replace(/\{\{dueDate\}\}/g,"15/02/2025").replace(/\{\{recipientName\}\}/g,"Joo Silva").replace(/\{\{recipientCpf\}\}/g,"000.000.000-00").replace(/\{\{plate\}\}/g,"XYZ-9876").replace(/\{\{description\}\}/g,"Reembolso de estacionamento").replace(/\{\{issuedBy\}\}/g,"Operador Exemplo").replace(/\{\{companyName\}\}/g,W?.name||"Nome da Empresa").replace(/\{\{companyLegalName\}\}/g,W?.legalName||"Razo Social").replace(/\{\{companyCnpj\}\}/g,W?.cnpj||"00.000.000/0000-00").replace(/\{\{companyAddress\}\}/g,W?.address||"Endereo da Empresa").replace(/\{\{companyPhone\}\}/g,W?.phone||"(00) 0000-0000")}}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Digite o HTML do template para ver o preview"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" Preview com dados de exemplo. As variveis sero substitudas pelos dados reais ao enviar."})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Mensagem WhatsApp"}),e.jsx(Zt,{value:R.whatsappMessage||"",onChange:A=>M({...R,whatsappMessage:A.target.value}),rows:4,placeholder:"RECIBO #{{receiptNumber}}\\nPlaca: {{plate}}\\nValor: R$ {{value}}"})]}),e.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[e.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),e.jsxs("p",{className:"text-muted-foreground",children:[R.templateType==="monthly_payment"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{customerName}}, {{plates}}, {{value}}, {{date}}, {{referenceMonth}}, {{paymentMethod}}, {{dueDate}}, {{companyName}}, {{companyLegalName}}, {{companyCnpj}}, {{companyAddress}}, {{companyPhone}}"}),R.templateType==="general_receipt"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{recipientName}}, {{recipientCpf}}, {{plate}}, {{value}}, {{date}}, {{time}}, {{paymentMethod}}, {{description}}, {{issuedBy}}, {{companyName}}, {{companyLegalName}}, {{companyCnpj}}, {{companyAddress}}, {{companyPhone}}"}),R.templateType==="parking_ticket"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}, {{companyName}}, {{companyLegalName}}, {{companyCnpj}}, {{companyAddress}}, {{companyPhone}}"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(H,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(H,{onClick:je,disabled:b,children:b?"Salvando...":x?"Atualizar":"Criar"})]})]})}),e.jsx(Nt,{open:h,onOpenChange:f,children:e.jsxs(wt,{className:"max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:"Preview do Template"}),e.jsx($n,{children:P?`Visualizando "${P.templateName}".`:"Selecione um template para visualizar."})]}),P&&S?e.jsxs(Qn,{value:I,onValueChange:A=>J(A),children:[e.jsxs(In,{className:"grid w-full grid-cols-2",children:[e.jsx(Je,{value:"thermal",children:"Impressora Trmica"}),e.jsx(Je,{value:"pdf",children:"Modelo PDF (completo)"})]}),e.jsx(Xe,{value:"thermal",className:"space-y-3",children:P.templateType==="parking_ticket"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:F||"Preview indisponvel para este template."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:ee||"Preview indisponvel para este template."})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:D||"Preview indisponvel para este template."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulao em texto monoespaado de um cupom de 58 mm com dados fictcios de mensalista."})]})}),e.jsx(Xe,{value:"pdf",className:"pt-4",children:P.templateType==="parking_ticket"&&S&&typeof S=="object"&&"entry"in S&&"exit"in S?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx(Ja,{template:P,sample:S.entry,company:W})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx(Ja,{template:P,sample:S.exit,company:W})]})]}):e.jsx(Ja,{template:P,sample:S,company:W})})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum template selecionado para visualizao."})]})}),e.jsx(oC,{open:v,onOpenChange:p,children:e.jsxs(ff,{children:[e.jsxs(pf,{children:[e.jsx(gf,{children:"Confirmar Excluso"}),e.jsxs(vf,{children:['Tem certeza que deseja excluir o template "',j?.templateName,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(xf,{children:[e.jsx(jf,{children:"Cancelar"}),e.jsx(yf,{onClick:Z,disabled:b,children:b?"Excluindo...":"Excluir"})]})]})})]})})}const or="https://theproparking-backend-1rxk.onrender.com",As=()=>localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token"),Tv=t=>["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"][t]||"Desconhecido";function K3(){const{toast:t}=St(),[n,s]=d.useState("horarios"),[o,i]=d.useState([]),[c,u]=d.useState(null),[h,f]=d.useState(!1),[v,p]=d.useState([]),[x,w]=d.useState(null),[j,T]=d.useState(!1),[b,N]=d.useState([]),[P,C]=d.useState(null),[S,_]=d.useState(!1);d.useEffect(()=>{console.log("[DEBUG] Component mounted"),console.log("[DEBUG] API_BASE_URL:",or),console.log("[DEBUG] import.meta.env.VITE_API_URL:","https://theproparking-backend-1rxk.onrender.com")},[]),d.useEffect(()=>{console.log("[DEBUG] businessHours state updated, count:",o.length),o.length>0&&console.log("[DEBUG] First business hour:",o[0])},[o]),d.useEffect(()=>{D(),U(),F()},[]);const D=async()=>{try{const L=As();if(console.log("[DEBUG] Fetching business hours from:",`${or}/business-hours`),console.log("[DEBUG] Token exists:",!!L),console.log("[DEBUG] Token value (first 20 chars):",L?.substring(0,20)),!L){console.error("[DEBUG] No authentication token found!"),t({title:"Erro",description:"Voc no est autenticado. Faa login novamente.",variant:"destructive"});return}const R=await fetch(`${or}/business-hours`,{headers:{Authorization:`Bearer ${L}`}});console.log("[DEBUG] Response status:",R.status);const M=await R.json();console.log("[DEBUG] Business hours data received:",M),M.success?(console.log("[DEBUG] Setting business hours, count:",M.data?.length),i(M.data)):(console.error("[DEBUG] API returned success=false:",M.error),t({title:"Erro",description:M.error||"Falha ao carregar horrios",variant:"destructive"}))}catch(L){console.error("[DEBUG] Error fetching business hours:",L),t({title:"Erro",description:"Falha ao carregar horrios",variant:"destructive"})}},U=async()=>{try{const L=As(),M=await(await fetch(`${or}/holidays`,{headers:{Authorization:`Bearer ${L}`}})).json();M.success&&p(M.data)}catch(L){console.error("Error:",L),t({title:"Erro",description:"Falha ao carregar feriados",variant:"destructive"})}},F=async()=>{try{const L=As(),M=await(await fetch(`${or}/special-events`,{headers:{Authorization:`Bearer ${L}`}})).json();M.success&&N(M.data)}catch(L){console.error("Error:",L),t({title:"Erro",description:"Falha ao carregar eventos",variant:"destructive"})}},Q=L=>{u(L),f(!0)},ee=async L=>{try{const R=As();(await(await fetch(`${or}/business-hours/${L.id}`,{method:"PUT",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify(L)})).json()).success&&(t({title:"Sucesso",description:"Horrio atualizado"}),D(),f(!1))}catch{t({title:"Erro",description:"Falha ao salvar horrio",variant:"destructive"})}},te=L=>{w(L),T(!0)},W=()=>{w(null),T(!0)},V=async L=>{try{const R=As(),M=L.id?`${or}/holidays/${L.id}`:`${or}/holidays`,E=L.id?"PUT":"POST";(await(await fetch(M,{method:E,headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify(L)})).json()).success&&(t({title:"Sucesso",description:"Feriado salvo"}),U(),T(!1))}catch{t({title:"Erro",description:"Falha ao salvar feriado",variant:"destructive"})}},I=async L=>{if(confirm("Excluir feriado?"))try{const R=As();(await(await fetch(`${or}/holidays/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`}})).json()).success&&(t({title:"Sucesso",description:"Feriado excludo"}),U())}catch{t({title:"Erro",description:"Falha ao excluir",variant:"destructive"})}},J=L=>{C(L),_(!0)},he=()=>{C(null),_(!0)},ie=async L=>{try{const R=As(),M=L.id?`${or}/special-events/${L.id}`:`${or}/special-events`,E=L.id?"PUT":"POST";(await(await fetch(M,{method:E,headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify(L)})).json()).success&&(t({title:"Sucesso",description:"Evento salvo"}),F(),_(!1))}catch{t({title:"Erro",description:"Falha ao salvar evento",variant:"destructive"})}},ue=async L=>{if(confirm("Excluir evento?"))try{const R=As();(await(await fetch(`${or}/special-events/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`}})).json()).success&&(t({title:"Sucesso",description:"Evento excludo"}),F())}catch{t({title:"Erro",description:"Falha ao excluir",variant:"destructive"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Horrios e Feriados"}),e.jsxs(Qn,{value:n,onValueChange:s,children:[e.jsxs(In,{className:"grid w-full grid-cols-3",children:[e.jsxs(Je,{value:"horarios",children:[e.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Horrios"]}),e.jsxs(Je,{value:"feriados",children:[e.jsx(fn,{className:"w-4 h-4 mr-2"}),"Feriados"]}),e.jsxs(Je,{value:"eventos",children:[e.jsx(fn,{className:"w-4 h-4 mr-2"}),"Eventos"]})]}),e.jsx(Xe,{value:"horarios",children:e.jsxs(Ie,{children:[e.jsx(rt,{children:e.jsx(st,{children:"Horrios de Funcionamento"})}),e.jsx($e,{children:o.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum horrio configurado. Verifique o console para detalhes."}):o.map(L=>{console.log("[DEBUG] Rendering hour:",L);const R=Tv(L.day_of_week);return e.jsxs("div",{className:"flex justify-between p-4 border rounded mb-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:R}),":"," ",L.is_open?`${L.open_time} - ${L.close_time}`:"Fechado"]}),e.jsx(H,{size:"icon",variant:"ghost",onClick:()=>Q(L),children:e.jsx(zs,{className:"w-4 h-4"})})]},L.id)})})]})}),e.jsxs(Xe,{value:"feriados",children:[e.jsxs(H,{onClick:W,className:"mb-4",children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Nome"}),e.jsx(qe,{children:"Data"}),e.jsx(qe,{children:"Aes"})]})}),e.jsx(Tr,{children:v.map(L=>e.jsxs(Rt,{children:[e.jsx(Ve,{children:L.name}),e.jsx(Ve,{children:new Date(L.date).toLocaleDateString("pt-BR")}),e.jsxs(Ve,{children:[e.jsx(H,{size:"icon",variant:"ghost",onClick:()=>te(L),children:e.jsx(zs,{className:"w-4 h-4"})}),e.jsx(H,{size:"icon",variant:"ghost",onClick:()=>I(L.id),children:e.jsx(Jn,{className:"w-4 h-4"})})]})]},L.id))})]})})})]}),e.jsxs(Xe,{value:"eventos",children:[e.jsxs(H,{onClick:he,className:"mb-4",children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Nome"}),e.jsx(qe,{children:"Perodo"}),e.jsx(qe,{children:"Multiplicador"}),e.jsx(qe,{children:"Aes"})]})}),e.jsx(Tr,{children:b.map(L=>e.jsxs(Rt,{children:[e.jsx(Ve,{children:L.name}),e.jsxs(Ve,{children:[new Date(L.start_date).toLocaleDateString("pt-BR")," -"," ",new Date(L.end_date).toLocaleDateString("pt-BR")]}),e.jsxs(Ve,{children:[L.price_multiplier,"x"]}),e.jsxs(Ve,{children:[e.jsx(H,{size:"icon",variant:"ghost",onClick:()=>J(L),children:e.jsx(zs,{className:"w-4 h-4"})}),e.jsx(H,{size:"icon",variant:"ghost",onClick:()=>ue(L.id),children:e.jsx(Jn,{className:"w-4 h-4"})})]})]},L.id))})]})})})]})]}),e.jsx(Nt,{open:h,onOpenChange:f,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsxs(pt,{children:["Editar - ",c?Tv(c.day_of_week):""]})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{checked:c.is_open,onCheckedChange:L=>u({...c,is_open:L})}),e.jsx(B,{children:"Aberto"})]}),c.is_open&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Abertura"}),e.jsx(re,{type:"time",value:c.open_time||"",onChange:L=>u({...c,open_time:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Fechamento"}),e.jsx(re,{type:"time",value:c.close_time||"",onChange:L=>u({...c,close_time:L.target.value})})]})]}),e.jsx(H,{onClick:()=>ee(c),children:"Salvar"})]})]})}),e.jsx(Nt,{open:j,onOpenChange:T,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsxs(pt,{children:[x?.id?"Editar":"Adicionar"," Feriado"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Nome"}),e.jsx(re,{value:x?.name||"",onChange:L=>w({...x,name:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Data"}),e.jsx(re,{type:"date",value:x?.date||"",onChange:L=>w({...x,date:L.target.value})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{checked:x?.is_recurring||!1,onCheckedChange:L=>w({...x,is_recurring:L})}),e.jsx(B,{children:"Recorrente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{checked:x?.is_closed||!1,onCheckedChange:L=>w({...x,is_closed:L})}),e.jsx(B,{children:"Fechado"})]}),e.jsx(H,{onClick:()=>V(x||{}),children:"Salvar"})]})]})}),e.jsx(Nt,{open:S,onOpenChange:_,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsxs(pt,{children:[P?.id?"Editar":"Adicionar"," Evento"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Nome"}),e.jsx(re,{value:P?.name||"",onChange:L=>C({...P,name:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Data Incio"}),e.jsx(re,{type:"date",value:P?.start_date||"",onChange:L=>C({...P,start_date:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Data Fim"}),e.jsx(re,{type:"date",value:P?.end_date||"",onChange:L=>C({...P,end_date:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Multiplicador"}),e.jsx(re,{type:"number",step:"0.1",value:P?.price_multiplier||1,onChange:L=>C({...P,price_multiplier:parseFloat(L.target.value)})})]}),e.jsx(H,{onClick:()=>ie(P||{}),children:"Salvar"})]})]})})]})}const Os="https://theproparking-backend-1rxk.onrender.com",Fs=()=>localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token");function Q3(){const{toast:t}=St(),[n,s]=d.useState("settings"),[o,i]=d.useState(null),[c,u]=d.useState(!0),[h,f]=d.useState([]),[v,p]=d.useState(!1),[x,w]=d.useState(null),[j,T]=d.useState([]),[b,N]=d.useState(!1),[P,C]=d.useState(null),[S,_]=d.useState([]),[D,U]=d.useState(!1),[F,Q]=d.useState(null);d.useEffect(()=>{ee(),W(),he(),R()},[]);const ee=async()=>{try{const $=Fs(),ce=await(await fetch(`${Os}/dashboard-settings`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&i(ce.data)}catch($){console.error("Error fetching settings:",$),t({title:"Erro",description:"Falha ao carregar configuraes",variant:"destructive"})}finally{u(!1)}},te=async()=>{if(o)try{const $=Fs(),ce=await(await fetch(`${Os}/dashboard-settings`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(o)})).json();ce.success&&(t({title:"Sucesso",description:"Configuraes salvas"}),i(ce.data))}catch{t({title:"Erro",description:"Falha ao salvar configuraes",variant:"destructive"})}},W=async()=>{try{const $=Fs(),ce=await(await fetch(`${Os}/dashboard-widgets`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&f(ce.data)}catch($){console.error("Error fetching widgets:",$)}},V=()=>{w(null),p(!0)},I=$=>{w($),p(!0)},J=async $=>{if(confirm("Excluir widget?"))try{const K=Fs();(await(await fetch(`${Os}/dashboard-widgets/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}})).json()).success&&(t({title:"Sucesso",description:"Widget excludo"}),W())}catch{t({title:"Erro",description:"Falha ao excluir widget",variant:"destructive"})}},he=async()=>{try{const $=Fs(),ce=await(await fetch(`${Os}/kpi-thresholds`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&T(ce.data)}catch($){console.error("Error fetching thresholds:",$)}},ie=()=>{C(null),N(!0)},ue=$=>{C($),N(!0)},L=async $=>{if(confirm("Excluir alerta?"))try{const K=Fs();(await(await fetch(`${Os}/kpi-thresholds/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}})).json()).success&&(t({title:"Sucesso",description:"Alerta excludo"}),he())}catch{t({title:"Erro",description:"Falha ao excluir alerta",variant:"destructive"})}},R=async()=>{try{const $=Fs(),ce=await(await fetch(`${Os}/report-schedules`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&_(ce.data)}catch($){console.error("Error fetching schedules:",$)}},M=()=>{Q(null),U(!0)},E=$=>{Q($),U(!0)},O=async $=>{if(confirm("Excluir agendamento?"))try{const K=Fs();(await(await fetch(`${Os}/report-schedules/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}})).json()).success&&(t({title:"Sucesso",description:"Agendamento excludo"}),R())}catch{t({title:"Erro",description:"Falha ao excluir agendamento",variant:"destructive"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Configuraes do Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Personalize sua experincia de anlise e relatrios"})]}),e.jsxs(Qn,{value:n,onValueChange:s,children:[e.jsxs(In,{className:"grid w-full grid-cols-4",children:[e.jsxs(Je,{value:"settings",children:[e.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Preferncias"]}),e.jsxs(Je,{value:"widgets",children:[e.jsx(N2,{className:"w-4 h-4 mr-2"}),"Widgets"]}),e.jsxs(Je,{value:"thresholds",children:[e.jsx(Rm,{className:"w-4 h-4 mr-2"}),"Alertas KPI"]}),e.jsxs(Je,{value:"schedules",children:[e.jsx(ly,{className:"w-4 h-4 mr-2"}),"Relatrios"]})]}),e.jsx(Xe,{value:"settings",className:"space-y-4",children:c?e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:"Carregando..."})}):o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Atualizao e Exibio"}),e.jsx($t,{children:"Configure como o dashboard  exibido e atualizado"})]}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Intervalo de Atualizao (segundos)"}),e.jsx(re,{type:"number",value:o.refresh_interval,onChange:$=>i({...o,refresh_interval:parseInt($.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Perodo Padro"}),e.jsxs(dt,{value:o.default_date_range,onValueChange:$=>i({...o,default_date_range:$}),children:[e.jsx(it,{children:e.jsx(ut,{})}),e.jsxs(lt,{children:[e.jsx(pe,{value:"last_7_days",children:"ltimos 7 dias"}),e.jsx(pe,{value:"last_30_days",children:"ltimos 30 dias"}),e.jsx(pe,{value:"this_month",children:"Este ms"}),e.jsx(pe,{value:"custom",children:"Personalizado"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Mostrar Tendncias"}),e.jsx(He,{checked:o.show_trends,onCheckedChange:$=>i({...o,show_trends:$})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{children:"Mostrar Comparaes"}),e.jsx(He,{checked:o.show_comparisons,onCheckedChange:$=>i({...o,show_comparisons:$})})]})]})]}),e.jsxs(Ie,{children:[e.jsxs(rt,{children:[e.jsx(st,{children:"Reteno de Dados"}),e.jsx($t,{children:"Gerencie o armazenamento de dados histricos"})]}),e.jsxs($e,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Manter dados por (meses)"}),e.jsx(re,{type:"number",min:"1",max:"60",value:o.data_retention_months,onChange:$=>i({...o,data_retention_months:parseInt($.target.value)})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados mais antigos sero arquivados ou excludos automaticamente"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Arquivar dados antigos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Em vez de excluir, mova para arquivo"})]}),e.jsx(He,{checked:o.archive_old_data,onCheckedChange:$=>i({...o,archive_old_data:$})})]})]})]}),e.jsx(H,{onClick:te,children:"Salvar Configuraes"})]})}),e.jsxs(Xe,{value:"widgets",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(H,{onClick:V,children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Adicionar Widget"]})}),e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Posio"}),e.jsx(qe,{children:"Ttulo"}),e.jsx(qe,{children:"Tipo"}),e.jsx(qe,{children:"Tamanho"}),e.jsx(qe,{children:"Visvel"}),e.jsx(qe,{className:"text-right",children:"Aes"})]})}),e.jsx(Tr,{children:h.map($=>e.jsxs(Rt,{children:[e.jsx(Ve,{children:$.position}),e.jsx(Ve,{className:"font-medium",children:$.title}),e.jsx(Ve,{children:$.widget_type}),e.jsx(Ve,{children:$.size}),e.jsx(Ve,{children:$.is_visible?"Sim":"No"}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>I($),children:e.jsx(zs,{className:"w-4 h-4"})}),e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>J($.id),children:e.jsx(Jn,{className:"w-4 h-4"})})]})})]},$.id))})]})})})]}),e.jsxs(Xe,{value:"thresholds",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(H,{onClick:ie,children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Adicionar Alerta"]})}),e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Nome"}),e.jsx(qe,{children:"Tipo"}),e.jsx(qe,{children:"Limite"}),e.jsx(qe,{children:"Mtodo"}),e.jsx(qe,{children:"Status"}),e.jsx(qe,{className:"text-right",children:"Aes"})]})}),e.jsx(Tr,{children:j.map($=>e.jsxs(Rt,{children:[e.jsx(Ve,{className:"font-medium",children:$.kpi_name}),e.jsx(Ve,{children:$.kpi_type}),e.jsxs(Ve,{children:[$.threshold_type==="minimum"&&` ${$.min_value}`,$.threshold_type==="maximum"&&` ${$.max_value}`,$.threshold_type==="range"&&`${$.min_value} - ${$.max_value}`]}),e.jsx(Ve,{children:$.alert_method}),e.jsx(Ve,{children:e.jsx("span",{className:$.is_active?"text-green-600":"text-gray-400",children:$.is_active?"Ativo":"Inativo"})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>ue($),children:e.jsx(zs,{className:"w-4 h-4"})}),e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>L($.id),children:e.jsx(Jn,{className:"w-4 h-4"})})]})})]},$.id))})]})})})]}),e.jsxs(Xe,{value:"schedules",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(H,{onClick:M,children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Agendar Relatrio"]})}),e.jsx(Ie,{children:e.jsx($e,{className:"pt-6",children:e.jsxs(Sr,{children:[e.jsx(Er,{children:e.jsxs(Rt,{children:[e.jsx(qe,{children:"Nome"}),e.jsx(qe,{children:"Frequncia"}),e.jsx(qe,{children:"Horrio"}),e.jsx(qe,{children:"Mtodo"}),e.jsx(qe,{children:"Status"}),e.jsx(qe,{className:"text-right",children:"Aes"})]})}),e.jsx(Tr,{children:S.map($=>e.jsxs(Rt,{children:[e.jsx(Ve,{className:"font-medium",children:$.report_name}),e.jsx(Ve,{children:$.frequency}),e.jsx(Ve,{children:$.schedule_time}),e.jsx(Ve,{children:$.delivery_method}),e.jsx(Ve,{children:e.jsx("span",{className:$.is_active?"text-green-600":"text-gray-400",children:$.is_active?"Ativo":"Inativo"})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>E($),children:e.jsx(zs,{className:"w-4 h-4"})}),e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>O($.id),children:e.jsx(Jn,{className:"w-4 h-4"})})]})})]},$.id))})]})})})]})]}),e.jsx(Nt,{open:v,onOpenChange:p,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsxs(pt,{children:[x?"Editar":"Adicionar"," Widget"]})}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade de widgets em desenvolvimento. Use a API diretamente por enquanto."})}),e.jsx(zt,{children:e.jsx(H,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"})})]})}),e.jsx(Nt,{open:b,onOpenChange:N,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsxs(pt,{children:[P?"Editar":"Adicionar"," Alerta KPI"]})}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Formulrio de alertas em desenvolvimento. Use a API diretamente por enquanto."})}),e.jsx(zt,{children:e.jsx(H,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"})})]})}),e.jsx(Nt,{open:D,onOpenChange:U,children:e.jsxs(wt,{children:[e.jsx(ft,{children:e.jsxs(pt,{children:[F?"Editar":"Agendar"," Relatrio"]})}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Formulrio de agendamento em desenvolvimento. Use a API diretamente por enquanto."})}),e.jsx(zt,{children:e.jsx(H,{variant:"outline",onClick:()=>U(!1),children:"Cancelar"})})]})})]})}const J3=()=>{const t=Ln();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),e.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},X3=({open:t,onOpenChange:n,isFirstLogin:s=!1,onSuccess:o})=>{const{toast:i}=St(),[c,u]=d.useState(!1),[h,f]=d.useState(""),[v,p]=d.useState(""),[x,w]=d.useState(""),[j,T]=d.useState(!1),[b,N]=d.useState(!1),[P,C]=d.useState(!1),[S,_]=d.useState(null),[D,U]=d.useState(null);d.useEffect(()=>{t?F():(f(""),p(""),w(""),_(null))},[t]),d.useEffect(()=>{if(v.length>0){const V=setTimeout(()=>{Q(v)},300);return()=>clearTimeout(V)}else _(null)},[v]);const F=async()=>{try{const V=await xe.getPasswordRequirements();U({minLength:V.minLength,requireUppercase:V.requireUppercase,requireLowercase:V.requireLowercase,requireDigit:V.requireNumbers??!1,requireSpecialChar:V.requireSpecialChars??!1,passwordHistoryLimit:5})}catch(V){const I=V instanceof Error?V.message:String(V);console.error("Error fetching password requirements:",I)}},Q=async V=>{try{const I=await xe.validatePasswordStrength(V);_(I)}catch(I){const J=I instanceof Error?I.message:String(I);console.error("Error validating password:",J)}},ee=async V=>{if(V.preventDefault(),v!==x){i({variant:"destructive",title:"Erro",description:"As senhas no coincidem"});return}if(S&&!S.valid){i({variant:"destructive",title:"Senha fraca",description:"A senha no atende aos requisitos de segurana"});return}if(!s&&!h){i({variant:"destructive",title:"Erro",description:"Informe a senha atual"});return}u(!0);try{await xe.changePassword({currentPassword:s?void 0:h,newPassword:v}),i({title:"Sucesso",description:"Senha alterada com sucesso"}),n(!1),o&&o()}catch(I){const J=I instanceof Error?I.message:String(I);console.error("Error changing password:",J),i({variant:"destructive",title:"Erro",description:J||"Erro ao alterar senha"})}finally{u(!1)}},te=V=>V===0?"bg-red-500":V===1?"bg-orange-500":V===2?"bg-yellow-500":V===3?"bg-lime-500":"bg-green-500",W=V=>V===0?"Muito fraca":V===1?"Fraca":V===2?"Razovel":V===3?"Boa":"Forte";return e.jsx(Nt,{open:t,onOpenChange:s?void 0:n,children:e.jsxs(wt,{className:"sm:max-w-[500px]",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:s?"Primeiro Acesso - Altere sua Senha":"Alterar Senha"}),e.jsx($n,{children:s?"Por segurana, voc precisa alterar sua senha no primeiro acesso.":"Crie uma senha forte para proteger sua conta."})]}),e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[!s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"currentPassword",children:"Senha Atual *"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{id:"currentPassword",type:j?"text":"password",value:h,onChange:V=>f(V.target.value),required:!s,disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>T(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:j?e.jsx(am,{size:18}):e.jsx(eo,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"newPassword",children:"Nova Senha *"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{id:"newPassword",type:b?"text":"password",value:v,onChange:V=>p(V.target.value),required:!0,disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>N(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:b?e.jsx(am,{size:18}):e.jsx(eo,{size:18})})]}),S&&v.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Fora da senha:"}),e.jsx("span",{className:`font-medium ${S.valid?"text-green-600":"text-orange-600"}`,children:S.strength&&W(S.strength.score)})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${S.strength&&te(S.strength.score)}`,style:{width:`${S.strength?(S.strength.score+1)*20:0}%`}})})]}),S&&S.errors.length>0&&e.jsxs(as,{variant:"destructive",className:"py-2",children:[e.jsx(Xa,{className:"h-4 w-4"}),e.jsx(os,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:S.errors.map((V,I)=>e.jsx("li",{children:V},I))})})]}),S&&S.valid&&e.jsxs(as,{className:"py-2 border-green-200 bg-green-50",children:[e.jsx(jh,{className:"h-4 w-4 text-green-600"}),e.jsx(os,{className:"text-green-700 text-sm",children:"Senha forte e segura!"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha *"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{id:"confirmPassword",type:P?"text":"password",value:x,onChange:V=>w(V.target.value),required:!0,disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>C(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:P?e.jsx(am,{size:18}):e.jsx(eo,{size:18})})]}),x&&v!==x&&e.jsx("p",{className:"text-sm text-red-600",children:"As senhas no coincidem"})]}),D&&e.jsx(as,{className:"py-2",children:e.jsxs(os,{className:"text-sm",children:[e.jsx("strong",{children:"Requisitos de Senha:"}),e.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.jsxs("li",{children:["Mnimo ",D.minLength," caracteres"]}),D.requireUppercase&&e.jsx("li",{children:"Pelo menos 1 letra maiscula"}),D.requireLowercase&&e.jsx("li",{children:"Pelo menos 1 letra minscula"}),D.requireDigit&&e.jsx("li",{children:"Pelo menos 1 nmero"}),D.requireSpecialChar&&e.jsx("li",{children:"Pelo menos 1 caractere especial"}),e.jsxs("li",{children:["No pode ser uma das ltimas ",D.passwordHistoryLimit," senhas"]})]})]})}),e.jsxs(zt,{children:[!s&&e.jsx(H,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:c,children:"Cancelar"}),e.jsx(H,{type:"submit",disabled:c||S&&!S.valid||v!==x,children:c?"Alterando...":"Alterar Senha"})]})]})]})})},Z3=()=>{const{login:t,loading:n,isAuthenticated:s,mustChangePassword:o,isFirstLogin:i,clearPasswordChangeFlags:c}=zn(),u=Rr(),h=Ln(),[f,v]=d.useState(""),[p,x]=d.useState(""),[w,j]=d.useState(!0),[T,b]=d.useState(null),[N,P]=d.useState(!1),[C,S]=d.useState(!1);Te.useEffect(()=>{if(s&&!n&&!o){const U=h.state?.from?.pathname||"/";u(U,{replace:!0})}},[s,n,o,u,h.state]),Te.useEffect(()=>{s&&o&&S(!0)},[s,o]);const _=async U=>{U.preventDefault(),b(null),P(!0);try{await t(f,p,w)}catch(F){b(F.message||"Falha no login")}finally{P(!1)}},D=()=>{c(),S(!1);const U=h.state?.from?.pathname||"/";u(U,{replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-0 w-full h-1 bg-yellow-400/20 animate-pulse"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-yellow-400/20 animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-3/4 left-0 w-full h-1 bg-yellow-400/20 animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-20 left-10 text-white/10 animate-float",children:e.jsx(Cr,{size:80})}),e.jsx("div",{className:"absolute bottom-20 right-10 text-white/10 animate-float",style:{animationDelay:"2s"},children:e.jsx(Cr,{size:100})}),e.jsx("div",{className:"absolute top-1/2 right-20 text-white/10 animate-float",style:{animationDelay:"4s"},children:e.jsx(Cr,{size:60})}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),e.jsx("div",{className:"relative z-10 flex min-h-screen w-full items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(Cr,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"PROPARKING"}),e.jsx("p",{className:"text-sm font-medium text-blue-300",children:"APP"})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-lg font-semibold text-white/90",children:"2025"}),e.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Sistema de Gesto de Estacionamento"})]})]}),e.jsxs(Ie,{className:"backdrop-blur-md bg-white/95 shadow-2xl border-white/20",children:[e.jsxs(rt,{className:"space-y-1 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(k2,{className:"h-5 w-5 text-primary"}),e.jsx(st,{className:"text-2xl font-bold",children:"Acesso Seguro"})]}),e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Entre com suas credenciais para continuar"})]}),e.jsx($e,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"login",className:"text-sm font-medium",children:"Usurio"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{id:"login",value:f,onChange:U=>v(U.target.value),autoComplete:"username",required:!0,className:"pl-10 h-11",placeholder:"Digite seu usurio"}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"password",className:"text-sm font-medium",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{id:"password",type:"password",value:p,onChange:U=>x(U.target.value),autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"Digite sua senha"}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:e.jsx(C2,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ja,{id:"remember",checked:w,onCheckedChange:U=>j(!!U)}),e.jsx(B,{htmlFor:"remember",className:"cursor-pointer select-none text-sm",children:"Lembrar-me"})]}),e.jsx(co,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Esqueceu a senha?"})]}),T&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-3",children:e.jsx("p",{className:"text-sm text-destructive font-medium",children:T})}),e.jsx(H,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:N||n,children:N?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Entrando..."]}):"Entrar"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-white/60",children:" 2025 ProParking App. Todos os direitos reservados."})})]})})]}),e.jsx(X3,{open:C,onOpenChange:S,isFirstLogin:i,onSuccess:D})]})},eF="https://theproparking-backend-1rxk.onrender.com";function tF(){const[t,n]=d.useState(""),[s,o]=d.useState(!1),[i,c]=d.useState(""),[u,h]=d.useState(!1),f=async v=>{v.preventDefault(),o(!0),c("");try{const p=await fetch(`${eF}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),x=await p.json();if(!p.ok)throw new Error(x.error||"Erro ao enviar email");h(!0),x._dev?.resetUrl&&console.log(" Link de recuperao:",x._dev.resetUrl)}catch(p){c(p.message)}finally{o(!1)}};return u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email enviado!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Se o email ",e.jsx("strong",{children:t})," estiver cadastrado, voc receber instrues para redefinir sua senha."]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Verifique sua caixa de entrada e tambm a pasta de spam."}),e.jsx(co,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:" Voltar para o login"})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Esqueceu a senha?"}),e.jsx("p",{className:"text-gray-600",children:"Digite seu email para receber instrues de recuperao"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[i&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:v=>n(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:s?"Enviando...":"Enviar instrues"}),e.jsx("div",{className:"text-center",children:e.jsx(co,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-900 underline decoration-dotted",children:"Voltar para o login"})})]})]})})}const Pv="https://theproparking-backend-1rxk.onrender.com";function nF(){const[t]=mR(),n=Rr(),s=t.get("token"),o=t.get("email"),[i,c]=d.useState(""),[u,h]=d.useState(""),[f,v]=d.useState(!1),[p,x]=d.useState(!0),[w,j]=d.useState(""),[T,b]=d.useState(!1),[N,P]=d.useState(!1);d.useEffect(()=>{if(!s||!o){j("Link invlido"),x(!1);return}fetch(`${Pv}/auth/validate-reset-token/${s}?email=${encodeURIComponent(o)}`).then(S=>S.json()).then(S=>{S.valid?P(!0):j(S.error||"Token invlido ou expirado")}).catch(()=>{j("Erro ao validar token")}).finally(()=>{x(!1)})},[s,o]);const C=async S=>{if(S.preventDefault(),j(""),i!==u){j("As senhas no coincidem");return}if(i.length<8){j("A senha deve ter no mnimo 8 caracteres");return}v(!0);try{const _=await fetch(`${Pv}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,token:s,newPassword:i})}),D=await _.json();if(!_.ok)throw new Error(D.error||"Erro ao redefinir senha");b(!0),setTimeout(()=>{n("/login")},3e3)}catch(_){j(_.message)}finally{v(!1)}};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Validando link..."})]})}):!N&&w?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link invlido"}),e.jsx("p",{className:"text-gray-600 mb-6",children:w}),e.jsx(co,{to:"/forgot-password",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Solicitar novo link"})]})}):T?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Senha redefinida!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para o login..."}),e.jsx(co,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:"Ir para o login agora "})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Redefinir senha"}),e.jsx("p",{className:"text-gray-600",children:"Digite sua nova senha"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[w&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova senha"}),e.jsx("input",{id:"newPassword",type:"password",required:!0,value:i,onChange:S=>c(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mnimo 8 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar senha"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:u,onChange:S=>h(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite novamente"})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:f?"Redefinindo...":"Redefinir senha"})]})]})})}const rF="https://theproparking-backend-1rxk.onrender.com";function sF(){const[t,n]=d.useState(1),[s,o]=d.useState(!1),i=Rr(),{toast:c}=St(),[u,h]=d.useState({companyName:"",cnpj:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",adminName:"",adminEmail:"",adminLogin:"",adminPassword:"",adminPasswordConfirm:""}),[f,v]=d.useState({}),p=(C,S)=>{h(_=>({..._,[C]:S})),f[C]&&v(_=>({..._,[C]:""}))},x=C=>{const S={};return C===2&&(u.companyName.trim()||(S.companyName="Nome da empresa  obrigatrio"),u.cnpj&&!/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(u.cnpj)&&(S.cnpj="CNPJ invlido (use formato: 00.000.000/0000-00)")),C===3&&(u.adminLogin.trim()||(S.adminLogin="Login  obrigatrio"),u.adminPassword?u.adminPassword.length<6&&(S.adminPassword="Senha deve ter no mnimo 6 caracteres"):S.adminPassword="Senha  obrigatria",u.adminPassword!==u.adminPasswordConfirm&&(S.adminPasswordConfirm="As senhas no coincidem")),v(S),Object.keys(S).length===0},w=()=>{x(t)&&n(C=>C+1)},j=()=>{n(C=>C-1)},T=async()=>{if(x(t)){o(!0);try{const C=await fetch(`${rF}/setup/initialize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),S=await C.json();if(!C.ok)throw new Error(S.error||"Erro ao inicializar o sistema");n(4),setTimeout(()=>{i("/login",{replace:!0})},2e3)}catch(C){c({variant:"destructive",title:"Erro",description:C.message||"Falha ao configurar o sistema"})}finally{o(!1)}}},b=C=>{const S=C.replace(/\D/g,"");return S.length<=14?S.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2"):C},N=C=>C.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").slice(0,9),P=C=>{const S=C.replace(/\D/g,"");return S.length<=11?S.replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2"):C};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs(Ie,{className:"w-full max-w-2xl shadow-2xl",children:[e.jsxs(rt,{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(fa,{className:"w-8 h-8 text-white"})})}),e.jsx(st,{className:"text-3xl font-bold text-gray-800",children:"Bem-vindo ao TheProParkingApp"}),e.jsx($t,{className:"text-lg",children:"Vamos configurar seu sistema de estacionamento"})]}),e.jsxs($e,{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center items-center mb-8 gap-2",children:[1,2,3].map(C=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${t>=C?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:C}),C<3&&e.jsx("div",{className:`h-1 w-12 md:w-24 ${t>C?"bg-blue-600":"bg-gray-200"}`})]},C))}),t===1&&e.jsxs("div",{className:"text-center space-y-6 py-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Primeira Execuo"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Este assistente ir gui-lo na configurao inicial do sistema."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx(fa,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Dados da Empresa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Informaes bsicas"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx(Mc,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Usurio Admin"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Criar acesso inicial"})]})]}),e.jsx(H,{onClick:w,size:"lg",className:"mt-8",children:"Comear Configurao"})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Informaes da Empresa"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(B,{htmlFor:"companyName",children:["Nome da Empresa ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"companyName",value:u.companyName,onChange:C=>p("companyName",C.target.value),placeholder:"Estacionamento XYZ",className:f.companyName?"border-red-500":""}),f.companyName&&e.jsx("p",{className:"text-sm text-red-500",children:f.companyName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(re,{id:"cnpj",value:u.cnpj,onChange:C=>p("cnpj",b(C.target.value)),placeholder:"00.000.000/0000-00",maxLength:18,className:f.cnpj?"border-red-500":""}),f.cnpj&&e.jsx("p",{className:"text-sm text-red-500",children:f.cnpj})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"phone",children:"Telefone"}),e.jsx(re,{id:"phone",value:u.phone,onChange:C=>p("phone",P(C.target.value)),placeholder:"(00) 00000-0000",maxLength:15})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"email",children:"E-mail"}),e.jsx(re,{id:"email",type:"email",value:u.email,onChange:C=>p("email",C.target.value),placeholder:"contato@empresa.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"address",children:"Endereo"}),e.jsx(re,{id:"address",value:u.address,onChange:C=>p("address",C.target.value),placeholder:"Rua, nmero"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 md:col-span-1",children:[e.jsx(B,{htmlFor:"city",children:"Cidade"}),e.jsx(re,{id:"city",value:u.city,onChange:C=>p("city",C.target.value),placeholder:"So Paulo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"state",children:"Estado"}),e.jsx(re,{id:"state",value:u.state,onChange:C=>p("state",C.target.value.toUpperCase()),placeholder:"SP",maxLength:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"zipCode",children:"CEP"}),e.jsx(re,{id:"zipCode",value:u.zipCode,onChange:C=>p("zipCode",N(C.target.value)),placeholder:"00000-000",maxLength:9})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(H,{onClick:j,variant:"outline",children:"Voltar"}),e.jsx(H,{onClick:w,children:"Prximo"})]})]}),t===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Criar Usurio Administrador"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"adminName",children:"Nome Completo"}),e.jsx(re,{id:"adminName",value:u.adminName,onChange:C=>p("adminName",C.target.value),placeholder:"Joo Silva"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"adminEmail",children:"E-mail"}),e.jsx(re,{id:"adminEmail",type:"email",value:u.adminEmail,onChange:C=>p("adminEmail",C.target.value),placeholder:"admin@empresa.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(B,{htmlFor:"adminLogin",children:["Login ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"adminLogin",value:u.adminLogin,onChange:C=>p("adminLogin",C.target.value),placeholder:"admin",className:f.adminLogin?"border-red-500":""}),f.adminLogin&&e.jsx("p",{className:"text-sm text-red-500",children:f.adminLogin})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(B,{htmlFor:"adminPassword",children:["Senha ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"adminPassword",type:"password",value:u.adminPassword,onChange:C=>p("adminPassword",C.target.value),placeholder:"Mnimo 6 caracteres",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&e.jsx("p",{className:"text-sm text-red-500",children:f.adminPassword}),u.adminPassword&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${u.adminPassword.length<6?"bg-red-500 w-1/3":u.adminPassword.length<8?"bg-yellow-500 w-2/3":"bg-green-500 w-full"}`})}),e.jsx("p",{className:"text-xs text-gray-600",children:u.adminPassword.length<6?"Senha fraca":u.adminPassword.length<8?"Senha mdia":"Senha forte"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(B,{htmlFor:"adminPasswordConfirm",children:["Confirmar Senha ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(re,{id:"adminPasswordConfirm",type:"password",value:u.adminPasswordConfirm,onChange:C=>p("adminPasswordConfirm",C.target.value),placeholder:"Digite a senha novamente",className:f.adminPasswordConfirm?"border-red-500":u.adminPasswordConfirm&&u.adminPassword===u.adminPasswordConfirm?"border-green-500":""}),f.adminPasswordConfirm&&e.jsx("p",{className:"text-sm text-red-500",children:f.adminPasswordConfirm}),u.adminPasswordConfirm&&u.adminPassword===u.adminPasswordConfirm&&e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(fi,{className:"w-4 h-4"}),"As senhas coincidem"]}),u.adminPasswordConfirm&&u.adminPassword!==u.adminPasswordConfirm&&e.jsx("p",{className:"text-sm text-red-500",children:"As senhas no coincidem"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(H,{onClick:j,variant:"outline",children:"Voltar"}),e.jsx(H,{onClick:T,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(iy,{className:"mr-2 h-4 w-4 animate-spin"}),"Configurando..."]}):"Finalizar Configurao"})]})]}),t===4&&e.jsxs("div",{className:"text-center space-y-6 py-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fi,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configurao Concluda!"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Seu sistema est pronto para uso."}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:["Use o login ",e.jsx("strong",{children:u.adminLogin})," para acessar o sistema."]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando para a tela de login..."})]})]})]})})}const aF=({open:t,onOpenChange:n})=>{const s=Rr(),o=Ln(),i=()=>{o.pathname!=="/financeiro"&&s("/financeiro")};return e.jsx(Nt,{open:t,onOpenChange:n,children:e.jsxs(wt,{hideClose:!0,className:"sm:max-w-md","aria-describedby":"cash-register-closed-description",children:[e.jsxs(ft,{children:[e.jsx(pt,{children:"Caixa Fechado"}),e.jsx($n,{id:"cash-register-closed-description",children:"O caixa est fechado no momento. Abra o caixa para continuar utilizando o sistema."})]}),e.jsx(zt,{className:"flex justify-end gap-2",children:e.jsx(H,{onClick:i,children:"Abrir Caixa"})})]})})},oF=new ok;let Kn="https://theproparking-backend-1rxk.onrender.com";Kn.endsWith("/")&&(Kn=Kn.slice(0,-1));if(Kn.startsWith("http://")||Kn.startsWith("https://"))try{const t=new URL(Kn);Kn=`${t.protocol}//${t.host}`}catch{const n=Kn.match(/^(https?:\/\/[^\/]+)/);n&&(Kn=n[1])}Kn.endsWith("/api")||(Kn=`${Kn}/api`);const iF=Kn,lF=({children:t})=>{const[n,s]=d.useState(!0),[o,i]=d.useState(!1),c=Ln();return d.useEffect(()=>{if(c.pathname==="/setup"){s(!1);return}(async()=>{const h=setTimeout(()=>{i(!1),s(!1)},15e3);try{const f=new AbortController,v=setTimeout(()=>f.abort(),12e3),p=`${iF}/setup/check-first-run`,x=await fetch(p,{signal:f.signal});clearTimeout(v),clearTimeout(h);const w=x.headers.get("content-type");if(!w||!w.includes("application/json")){const T=await x.text();throw console.warn("[SetupGuard] Non-JSON response - backend may be hibernating"),new Error("Server returned non-JSON response")}const j=await x.json();i(j.needsSetup||!1)}catch(f){clearTimeout(h),f.name==="AbortError"||f.message?.includes("aborted")||f.message?.includes("CORS")||f.message?.includes("NetworkError")||f.message?.includes("Failed to fetch")||console.warn("[SetupGuard] Setup check failed, proceeding anyway:",f.message||f),i(!1)}finally{s(!1)}})()},[c.pathname]),n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Verificando configurao..."})]})}):o&&c.pathname!=="/setup"?e.jsx(Km,{to:"/setup",replace:!0}):e.jsx(e.Fragment,{children:t})},ir=({children:t,required:n})=>{const{cashIsOpen:s}=Dr(),{isAuthenticated:o,loading:i,hasPermission:c}=zn(),u=Ln();if(i)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!o)return e.jsx(Km,{to:"/login",replace:!0,state:{from:u}});if(n&&!(Array.isArray(n)?n:[n]).every(w=>c(w)))return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no possui as permisses necessrias."})]})});const h=u.pathname==="/financeiro",f=u.pathname==="/relatorios-mensais",v=!s&&!h&&!f;return e.jsxs(e.Fragment,{children:[e.jsx(aF,{open:v}),v?e.jsx(Km,{to:"/financeiro",replace:!0}):e.jsx(e.Fragment,{children:t})]})},cF=()=>e.jsx(lk,{client:oF,children:e.jsx(gR,{children:e.jsx(vR,{children:e.jsxs(AP,{children:[e.jsx(xE,{}),e.jsx(YE,{}),e.jsx(oR,{children:e.jsx(lF,{children:e.jsx(uF,{children:e.jsxs(Jk,{children:[e.jsx(on,{path:"/setup",element:e.jsx(sF,{})}),e.jsx(on,{path:"/login",element:e.jsx(Z3,{})}),e.jsx(on,{path:"/forgot-password",element:e.jsx(tF,{})}),e.jsx(on,{path:"/reset-password",element:e.jsx(nF,{})}),e.jsx(on,{path:"/",element:e.jsx(ir,{required:["openCloseCash"],children:e.jsx(J4,{})})}),e.jsx(on,{path:"/mensalistas",element:e.jsx(ir,{required:["manageMonthlyCustomers"],children:e.jsx(uO,{})})}),e.jsx(on,{path:"/convenios",element:e.jsx(ir,{required:["manageMonthlyCustomers"],children:e.jsx(bO,{})})}),e.jsx(on,{path:"/financeiro",element:e.jsx(ir,{required:["viewReports"],children:e.jsx(o3,{})})}),e.jsx(on,{path:"/relatorios-mensais",element:e.jsx(ir,{required:["viewReports"],children:e.jsx(i3,{})})}),e.jsx(on,{path:"/users",element:e.jsx(ir,{required:["manageUsers"],children:e.jsx(c3,{})})}),e.jsx(on,{path:"/tarifas",element:e.jsx(ir,{required:["manageRates"],children:e.jsx(H3,{})})}),e.jsx(on,{path:"/integracoes",element:e.jsx(ir,{children:e.jsx(W3,{})})}),e.jsx(on,{path:"/modelos-recibos",element:e.jsx(ir,{children:e.jsx(Y3,{})})}),e.jsx(on,{path:"/horarios-feriados",element:e.jsx(ir,{required:["manageCompanyConfig"],children:e.jsx(K3,{})})}),e.jsx(on,{path:"/configuracoes-dashboard",element:e.jsx(ir,{required:["viewReports"],children:e.jsx(Q3,{})})}),e.jsx(on,{path:"/configuracoes",element:e.jsx(ir,{children:e.jsx(O3,{})})}),e.jsx(on,{path:"*",element:e.jsx(J3,{})})]})})})})]})})})}),dF=()=>{const t=Ln();return t.pathname==="/login"||t.pathname==="/setup"||t.pathname==="/forgot-password"||t.pathname==="/reset-password"?null:e.jsx(VD,{})},uF=({children:t})=>{const n=Ln();return n.pathname==="/login"||n.pathname==="/setup"||n.pathname==="/forgot-password"||n.pathname==="/reset-password"?e.jsx(e.Fragment,{children:t}):e.jsxs("div",{className:"flex min-h-screen w-full",children:[e.jsx(dF,{}),t]})};vS.createRoot(document.getElementById("root")).render(e.jsx(cF,{}));
