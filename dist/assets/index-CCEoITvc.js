function WN(t,r){for(var s=0;s<r.length;s++){const o=r[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function Cg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cu={exports:{}},Bo={},du={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function qN(){if(Zp)return Qe;Zp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,N={};function w(T,I,$){this.props=T,this.context=I,this.refs=N,this.updater=$||j}w.prototype.isReactComponent={},w.prototype.setState=function(T,I){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,I,"setState")},w.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(T,I,$){this.props=T,this.context=I,this.refs=N,this.updater=$||j}var E=C.prototype=new S;E.constructor=C,P(E,w.prototype),E.isPureReactComponent=!0;var O=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function se(T,I,$){var oe,ce={},ee=null,J=null;if(I!=null)for(oe in I.ref!==void 0&&(J=I.ref),I.key!==void 0&&(ee=""+I.key),I)D.call(I,oe)&&!V.hasOwnProperty(oe)&&(ce[oe]=I[oe]);var M=arguments.length-2;if(M===1)ce.children=$;else if(1<M){for(var fe=Array(M),be=0;be<M;be++)fe[be]=arguments[be+2];ce.children=fe}if(T&&T.defaultProps)for(oe in M=T.defaultProps,M)ce[oe]===void 0&&(ce[oe]=M[oe]);return{$$typeof:t,type:T,key:ee,ref:J,props:ce,_owner:U.current}}function ue(T,I){return{$$typeof:t,type:T.type,key:I,ref:T.ref,props:T.props,_owner:T._owner}}function ie(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function te(T){var I={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function($){return I[$]})}var L=/\/+/g;function re(T,I){return typeof T=="object"&&T!==null&&T.key!=null?te(""+T.key):I.toString(36)}function Q(T,I,$,oe,ce){var ee=typeof T;(ee==="undefined"||ee==="boolean")&&(T=null);var J=!1;if(T===null)J=!0;else switch(ee){case"string":case"number":J=!0;break;case"object":switch(T.$$typeof){case t:case r:J=!0}}if(J)return J=T,ce=ce(J),T=oe===""?"."+re(J,0):oe,O(ce)?($="",T!=null&&($=T.replace(L,"$&/")+"/"),Q(ce,I,$,"",function(be){return be})):ce!=null&&(ie(ce)&&(ce=ue(ce,$+(!ce.key||J&&J.key===ce.key?"":(""+ce.key).replace(L,"$&/")+"/")+T)),I.push(ce)),1;if(J=0,oe=oe===""?".":oe+":",O(T))for(var M=0;M<T.length;M++){ee=T[M];var fe=oe+re(ee,M);J+=Q(ee,I,$,fe,ce)}else if(fe=b(T),typeof fe=="function")for(T=fe.call(T),M=0;!(ee=T.next()).done;)ee=ee.value,fe=oe+re(ee,M++),J+=Q(ee,I,$,fe,ce);else if(ee==="object")throw I=String(T),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return J}function F(T,I,$){if(T==null)return T;var oe=[],ce=0;return Q(T,oe,"","",function(ee){return I.call($,ee,ce++)}),oe}function G(T){if(T._status===-1){var I=T._result;I=I(),I.then(function($){(T._status===0||T._status===-1)&&(T._status=1,T._result=$)},function($){(T._status===0||T._status===-1)&&(T._status=2,T._result=$)}),T._status===-1&&(T._status=0,T._result=I)}if(T._status===1)return T._result.default;throw T._result}var Y={current:null},R={transition:null},A={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:R,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:F,forEach:function(T,I,$){F(T,function(){I.apply(this,arguments)},$)},count:function(T){var I=0;return F(T,function(){I++}),I},toArray:function(T){return F(T,function(I){return I})||[]},only:function(T){if(!ie(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Qe.Component=w,Qe.Fragment=s,Qe.Profiler=l,Qe.PureComponent=C,Qe.StrictMode=o,Qe.Suspense=p,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,Qe.act=W,Qe.cloneElement=function(T,I,$){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var oe=P({},T.props),ce=T.key,ee=T.ref,J=T._owner;if(I!=null){if(I.ref!==void 0&&(ee=I.ref,J=U.current),I.key!==void 0&&(ce=""+I.key),T.type&&T.type.defaultProps)var M=T.type.defaultProps;for(fe in I)D.call(I,fe)&&!V.hasOwnProperty(fe)&&(oe[fe]=I[fe]===void 0&&M!==void 0?M[fe]:I[fe])}var fe=arguments.length-2;if(fe===1)oe.children=$;else if(1<fe){M=Array(fe);for(var be=0;be<fe;be++)M[be]=arguments[be+2];oe.children=M}return{$$typeof:t,type:T.type,key:ce,ref:ee,props:oe,_owner:J}},Qe.createContext=function(T){return T={$$typeof:m,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},Qe.createElement=se,Qe.createFactory=function(T){var I=se.bind(null,T);return I.type=T,I},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(T){return{$$typeof:f,render:T}},Qe.isValidElement=ie,Qe.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:G}},Qe.memo=function(T,I){return{$$typeof:g,type:T,compare:I===void 0?null:I}},Qe.startTransition=function(T){var I=R.transition;R.transition={};try{T()}finally{R.transition=I}},Qe.unstable_act=W,Qe.useCallback=function(T,I){return Y.current.useCallback(T,I)},Qe.useContext=function(T){return Y.current.useContext(T)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(T){return Y.current.useDeferredValue(T)},Qe.useEffect=function(T,I){return Y.current.useEffect(T,I)},Qe.useId=function(){return Y.current.useId()},Qe.useImperativeHandle=function(T,I,$){return Y.current.useImperativeHandle(T,I,$)},Qe.useInsertionEffect=function(T,I){return Y.current.useInsertionEffect(T,I)},Qe.useLayoutEffect=function(T,I){return Y.current.useLayoutEffect(T,I)},Qe.useMemo=function(T,I){return Y.current.useMemo(T,I)},Qe.useReducer=function(T,I,$){return Y.current.useReducer(T,I,$)},Qe.useRef=function(T){return Y.current.useRef(T)},Qe.useState=function(T){return Y.current.useState(T)},Qe.useSyncExternalStore=function(T,I,$){return Y.current.useSyncExternalStore(T,I,$)},Qe.useTransition=function(){return Y.current.useTransition()},Qe.version="18.3.1",Qe}var ex;function gm(){return ex||(ex=1,du.exports=qN()),du.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function GN(){if(tx)return Bo;tx=1;var t=gm(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function m(f,p,g){var v,x={},b=null,j=null;g!==void 0&&(b=""+g),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(j=p.ref);for(v in p)o.call(p,v)&&!c.hasOwnProperty(v)&&(x[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)x[v]===void 0&&(x[v]=p[v]);return{$$typeof:r,type:f,key:b,ref:j,props:x,_owner:l.current}}return Bo.Fragment=s,Bo.jsx=m,Bo.jsxs=m,Bo}var nx;function KN(){return nx||(nx=1,cu.exports=GN()),cu.exports}var e=KN(),yl={},uu={exports:{}},vn={},mu={exports:{}},fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function YN(){return rx||(rx=1,(function(t){function r(R,A){var W=R.length;R.push(A);e:for(;0<W;){var T=W-1>>>1,I=R[T];if(0<l(I,A))R[T]=A,R[W]=I,W=T;else break e}}function s(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var A=R[0],W=R.pop();if(W!==A){R[0]=W;e:for(var T=0,I=R.length,$=I>>>1;T<$;){var oe=2*(T+1)-1,ce=R[oe],ee=oe+1,J=R[ee];if(0>l(ce,W))ee<I&&0>l(J,ce)?(R[T]=J,R[ee]=W,T=ee):(R[T]=ce,R[oe]=W,T=oe);else if(ee<I&&0>l(J,W))R[T]=J,R[ee]=W,T=ee;else break e}}return A}function l(R,A){var W=R.sortIndex-A.sortIndex;return W!==0?W:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var m=Date,f=m.now();t.unstable_now=function(){return m.now()-f}}var p=[],g=[],v=1,x=null,b=3,j=!1,P=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var A=s(g);A!==null;){if(A.callback===null)o(g);else if(A.startTime<=R)o(g),A.sortIndex=A.expirationTime,r(p,A);else break;A=s(g)}}function O(R){if(N=!1,E(R),!P)if(s(p)!==null)P=!0,G(D);else{var A=s(g);A!==null&&Y(O,A.startTime-R)}}function D(R,A){P=!1,N&&(N=!1,S(se),se=-1),j=!0;var W=b;try{for(E(A),x=s(p);x!==null&&(!(x.expirationTime>A)||R&&!te());){var T=x.callback;if(typeof T=="function"){x.callback=null,b=x.priorityLevel;var I=T(x.expirationTime<=A);A=t.unstable_now(),typeof I=="function"?x.callback=I:x===s(p)&&o(p),E(A)}else o(p);x=s(p)}if(x!==null)var $=!0;else{var oe=s(g);oe!==null&&Y(O,oe.startTime-A),$=!1}return $}finally{x=null,b=W,j=!1}}var U=!1,V=null,se=-1,ue=5,ie=-1;function te(){return!(t.unstable_now()-ie<ue)}function L(){if(V!==null){var R=t.unstable_now();ie=R;var A=!0;try{A=V(!0,R)}finally{A?re():(U=!1,V=null)}}else U=!1}var re;if(typeof C=="function")re=function(){C(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,F=Q.port2;Q.port1.onmessage=L,re=function(){F.postMessage(null)}}else re=function(){w(L,0)};function G(R){V=R,U||(U=!0,re())}function Y(R,A){se=w(function(){R(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){P||j||(P=!0,G(D))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return s(p)},t.unstable_next=function(R){switch(b){case 1:case 2:case 3:var A=3;break;default:A=b}var W=b;b=A;try{return R()}finally{b=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=b;b=R;try{return A()}finally{b=W}},t.unstable_scheduleCallback=function(R,A,W){var T=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?T+W:T):W=T,R){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=W+I,R={id:v++,callback:A,priorityLevel:R,startTime:W,expirationTime:I,sortIndex:-1},W>T?(R.sortIndex=W,r(g,R),s(p)===null&&R===s(g)&&(N?(S(se),se=-1):N=!0,Y(O,W-T))):(R.sortIndex=I,r(p,R),P||j||(P=!0,G(D))),R},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(R){var A=b;return function(){var W=b;b=A;try{return R.apply(this,arguments)}finally{b=W}}}})(fu)),fu}var sx;function QN(){return sx||(sx=1,mu.exports=YN()),mu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function JN(){if(ax)return vn;ax=1;var t=gm(),r=QN();function s(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(n,a){m(n,a),m(n+"Capture",a)}function m(n,a){for(l[n]=a,n=0;n<a.length;n++)o.add(a[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function b(n){return p.call(x,n)?!0:p.call(v,n)?!1:g.test(n)?x[n]=!0:(v[n]=!0,!1)}function j(n,a,i,d){if(i!==null&&i.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,a,i,d){if(a===null||typeof a>"u"||j(n,a,i,d))return!0;if(d)return!1;if(i!==null)switch(i.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(n,a,i,d,h,y,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=n,this.type=a,this.sanitizeURL=y,this.removeEmptyString=k}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){w[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];w[a]=new N(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){w[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){w[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){w[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){w[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){w[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){w[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){w[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(S,C);w[a]=new N(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(S,C);w[a]=new N(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(S,C);w[a]=new N(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){w[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),w.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){w[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function E(n,a,i,d){var h=w.hasOwnProperty(a)?w[a]:null;(h!==null?h.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,i,h,d)&&(i=null),d||h===null?b(a)&&(i===null?n.removeAttribute(a):n.setAttribute(a,""+i)):h.mustUseProperty?n[h.propertyName]=i===null?h.type===3?!1:"":i:(a=h.attributeName,d=h.attributeNamespace,i===null?n.removeAttribute(a):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,d?n.setAttributeNS(d,a,i):n.setAttribute(a,i))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),te=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),R=Symbol.iterator;function A(n){return n===null||typeof n!="object"?null:(n=R&&n[R]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,T;function I(n){if(T===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);T=a&&a[1]||""}return`
`+T+n}var $=!1;function oe(n,a){if(!n||$)return"";$=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var d=ne}Reflect.construct(n,[],a)}else{try{a.call()}catch(ne){d=ne}n.call(a.prototype)}else{try{throw Error()}catch(ne){d=ne}n()}}catch(ne){if(ne&&d&&typeof ne.stack=="string"){for(var h=ne.stack.split(`
`),y=d.stack.split(`
`),k=h.length-1,_=y.length-1;1<=k&&0<=_&&h[k]!==y[_];)_--;for(;1<=k&&0<=_;k--,_--)if(h[k]!==y[_]){if(k!==1||_!==1)do if(k--,_--,0>_||h[k]!==y[_]){var z=`
`+h[k].replace(" at new "," at ");return n.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",n.displayName)),z}while(1<=k&&0<=_);break}}}finally{$=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?I(n):""}function ce(n){switch(n.tag){case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function ee(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case U:return"Portal";case ue:return"Profiler";case se:return"StrictMode";case re:return"Suspense";case Q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case ie:return(n._context.displayName||"Context")+".Provider";case L:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return a=n.displayName||null,a!==null?a:ee(n.type)||"Memo";case G:a=n._payload,n=n._init;try{return ee(n(a))}catch{}}return null}function J(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(a);case 8:return a===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function M(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fe(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function be(n){var a=fe(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),d=""+n[a];if(!n.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,y=i.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return h.call(this)},set:function(k){d=""+k,y.call(this,k)}}),Object.defineProperty(n,a,{enumerable:i.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function ke(n){n._valueTracker||(n._valueTracker=be(n))}function pe(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var i=a.getValue(),d="";return n&&(d=fe(n)?n.checked?"true":"false":n.value),n=d,n!==i?(a.setValue(n),!0):!1}function Fe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function He(n,a){var i=a.checked;return W({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function kt(n,a){var i=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;i=M(a.value!=null?a.value:i),n._wrapperState={initialChecked:d,initialValue:i,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ke(n,a){a=a.checked,a!=null&&E(n,"checked",a,!1)}function de(n,a){Ke(n,a);var i=M(a.value),d=a.type;if(i!=null)d==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?q(n,a.type,i):a.hasOwnProperty("defaultValue")&&q(n,a.type,M(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function _e(n,a,i){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,i||a===n.value||(n.value=a),n.defaultValue=a}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function q(n,a,i){(a!=="number"||Fe(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var me=Array.isArray;function xe(n,a,i,d){if(n=n.options,a){a={};for(var h=0;h<i.length;h++)a["$"+i[h]]=!0;for(i=0;i<n.length;i++)h=a.hasOwnProperty("$"+n[i].value),n[i].selected!==h&&(n[i].selected=h),h&&d&&(n[i].defaultSelected=!0)}else{for(i=""+M(i),a=null,h=0;h<n.length;h++){if(n[h].value===i){n[h].selected=!0,d&&(n[h].defaultSelected=!0);return}a!==null||n[h].disabled||(a=n[h])}a!==null&&(a.selected=!0)}}function Ve(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function We(n,a){var i=a.value;if(i==null){if(i=a.children,a=a.defaultValue,i!=null){if(a!=null)throw Error(s(92));if(me(i)){if(1<i.length)throw Error(s(93));i=i[0]}a=i}a==null&&(a=""),i=a}n._wrapperState={initialValue:M(i)}}function rt(n,a){var i=M(a.value),d=M(a.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),a.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),d!=null&&(n.defaultValue=""+d)}function Pt(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function it(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?it(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var lt,Gn=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,i,d,h){MSApp.execUnsafeLocalFunction(function(){return n(a,i,d,h)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=lt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function On(n,a){if(a){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=a;return}}n.textContent=a}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oa=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(n){oa.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),Tr[a]=Tr[n]})});function Gr(n,a,i){return a==null||typeof a=="boolean"||a===""?"":i||typeof a!="number"||a===0||Tr.hasOwnProperty(n)&&Tr[n]?(""+a).trim():a+"px"}function Kn(n,a){n=n.style;for(var i in a)if(a.hasOwnProperty(i)){var d=i.indexOf("--")===0,h=Gr(i,a[i],d);i==="float"&&(i="cssFloat"),d?n.setProperty(i,h):n[i]=h}}var ia=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(n,a){if(a){if(ia[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function Kr(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function Yr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qr=null,In=null,Fn=null;function Nn(n){if(n=To(n)){if(typeof Qr!="function")throw Error(s(280));var a=n.stateNode;a&&(a=_i(a),Qr(n.stateNode,n.type,a))}}function ae(n){In?Fn?Fn.push(n):Fn=[n]:In=n}function ge(){if(In){var n=In,a=Fn;if(Fn=In=null,Nn(n),a)for(n=0;n<a.length;n++)Nn(a[n])}}function Re(n,a){return n(a)}function qe(){}var gt=!1;function At(n,a,i){if(gt)return n(a,i);gt=!0;try{return Re(n,a,i)}finally{gt=!1,(In!==null||Fn!==null)&&(qe(),ge())}}function vt(n,a){var i=n.stateNode;if(i===null)return null;var d=_i(i);if(d===null)return null;i=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(s(231,a,typeof i));return i}var Ht=!1;if(f)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Ht=!1}function Xt(n,a,i,d,h,y,k,_,z){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(i,ne)}catch(ve){this.onError(ve)}}var Yn=!1,Os=null,la=!1,kc=null,Xj={onError:function(n){Yn=!0,Os=n}};function Zj(n,a,i,d,h,y,k,_,z){Yn=!1,Os=null,Xt.apply(Xj,arguments)}function eb(n,a,i,d,h,y,k,_,z){if(Zj.apply(this,arguments),Yn){if(Yn){var ne=Os;Yn=!1,Os=null}else throw Error(s(198));la||(la=!0,kc=ne)}}function Is(n){var a=n,i=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(i=a.return),n=a.return;while(n)}return a.tag===3?i:null}function bf(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function Nf(n){if(Is(n)!==n)throw Error(s(188))}function tb(n){var a=n.alternate;if(!a){if(a=Is(n),a===null)throw Error(s(188));return a!==n?null:n}for(var i=n,d=a;;){var h=i.return;if(h===null)break;var y=h.alternate;if(y===null){if(d=h.return,d!==null){i=d;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===i)return Nf(h),n;if(y===d)return Nf(h),a;y=y.sibling}throw Error(s(188))}if(i.return!==d.return)i=h,d=y;else{for(var k=!1,_=h.child;_;){if(_===i){k=!0,i=h,d=y;break}if(_===d){k=!0,d=h,i=y;break}_=_.sibling}if(!k){for(_=y.child;_;){if(_===i){k=!0,i=y,d=h;break}if(_===d){k=!0,d=y,i=h;break}_=_.sibling}if(!k)throw Error(s(189))}}if(i.alternate!==d)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?n:a}function Cf(n){return n=tb(n),n!==null?Sf(n):null}function Sf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=Sf(n);if(a!==null)return a;n=n.sibling}return null}var Ef=r.unstable_scheduleCallback,Tf=r.unstable_cancelCallback,nb=r.unstable_shouldYield,rb=r.unstable_requestPaint,Ft=r.unstable_now,sb=r.unstable_getCurrentPriorityLevel,Pc=r.unstable_ImmediatePriority,kf=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,ab=r.unstable_LowPriority,Pf=r.unstable_IdlePriority,pi=null,fr=null;function ob(n){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(pi,n,void 0,(n.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:cb,ib=Math.log,lb=Math.LN2;function cb(n){return n>>>=0,n===0?32:31-(ib(n)/lb|0)|0}var xi=64,gi=4194304;function lo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vi(n,a){var i=n.pendingLanes;if(i===0)return 0;var d=0,h=n.suspendedLanes,y=n.pingedLanes,k=i&268435455;if(k!==0){var _=k&~h;_!==0?d=lo(_):(y&=k,y!==0&&(d=lo(y)))}else k=i&~h,k!==0?d=lo(k):y!==0&&(d=lo(y));if(d===0)return 0;if(a!==0&&a!==d&&(a&h)===0&&(h=d&-d,y=a&-a,h>=y||h===16&&(y&4194240)!==0))return a;if((d&4)!==0&&(d|=i&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=d;0<a;)i=31-Qn(a),h=1<<i,d|=n[i],a&=~h;return d}function db(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ub(n,a){for(var i=n.suspendedLanes,d=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes;0<y;){var k=31-Qn(y),_=1<<k,z=h[k];z===-1?((_&i)===0||(_&d)!==0)&&(h[k]=db(_,a)):z<=a&&(n.expiredLanes|=_),y&=~_}}function Rc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Rf(){var n=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),n}function Mc(n){for(var a=[],i=0;31>i;i++)a.push(n);return a}function co(n,a,i){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-Qn(a),n[a]=i}function mb(n,a){var i=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<i;){var h=31-Qn(i),y=1<<h;a[h]=0,d[h]=-1,n[h]=-1,i&=~y}}function Dc(n,a){var i=n.entangledLanes|=a;for(n=n.entanglements;i;){var d=31-Qn(i),h=1<<d;h&a|n[d]&a&&(n[d]|=a),i&=~h}}var ut=0;function Mf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Df,Ac,Af,_f,Of,_c=!1,yi=[],Jr=null,Xr=null,Zr=null,uo=new Map,mo=new Map,es=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function If(n,a){switch(n){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":uo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(a.pointerId)}}function fo(n,a,i,d,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:a,domEventName:i,eventSystemFlags:d,nativeEvent:y,targetContainers:[h]},a!==null&&(a=To(a),a!==null&&Ac(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),n)}function hb(n,a,i,d,h){switch(a){case"focusin":return Jr=fo(Jr,n,a,i,d,h),!0;case"dragenter":return Xr=fo(Xr,n,a,i,d,h),!0;case"mouseover":return Zr=fo(Zr,n,a,i,d,h),!0;case"pointerover":var y=h.pointerId;return uo.set(y,fo(uo.get(y)||null,n,a,i,d,h)),!0;case"gotpointercapture":return y=h.pointerId,mo.set(y,fo(mo.get(y)||null,n,a,i,d,h)),!0}return!1}function Ff(n){var a=Fs(n.target);if(a!==null){var i=Is(a);if(i!==null){if(a=i.tag,a===13){if(a=bf(i),a!==null){n.blockedOn=a,Of(n.priority,function(){Af(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wi(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var i=Ic(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var d=new i.constructor(i.type,i);_s=d,i.target.dispatchEvent(d),_s=null}else return a=To(i),a!==null&&Ac(a),n.blockedOn=i,!1;a.shift()}return!0}function $f(n,a,i){wi(n)&&i.delete(a)}function pb(){_c=!1,Jr!==null&&wi(Jr)&&(Jr=null),Xr!==null&&wi(Xr)&&(Xr=null),Zr!==null&&wi(Zr)&&(Zr=null),uo.forEach($f),mo.forEach($f)}function ho(n,a){n.blockedOn===a&&(n.blockedOn=null,_c||(_c=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pb)))}function po(n){function a(h){return ho(h,n)}if(0<yi.length){ho(yi[0],n);for(var i=1;i<yi.length;i++){var d=yi[i];d.blockedOn===n&&(d.blockedOn=null)}}for(Jr!==null&&ho(Jr,n),Xr!==null&&ho(Xr,n),Zr!==null&&ho(Zr,n),uo.forEach(a),mo.forEach(a),i=0;i<es.length;i++)d=es[i],d.blockedOn===n&&(d.blockedOn=null);for(;0<es.length&&(i=es[0],i.blockedOn===null);)Ff(i),i.blockedOn===null&&es.shift()}var ca=O.ReactCurrentBatchConfig,ji=!0;function xb(n,a,i,d){var h=ut,y=ca.transition;ca.transition=null;try{ut=1,Oc(n,a,i,d)}finally{ut=h,ca.transition=y}}function gb(n,a,i,d){var h=ut,y=ca.transition;ca.transition=null;try{ut=4,Oc(n,a,i,d)}finally{ut=h,ca.transition=y}}function Oc(n,a,i,d){if(ji){var h=Ic(n,a,i,d);if(h===null)Zc(n,a,d,bi,i),If(n,d);else if(hb(h,n,a,i,d))d.stopPropagation();else if(If(n,d),a&4&&-1<fb.indexOf(n)){for(;h!==null;){var y=To(h);if(y!==null&&Df(y),y=Ic(n,a,i,d),y===null&&Zc(n,a,d,bi,i),y===h)break;h=y}h!==null&&d.stopPropagation()}else Zc(n,a,d,null,i)}}var bi=null;function Ic(n,a,i,d){if(bi=null,n=Yr(d),n=Fs(n),n!==null)if(a=Is(n),a===null)n=null;else if(i=a.tag,i===13){if(n=bf(a),n!==null)return n;n=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return bi=n,null}function Lf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sb()){case Pc:return 1;case kf:return 4;case hi:case ab:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var ts=null,Fc=null,Ni=null;function zf(){if(Ni)return Ni;var n,a=Fc,i=a.length,d,h="value"in ts?ts.value:ts.textContent,y=h.length;for(n=0;n<i&&a[n]===h[n];n++);var k=i-n;for(d=1;d<=k&&a[i-d]===h[y-d];d++);return Ni=h.slice(n,1<d?1-d:void 0)}function Ci(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Si(){return!0}function Vf(){return!1}function Cn(n){function a(i,d,h,y,k){this._reactName=i,this._targetInst=h,this.type=d,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(i=n[_],this[_]=i?i(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Si:Vf,this.isPropagationStopped=Vf,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),a}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Cn(da),xo=W({},da,{view:0,detail:0}),vb=Cn(xo),Lc,zc,go,Ei=W({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==go&&(go&&n.type==="mousemove"?(Lc=n.screenX-go.screenX,zc=n.screenY-go.screenY):zc=Lc=0,go=n),Lc)},movementY:function(n){return"movementY"in n?n.movementY:zc}}),Bf=Cn(Ei),yb=W({},Ei,{dataTransfer:0}),wb=Cn(yb),jb=W({},xo,{relatedTarget:0}),Vc=Cn(jb),bb=W({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),Nb=Cn(bb),Cb=W({},da,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sb=Cn(Cb),Eb=W({},da,{data:0}),Uf=Cn(Eb),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rb(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Pb[n])?!!a[n]:!1}function Bc(){return Rb}var Mb=W({},xo,{key:function(n){if(n.key){var a=Tb[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(n){return n.type==="keypress"?Ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Db=Cn(Mb),Ab=W({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=Cn(Ab),_b=W({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Ob=Cn(_b),Ib=W({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fb=Cn(Ib),$b=W({},Ei,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Lb=Cn($b),zb=[9,13,27,32],Uc=f&&"CompositionEvent"in window,vo=null;f&&"documentMode"in document&&(vo=document.documentMode);var Vb=f&&"TextEvent"in window&&!vo,Wf=f&&(!Uc||vo&&8<vo&&11>=vo),qf=" ",Gf=!1;function Kf(n,a){switch(n){case"keyup":return zb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ua=!1;function Bb(n,a){switch(n){case"compositionend":return Yf(a);case"keypress":return a.which!==32?null:(Gf=!0,qf);case"textInput":return n=a.data,n===qf&&Gf?null:n;default:return null}}function Ub(n,a){if(ua)return n==="compositionend"||!Uc&&Kf(n,a)?(n=zf(),Ni=Fc=ts=null,ua=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wf&&a.locale!=="ko"?null:a.data;default:return null}}var Hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Hb[n.type]:a==="textarea"}function Jf(n,a,i,d){ae(d),a=Mi(a,"onChange"),0<a.length&&(i=new $c("onChange","change",null,i,d),n.push({event:i,listeners:a}))}var yo=null,wo=null;function Wb(n){ph(n,0)}function Ti(n){var a=xa(n);if(pe(a))return n}function qb(n,a){if(n==="change")return a}var Xf=!1;if(f){var Hc;if(f){var Wc="oninput"in document;if(!Wc){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Wc=typeof Zf.oninput=="function"}Hc=Wc}else Hc=!1;Xf=Hc&&(!document.documentMode||9<document.documentMode)}function eh(){yo&&(yo.detachEvent("onpropertychange",th),wo=yo=null)}function th(n){if(n.propertyName==="value"&&Ti(wo)){var a=[];Jf(a,wo,n,Yr(n)),At(Wb,a)}}function Gb(n,a,i){n==="focusin"?(eh(),yo=a,wo=i,yo.attachEvent("onpropertychange",th)):n==="focusout"&&eh()}function Kb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ti(wo)}function Yb(n,a){if(n==="click")return Ti(a)}function Qb(n,a){if(n==="input"||n==="change")return Ti(a)}function Jb(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Jn=typeof Object.is=="function"?Object.is:Jb;function jo(n,a){if(Jn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var i=Object.keys(n),d=Object.keys(a);if(i.length!==d.length)return!1;for(d=0;d<i.length;d++){var h=i[d];if(!p.call(a,h)||!Jn(n[h],a[h]))return!1}return!0}function nh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rh(n,a){var i=nh(n);n=0;for(var d;i;){if(i.nodeType===3){if(d=n+i.textContent.length,n<=a&&d>=a)return{node:i,offset:a-n};n=d}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nh(i)}}function sh(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?sh(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function ah(){for(var n=window,a=Fe();a instanceof n.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)n=a.contentWindow;else break;a=Fe(n.document)}return a}function qc(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function Xb(n){var a=ah(),i=n.focusedElem,d=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&sh(i.ownerDocument.documentElement,i)){if(d!==null&&qc(i)){if(a=d.start,n=d.end,n===void 0&&(n=a),"selectionStart"in i)i.selectionStart=a,i.selectionEnd=Math.min(n,i.value.length);else if(n=(a=i.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var h=i.textContent.length,y=Math.min(d.start,h);d=d.end===void 0?y:Math.min(d.end,h),!n.extend&&y>d&&(h=d,d=y,y=h),h=rh(i,y);var k=rh(i,d);h&&k&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==k.node||n.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(h.node,h.offset),n.removeAllRanges(),y>d?(n.addRange(a),n.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),n.addRange(a)))}}for(a=[],n=i;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<a.length;i++)n=a[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zb=f&&"documentMode"in document&&11>=document.documentMode,ma=null,Gc=null,bo=null,Kc=!1;function oh(n,a,i){var d=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Kc||ma==null||ma!==Fe(d)||(d=ma,"selectionStart"in d&&qc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),bo&&jo(bo,d)||(bo=d,d=Mi(Gc,"onSelect"),0<d.length&&(a=new $c("onSelect","select",null,a,i),n.push({event:a,listeners:d}),a.target=ma)))}function ki(n,a){var i={};return i[n.toLowerCase()]=a.toLowerCase(),i["Webkit"+n]="webkit"+a,i["Moz"+n]="moz"+a,i}var fa={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Yc={},ih={};f&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Pi(n){if(Yc[n])return Yc[n];if(!fa[n])return n;var a=fa[n],i;for(i in a)if(a.hasOwnProperty(i)&&i in ih)return Yc[n]=a[i];return n}var lh=Pi("animationend"),ch=Pi("animationiteration"),dh=Pi("animationstart"),uh=Pi("transitionend"),mh=new Map,fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(n,a){mh.set(n,a),c(a,[n])}for(var Qc=0;Qc<fh.length;Qc++){var Jc=fh[Qc],eN=Jc.toLowerCase(),tN=Jc[0].toUpperCase()+Jc.slice(1);ns(eN,"on"+tN)}ns(lh,"onAnimationEnd"),ns(ch,"onAnimationIteration"),ns(dh,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(uh,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nN=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function hh(n,a,i){var d=n.type||"unknown-event";n.currentTarget=i,eb(d,a,void 0,n),n.currentTarget=null}function ph(n,a){a=(a&4)!==0;for(var i=0;i<n.length;i++){var d=n[i],h=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var k=d.length-1;0<=k;k--){var _=d[k],z=_.instance,ne=_.currentTarget;if(_=_.listener,z!==y&&h.isPropagationStopped())break e;hh(h,_,ne),y=z}else for(k=0;k<d.length;k++){if(_=d[k],z=_.instance,ne=_.currentTarget,_=_.listener,z!==y&&h.isPropagationStopped())break e;hh(h,_,ne),y=z}}}if(la)throw n=kc,la=!1,kc=null,n}function Nt(n,a){var i=a[ad];i===void 0&&(i=a[ad]=new Set);var d=n+"__bubble";i.has(d)||(xh(a,n,2,!1),i.add(d))}function Xc(n,a,i){var d=0;a&&(d|=4),xh(i,n,d,a)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Co(n){if(!n[Ri]){n[Ri]=!0,o.forEach(function(i){i!=="selectionchange"&&(nN.has(i)||Xc(i,!1,n),Xc(i,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Ri]||(a[Ri]=!0,Xc("selectionchange",!1,a))}}function xh(n,a,i,d){switch(Lf(a)){case 1:var h=xb;break;case 4:h=gb;break;default:h=Oc}i=h.bind(null,a,i,n),h=void 0,!Ht||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),d?h!==void 0?n.addEventListener(a,i,{capture:!0,passive:h}):n.addEventListener(a,i,!0):h!==void 0?n.addEventListener(a,i,{passive:h}):n.addEventListener(a,i,!1)}function Zc(n,a,i,d,h){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var _=d.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(k===4)for(k=d.return;k!==null;){var z=k.tag;if((z===3||z===4)&&(z=k.stateNode.containerInfo,z===h||z.nodeType===8&&z.parentNode===h))return;k=k.return}for(;_!==null;){if(k=Fs(_),k===null)return;if(z=k.tag,z===5||z===6){d=y=k;continue e}_=_.parentNode}}d=d.return}At(function(){var ne=y,ve=Yr(i),ye=[];e:{var he=mh.get(n);if(he!==void 0){var Ee=$c,Me=n;switch(n){case"keypress":if(Ci(i)===0)break e;case"keydown":case"keyup":Ee=Db;break;case"focusin":Me="focus",Ee=Vc;break;case"focusout":Me="blur",Ee=Vc;break;case"beforeblur":case"afterblur":Ee=Vc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Ob;break;case lh:case ch:case dh:Ee=Nb;break;case uh:Ee=Fb;break;case"scroll":Ee=vb;break;case"wheel":Ee=Lb;break;case"copy":case"cut":case"paste":Ee=Sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Hf}var De=(a&4)!==0,$t=!De&&n==="scroll",X=De?he!==null?he+"Capture":null:he;De=[];for(var B=ne,Z;B!==null;){Z=B;var je=Z.stateNode;if(Z.tag===5&&je!==null&&(Z=je,X!==null&&(je=vt(B,X),je!=null&&De.push(So(B,je,Z)))),$t)break;B=B.return}0<De.length&&(he=new Ee(he,Me,null,i,ve),ye.push({event:he,listeners:De}))}}if((a&7)===0){e:{if(he=n==="mouseover"||n==="pointerover",Ee=n==="mouseout"||n==="pointerout",he&&i!==_s&&(Me=i.relatedTarget||i.fromElement)&&(Fs(Me)||Me[kr]))break e;if((Ee||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,Ee?(Me=i.relatedTarget||i.toElement,Ee=ne,Me=Me?Fs(Me):null,Me!==null&&($t=Is(Me),Me!==$t||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ee=null,Me=ne),Ee!==Me)){if(De=Bf,je="onMouseLeave",X="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(De=Hf,je="onPointerLeave",X="onPointerEnter",B="pointer"),$t=Ee==null?he:xa(Ee),Z=Me==null?he:xa(Me),he=new De(je,B+"leave",Ee,i,ve),he.target=$t,he.relatedTarget=Z,je=null,Fs(ve)===ne&&(De=new De(X,B+"enter",Me,i,ve),De.target=Z,De.relatedTarget=$t,je=De),$t=je,Ee&&Me)t:{for(De=Ee,X=Me,B=0,Z=De;Z;Z=ha(Z))B++;for(Z=0,je=X;je;je=ha(je))Z++;for(;0<B-Z;)De=ha(De),B--;for(;0<Z-B;)X=ha(X),Z--;for(;B--;){if(De===X||X!==null&&De===X.alternate)break t;De=ha(De),X=ha(X)}De=null}else De=null;Ee!==null&&gh(ye,he,Ee,De,!1),Me!==null&&$t!==null&&gh(ye,$t,Me,De,!0)}}e:{if(he=ne?xa(ne):window,Ee=he.nodeName&&he.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&he.type==="file")var Ae=qb;else if(Qf(he))if(Xf)Ae=Qb;else{Ae=Kb;var Le=Gb}else(Ee=he.nodeName)&&Ee.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ae=Yb);if(Ae&&(Ae=Ae(n,ne))){Jf(ye,Ae,i,ve);break e}Le&&Le(n,he,ne),n==="focusout"&&(Le=he._wrapperState)&&Le.controlled&&he.type==="number"&&q(he,"number",he.value)}switch(Le=ne?xa(ne):window,n){case"focusin":(Qf(Le)||Le.contentEditable==="true")&&(ma=Le,Gc=ne,bo=null);break;case"focusout":bo=Gc=ma=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,oh(ye,i,ve);break;case"selectionchange":if(Zb)break;case"keydown":case"keyup":oh(ye,i,ve)}var ze;if(Uc)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ua?Kf(n,i)&&(Ue="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Ue="onCompositionStart");Ue&&(Wf&&i.locale!=="ko"&&(ua||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ua&&(ze=zf()):(ts=ve,Fc="value"in ts?ts.value:ts.textContent,ua=!0)),Le=Mi(ne,Ue),0<Le.length&&(Ue=new Uf(Ue,n,null,i,ve),ye.push({event:Ue,listeners:Le}),ze?Ue.data=ze:(ze=Yf(i),ze!==null&&(Ue.data=ze)))),(ze=Vb?Bb(n,i):Ub(n,i))&&(ne=Mi(ne,"onBeforeInput"),0<ne.length&&(ve=new Uf("onBeforeInput","beforeinput",null,i,ve),ye.push({event:ve,listeners:ne}),ve.data=ze))}ph(ye,a)})}function So(n,a,i){return{instance:n,listener:a,currentTarget:i}}function Mi(n,a){for(var i=a+"Capture",d=[];n!==null;){var h=n,y=h.stateNode;h.tag===5&&y!==null&&(h=y,y=vt(n,i),y!=null&&d.unshift(So(n,y,h)),y=vt(n,a),y!=null&&d.push(So(n,y,h))),n=n.return}return d}function ha(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gh(n,a,i,d,h){for(var y=a._reactName,k=[];i!==null&&i!==d;){var _=i,z=_.alternate,ne=_.stateNode;if(z!==null&&z===d)break;_.tag===5&&ne!==null&&(_=ne,h?(z=vt(i,y),z!=null&&k.unshift(So(i,z,_))):h||(z=vt(i,y),z!=null&&k.push(So(i,z,_)))),i=i.return}k.length!==0&&n.push({event:a,listeners:k})}var rN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function vh(n){return(typeof n=="string"?n:""+n).replace(rN,`
`).replace(sN,"")}function Di(n,a,i){if(a=vh(a),vh(n)!==a&&i)throw Error(s(425))}function Ai(){}var ed=null,td=null;function nd(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,oN=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(n){return yh.resolve(null).then(n).catch(iN)}:rd;function iN(n){setTimeout(function(){throw n})}function sd(n,a){var i=a,d=0;do{var h=i.nextSibling;if(n.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(d===0){n.removeChild(h),po(a);return}d--}else i!=="$"&&i!=="$?"&&i!=="$!"||d++;i=h}while(i);po(a)}function rs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function wh(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return n;a--}else i==="/$"&&a++}n=n.previousSibling}return null}var pa=Math.random().toString(36).slice(2),hr="__reactFiber$"+pa,Eo="__reactProps$"+pa,kr="__reactContainer$"+pa,ad="__reactEvents$"+pa,lN="__reactListeners$"+pa,cN="__reactHandles$"+pa;function Fs(n){var a=n[hr];if(a)return a;for(var i=n.parentNode;i;){if(a=i[kr]||i[hr]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(n=wh(n);n!==null;){if(i=n[hr])return i;n=wh(n)}return a}n=i,i=n.parentNode}return null}function To(n){return n=n[hr]||n[kr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function _i(n){return n[Eo]||null}var od=[],ga=-1;function ss(n){return{current:n}}function Ct(n){0>ga||(n.current=od[ga],od[ga]=null,ga--)}function wt(n,a){ga++,od[ga]=n.current,n.current=a}var as={},Zt=ss(as),fn=ss(!1),$s=as;function va(n,a){var i=n.type.contextTypes;if(!i)return as;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var h={},y;for(y in i)h[y]=a[y];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=h),h}function hn(n){return n=n.childContextTypes,n!=null}function Oi(){Ct(fn),Ct(Zt)}function jh(n,a,i){if(Zt.current!==as)throw Error(s(168));wt(Zt,a),wt(fn,i)}function bh(n,a,i){var d=n.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return i;d=d.getChildContext();for(var h in d)if(!(h in a))throw Error(s(108,J(n)||"Unknown",h));return W({},i,d)}function Ii(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||as,$s=Zt.current,wt(Zt,n),wt(fn,fn.current),!0}function Nh(n,a,i){var d=n.stateNode;if(!d)throw Error(s(169));i?(n=bh(n,a,$s),d.__reactInternalMemoizedMergedChildContext=n,Ct(fn),Ct(Zt),wt(Zt,n)):Ct(fn),wt(fn,i)}var Pr=null,Fi=!1,id=!1;function Ch(n){Pr===null?Pr=[n]:Pr.push(n)}function dN(n){Fi=!0,Ch(n)}function os(){if(!id&&Pr!==null){id=!0;var n=0,a=ut;try{var i=Pr;for(ut=1;n<i.length;n++){var d=i[n];do d=d(!0);while(d!==null)}Pr=null,Fi=!1}catch(h){throw Pr!==null&&(Pr=Pr.slice(n+1)),Ef(Pc,os),h}finally{ut=a,id=!1}}return null}var ya=[],wa=0,$i=null,Li=0,$n=[],Ln=0,Ls=null,Rr=1,Mr="";function zs(n,a){ya[wa++]=Li,ya[wa++]=$i,$i=n,Li=a}function Sh(n,a,i){$n[Ln++]=Rr,$n[Ln++]=Mr,$n[Ln++]=Ls,Ls=n;var d=Rr;n=Mr;var h=32-Qn(d)-1;d&=~(1<<h),i+=1;var y=32-Qn(a)+h;if(30<y){var k=h-h%5;y=(d&(1<<k)-1).toString(32),d>>=k,h-=k,Rr=1<<32-Qn(a)+h|i<<h|d,Mr=y+n}else Rr=1<<y|i<<h|d,Mr=n}function ld(n){n.return!==null&&(zs(n,1),Sh(n,1,0))}function cd(n){for(;n===$i;)$i=ya[--wa],ya[wa]=null,Li=ya[--wa],ya[wa]=null;for(;n===Ls;)Ls=$n[--Ln],$n[Ln]=null,Mr=$n[--Ln],$n[Ln]=null,Rr=$n[--Ln],$n[Ln]=null}var Sn=null,En=null,Et=!1,Xn=null;function Eh(n,a){var i=Un(5,null,null,0);i.elementType="DELETED",i.stateNode=a,i.return=n,a=n.deletions,a===null?(n.deletions=[i],n.flags|=16):a.push(i)}function Th(n,a){switch(n.tag){case 5:var i=n.type;return a=a.nodeType!==1||i.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,Sn=n,En=rs(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,Sn=n,En=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(i=Ls!==null?{id:Rr,overflow:Mr}:null,n.memoizedState={dehydrated:a,treeContext:i,retryLane:1073741824},i=Un(18,null,null,0),i.stateNode=a,i.return=n,n.child=i,Sn=n,En=null,!0):!1;default:return!1}}function dd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ud(n){if(Et){var a=En;if(a){var i=a;if(!Th(n,a)){if(dd(n))throw Error(s(418));a=rs(i.nextSibling);var d=Sn;a&&Th(n,a)?Eh(d,i):(n.flags=n.flags&-4097|2,Et=!1,Sn=n)}}else{if(dd(n))throw Error(s(418));n.flags=n.flags&-4097|2,Et=!1,Sn=n}}}function kh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sn=n}function zi(n){if(n!==Sn)return!1;if(!Et)return kh(n),Et=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!nd(n.type,n.memoizedProps)),a&&(a=En)){if(dd(n))throw Ph(),Error(s(418));for(;a;)Eh(n,a),a=rs(a.nextSibling)}if(kh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(a===0){En=rs(n.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++}n=n.nextSibling}En=null}}else En=Sn?rs(n.stateNode.nextSibling):null;return!0}function Ph(){for(var n=En;n;)n=rs(n.nextSibling)}function ja(){En=Sn=null,Et=!1}function md(n){Xn===null?Xn=[n]:Xn.push(n)}var uN=O.ReactCurrentBatchConfig;function ko(n,a,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var d=i.stateNode}if(!d)throw Error(s(147,n));var h=d,y=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(k){var _=h.refs;k===null?delete _[y]:_[y]=k},a._stringRef=y,a)}if(typeof n!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,n))}return n}function Vi(n,a){throw n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Rh(n){var a=n._init;return a(n._payload)}function Mh(n){function a(X,B){if(n){var Z=X.deletions;Z===null?(X.deletions=[B],X.flags|=16):Z.push(B)}}function i(X,B){if(!n)return null;for(;B!==null;)a(X,B),B=B.sibling;return null}function d(X,B){for(X=new Map;B!==null;)B.key!==null?X.set(B.key,B):X.set(B.index,B),B=B.sibling;return X}function h(X,B){return X=hs(X,B),X.index=0,X.sibling=null,X}function y(X,B,Z){return X.index=Z,n?(Z=X.alternate,Z!==null?(Z=Z.index,Z<B?(X.flags|=2,B):Z):(X.flags|=2,B)):(X.flags|=1048576,B)}function k(X){return n&&X.alternate===null&&(X.flags|=2),X}function _(X,B,Z,je){return B===null||B.tag!==6?(B=ru(Z,X.mode,je),B.return=X,B):(B=h(B,Z),B.return=X,B)}function z(X,B,Z,je){var Ae=Z.type;return Ae===V?ve(X,B,Z.props.children,je,Z.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===G&&Rh(Ae)===B.type)?(je=h(B,Z.props),je.ref=ko(X,B,Z),je.return=X,je):(je=ul(Z.type,Z.key,Z.props,null,X.mode,je),je.ref=ko(X,B,Z),je.return=X,je)}function ne(X,B,Z,je){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=su(Z,X.mode,je),B.return=X,B):(B=h(B,Z.children||[]),B.return=X,B)}function ve(X,B,Z,je,Ae){return B===null||B.tag!==7?(B=Ks(Z,X.mode,je,Ae),B.return=X,B):(B=h(B,Z),B.return=X,B)}function ye(X,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ru(""+B,X.mode,Z),B.return=X,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return Z=ul(B.type,B.key,B.props,null,X.mode,Z),Z.ref=ko(X,null,B),Z.return=X,Z;case U:return B=su(B,X.mode,Z),B.return=X,B;case G:var je=B._init;return ye(X,je(B._payload),Z)}if(me(B)||A(B))return B=Ks(B,X.mode,Z,null),B.return=X,B;Vi(X,B)}return null}function he(X,B,Z,je){var Ae=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ae!==null?null:_(X,B,""+Z,je);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return Z.key===Ae?z(X,B,Z,je):null;case U:return Z.key===Ae?ne(X,B,Z,je):null;case G:return Ae=Z._init,he(X,B,Ae(Z._payload),je)}if(me(Z)||A(Z))return Ae!==null?null:ve(X,B,Z,je,null);Vi(X,Z)}return null}function Ee(X,B,Z,je,Ae){if(typeof je=="string"&&je!==""||typeof je=="number")return X=X.get(Z)||null,_(B,X,""+je,Ae);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case D:return X=X.get(je.key===null?Z:je.key)||null,z(B,X,je,Ae);case U:return X=X.get(je.key===null?Z:je.key)||null,ne(B,X,je,Ae);case G:var Le=je._init;return Ee(X,B,Z,Le(je._payload),Ae)}if(me(je)||A(je))return X=X.get(Z)||null,ve(B,X,je,Ae,null);Vi(B,je)}return null}function Me(X,B,Z,je){for(var Ae=null,Le=null,ze=B,Ue=B=0,Gt=null;ze!==null&&Ue<Z.length;Ue++){ze.index>Ue?(Gt=ze,ze=null):Gt=ze.sibling;var ot=he(X,ze,Z[Ue],je);if(ot===null){ze===null&&(ze=Gt);break}n&&ze&&ot.alternate===null&&a(X,ze),B=y(ot,B,Ue),Le===null?Ae=ot:Le.sibling=ot,Le=ot,ze=Gt}if(Ue===Z.length)return i(X,ze),Et&&zs(X,Ue),Ae;if(ze===null){for(;Ue<Z.length;Ue++)ze=ye(X,Z[Ue],je),ze!==null&&(B=y(ze,B,Ue),Le===null?Ae=ze:Le.sibling=ze,Le=ze);return Et&&zs(X,Ue),Ae}for(ze=d(X,ze);Ue<Z.length;Ue++)Gt=Ee(ze,X,Ue,Z[Ue],je),Gt!==null&&(n&&Gt.alternate!==null&&ze.delete(Gt.key===null?Ue:Gt.key),B=y(Gt,B,Ue),Le===null?Ae=Gt:Le.sibling=Gt,Le=Gt);return n&&ze.forEach(function(ps){return a(X,ps)}),Et&&zs(X,Ue),Ae}function De(X,B,Z,je){var Ae=A(Z);if(typeof Ae!="function")throw Error(s(150));if(Z=Ae.call(Z),Z==null)throw Error(s(151));for(var Le=Ae=null,ze=B,Ue=B=0,Gt=null,ot=Z.next();ze!==null&&!ot.done;Ue++,ot=Z.next()){ze.index>Ue?(Gt=ze,ze=null):Gt=ze.sibling;var ps=he(X,ze,ot.value,je);if(ps===null){ze===null&&(ze=Gt);break}n&&ze&&ps.alternate===null&&a(X,ze),B=y(ps,B,Ue),Le===null?Ae=ps:Le.sibling=ps,Le=ps,ze=Gt}if(ot.done)return i(X,ze),Et&&zs(X,Ue),Ae;if(ze===null){for(;!ot.done;Ue++,ot=Z.next())ot=ye(X,ot.value,je),ot!==null&&(B=y(ot,B,Ue),Le===null?Ae=ot:Le.sibling=ot,Le=ot);return Et&&zs(X,Ue),Ae}for(ze=d(X,ze);!ot.done;Ue++,ot=Z.next())ot=Ee(ze,X,Ue,ot.value,je),ot!==null&&(n&&ot.alternate!==null&&ze.delete(ot.key===null?Ue:ot.key),B=y(ot,B,Ue),Le===null?Ae=ot:Le.sibling=ot,Le=ot);return n&&ze.forEach(function(HN){return a(X,HN)}),Et&&zs(X,Ue),Ae}function $t(X,B,Z,je){if(typeof Z=="object"&&Z!==null&&Z.type===V&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:e:{for(var Ae=Z.key,Le=B;Le!==null;){if(Le.key===Ae){if(Ae=Z.type,Ae===V){if(Le.tag===7){i(X,Le.sibling),B=h(Le,Z.props.children),B.return=X,X=B;break e}}else if(Le.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===G&&Rh(Ae)===Le.type){i(X,Le.sibling),B=h(Le,Z.props),B.ref=ko(X,Le,Z),B.return=X,X=B;break e}i(X,Le);break}else a(X,Le);Le=Le.sibling}Z.type===V?(B=Ks(Z.props.children,X.mode,je,Z.key),B.return=X,X=B):(je=ul(Z.type,Z.key,Z.props,null,X.mode,je),je.ref=ko(X,B,Z),je.return=X,X=je)}return k(X);case U:e:{for(Le=Z.key;B!==null;){if(B.key===Le)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){i(X,B.sibling),B=h(B,Z.children||[]),B.return=X,X=B;break e}else{i(X,B);break}else a(X,B);B=B.sibling}B=su(Z,X.mode,je),B.return=X,X=B}return k(X);case G:return Le=Z._init,$t(X,B,Le(Z._payload),je)}if(me(Z))return Me(X,B,Z,je);if(A(Z))return De(X,B,Z,je);Vi(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,B!==null&&B.tag===6?(i(X,B.sibling),B=h(B,Z),B.return=X,X=B):(i(X,B),B=ru(Z,X.mode,je),B.return=X,X=B),k(X)):i(X,B)}return $t}var ba=Mh(!0),Dh=Mh(!1),Bi=ss(null),Ui=null,Na=null,fd=null;function hd(){fd=Na=Ui=null}function pd(n){var a=Bi.current;Ct(Bi),n._currentValue=a}function xd(n,a,i){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===i)break;n=n.return}}function Ca(n,a){Ui=n,fd=Na=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&(pn=!0),n.firstContext=null)}function zn(n){var a=n._currentValue;if(fd!==n)if(n={context:n,memoizedValue:a,next:null},Na===null){if(Ui===null)throw Error(s(308));Na=n,Ui.dependencies={lanes:0,firstContext:n}}else Na=Na.next=n;return a}var Vs=null;function gd(n){Vs===null?Vs=[n]:Vs.push(n)}function Ah(n,a,i,d){var h=a.interleaved;return h===null?(i.next=i,gd(a)):(i.next=h.next,h.next=i),a.interleaved=i,Dr(n,d)}function Dr(n,a){n.lanes|=a;var i=n.alternate;for(i!==null&&(i.lanes|=a),i=n,n=n.return;n!==null;)n.childLanes|=a,i=n.alternate,i!==null&&(i.childLanes|=a),i=n,n=n.return;return i.tag===3?i.stateNode:null}var is=!1;function vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ar(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function ls(n,a,i){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(st&2)!==0){var h=d.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),d.pending=a,Dr(n,i)}return h=d.interleaved,h===null?(a.next=a,gd(d)):(a.next=h.next,h.next=a),d.interleaved=a,Dr(n,i)}function Hi(n,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194240)!==0)){var d=a.lanes;d&=n.pendingLanes,i|=d,a.lanes=i,Dc(n,i)}}function Oh(n,a){var i=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,i===d)){var h=null,y=null;if(i=i.firstBaseUpdate,i!==null){do{var k={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};y===null?h=y=k:y=y.next=k,i=i.next}while(i!==null);y===null?h=y=a:y=y.next=a}else h=y=a;i={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:d.shared,effects:d.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=a:n.next=a,i.lastBaseUpdate=a}function Wi(n,a,i,d){var h=n.updateQueue;is=!1;var y=h.firstBaseUpdate,k=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var z=_,ne=z.next;z.next=null,k===null?y=ne:k.next=ne,k=z;var ve=n.alternate;ve!==null&&(ve=ve.updateQueue,_=ve.lastBaseUpdate,_!==k&&(_===null?ve.firstBaseUpdate=ne:_.next=ne,ve.lastBaseUpdate=z))}if(y!==null){var ye=h.baseState;k=0,ve=ne=z=null,_=y;do{var he=_.lane,Ee=_.eventTime;if((d&he)===he){ve!==null&&(ve=ve.next={eventTime:Ee,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Me=n,De=_;switch(he=a,Ee=i,De.tag){case 1:if(Me=De.payload,typeof Me=="function"){ye=Me.call(Ee,ye,he);break e}ye=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,he=typeof Me=="function"?Me.call(Ee,ye,he):Me,he==null)break e;ye=W({},ye,he);break e;case 2:is=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,he=h.effects,he===null?h.effects=[_]:he.push(_))}else Ee={eventTime:Ee,lane:he,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ve===null?(ne=ve=Ee,z=ye):ve=ve.next=Ee,k|=he;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;he=_,_=he.next,he.next=null,h.lastBaseUpdate=he,h.shared.pending=null}}while(!0);if(ve===null&&(z=ye),h.baseState=z,h.firstBaseUpdate=ne,h.lastBaseUpdate=ve,a=h.shared.interleaved,a!==null){h=a;do k|=h.lane,h=h.next;while(h!==a)}else y===null&&(h.shared.lanes=0);Hs|=k,n.lanes=k,n.memoizedState=ye}}function Ih(n,a,i){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var d=n[a],h=d.callback;if(h!==null){if(d.callback=null,d=i,typeof h!="function")throw Error(s(191,h));h.call(d)}}}var Po={},pr=ss(Po),Ro=ss(Po),Mo=ss(Po);function Bs(n){if(n===Po)throw Error(s(174));return n}function yd(n,a){switch(wt(Mo,a),wt(Ro,n),wt(pr,Po),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rn(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=rn(a,n)}Ct(pr),wt(pr,a)}function Sa(){Ct(pr),Ct(Ro),Ct(Mo)}function Fh(n){Bs(Mo.current);var a=Bs(pr.current),i=rn(a,n.type);a!==i&&(wt(Ro,n),wt(pr,i))}function wd(n){Ro.current===n&&(Ct(pr),Ct(Ro))}var Rt=ss(0);function qi(n){for(var a=n;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var jd=[];function bd(){for(var n=0;n<jd.length;n++)jd[n]._workInProgressVersionPrimary=null;jd.length=0}var Gi=O.ReactCurrentDispatcher,Nd=O.ReactCurrentBatchConfig,Us=0,Mt=null,Vt=null,Wt=null,Ki=!1,Do=!1,Ao=0,mN=0;function en(){throw Error(s(321))}function Cd(n,a){if(a===null)return!1;for(var i=0;i<a.length&&i<n.length;i++)if(!Jn(n[i],a[i]))return!1;return!0}function Sd(n,a,i,d,h,y){if(Us=y,Mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gi.current=n===null||n.memoizedState===null?xN:gN,n=i(d,h),Do){y=0;do{if(Do=!1,Ao=0,25<=y)throw Error(s(301));y+=1,Wt=Vt=null,a.updateQueue=null,Gi.current=vN,n=i(d,h)}while(Do)}if(Gi.current=Ji,a=Vt!==null&&Vt.next!==null,Us=0,Wt=Vt=Mt=null,Ki=!1,a)throw Error(s(300));return n}function Ed(){var n=Ao!==0;return Ao=0,n}function xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Mt.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function Vn(){if(Vt===null){var n=Mt.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var a=Wt===null?Mt.memoizedState:Wt.next;if(a!==null)Wt=a,Vt=n;else{if(n===null)throw Error(s(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Wt===null?Mt.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}function _o(n,a){return typeof a=="function"?a(n):a}function Td(n){var a=Vn(),i=a.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var d=Vt,h=d.baseQueue,y=i.pending;if(y!==null){if(h!==null){var k=h.next;h.next=y.next,y.next=k}d.baseQueue=h=y,i.pending=null}if(h!==null){y=h.next,d=d.baseState;var _=k=null,z=null,ne=y;do{var ve=ne.lane;if((Us&ve)===ve)z!==null&&(z=z.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),d=ne.hasEagerState?ne.eagerState:n(d,ne.action);else{var ye={lane:ve,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};z===null?(_=z=ye,k=d):z=z.next=ye,Mt.lanes|=ve,Hs|=ve}ne=ne.next}while(ne!==null&&ne!==y);z===null?k=d:z.next=_,Jn(d,a.memoizedState)||(pn=!0),a.memoizedState=d,a.baseState=k,a.baseQueue=z,i.lastRenderedState=d}if(n=i.interleaved,n!==null){h=n;do y=h.lane,Mt.lanes|=y,Hs|=y,h=h.next;while(h!==n)}else h===null&&(i.lanes=0);return[a.memoizedState,i.dispatch]}function kd(n){var a=Vn(),i=a.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var d=i.dispatch,h=i.pending,y=a.memoizedState;if(h!==null){i.pending=null;var k=h=h.next;do y=n(y,k.action),k=k.next;while(k!==h);Jn(y,a.memoizedState)||(pn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),i.lastRenderedState=y}return[y,d]}function $h(){}function Lh(n,a){var i=Mt,d=Vn(),h=a(),y=!Jn(d.memoizedState,h);if(y&&(d.memoizedState=h,pn=!0),d=d.queue,Pd(Bh.bind(null,i,d,n),[n]),d.getSnapshot!==a||y||Wt!==null&&Wt.memoizedState.tag&1){if(i.flags|=2048,Oo(9,Vh.bind(null,i,d,h,a),void 0,null),qt===null)throw Error(s(349));(Us&30)!==0||zh(i,a,h)}return h}function zh(n,a,i){n.flags|=16384,n={getSnapshot:a,value:i},a=Mt.updateQueue,a===null?(a={lastEffect:null,stores:null},Mt.updateQueue=a,a.stores=[n]):(i=a.stores,i===null?a.stores=[n]:i.push(n))}function Vh(n,a,i,d){a.value=i,a.getSnapshot=d,Uh(a)&&Hh(n)}function Bh(n,a,i){return i(function(){Uh(a)&&Hh(n)})}function Uh(n){var a=n.getSnapshot;n=n.value;try{var i=a();return!Jn(n,i)}catch{return!0}}function Hh(n){var a=Dr(n,1);a!==null&&nr(a,n,1,-1)}function Wh(n){var a=xr();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:n},a.queue=n,n=n.dispatch=pN.bind(null,Mt,n),[a.memoizedState,n]}function Oo(n,a,i,d){return n={tag:n,create:a,destroy:i,deps:d,next:null},a=Mt.updateQueue,a===null?(a={lastEffect:null,stores:null},Mt.updateQueue=a,a.lastEffect=n.next=n):(i=a.lastEffect,i===null?a.lastEffect=n.next=n:(d=i.next,i.next=n,n.next=d,a.lastEffect=n)),n}function qh(){return Vn().memoizedState}function Yi(n,a,i,d){var h=xr();Mt.flags|=n,h.memoizedState=Oo(1|a,i,void 0,d===void 0?null:d)}function Qi(n,a,i,d){var h=Vn();d=d===void 0?null:d;var y=void 0;if(Vt!==null){var k=Vt.memoizedState;if(y=k.destroy,d!==null&&Cd(d,k.deps)){h.memoizedState=Oo(a,i,y,d);return}}Mt.flags|=n,h.memoizedState=Oo(1|a,i,y,d)}function Gh(n,a){return Yi(8390656,8,n,a)}function Pd(n,a){return Qi(2048,8,n,a)}function Kh(n,a){return Qi(4,2,n,a)}function Yh(n,a){return Qi(4,4,n,a)}function Qh(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Jh(n,a,i){return i=i!=null?i.concat([n]):null,Qi(4,4,Qh.bind(null,a,n),i)}function Rd(){}function Xh(n,a){var i=Vn();a=a===void 0?null:a;var d=i.memoizedState;return d!==null&&a!==null&&Cd(a,d[1])?d[0]:(i.memoizedState=[n,a],n)}function Zh(n,a){var i=Vn();a=a===void 0?null:a;var d=i.memoizedState;return d!==null&&a!==null&&Cd(a,d[1])?d[0]:(n=n(),i.memoizedState=[n,a],n)}function ep(n,a,i){return(Us&21)===0?(n.baseState&&(n.baseState=!1,pn=!0),n.memoizedState=i):(Jn(i,a)||(i=Rf(),Mt.lanes|=i,Hs|=i,n.baseState=!0),a)}function fN(n,a){var i=ut;ut=i!==0&&4>i?i:4,n(!0);var d=Nd.transition;Nd.transition={};try{n(!1),a()}finally{ut=i,Nd.transition=d}}function tp(){return Vn().memoizedState}function hN(n,a,i){var d=ms(n);if(i={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null},np(n))rp(a,i);else if(i=Ah(n,a,i,d),i!==null){var h=on();nr(i,n,d,h),sp(i,a,d)}}function pN(n,a,i){var d=ms(n),h={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null};if(np(n))rp(a,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,_=y(k,i);if(h.hasEagerState=!0,h.eagerState=_,Jn(_,k)){var z=a.interleaved;z===null?(h.next=h,gd(a)):(h.next=z.next,z.next=h),a.interleaved=h;return}}catch{}finally{}i=Ah(n,a,h,d),i!==null&&(h=on(),nr(i,n,d,h),sp(i,a,d))}}function np(n){var a=n.alternate;return n===Mt||a!==null&&a===Mt}function rp(n,a){Do=Ki=!0;var i=n.pending;i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a}function sp(n,a,i){if((i&4194240)!==0){var d=a.lanes;d&=n.pendingLanes,i|=d,a.lanes=i,Dc(n,i)}}var Ji={readContext:zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},xN={readContext:zn,useCallback:function(n,a){return xr().memoizedState=[n,a===void 0?null:a],n},useContext:zn,useEffect:Gh,useImperativeHandle:function(n,a,i){return i=i!=null?i.concat([n]):null,Yi(4194308,4,Qh.bind(null,a,n),i)},useLayoutEffect:function(n,a){return Yi(4194308,4,n,a)},useInsertionEffect:function(n,a){return Yi(4,2,n,a)},useMemo:function(n,a){var i=xr();return a=a===void 0?null:a,n=n(),i.memoizedState=[n,a],n},useReducer:function(n,a,i){var d=xr();return a=i!==void 0?i(a):a,d.memoizedState=d.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},d.queue=n,n=n.dispatch=hN.bind(null,Mt,n),[d.memoizedState,n]},useRef:function(n){var a=xr();return n={current:n},a.memoizedState=n},useState:Wh,useDebugValue:Rd,useDeferredValue:function(n){return xr().memoizedState=n},useTransition:function(){var n=Wh(!1),a=n[0];return n=fN.bind(null,n[1]),xr().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,i){var d=Mt,h=xr();if(Et){if(i===void 0)throw Error(s(407));i=i()}else{if(i=a(),qt===null)throw Error(s(349));(Us&30)!==0||zh(d,a,i)}h.memoizedState=i;var y={value:i,getSnapshot:a};return h.queue=y,Gh(Bh.bind(null,d,y,n),[n]),d.flags|=2048,Oo(9,Vh.bind(null,d,y,i,a),void 0,null),i},useId:function(){var n=xr(),a=qt.identifierPrefix;if(Et){var i=Mr,d=Rr;i=(d&~(1<<32-Qn(d)-1)).toString(32)+i,a=":"+a+"R"+i,i=Ao++,0<i&&(a+="H"+i.toString(32)),a+=":"}else i=mN++,a=":"+a+"r"+i.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},gN={readContext:zn,useCallback:Xh,useContext:zn,useEffect:Pd,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Yh,useMemo:Zh,useReducer:Td,useRef:qh,useState:function(){return Td(_o)},useDebugValue:Rd,useDeferredValue:function(n){var a=Vn();return ep(a,Vt.memoizedState,n)},useTransition:function(){var n=Td(_o)[0],a=Vn().memoizedState;return[n,a]},useMutableSource:$h,useSyncExternalStore:Lh,useId:tp,unstable_isNewReconciler:!1},vN={readContext:zn,useCallback:Xh,useContext:zn,useEffect:Pd,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Yh,useMemo:Zh,useReducer:kd,useRef:qh,useState:function(){return kd(_o)},useDebugValue:Rd,useDeferredValue:function(n){var a=Vn();return Vt===null?a.memoizedState=n:ep(a,Vt.memoizedState,n)},useTransition:function(){var n=kd(_o)[0],a=Vn().memoizedState;return[n,a]},useMutableSource:$h,useSyncExternalStore:Lh,useId:tp,unstable_isNewReconciler:!1};function Zn(n,a){if(n&&n.defaultProps){a=W({},a),n=n.defaultProps;for(var i in n)a[i]===void 0&&(a[i]=n[i]);return a}return a}function Md(n,a,i,d){a=n.memoizedState,i=i(d,a),i=i==null?a:W({},a,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var Xi={isMounted:function(n){return(n=n._reactInternals)?Is(n)===n:!1},enqueueSetState:function(n,a,i){n=n._reactInternals;var d=on(),h=ms(n),y=Ar(d,h);y.payload=a,i!=null&&(y.callback=i),a=ls(n,y,h),a!==null&&(nr(a,n,h,d),Hi(a,n,h))},enqueueReplaceState:function(n,a,i){n=n._reactInternals;var d=on(),h=ms(n),y=Ar(d,h);y.tag=1,y.payload=a,i!=null&&(y.callback=i),a=ls(n,y,h),a!==null&&(nr(a,n,h,d),Hi(a,n,h))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var i=on(),d=ms(n),h=Ar(i,d);h.tag=2,a!=null&&(h.callback=a),a=ls(n,h,d),a!==null&&(nr(a,n,d,i),Hi(a,n,d))}};function ap(n,a,i,d,h,y,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,k):a.prototype&&a.prototype.isPureReactComponent?!jo(i,d)||!jo(h,y):!0}function op(n,a,i){var d=!1,h=as,y=a.contextType;return typeof y=="object"&&y!==null?y=zn(y):(h=hn(a)?$s:Zt.current,d=a.contextTypes,y=(d=d!=null)?va(n,h):as),a=new a(i,y),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xi,n.stateNode=a,a._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=y),a}function ip(n,a,i,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,d),a.state!==n&&Xi.enqueueReplaceState(a,a.state,null)}function Dd(n,a,i,d){var h=n.stateNode;h.props=i,h.state=n.memoizedState,h.refs={},vd(n);var y=a.contextType;typeof y=="object"&&y!==null?h.context=zn(y):(y=hn(a)?$s:Zt.current,h.context=va(n,y)),h.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Md(n,a,y,i),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(a=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),a!==h.state&&Xi.enqueueReplaceState(h,h.state,null),Wi(n,i,h,d),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function Ea(n,a){try{var i="",d=a;do i+=ce(d),d=d.return;while(d);var h=i}catch(y){h=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:a,stack:h,digest:null}}function Ad(n,a,i){return{value:n,source:null,stack:i??null,digest:a??null}}function _d(n,a){try{console.error(a.value)}catch(i){setTimeout(function(){throw i})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function lp(n,a,i){i=Ar(-1,i),i.tag=3,i.payload={element:null};var d=a.value;return i.callback=function(){al||(al=!0,Yd=d),_d(n,a)},i}function cp(n,a,i){i=Ar(-1,i),i.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var h=a.value;i.payload=function(){return d(h)},i.callback=function(){_d(n,a)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(i.callback=function(){_d(n,a),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),i}function dp(n,a,i){var d=n.pingCache;if(d===null){d=n.pingCache=new yN;var h=new Set;d.set(a,h)}else h=d.get(a),h===void 0&&(h=new Set,d.set(a,h));h.has(i)||(h.add(i),n=AN.bind(null,n,a,i),a.then(n,n))}function up(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function mp(n,a,i,d,h){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(a=Ar(-1,1),a.tag=2,ls(i,a,1))),i.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var wN=O.ReactCurrentOwner,pn=!1;function an(n,a,i,d){a.child=n===null?Dh(a,null,i,d):ba(a,n.child,i,d)}function fp(n,a,i,d,h){i=i.render;var y=a.ref;return Ca(a,h),d=Sd(n,a,i,d,y,h),i=Ed(),n!==null&&!pn?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~h,_r(n,a,h)):(Et&&i&&ld(a),a.flags|=1,an(n,a,d,h),a.child)}function hp(n,a,i,d,h){if(n===null){var y=i.type;return typeof y=="function"&&!nu(y)&&y.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(a.tag=15,a.type=y,pp(n,a,y,d,h)):(n=ul(i.type,null,d,a,a.mode,h),n.ref=a.ref,n.return=a,a.child=n)}if(y=n.child,(n.lanes&h)===0){var k=y.memoizedProps;if(i=i.compare,i=i!==null?i:jo,i(k,d)&&n.ref===a.ref)return _r(n,a,h)}return a.flags|=1,n=hs(y,d),n.ref=a.ref,n.return=a,a.child=n}function pp(n,a,i,d,h){if(n!==null){var y=n.memoizedProps;if(jo(y,d)&&n.ref===a.ref)if(pn=!1,a.pendingProps=d=y,(n.lanes&h)!==0)(n.flags&131072)!==0&&(pn=!0);else return a.lanes=n.lanes,_r(n,a,h)}return Od(n,a,i,d,h)}function xp(n,a,i){var d=a.pendingProps,h=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ka,Tn),Tn|=i;else{if((i&1073741824)===0)return n=y!==null?y.baseLanes|i:i,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,wt(ka,Tn),Tn|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:i,wt(ka,Tn),Tn|=d}else y!==null?(d=y.baseLanes|i,a.memoizedState=null):d=i,wt(ka,Tn),Tn|=d;return an(n,a,h,i),a.child}function gp(n,a){var i=a.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(a.flags|=512,a.flags|=2097152)}function Od(n,a,i,d,h){var y=hn(i)?$s:Zt.current;return y=va(a,y),Ca(a,h),i=Sd(n,a,i,d,y,h),d=Ed(),n!==null&&!pn?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~h,_r(n,a,h)):(Et&&d&&ld(a),a.flags|=1,an(n,a,i,h),a.child)}function vp(n,a,i,d,h){if(hn(i)){var y=!0;Ii(a)}else y=!1;if(Ca(a,h),a.stateNode===null)el(n,a),op(a,i,d),Dd(a,i,d,h),d=!0;else if(n===null){var k=a.stateNode,_=a.memoizedProps;k.props=_;var z=k.context,ne=i.contextType;typeof ne=="object"&&ne!==null?ne=zn(ne):(ne=hn(i)?$s:Zt.current,ne=va(a,ne));var ve=i.getDerivedStateFromProps,ye=typeof ve=="function"||typeof k.getSnapshotBeforeUpdate=="function";ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(_!==d||z!==ne)&&ip(a,k,d,ne),is=!1;var he=a.memoizedState;k.state=he,Wi(a,d,k,h),z=a.memoizedState,_!==d||he!==z||fn.current||is?(typeof ve=="function"&&(Md(a,i,ve,d),z=a.memoizedState),(_=is||ap(a,i,_,d,he,z,ne))?(ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=z),k.props=d,k.state=z,k.context=ne,d=_):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{k=a.stateNode,_h(n,a),_=a.memoizedProps,ne=a.type===a.elementType?_:Zn(a.type,_),k.props=ne,ye=a.pendingProps,he=k.context,z=i.contextType,typeof z=="object"&&z!==null?z=zn(z):(z=hn(i)?$s:Zt.current,z=va(a,z));var Ee=i.getDerivedStateFromProps;(ve=typeof Ee=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(_!==ye||he!==z)&&ip(a,k,d,z),is=!1,he=a.memoizedState,k.state=he,Wi(a,d,k,h);var Me=a.memoizedState;_!==ye||he!==Me||fn.current||is?(typeof Ee=="function"&&(Md(a,i,Ee,d),Me=a.memoizedState),(ne=is||ap(a,i,ne,d,he,Me,z)||!1)?(ve||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,Me,z),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,Me,z)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||_===n.memoizedProps&&he===n.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&he===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=Me),k.props=d,k.state=Me,k.context=z,d=ne):(typeof k.componentDidUpdate!="function"||_===n.memoizedProps&&he===n.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&he===n.memoizedState||(a.flags|=1024),d=!1)}return Id(n,a,i,d,y,h)}function Id(n,a,i,d,h,y){gp(n,a);var k=(a.flags&128)!==0;if(!d&&!k)return h&&Nh(a,i,!1),_r(n,a,y);d=a.stateNode,wN.current=a;var _=k&&typeof i.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,n!==null&&k?(a.child=ba(a,n.child,null,y),a.child=ba(a,null,_,y)):an(n,a,_,y),a.memoizedState=d.state,h&&Nh(a,i,!0),a.child}function yp(n){var a=n.stateNode;a.pendingContext?jh(n,a.pendingContext,a.pendingContext!==a.context):a.context&&jh(n,a.context,!1),yd(n,a.containerInfo)}function wp(n,a,i,d,h){return ja(),md(h),a.flags|=256,an(n,a,i,d),a.child}var Fd={dehydrated:null,treeContext:null,retryLane:0};function $d(n){return{baseLanes:n,cachePool:null,transitions:null}}function jp(n,a,i){var d=a.pendingProps,h=Rt.current,y=!1,k=(a.flags&128)!==0,_;if((_=k)||(_=n!==null&&n.memoizedState===null?!1:(h&2)!==0),_?(y=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),wt(Rt,h&1),n===null)return ud(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=d.children,n=d.fallback,y?(d=a.mode,y=a.child,k={mode:"hidden",children:k},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=ml(k,d,0,null),n=Ks(n,d,i,null),y.return=a,n.return=a,y.sibling=n,a.child=y,a.child.memoizedState=$d(i),a.memoizedState=Fd,n):Ld(a,k));if(h=n.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return jN(n,a,k,d,_,h,i);if(y){y=d.fallback,k=a.mode,h=n.child,_=h.sibling;var z={mode:"hidden",children:d.children};return(k&1)===0&&a.child!==h?(d=a.child,d.childLanes=0,d.pendingProps=z,a.deletions=null):(d=hs(h,z),d.subtreeFlags=h.subtreeFlags&14680064),_!==null?y=hs(_,y):(y=Ks(y,k,i,null),y.flags|=2),y.return=a,d.return=a,d.sibling=y,a.child=d,d=y,y=a.child,k=n.child.memoizedState,k=k===null?$d(i):{baseLanes:k.baseLanes|i,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=n.childLanes&~i,a.memoizedState=Fd,d}return y=n.child,n=y.sibling,d=hs(y,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=i),d.return=a,d.sibling=null,n!==null&&(i=a.deletions,i===null?(a.deletions=[n],a.flags|=16):i.push(n)),a.child=d,a.memoizedState=null,d}function Ld(n,a){return a=ml({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function Zi(n,a,i,d){return d!==null&&md(d),ba(a,n.child,null,i),n=Ld(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function jN(n,a,i,d,h,y,k){if(i)return a.flags&256?(a.flags&=-257,d=Ad(Error(s(422))),Zi(n,a,k,d)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(y=d.fallback,h=a.mode,d=ml({mode:"visible",children:d.children},h,0,null),y=Ks(y,h,k,null),y.flags|=2,d.return=a,y.return=a,d.sibling=y,a.child=d,(a.mode&1)!==0&&ba(a,n.child,null,k),a.child.memoizedState=$d(k),a.memoizedState=Fd,y);if((a.mode&1)===0)return Zi(n,a,k,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var _=d.dgst;return d=_,y=Error(s(419)),d=Ad(y,d,void 0),Zi(n,a,k,d)}if(_=(k&n.childLanes)!==0,pn||_){if(d=qt,d!==null){switch(k&-k){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|k))!==0?0:h,h!==0&&h!==y.retryLane&&(y.retryLane=h,Dr(n,h),nr(d,n,h,-1))}return tu(),d=Ad(Error(s(421))),Zi(n,a,k,d)}return h.data==="$?"?(a.flags|=128,a.child=n.child,a=_N.bind(null,n),h._reactRetry=a,null):(n=y.treeContext,En=rs(h.nextSibling),Sn=a,Et=!0,Xn=null,n!==null&&($n[Ln++]=Rr,$n[Ln++]=Mr,$n[Ln++]=Ls,Rr=n.id,Mr=n.overflow,Ls=a),a=Ld(a,d.children),a.flags|=4096,a)}function bp(n,a,i){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),xd(n.return,a,i)}function zd(n,a,i,d,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:i,tailMode:h}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=i,y.tailMode=h)}function Np(n,a,i){var d=a.pendingProps,h=d.revealOrder,y=d.tail;if(an(n,a,d.children,i),d=Rt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bp(n,i,a);else if(n.tag===19)bp(n,i,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(wt(Rt,d),(a.mode&1)===0)a.memoizedState=null;else switch(h){case"forwards":for(i=a.child,h=null;i!==null;)n=i.alternate,n!==null&&qi(n)===null&&(h=i),i=i.sibling;i=h,i===null?(h=a.child,a.child=null):(h=i.sibling,i.sibling=null),zd(a,!1,h,i,y);break;case"backwards":for(i=null,h=a.child,a.child=null;h!==null;){if(n=h.alternate,n!==null&&qi(n)===null){a.child=h;break}n=h.sibling,h.sibling=i,i=h,h=n}zd(a,!0,i,null,y);break;case"together":zd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function el(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function _r(n,a,i){if(n!==null&&(a.dependencies=n.dependencies),Hs|=a.lanes,(i&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,i=hs(n,n.pendingProps),a.child=i,i.return=a;n.sibling!==null;)n=n.sibling,i=i.sibling=hs(n,n.pendingProps),i.return=a;i.sibling=null}return a.child}function bN(n,a,i){switch(a.tag){case 3:yp(a),ja();break;case 5:Fh(a);break;case 1:hn(a.type)&&Ii(a);break;case 4:yd(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,h=a.memoizedProps.value;wt(Bi,d._currentValue),d._currentValue=h;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(wt(Rt,Rt.current&1),a.flags|=128,null):(i&a.child.childLanes)!==0?jp(n,a,i):(wt(Rt,Rt.current&1),n=_r(n,a,i),n!==null?n.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(d=(i&a.childLanes)!==0,(n.flags&128)!==0){if(d)return Np(n,a,i);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),wt(Rt,Rt.current),d)break;return null;case 22:case 23:return a.lanes=0,xp(n,a,i)}return _r(n,a,i)}var Cp,Vd,Sp,Ep;Cp=function(n,a){for(var i=a.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Vd=function(){},Sp=function(n,a,i,d){var h=n.memoizedProps;if(h!==d){n=a.stateNode,Bs(pr.current);var y=null;switch(i){case"input":h=He(n,h),d=He(n,d),y=[];break;case"select":h=W({},h,{value:void 0}),d=W({},d,{value:void 0}),y=[];break;case"textarea":h=Ve(n,h),d=Ve(n,d),y=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Ai)}sn(i,d);var k;i=null;for(ne in h)if(!d.hasOwnProperty(ne)&&h.hasOwnProperty(ne)&&h[ne]!=null)if(ne==="style"){var _=h[ne];for(k in _)_.hasOwnProperty(k)&&(i||(i={}),i[k]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(l.hasOwnProperty(ne)?y||(y=[]):(y=y||[]).push(ne,null));for(ne in d){var z=d[ne];if(_=h?.[ne],d.hasOwnProperty(ne)&&z!==_&&(z!=null||_!=null))if(ne==="style")if(_){for(k in _)!_.hasOwnProperty(k)||z&&z.hasOwnProperty(k)||(i||(i={}),i[k]="");for(k in z)z.hasOwnProperty(k)&&_[k]!==z[k]&&(i||(i={}),i[k]=z[k])}else i||(y||(y=[]),y.push(ne,i)),i=z;else ne==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,_=_?_.__html:void 0,z!=null&&_!==z&&(y=y||[]).push(ne,z)):ne==="children"?typeof z!="string"&&typeof z!="number"||(y=y||[]).push(ne,""+z):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(l.hasOwnProperty(ne)?(z!=null&&ne==="onScroll"&&Nt("scroll",n),y||_===z||(y=[])):(y=y||[]).push(ne,z))}i&&(y=y||[]).push("style",i);var ne=y;(a.updateQueue=ne)&&(a.flags|=4)}},Ep=function(n,a,i,d){i!==d&&(a.flags|=4)};function Io(n,a){if(!Et)switch(n.tailMode){case"hidden":a=n.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function tn(n){var a=n.alternate!==null&&n.alternate.child===n.child,i=0,d=0;if(a)for(var h=n.child;h!==null;)i|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)i|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=d,n.childLanes=i,a}function NN(n,a,i){var d=a.pendingProps;switch(cd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return hn(a.type)&&Oi(),tn(a),null;case 3:return d=a.stateNode,Sa(),Ct(fn),Ct(Zt),bd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(zi(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xn!==null&&(Xd(Xn),Xn=null))),Vd(n,a),tn(a),null;case 5:wd(a);var h=Bs(Mo.current);if(i=a.type,n!==null&&a.stateNode!=null)Sp(n,a,i,d,h),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(s(166));return tn(a),null}if(n=Bs(pr.current),zi(a)){d=a.stateNode,i=a.type;var y=a.memoizedProps;switch(d[hr]=a,d[Eo]=y,n=(a.mode&1)!==0,i){case"dialog":Nt("cancel",d),Nt("close",d);break;case"iframe":case"object":case"embed":Nt("load",d);break;case"video":case"audio":for(h=0;h<No.length;h++)Nt(No[h],d);break;case"source":Nt("error",d);break;case"img":case"image":case"link":Nt("error",d),Nt("load",d);break;case"details":Nt("toggle",d);break;case"input":kt(d,y),Nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Nt("invalid",d);break;case"textarea":We(d,y),Nt("invalid",d)}sn(i,y),h=null;for(var k in y)if(y.hasOwnProperty(k)){var _=y[k];k==="children"?typeof _=="string"?d.textContent!==_&&(y.suppressHydrationWarning!==!0&&Di(d.textContent,_,n),h=["children",_]):typeof _=="number"&&d.textContent!==""+_&&(y.suppressHydrationWarning!==!0&&Di(d.textContent,_,n),h=["children",""+_]):l.hasOwnProperty(k)&&_!=null&&k==="onScroll"&&Nt("scroll",d)}switch(i){case"input":ke(d),_e(d,y,!0);break;case"textarea":ke(d),Pt(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Ai)}d=h,a.updateQueue=d,d!==null&&(a.flags|=4)}else{k=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=it(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=k.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=k.createElement(i,{is:d.is}):(n=k.createElement(i),i==="select"&&(k=n,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):n=k.createElementNS(n,i),n[hr]=a,n[Eo]=d,Cp(n,a,!1,!1),a.stateNode=n;e:{switch(k=Kr(i,d),i){case"dialog":Nt("cancel",n),Nt("close",n),h=d;break;case"iframe":case"object":case"embed":Nt("load",n),h=d;break;case"video":case"audio":for(h=0;h<No.length;h++)Nt(No[h],n);h=d;break;case"source":Nt("error",n),h=d;break;case"img":case"image":case"link":Nt("error",n),Nt("load",n),h=d;break;case"details":Nt("toggle",n),h=d;break;case"input":kt(n,d),h=He(n,d),Nt("invalid",n);break;case"option":h=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},h=W({},d,{value:void 0}),Nt("invalid",n);break;case"textarea":We(n,d),h=Ve(n,d),Nt("invalid",n);break;default:h=d}sn(i,h),_=h;for(y in _)if(_.hasOwnProperty(y)){var z=_[y];y==="style"?Kn(n,z):y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Gn(n,z)):y==="children"?typeof z=="string"?(i!=="textarea"||z!=="")&&On(n,z):typeof z=="number"&&On(n,""+z):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(l.hasOwnProperty(y)?z!=null&&y==="onScroll"&&Nt("scroll",n):z!=null&&E(n,y,z,k))}switch(i){case"input":ke(n),_e(n,d,!1);break;case"textarea":ke(n),Pt(n);break;case"option":d.value!=null&&n.setAttribute("value",""+M(d.value));break;case"select":n.multiple=!!d.multiple,y=d.value,y!=null?xe(n,!!d.multiple,y,!1):d.defaultValue!=null&&xe(n,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=Ai)}switch(i){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return tn(a),null;case 6:if(n&&a.stateNode!=null)Ep(n,a,n.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(i=Bs(Mo.current),Bs(pr.current),zi(a)){if(d=a.stateNode,i=a.memoizedProps,d[hr]=a,(y=d.nodeValue!==i)&&(n=Sn,n!==null))switch(n.tag){case 3:Di(d.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Di(d.nodeValue,i,(n.mode&1)!==0)}y&&(a.flags|=4)}else d=(i.nodeType===9?i:i.ownerDocument).createTextNode(d),d[hr]=a,a.stateNode=d}return tn(a),null;case 13:if(Ct(Rt),d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Et&&En!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ph(),ja(),a.flags|=98560,y=!1;else if(y=zi(a),d!==null&&d.dehydrated!==null){if(n===null){if(!y)throw Error(s(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[hr]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),y=!1}else Xn!==null&&(Xd(Xn),Xn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=i,a):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(Rt.current&1)!==0?Bt===0&&(Bt=3):tu())),a.updateQueue!==null&&(a.flags|=4),tn(a),null);case 4:return Sa(),Vd(n,a),n===null&&Co(a.stateNode.containerInfo),tn(a),null;case 10:return pd(a.type._context),tn(a),null;case 17:return hn(a.type)&&Oi(),tn(a),null;case 19:if(Ct(Rt),y=a.memoizedState,y===null)return tn(a),null;if(d=(a.flags&128)!==0,k=y.rendering,k===null)if(d)Io(y,!1);else{if(Bt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(k=qi(n),k!==null){for(a.flags|=128,Io(y,!1),d=k.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=i,i=a.child;i!==null;)y=i,n=d,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,n=k.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return wt(Rt,Rt.current&1|2),a.child}n=n.sibling}y.tail!==null&&Ft()>Pa&&(a.flags|=128,d=!0,Io(y,!1),a.lanes=4194304)}else{if(!d)if(n=qi(k),n!==null){if(a.flags|=128,d=!0,i=n.updateQueue,i!==null&&(a.updateQueue=i,a.flags|=4),Io(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!Et)return tn(a),null}else 2*Ft()-y.renderingStartTime>Pa&&i!==1073741824&&(a.flags|=128,d=!0,Io(y,!1),a.lanes=4194304);y.isBackwards?(k.sibling=a.child,a.child=k):(i=y.last,i!==null?i.sibling=k:a.child=k,y.last=k)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Ft(),a.sibling=null,i=Rt.current,wt(Rt,d?i&1|2:i&1),a):(tn(a),null);case 22:case 23:return eu(),d=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(Tn&1073741824)!==0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function CN(n,a){switch(cd(a),a.tag){case 1:return hn(a.type)&&Oi(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Sa(),Ct(fn),Ct(Zt),bd(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return wd(a),null;case 13:if(Ct(Rt),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ja()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return Ct(Rt),null;case 4:return Sa(),null;case 10:return pd(a.type._context),null;case 22:case 23:return eu(),null;case 24:return null;default:return null}}var tl=!1,nn=!1,SN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ta(n,a){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(d){_t(n,a,d)}else i.current=null}function Bd(n,a,i){try{i()}catch(d){_t(n,a,d)}}var Tp=!1;function EN(n,a){if(ed=ji,n=ah(),qc(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var d=i.getSelection&&i.getSelection();if(d&&d.rangeCount!==0){i=d.anchorNode;var h=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{i.nodeType,y.nodeType}catch{i=null;break e}var k=0,_=-1,z=-1,ne=0,ve=0,ye=n,he=null;t:for(;;){for(var Ee;ye!==i||h!==0&&ye.nodeType!==3||(_=k+h),ye!==y||d!==0&&ye.nodeType!==3||(z=k+d),ye.nodeType===3&&(k+=ye.nodeValue.length),(Ee=ye.firstChild)!==null;)he=ye,ye=Ee;for(;;){if(ye===n)break t;if(he===i&&++ne===h&&(_=k),he===y&&++ve===d&&(z=k),(Ee=ye.nextSibling)!==null)break;ye=he,he=ye.parentNode}ye=Ee}i=_===-1||z===-1?null:{start:_,end:z}}else i=null}i=i||{start:0,end:0}}else i=null;for(td={focusedElem:n,selectionRange:i},ji=!1,Pe=a;Pe!==null;)if(a=Pe,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Pe=n;else for(;Pe!==null;){a=Pe;try{var Me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var De=Me.memoizedProps,$t=Me.memoizedState,X=a.stateNode,B=X.getSnapshotBeforeUpdate(a.elementType===a.type?De:Zn(a.type,De),$t);X.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Z=a.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(je){_t(a,a.return,je)}if(n=a.sibling,n!==null){n.return=a.return,Pe=n;break}Pe=a.return}return Me=Tp,Tp=!1,Me}function Fo(n,a,i){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&n)===n){var y=h.destroy;h.destroy=void 0,y!==void 0&&Bd(a,i,y)}h=h.next}while(h!==d)}}function nl(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&n)===n){var d=i.create;i.destroy=d()}i=i.next}while(i!==a)}}function Ud(n){var a=n.ref;if(a!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof a=="function"?a(n):a.current=n}}function kp(n){var a=n.alternate;a!==null&&(n.alternate=null,kp(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[hr],delete a[Eo],delete a[ad],delete a[lN],delete a[cN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Pp(n){return n.tag===5||n.tag===3||n.tag===4}function Rp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hd(n,a,i){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?i.nodeType===8?i.parentNode.insertBefore(n,a):i.insertBefore(n,a):(i.nodeType===8?(a=i.parentNode,a.insertBefore(n,i)):(a=i,a.appendChild(n)),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Ai));else if(d!==4&&(n=n.child,n!==null))for(Hd(n,a,i),n=n.sibling;n!==null;)Hd(n,a,i),n=n.sibling}function Wd(n,a,i){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?i.insertBefore(n,a):i.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Wd(n,a,i),n=n.sibling;n!==null;)Wd(n,a,i),n=n.sibling}var Kt=null,er=!1;function cs(n,a,i){for(i=i.child;i!==null;)Mp(n,a,i),i=i.sibling}function Mp(n,a,i){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(pi,i)}catch{}switch(i.tag){case 5:nn||Ta(i,a);case 6:var d=Kt,h=er;Kt=null,cs(n,a,i),Kt=d,er=h,Kt!==null&&(er?(n=Kt,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):Kt.removeChild(i.stateNode));break;case 18:Kt!==null&&(er?(n=Kt,i=i.stateNode,n.nodeType===8?sd(n.parentNode,i):n.nodeType===1&&sd(n,i),po(n)):sd(Kt,i.stateNode));break;case 4:d=Kt,h=er,Kt=i.stateNode.containerInfo,er=!0,cs(n,a,i),Kt=d,er=h;break;case 0:case 11:case 14:case 15:if(!nn&&(d=i.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var y=h,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&Bd(i,a,k),h=h.next}while(h!==d)}cs(n,a,i);break;case 1:if(!nn&&(Ta(i,a),d=i.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=i.memoizedProps,d.state=i.memoizedState,d.componentWillUnmount()}catch(_){_t(i,a,_)}cs(n,a,i);break;case 21:cs(n,a,i);break;case 22:i.mode&1?(nn=(d=nn)||i.memoizedState!==null,cs(n,a,i),nn=d):cs(n,a,i);break;default:cs(n,a,i)}}function Dp(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new SN),a.forEach(function(d){var h=ON.bind(null,n,d);i.has(d)||(i.add(d),d.then(h,h))})}}function tr(n,a){var i=a.deletions;if(i!==null)for(var d=0;d<i.length;d++){var h=i[d];try{var y=n,k=a,_=k;e:for(;_!==null;){switch(_.tag){case 5:Kt=_.stateNode,er=!1;break e;case 3:Kt=_.stateNode.containerInfo,er=!0;break e;case 4:Kt=_.stateNode.containerInfo,er=!0;break e}_=_.return}if(Kt===null)throw Error(s(160));Mp(y,k,h),Kt=null,er=!1;var z=h.alternate;z!==null&&(z.return=null),h.return=null}catch(ne){_t(h,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ap(a,n),a=a.sibling}function Ap(n,a){var i=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tr(a,n),gr(n),d&4){try{Fo(3,n,n.return),nl(3,n)}catch(De){_t(n,n.return,De)}try{Fo(5,n,n.return)}catch(De){_t(n,n.return,De)}}break;case 1:tr(a,n),gr(n),d&512&&i!==null&&Ta(i,i.return);break;case 5:if(tr(a,n),gr(n),d&512&&i!==null&&Ta(i,i.return),n.flags&32){var h=n.stateNode;try{On(h,"")}catch(De){_t(n,n.return,De)}}if(d&4&&(h=n.stateNode,h!=null)){var y=n.memoizedProps,k=i!==null?i.memoizedProps:y,_=n.type,z=n.updateQueue;if(n.updateQueue=null,z!==null)try{_==="input"&&y.type==="radio"&&y.name!=null&&Ke(h,y),Kr(_,k);var ne=Kr(_,y);for(k=0;k<z.length;k+=2){var ve=z[k],ye=z[k+1];ve==="style"?Kn(h,ye):ve==="dangerouslySetInnerHTML"?Gn(h,ye):ve==="children"?On(h,ye):E(h,ve,ye,ne)}switch(_){case"input":de(h,y);break;case"textarea":rt(h,y);break;case"select":var he=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!y.multiple;var Ee=y.value;Ee!=null?xe(h,!!y.multiple,Ee,!1):he!==!!y.multiple&&(y.defaultValue!=null?xe(h,!!y.multiple,y.defaultValue,!0):xe(h,!!y.multiple,y.multiple?[]:"",!1))}h[Eo]=y}catch(De){_t(n,n.return,De)}}break;case 6:if(tr(a,n),gr(n),d&4){if(n.stateNode===null)throw Error(s(162));h=n.stateNode,y=n.memoizedProps;try{h.nodeValue=y}catch(De){_t(n,n.return,De)}}break;case 3:if(tr(a,n),gr(n),d&4&&i!==null&&i.memoizedState.isDehydrated)try{po(a.containerInfo)}catch(De){_t(n,n.return,De)}break;case 4:tr(a,n),gr(n);break;case 13:tr(a,n),gr(n),h=n.child,h.flags&8192&&(y=h.memoizedState!==null,h.stateNode.isHidden=y,!y||h.alternate!==null&&h.alternate.memoizedState!==null||(Kd=Ft())),d&4&&Dp(n);break;case 22:if(ve=i!==null&&i.memoizedState!==null,n.mode&1?(nn=(ne=nn)||ve,tr(a,n),nn=ne):tr(a,n),gr(n),d&8192){if(ne=n.memoizedState!==null,(n.stateNode.isHidden=ne)&&!ve&&(n.mode&1)!==0)for(Pe=n,ve=n.child;ve!==null;){for(ye=Pe=ve;Pe!==null;){switch(he=Pe,Ee=he.child,he.tag){case 0:case 11:case 14:case 15:Fo(4,he,he.return);break;case 1:Ta(he,he.return);var Me=he.stateNode;if(typeof Me.componentWillUnmount=="function"){d=he,i=he.return;try{a=d,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(De){_t(d,i,De)}}break;case 5:Ta(he,he.return);break;case 22:if(he.memoizedState!==null){Ip(ye);continue}}Ee!==null?(Ee.return=he,Pe=Ee):Ip(ye)}ve=ve.sibling}e:for(ve=null,ye=n;;){if(ye.tag===5){if(ve===null){ve=ye;try{h=ye.stateNode,ne?(y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(_=ye.stateNode,z=ye.memoizedProps.style,k=z!=null&&z.hasOwnProperty("display")?z.display:null,_.style.display=Gr("display",k))}catch(De){_t(n,n.return,De)}}}else if(ye.tag===6){if(ve===null)try{ye.stateNode.nodeValue=ne?"":ye.memoizedProps}catch(De){_t(n,n.return,De)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===n)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===n)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===n)break e;ve===ye&&(ve=null),ye=ye.return}ve===ye&&(ve=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:tr(a,n),gr(n),d&4&&Dp(n);break;case 21:break;default:tr(a,n),gr(n)}}function gr(n){var a=n.flags;if(a&2){try{e:{for(var i=n.return;i!==null;){if(Pp(i)){var d=i;break e}i=i.return}throw Error(s(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(On(h,""),d.flags&=-33);var y=Rp(n);Wd(n,y,h);break;case 3:case 4:var k=d.stateNode.containerInfo,_=Rp(n);Hd(n,_,k);break;default:throw Error(s(161))}}catch(z){_t(n,n.return,z)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function TN(n,a,i){Pe=n,_p(n)}function _p(n,a,i){for(var d=(n.mode&1)!==0;Pe!==null;){var h=Pe,y=h.child;if(h.tag===22&&d){var k=h.memoizedState!==null||tl;if(!k){var _=h.alternate,z=_!==null&&_.memoizedState!==null||nn;_=tl;var ne=nn;if(tl=k,(nn=z)&&!ne)for(Pe=h;Pe!==null;)k=Pe,z=k.child,k.tag===22&&k.memoizedState!==null?Fp(h):z!==null?(z.return=k,Pe=z):Fp(h);for(;y!==null;)Pe=y,_p(y),y=y.sibling;Pe=h,tl=_,nn=ne}Op(n)}else(h.subtreeFlags&8772)!==0&&y!==null?(y.return=h,Pe=y):Op(n)}}function Op(n){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var i=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:nn||nl(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!nn)if(i===null)d.componentDidMount();else{var h=a.elementType===a.type?i.memoizedProps:Zn(a.type,i.memoizedProps);d.componentDidUpdate(h,i.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Ih(a,y,d);break;case 3:var k=a.updateQueue;if(k!==null){if(i=null,a.child!==null)switch(a.child.tag){case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}Ih(a,k,i)}break;case 5:var _=a.stateNode;if(i===null&&a.flags&4){i=_;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&i.focus();break;case"img":z.src&&(i.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var ve=ne.memoizedState;if(ve!==null){var ye=ve.dehydrated;ye!==null&&po(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}nn||a.flags&512&&Ud(a)}catch(he){_t(a,a.return,he)}}if(a===n){Pe=null;break}if(i=a.sibling,i!==null){i.return=a.return,Pe=i;break}Pe=a.return}}function Ip(n){for(;Pe!==null;){var a=Pe;if(a===n){Pe=null;break}var i=a.sibling;if(i!==null){i.return=a.return,Pe=i;break}Pe=a.return}}function Fp(n){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var i=a.return;try{nl(4,a)}catch(z){_t(a,i,z)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var h=a.return;try{d.componentDidMount()}catch(z){_t(a,h,z)}}var y=a.return;try{Ud(a)}catch(z){_t(a,y,z)}break;case 5:var k=a.return;try{Ud(a)}catch(z){_t(a,k,z)}}}catch(z){_t(a,a.return,z)}if(a===n){Pe=null;break}var _=a.sibling;if(_!==null){_.return=a.return,Pe=_;break}Pe=a.return}}var kN=Math.ceil,rl=O.ReactCurrentDispatcher,qd=O.ReactCurrentOwner,Bn=O.ReactCurrentBatchConfig,st=0,qt=null,Lt=null,Yt=0,Tn=0,ka=ss(0),Bt=0,$o=null,Hs=0,sl=0,Gd=0,Lo=null,xn=null,Kd=0,Pa=1/0,Or=null,al=!1,Yd=null,ds=null,ol=!1,us=null,il=0,zo=0,Qd=null,ll=-1,cl=0;function on(){return(st&6)!==0?Ft():ll!==-1?ll:ll=Ft()}function ms(n){return(n.mode&1)===0?1:(st&2)!==0&&Yt!==0?Yt&-Yt:uN.transition!==null?(cl===0&&(cl=Rf()),cl):(n=ut,n!==0||(n=window.event,n=n===void 0?16:Lf(n.type)),n)}function nr(n,a,i,d){if(50<zo)throw zo=0,Qd=null,Error(s(185));co(n,i,d),((st&2)===0||n!==qt)&&(n===qt&&((st&2)===0&&(sl|=i),Bt===4&&fs(n,Yt)),gn(n,d),i===1&&st===0&&(a.mode&1)===0&&(Pa=Ft()+500,Fi&&os()))}function gn(n,a){var i=n.callbackNode;ub(n,a);var d=vi(n,n===qt?Yt:0);if(d===0)i!==null&&Tf(i),n.callbackNode=null,n.callbackPriority=0;else if(a=d&-d,n.callbackPriority!==a){if(i!=null&&Tf(i),a===1)n.tag===0?dN(Lp.bind(null,n)):Ch(Lp.bind(null,n)),oN(function(){(st&6)===0&&os()}),i=null;else{switch(Mf(d)){case 1:i=Pc;break;case 4:i=kf;break;case 16:i=hi;break;case 536870912:i=Pf;break;default:i=hi}i=Gp(i,$p.bind(null,n))}n.callbackPriority=a,n.callbackNode=i}}function $p(n,a){if(ll=-1,cl=0,(st&6)!==0)throw Error(s(327));var i=n.callbackNode;if(Ra()&&n.callbackNode!==i)return null;var d=vi(n,n===qt?Yt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||a)a=dl(n,d);else{a=d;var h=st;st|=2;var y=Vp();(qt!==n||Yt!==a)&&(Or=null,Pa=Ft()+500,qs(n,a));do try{MN();break}catch(_){zp(n,_)}while(!0);hd(),rl.current=y,st=h,Lt!==null?a=0:(qt=null,Yt=0,a=Bt)}if(a!==0){if(a===2&&(h=Rc(n),h!==0&&(d=h,a=Jd(n,h))),a===1)throw i=$o,qs(n,0),fs(n,d),gn(n,Ft()),i;if(a===6)fs(n,d);else{if(h=n.current.alternate,(d&30)===0&&!PN(h)&&(a=dl(n,d),a===2&&(y=Rc(n),y!==0&&(d=y,a=Jd(n,y))),a===1))throw i=$o,qs(n,0),fs(n,d),gn(n,Ft()),i;switch(n.finishedWork=h,n.finishedLanes=d,a){case 0:case 1:throw Error(s(345));case 2:Gs(n,xn,Or);break;case 3:if(fs(n,d),(d&130023424)===d&&(a=Kd+500-Ft(),10<a)){if(vi(n,0)!==0)break;if(h=n.suspendedLanes,(h&d)!==d){on(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=rd(Gs.bind(null,n,xn,Or),a);break}Gs(n,xn,Or);break;case 4:if(fs(n,d),(d&4194240)===d)break;for(a=n.eventTimes,h=-1;0<d;){var k=31-Qn(d);y=1<<k,k=a[k],k>h&&(h=k),d&=~y}if(d=h,d=Ft()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*kN(d/1960))-d,10<d){n.timeoutHandle=rd(Gs.bind(null,n,xn,Or),d);break}Gs(n,xn,Or);break;case 5:Gs(n,xn,Or);break;default:throw Error(s(329))}}}return gn(n,Ft()),n.callbackNode===i?$p.bind(null,n):null}function Jd(n,a){var i=Lo;return n.current.memoizedState.isDehydrated&&(qs(n,a).flags|=256),n=dl(n,a),n!==2&&(a=xn,xn=i,a!==null&&Xd(a)),n}function Xd(n){xn===null?xn=n:xn.push.apply(xn,n)}function PN(n){for(var a=n;;){if(a.flags&16384){var i=a.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var d=0;d<i.length;d++){var h=i[d],y=h.getSnapshot;h=h.value;try{if(!Jn(y(),h))return!1}catch{return!1}}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fs(n,a){for(a&=~Gd,a&=~sl,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var i=31-Qn(a),d=1<<i;n[i]=-1,a&=~d}}function Lp(n){if((st&6)!==0)throw Error(s(327));Ra();var a=vi(n,0);if((a&1)===0)return gn(n,Ft()),null;var i=dl(n,a);if(n.tag!==0&&i===2){var d=Rc(n);d!==0&&(a=d,i=Jd(n,d))}if(i===1)throw i=$o,qs(n,0),fs(n,a),gn(n,Ft()),i;if(i===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,Gs(n,xn,Or),gn(n,Ft()),null}function Zd(n,a){var i=st;st|=1;try{return n(a)}finally{st=i,st===0&&(Pa=Ft()+500,Fi&&os())}}function Ws(n){us!==null&&us.tag===0&&(st&6)===0&&Ra();var a=st;st|=1;var i=Bn.transition,d=ut;try{if(Bn.transition=null,ut=1,n)return n()}finally{ut=d,Bn.transition=i,st=a,(st&6)===0&&os()}}function eu(){Tn=ka.current,Ct(ka)}function qs(n,a){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,aN(i)),Lt!==null)for(i=Lt.return;i!==null;){var d=i;switch(cd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Oi();break;case 3:Sa(),Ct(fn),Ct(Zt),bd();break;case 5:wd(d);break;case 4:Sa();break;case 13:Ct(Rt);break;case 19:Ct(Rt);break;case 10:pd(d.type._context);break;case 22:case 23:eu()}i=i.return}if(qt=n,Lt=n=hs(n.current,null),Yt=Tn=a,Bt=0,$o=null,Gd=sl=Hs=0,xn=Lo=null,Vs!==null){for(a=0;a<Vs.length;a++)if(i=Vs[a],d=i.interleaved,d!==null){i.interleaved=null;var h=d.next,y=i.pending;if(y!==null){var k=y.next;y.next=h,d.next=k}i.pending=d}Vs=null}return n}function zp(n,a){do{var i=Lt;try{if(hd(),Gi.current=Ji,Ki){for(var d=Mt.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Ki=!1}if(Us=0,Wt=Vt=Mt=null,Do=!1,Ao=0,qd.current=null,i===null||i.return===null){Bt=1,$o=a,Lt=null;break}e:{var y=n,k=i.return,_=i,z=a;if(a=Yt,_.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ne=z,ve=_,ye=ve.tag;if((ve.mode&1)===0&&(ye===0||ye===11||ye===15)){var he=ve.alternate;he?(ve.updateQueue=he.updateQueue,ve.memoizedState=he.memoizedState,ve.lanes=he.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ee=up(k);if(Ee!==null){Ee.flags&=-257,mp(Ee,k,_,y,a),Ee.mode&1&&dp(y,ne,a),a=Ee,z=ne;var Me=a.updateQueue;if(Me===null){var De=new Set;De.add(z),a.updateQueue=De}else Me.add(z);break e}else{if((a&1)===0){dp(y,ne,a),tu();break e}z=Error(s(426))}}else if(Et&&_.mode&1){var $t=up(k);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),mp($t,k,_,y,a),md(Ea(z,_));break e}}y=z=Ea(z,_),Bt!==4&&(Bt=2),Lo===null?Lo=[y]:Lo.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var X=lp(y,z,a);Oh(y,X);break e;case 1:_=z;var B=y.type,Z=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ds===null||!ds.has(Z)))){y.flags|=65536,a&=-a,y.lanes|=a;var je=cp(y,_,a);Oh(y,je);break e}}y=y.return}while(y!==null)}Up(i)}catch(Ae){a=Ae,Lt===i&&i!==null&&(Lt=i=i.return);continue}break}while(!0)}function Vp(){var n=rl.current;return rl.current=Ji,n===null?Ji:n}function tu(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),qt===null||(Hs&268435455)===0&&(sl&268435455)===0||fs(qt,Yt)}function dl(n,a){var i=st;st|=2;var d=Vp();(qt!==n||Yt!==a)&&(Or=null,qs(n,a));do try{RN();break}catch(h){zp(n,h)}while(!0);if(hd(),st=i,rl.current=d,Lt!==null)throw Error(s(261));return qt=null,Yt=0,Bt}function RN(){for(;Lt!==null;)Bp(Lt)}function MN(){for(;Lt!==null&&!nb();)Bp(Lt)}function Bp(n){var a=qp(n.alternate,n,Tn);n.memoizedProps=n.pendingProps,a===null?Up(n):Lt=a,qd.current=null}function Up(n){var a=n;do{var i=a.alternate;if(n=a.return,(a.flags&32768)===0){if(i=NN(i,a,Tn),i!==null){Lt=i;return}}else{if(i=CN(i,a),i!==null){i.flags&=32767,Lt=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Bt=6,Lt=null;return}}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=n}while(a!==null);Bt===0&&(Bt=5)}function Gs(n,a,i){var d=ut,h=Bn.transition;try{Bn.transition=null,ut=1,DN(n,a,i,d)}finally{Bn.transition=h,ut=d}return null}function DN(n,a,i,d){do Ra();while(us!==null);if((st&6)!==0)throw Error(s(327));i=n.finishedWork;var h=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var y=i.lanes|i.childLanes;if(mb(n,y),n===qt&&(Lt=qt=null,Yt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ol||(ol=!0,Gp(hi,function(){return Ra(),null})),y=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||y){y=Bn.transition,Bn.transition=null;var k=ut;ut=1;var _=st;st|=4,qd.current=null,EN(n,i),Ap(i,n),Xb(td),ji=!!ed,td=ed=null,n.current=i,TN(i),rb(),st=_,ut=k,Bn.transition=y}else n.current=i;if(ol&&(ol=!1,us=n,il=h),y=n.pendingLanes,y===0&&(ds=null),ob(i.stateNode),gn(n,Ft()),a!==null)for(d=n.onRecoverableError,i=0;i<a.length;i++)h=a[i],d(h.value,{componentStack:h.stack,digest:h.digest});if(al)throw al=!1,n=Yd,Yd=null,n;return(il&1)!==0&&n.tag!==0&&Ra(),y=n.pendingLanes,(y&1)!==0?n===Qd?zo++:(zo=0,Qd=n):zo=0,os(),null}function Ra(){if(us!==null){var n=Mf(il),a=Bn.transition,i=ut;try{if(Bn.transition=null,ut=16>n?16:n,us===null)var d=!1;else{if(n=us,us=null,il=0,(st&6)!==0)throw Error(s(331));var h=st;for(st|=4,Pe=n.current;Pe!==null;){var y=Pe,k=y.child;if((Pe.flags&16)!==0){var _=y.deletions;if(_!==null){for(var z=0;z<_.length;z++){var ne=_[z];for(Pe=ne;Pe!==null;){var ve=Pe;switch(ve.tag){case 0:case 11:case 15:Fo(8,ve,y)}var ye=ve.child;if(ye!==null)ye.return=ve,Pe=ye;else for(;Pe!==null;){ve=Pe;var he=ve.sibling,Ee=ve.return;if(kp(ve),ve===ne){Pe=null;break}if(he!==null){he.return=Ee,Pe=he;break}Pe=Ee}}}var Me=y.alternate;if(Me!==null){var De=Me.child;if(De!==null){Me.child=null;do{var $t=De.sibling;De.sibling=null,De=$t}while(De!==null)}}Pe=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,Pe=k;else e:for(;Pe!==null;){if(y=Pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Fo(9,y,y.return)}var X=y.sibling;if(X!==null){X.return=y.return,Pe=X;break e}Pe=y.return}}var B=n.current;for(Pe=B;Pe!==null;){k=Pe;var Z=k.child;if((k.subtreeFlags&2064)!==0&&Z!==null)Z.return=k,Pe=Z;else e:for(k=B;Pe!==null;){if(_=Pe,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:nl(9,_)}}catch(Ae){_t(_,_.return,Ae)}if(_===k){Pe=null;break e}var je=_.sibling;if(je!==null){je.return=_.return,Pe=je;break e}Pe=_.return}}if(st=h,os(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(pi,n)}catch{}d=!0}return d}finally{ut=i,Bn.transition=a}}return!1}function Hp(n,a,i){a=Ea(i,a),a=lp(n,a,1),n=ls(n,a,1),a=on(),n!==null&&(co(n,1,a),gn(n,a))}function _t(n,a,i){if(n.tag===3)Hp(n,n,i);else for(;a!==null;){if(a.tag===3){Hp(a,n,i);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ds===null||!ds.has(d))){n=Ea(i,n),n=cp(a,n,1),a=ls(a,n,1),n=on(),a!==null&&(co(a,1,n),gn(a,n));break}}a=a.return}}function AN(n,a,i){var d=n.pingCache;d!==null&&d.delete(a),a=on(),n.pingedLanes|=n.suspendedLanes&i,qt===n&&(Yt&i)===i&&(Bt===4||Bt===3&&(Yt&130023424)===Yt&&500>Ft()-Kd?qs(n,0):Gd|=i),gn(n,a)}function Wp(n,a){a===0&&((n.mode&1)===0?a=1:(a=gi,gi<<=1,(gi&130023424)===0&&(gi=4194304)));var i=on();n=Dr(n,a),n!==null&&(co(n,a,i),gn(n,i))}function _N(n){var a=n.memoizedState,i=0;a!==null&&(i=a.retryLane),Wp(n,i)}function ON(n,a){var i=0;switch(n.tag){case 13:var d=n.stateNode,h=n.memoizedState;h!==null&&(i=h.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(a),Wp(n,i)}var qp;qp=function(n,a,i){if(n!==null)if(n.memoizedProps!==a.pendingProps||fn.current)pn=!0;else{if((n.lanes&i)===0&&(a.flags&128)===0)return pn=!1,bN(n,a,i);pn=(n.flags&131072)!==0}else pn=!1,Et&&(a.flags&1048576)!==0&&Sh(a,Li,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;el(n,a),n=a.pendingProps;var h=va(a,Zt.current);Ca(a,i),h=Sd(null,a,d,n,h,i);var y=Ed();return a.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,hn(d)?(y=!0,Ii(a)):y=!1,a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,vd(a),h.updater=Xi,a.stateNode=h,h._reactInternals=a,Dd(a,d,n,i),a=Id(null,a,d,!0,y,i)):(a.tag=0,Et&&y&&ld(a),an(null,a,h,i),a=a.child),a;case 16:d=a.elementType;e:{switch(el(n,a),n=a.pendingProps,h=d._init,d=h(d._payload),a.type=d,h=a.tag=FN(d),n=Zn(d,n),h){case 0:a=Od(null,a,d,n,i);break e;case 1:a=vp(null,a,d,n,i);break e;case 11:a=fp(null,a,d,n,i);break e;case 14:a=hp(null,a,d,Zn(d.type,n),i);break e}throw Error(s(306,d,""))}return a;case 0:return d=a.type,h=a.pendingProps,h=a.elementType===d?h:Zn(d,h),Od(n,a,d,h,i);case 1:return d=a.type,h=a.pendingProps,h=a.elementType===d?h:Zn(d,h),vp(n,a,d,h,i);case 3:e:{if(yp(a),n===null)throw Error(s(387));d=a.pendingProps,y=a.memoizedState,h=y.element,_h(n,a),Wi(a,d,null,i);var k=a.memoizedState;if(d=k.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){h=Ea(Error(s(423)),a),a=wp(n,a,d,i,h);break e}else if(d!==h){h=Ea(Error(s(424)),a),a=wp(n,a,d,i,h);break e}else for(En=rs(a.stateNode.containerInfo.firstChild),Sn=a,Et=!0,Xn=null,i=Dh(a,null,d,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ja(),d===h){a=_r(n,a,i);break e}an(n,a,d,i)}a=a.child}return a;case 5:return Fh(a),n===null&&ud(a),d=a.type,h=a.pendingProps,y=n!==null?n.memoizedProps:null,k=h.children,nd(d,h)?k=null:y!==null&&nd(d,y)&&(a.flags|=32),gp(n,a),an(n,a,k,i),a.child;case 6:return n===null&&ud(a),null;case 13:return jp(n,a,i);case 4:return yd(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=ba(a,null,d,i):an(n,a,d,i),a.child;case 11:return d=a.type,h=a.pendingProps,h=a.elementType===d?h:Zn(d,h),fp(n,a,d,h,i);case 7:return an(n,a,a.pendingProps,i),a.child;case 8:return an(n,a,a.pendingProps.children,i),a.child;case 12:return an(n,a,a.pendingProps.children,i),a.child;case 10:e:{if(d=a.type._context,h=a.pendingProps,y=a.memoizedProps,k=h.value,wt(Bi,d._currentValue),d._currentValue=k,y!==null)if(Jn(y.value,k)){if(y.children===h.children&&!fn.current){a=_r(n,a,i);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){k=y.child;for(var z=_.firstContext;z!==null;){if(z.context===d){if(y.tag===1){z=Ar(-1,i&-i),z.tag=2;var ne=y.updateQueue;if(ne!==null){ne=ne.shared;var ve=ne.pending;ve===null?z.next=z:(z.next=ve.next,ve.next=z),ne.pending=z}}y.lanes|=i,z=y.alternate,z!==null&&(z.lanes|=i),xd(y.return,i,a),_.lanes|=i;break}z=z.next}}else if(y.tag===10)k=y.type===a.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(s(341));k.lanes|=i,_=k.alternate,_!==null&&(_.lanes|=i),xd(k,i,a),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}an(n,a,h.children,i),a=a.child}return a;case 9:return h=a.type,d=a.pendingProps.children,Ca(a,i),h=zn(h),d=d(h),a.flags|=1,an(n,a,d,i),a.child;case 14:return d=a.type,h=Zn(d,a.pendingProps),h=Zn(d.type,h),hp(n,a,d,h,i);case 15:return pp(n,a,a.type,a.pendingProps,i);case 17:return d=a.type,h=a.pendingProps,h=a.elementType===d?h:Zn(d,h),el(n,a),a.tag=1,hn(d)?(n=!0,Ii(a)):n=!1,Ca(a,i),op(a,d,h),Dd(a,d,h,i),Id(null,a,d,!0,n,i);case 19:return Np(n,a,i);case 22:return xp(n,a,i)}throw Error(s(156,a.tag))};function Gp(n,a){return Ef(n,a)}function IN(n,a,i,d){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,a,i,d){return new IN(n,a,i,d)}function nu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FN(n){if(typeof n=="function")return nu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===F)return 14}return 2}function hs(n,a){var i=n.alternate;return i===null?(i=Un(n.tag,a,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=a,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,a=n.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function ul(n,a,i,d,h,y){var k=2;if(d=n,typeof n=="function")nu(n)&&(k=1);else if(typeof n=="string")k=5;else e:switch(n){case V:return Ks(i.children,h,y,a);case se:k=8,h|=8;break;case ue:return n=Un(12,i,a,h|2),n.elementType=ue,n.lanes=y,n;case re:return n=Un(13,i,a,h),n.elementType=re,n.lanes=y,n;case Q:return n=Un(19,i,a,h),n.elementType=Q,n.lanes=y,n;case Y:return ml(i,h,y,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:k=10;break e;case te:k=9;break e;case L:k=11;break e;case F:k=14;break e;case G:k=16,d=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return a=Un(k,i,a,h),a.elementType=n,a.type=d,a.lanes=y,a}function Ks(n,a,i,d){return n=Un(7,n,d,a),n.lanes=i,n}function ml(n,a,i,d){return n=Un(22,n,d,a),n.elementType=Y,n.lanes=i,n.stateNode={isHidden:!1},n}function ru(n,a,i){return n=Un(6,n,null,a),n.lanes=i,n}function su(n,a,i){return a=Un(4,n.children!==null?n.children:[],n.key,a),a.lanes=i,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function $N(n,a,i,d,h){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function au(n,a,i,d,h,y,k,_,z){return n=new $N(n,a,i,_,z),a===1?(a=1,y===!0&&(a|=8)):a=0,y=Un(3,null,null,a),n.current=y,y.stateNode=n,y.memoizedState={element:d,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(y),n}function LN(n,a,i){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:d==null?null:""+d,children:n,containerInfo:a,implementation:i}}function Kp(n){if(!n)return as;n=n._reactInternals;e:{if(Is(n)!==n||n.tag!==1)throw Error(s(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(n.tag===1){var i=n.type;if(hn(i))return bh(n,i,a)}return a}function Yp(n,a,i,d,h,y,k,_,z){return n=au(i,d,!0,n,h,y,k,_,z),n.context=Kp(null),i=n.current,d=on(),h=ms(i),y=Ar(d,h),y.callback=a??null,ls(i,y,h),n.current.lanes=h,co(n,h,d),gn(n,d),n}function fl(n,a,i,d){var h=a.current,y=on(),k=ms(h);return i=Kp(i),a.context===null?a.context=i:a.pendingContext=i,a=Ar(y,k),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=ls(h,a,k),n!==null&&(nr(n,h,k,y),Hi(n,h,k)),k}function hl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Qp(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<a?i:a}}function ou(n,a){Qp(n,a),(n=n.alternate)&&Qp(n,a)}function zN(){return null}var Jp=typeof reportError=="function"?reportError:function(n){console.error(n)};function iu(n){this._internalRoot=n}pl.prototype.render=iu.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));fl(n,a,null,null)},pl.prototype.unmount=iu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Ws(function(){fl(null,n,null,null)}),a[kr]=null}};function pl(n){this._internalRoot=n}pl.prototype.unstable_scheduleHydration=function(n){if(n){var a=_f();n={blockedOn:null,target:n,priority:a};for(var i=0;i<es.length&&a!==0&&a<es[i].priority;i++);es.splice(i,0,n),i===0&&Ff(n)}};function lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Xp(){}function VN(n,a,i,d,h){if(h){if(typeof d=="function"){var y=d;d=function(){var ne=hl(k);y.call(ne)}}var k=Yp(a,d,n,0,null,!1,!1,"",Xp);return n._reactRootContainer=k,n[kr]=k.current,Co(n.nodeType===8?n.parentNode:n),Ws(),k}for(;h=n.lastChild;)n.removeChild(h);if(typeof d=="function"){var _=d;d=function(){var ne=hl(z);_.call(ne)}}var z=au(n,0,!1,null,null,!1,!1,"",Xp);return n._reactRootContainer=z,n[kr]=z.current,Co(n.nodeType===8?n.parentNode:n),Ws(function(){fl(a,z,i,d)}),z}function gl(n,a,i,d,h){var y=i._reactRootContainer;if(y){var k=y;if(typeof h=="function"){var _=h;h=function(){var z=hl(k);_.call(z)}}fl(a,k,n,h)}else k=VN(i,a,n,h,d);return hl(k)}Df=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var i=lo(a.pendingLanes);i!==0&&(Dc(a,i|1),gn(a,Ft()),(st&6)===0&&(Pa=Ft()+500,os()))}break;case 13:Ws(function(){var d=Dr(n,1);if(d!==null){var h=on();nr(d,n,1,h)}}),ou(n,1)}},Ac=function(n){if(n.tag===13){var a=Dr(n,134217728);if(a!==null){var i=on();nr(a,n,134217728,i)}ou(n,134217728)}},Af=function(n){if(n.tag===13){var a=ms(n),i=Dr(n,a);if(i!==null){var d=on();nr(i,n,a,d)}ou(n,a)}},_f=function(){return ut},Of=function(n,a){var i=ut;try{return ut=n,a()}finally{ut=i}},Qr=function(n,a,i){switch(a){case"input":if(de(n,i),a=i.name,i.type==="radio"&&a!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<i.length;a++){var d=i[a];if(d!==n&&d.form===n.form){var h=_i(d);if(!h)throw Error(s(90));pe(d),de(d,h)}}}break;case"textarea":rt(n,i);break;case"select":a=i.value,a!=null&&xe(n,!!i.multiple,a,!1)}},Re=Zd,qe=Ws;var BN={usingClientEntryPoint:!1,Events:[To,xa,_i,ae,ge,Zd]},Vo={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Cf(n),n===null?null:n.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||zN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{pi=vl.inject(UN),fr=vl}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BN,vn.createPortal=function(n,a){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lu(a))throw Error(s(200));return LN(n,a,null,i)},vn.createRoot=function(n,a){if(!lu(n))throw Error(s(299));var i=!1,d="",h=Jp;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(h=a.onRecoverableError)),a=au(n,1,!1,null,null,i,!1,d,h),n[kr]=a.current,Co(n.nodeType===8?n.parentNode:n),new iu(a)},vn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Cf(a),n=n===null?null:n.stateNode,n},vn.flushSync=function(n){return Ws(n)},vn.hydrate=function(n,a,i){if(!xl(a))throw Error(s(200));return gl(null,n,a,!0,i)},vn.hydrateRoot=function(n,a,i){if(!lu(n))throw Error(s(405));var d=i!=null&&i.hydratedSources||null,h=!1,y="",k=Jp;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(y=i.identifierPrefix),i.onRecoverableError!==void 0&&(k=i.onRecoverableError)),a=Yp(a,null,n,1,i??null,h,!1,y,k),n[kr]=a.current,Co(n),d)for(n=0;n<d.length;n++)i=d[n],h=i._getVersion,h=h(i._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[i,h]:a.mutableSourceEagerHydrationData.push(i,h);return new pl(a)},vn.render=function(n,a,i){if(!xl(a))throw Error(s(200));return gl(null,n,a,!1,i)},vn.unmountComponentAtNode=function(n){if(!xl(n))throw Error(s(40));return n._reactRootContainer?(Ws(function(){gl(null,null,n,!1,function(){n._reactRootContainer=null,n[kr]=null})}),!0):!1},vn.unstable_batchedUpdates=Zd,vn.unstable_renderSubtreeIntoContainer=function(n,a,i,d){if(!xl(i))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return gl(n,a,i,!1,d)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var ox;function Sg(){if(ox)return uu.exports;ox=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),uu.exports=JN(),uu.exports}var ix;function XN(){if(ix)return yl;ix=1;var t=Sg();return yl.createRoot=t.createRoot,yl.hydrateRoot=t.hydrateRoot,yl}var ZN=XN(),u=gm();const Ne=Cg(u),vm=WN({__proto__:null,default:Ne},[u]),eC=1,tC=1e6;let hu=0;function nC(){return hu=(hu+1)%Number.MAX_SAFE_INTEGER,hu.toString()}const pu=new Map,lx=t=>{if(pu.has(t))return;const r=setTimeout(()=>{pu.delete(t),Ko({type:"REMOVE_TOAST",toastId:t})},tC);pu.set(t,r)},rC=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,eC)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?lx(s):t.toasts.forEach(o=>{lx(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==r.toastId)}}},Dl=[];let Al={toasts:[]};function Ko(t){Al=rC(Al,t),Dl.forEach(r=>{r(Al)})}function sC({...t}){const r=nC(),s=l=>Ko({type:"UPDATE_TOAST",toast:{...l,id:r}}),o=()=>Ko({type:"DISMISS_TOAST",toastId:r});return Ko({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:l=>{l||o()}}}),{id:r,dismiss:o,update:s}}function Tt(){const[t,r]=u.useState(Al);return u.useEffect(()=>(Dl.push(r),()=>{const s=Dl.indexOf(r);s>-1&&Dl.splice(s,1)}),[t]),{...t,toast:sC,dismiss:s=>Ko({type:"DISMISS_TOAST",toastId:s})}}var Xa=Sg();const Eg=Cg(Xa);function Ce(t,r,{checkForDefaultPrevented:s=!0}={}){return function(l){if(t?.(l),s===!1||!l.defaultPrevented)return r?.(l)}}function cx(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function ym(...t){return r=>{let s=!1;const o=t.map(l=>{const c=cx(l,r);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<o.length;l++){const c=o[l];typeof c=="function"?c():cx(t[l],null)}}}}function Ye(...t){return u.useCallback(ym(...t),t)}function aC(t,r){const s=u.createContext(r),o=c=>{const{children:m,...f}=c,p=u.useMemo(()=>f,Object.values(f));return e.jsx(s.Provider,{value:p,children:m})};o.displayName=t+"Provider";function l(c){const m=u.useContext(s);if(m)return m;if(r!==void 0)return r;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,l]}function un(t,r=[]){let s=[];function o(c,m){const f=u.createContext(m),p=s.length;s=[...s,m];const g=x=>{const{scope:b,children:j,...P}=x,N=b?.[t]?.[p]||f,w=u.useMemo(()=>P,Object.values(P));return e.jsx(N.Provider,{value:w,children:j})};g.displayName=c+"Provider";function v(x,b){const j=b?.[t]?.[p]||f,P=u.useContext(j);if(P)return P;if(m!==void 0)return m;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[g,v]}const l=()=>{const c=s.map(m=>u.createContext(m));return function(f){const p=f?.[t]||c;return u.useMemo(()=>({[`__scope${t}`]:{...f,[t]:p}}),[f,p])}};return l.scopeName=t,[o,oC(l,...r)]}function oC(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const o=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const m=o.reduce((f,{useScope:p,scopeName:g})=>{const x=p(c)[`__scope${g}`];return{...f,...x}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:m}),[m])}};return s.scopeName=r.scopeName,s}function Js(t){const r=lC(t),s=u.forwardRef((o,l)=>{const{children:c,...m}=o,f=u.Children.toArray(c),p=f.find(cC);if(p){const g=p.props.children,v=f.map(x=>x===p?u.Children.count(g)>1?u.Children.only(null):u.isValidElement(g)?g.props.children:null:x);return e.jsx(r,{...m,ref:l,children:u.isValidElement(g)?u.cloneElement(g,void 0,v):null})}return e.jsx(r,{...m,ref:l,children:c})});return s.displayName=`${t}.Slot`,s}var iC=Js("Slot");function lC(t){const r=u.forwardRef((s,o)=>{const{children:l,...c}=s;if(u.isValidElement(l)){const m=uC(l),f=dC(c,l.props);return l.type!==u.Fragment&&(f.ref=o?ym(o,m):m),u.cloneElement(l,f)}return u.Children.count(l)>1?u.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Tg=Symbol("radix.slottable");function kg(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=Tg,r}function cC(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tg}function dC(t,r){const s={...r};for(const o in r){const l=t[o],c=r[o];/^on[A-Z]/.test(o)?l&&c?s[o]=(...f)=>{const p=c(...f);return l(...f),p}:l&&(s[o]=l):o==="style"?s[o]={...l,...c}:o==="className"&&(s[o]=[l,c].filter(Boolean).join(" "))}return{...t,...s}}function uC(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Jl(t){const r=t+"CollectionProvider",[s,o]=un(r),[l,c]=s(r,{collectionRef:{current:null},itemMap:new Map}),m=N=>{const{scope:w,children:S}=N,C=Ne.useRef(null),E=Ne.useRef(new Map).current;return e.jsx(l,{scope:w,itemMap:E,collectionRef:C,children:S})};m.displayName=r;const f=t+"CollectionSlot",p=Js(f),g=Ne.forwardRef((N,w)=>{const{scope:S,children:C}=N,E=c(f,S),O=Ye(w,E.collectionRef);return e.jsx(p,{ref:O,children:C})});g.displayName=f;const v=t+"CollectionItemSlot",x="data-radix-collection-item",b=Js(v),j=Ne.forwardRef((N,w)=>{const{scope:S,children:C,...E}=N,O=Ne.useRef(null),D=Ye(w,O),U=c(v,S);return Ne.useEffect(()=>(U.itemMap.set(O,{ref:O,...E}),()=>void U.itemMap.delete(O))),e.jsx(b,{[x]:"",ref:D,children:C})});j.displayName=v;function P(N){const w=c(t+"CollectionConsumer",N);return Ne.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(w.itemMap.values()).sort((U,V)=>E.indexOf(U.ref.current)-E.indexOf(V.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:m,Slot:g,ItemSlot:j},P,o]}var mC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=mC.reduce((t,r)=>{const s=Js(`Primitive.${r}`),o=u.forwardRef((l,c)=>{const{asChild:m,...f}=l,p=m?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...f,ref:c})});return o.displayName=`Primitive.${r}`,{...t,[r]:o}},{});function wm(t,r){t&&Xa.flushSync(()=>t.dispatchEvent(r))}function dn(t){const r=u.useRef(t);return u.useEffect(()=>{r.current=t}),u.useMemo(()=>(...s)=>r.current?.(...s),[])}function fC(t,r=globalThis?.document){const s=dn(t);u.useEffect(()=>{const o=l=>{l.key==="Escape"&&s(l)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[s,r])}var hC="DismissableLayer",Iu="dismissableLayer.update",pC="dismissableLayer.pointerDownOutside",xC="dismissableLayer.focusOutside",dx,Pg=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Za=u.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:m,onDismiss:f,...p}=t,g=u.useContext(Pg),[v,x]=u.useState(null),b=v?.ownerDocument??globalThis?.document,[,j]=u.useState({}),P=Ye(r,V=>x(V)),N=Array.from(g.layers),[w]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),S=N.indexOf(w),C=v?N.indexOf(v):-1,E=g.layersWithOutsidePointerEventsDisabled.size>0,O=C>=S,D=vC(V=>{const se=V.target,ue=[...g.branches].some(ie=>ie.contains(se));!O||ue||(l?.(V),m?.(V),V.defaultPrevented||f?.())},b),U=yC(V=>{const se=V.target;[...g.branches].some(ie=>ie.contains(se))||(c?.(V),m?.(V),V.defaultPrevented||f?.())},b);return fC(V=>{C===g.layers.size-1&&(o?.(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},b),u.useEffect(()=>{if(v)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(dx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),ux(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=dx)}},[v,b,s,g]),u.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),ux())},[v,g]),u.useEffect(()=>{const V=()=>j({});return document.addEventListener(Iu,V),()=>document.removeEventListener(Iu,V)},[]),e.jsx(Ie.div,{...p,ref:P,style:{pointerEvents:E?O?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,D.onPointerDownCapture)})});Za.displayName=hC;var gC="DismissableLayerBranch",Rg=u.forwardRef((t,r)=>{const s=u.useContext(Pg),o=u.useRef(null),l=Ye(r,o);return u.useEffect(()=>{const c=o.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),e.jsx(Ie.div,{...t,ref:l})});Rg.displayName=gC;function vC(t,r=globalThis?.document){const s=dn(t),o=u.useRef(!1),l=u.useRef(()=>{});return u.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let p=function(){Mg(pC,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",l.current),l.current=p,r.addEventListener("click",l.current,{once:!0})):p()}else r.removeEventListener("click",l.current);o.current=!1},m=window.setTimeout(()=>{r.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(m),r.removeEventListener("pointerdown",c),r.removeEventListener("click",l.current)}},[r,s]),{onPointerDownCapture:()=>o.current=!0}}function yC(t,r=globalThis?.document){const s=dn(t),o=u.useRef(!1);return u.useEffect(()=>{const l=c=>{c.target&&!o.current&&Mg(xC,s,{originalEvent:c},{discrete:!1})};return r.addEventListener("focusin",l),()=>r.removeEventListener("focusin",l)},[r,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ux(){const t=new CustomEvent(Iu);document.dispatchEvent(t)}function Mg(t,r,s,{discrete:o}){const l=s.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&l.addEventListener(t,r,{once:!0}),o?wm(l,c):l.dispatchEvent(c)}var wC=Za,jC=Rg,Jt=globalThis?.document?u.useLayoutEffect:()=>{},bC="Portal",oi=u.forwardRef((t,r)=>{const{container:s,...o}=t,[l,c]=u.useState(!1);Jt(()=>c(!0),[]);const m=s||l&&globalThis?.document?.body;return m?Eg.createPortal(e.jsx(Ie.div,{...o,ref:r}),m):null});oi.displayName=bC;function NC(t,r){return u.useReducer((s,o)=>r[s][o]??s,t)}var An=t=>{const{present:r,children:s}=t,o=CC(r),l=typeof s=="function"?s({present:o.isPresent}):u.Children.only(s),c=Ye(o.ref,SC(l));return typeof s=="function"||o.isPresent?u.cloneElement(l,{ref:c}):null};An.displayName="Presence";function CC(t){const[r,s]=u.useState(),o=u.useRef(null),l=u.useRef(t),c=u.useRef("none"),m=t?"mounted":"unmounted",[f,p]=NC(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const g=wl(o.current);c.current=f==="mounted"?g:"none"},[f]),Jt(()=>{const g=o.current,v=l.current;if(v!==t){const b=c.current,j=wl(g);t?p("MOUNT"):j==="none"||g?.display==="none"?p("UNMOUNT"):p(v&&b!==j?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,p]),Jt(()=>{if(r){let g;const v=r.ownerDocument.defaultView??window,x=j=>{const N=wl(o.current).includes(CSS.escape(j.animationName));if(j.target===r&&N&&(p("ANIMATION_END"),!l.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",g=v.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},b=j=>{j.target===r&&(c.current=wl(o.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",x),r.addEventListener("animationend",x),()=>{v.clearTimeout(g),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",x),r.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[r,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:u.useCallback(g=>{o.current=g?getComputedStyle(g):null,s(g)},[])}}function wl(t){return t?.animationName||"none"}function SC(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var EC=vm[" useInsertionEffect ".trim().toString()]||Jt;function Cr({prop:t,defaultProp:r,onChange:s=()=>{},caller:o}){const[l,c,m]=TC({defaultProp:r,onChange:s}),f=t!==void 0,p=f?t:l;{const v=u.useRef(t!==void 0);u.useEffect(()=>{const x=v.current;x!==f&&console.warn(`${o} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,o])}const g=u.useCallback(v=>{if(f){const x=kC(v)?v(t):v;x!==t&&m.current?.(x)}else c(v)},[f,t,c,m]);return[p,g]}function TC({defaultProp:t,onChange:r}){const[s,o]=u.useState(t),l=u.useRef(s),c=u.useRef(r);return EC(()=>{c.current=r},[r]),u.useEffect(()=>{l.current!==s&&(c.current?.(s),l.current=s)},[s,l]),[s,o,c]}function kC(t){return typeof t=="function"}var Dg=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PC="VisuallyHidden",Xl=u.forwardRef((t,r)=>e.jsx(Ie.span,{...t,ref:r,style:{...Dg,...t.style}}));Xl.displayName=PC;var RC=Xl,jm="ToastProvider",[bm,MC,DC]=Jl("Toast"),[Ag]=un("Toast",[DC]),[AC,Zl]=Ag(jm),_g=t=>{const{__scopeToast:r,label:s="Notification",duration:o=5e3,swipeDirection:l="right",swipeThreshold:c=50,children:m}=t,[f,p]=u.useState(null),[g,v]=u.useState(0),x=u.useRef(!1),b=u.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${jm}\`. Expected non-empty \`string\`.`),e.jsx(bm.Provider,{scope:r,children:e.jsx(AC,{scope:r,label:s,duration:o,swipeDirection:l,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:p,onToastAdd:u.useCallback(()=>v(j=>j+1),[]),onToastRemove:u.useCallback(()=>v(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:b,children:m})})};_g.displayName=jm;var Og="ToastViewport",_C=["F8"],Fu="toast.viewportPause",$u="toast.viewportResume",Ig=u.forwardRef((t,r)=>{const{__scopeToast:s,hotkey:o=_C,label:l="Notifications ({hotkey})",...c}=t,m=Zl(Og,s),f=MC(s),p=u.useRef(null),g=u.useRef(null),v=u.useRef(null),x=u.useRef(null),b=Ye(r,x,m.onViewportChange),j=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=m.toastCount>0;u.useEffect(()=>{const w=S=>{o.length!==0&&o.every(E=>S[E]||S.code===E)&&x.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[o]),u.useEffect(()=>{const w=p.current,S=x.current;if(P&&w&&S){const C=()=>{if(!m.isClosePausedRef.current){const U=new CustomEvent(Fu);S.dispatchEvent(U),m.isClosePausedRef.current=!0}},E=()=>{if(m.isClosePausedRef.current){const U=new CustomEvent($u);S.dispatchEvent(U),m.isClosePausedRef.current=!1}},O=U=>{!w.contains(U.relatedTarget)&&E()},D=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",C),w.addEventListener("focusout",O),w.addEventListener("pointermove",C),w.addEventListener("pointerleave",D),window.addEventListener("blur",C),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",C),w.removeEventListener("focusout",O),w.removeEventListener("pointermove",C),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",C),window.removeEventListener("focus",E)}}},[P,m.isClosePausedRef]);const N=u.useCallback(({tabbingDirection:w})=>{const C=f().map(E=>{const O=E.ref.current,D=[O,...GC(O)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?C.reverse():C).flat()},[f]);return u.useEffect(()=>{const w=x.current;if(w){const S=C=>{const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const D=document.activeElement,U=C.shiftKey;if(C.target===w&&U){g.current?.focus();return}const ue=N({tabbingDirection:U?"backwards":"forwards"}),ie=ue.findIndex(te=>te===D);xu(ue.slice(ie+1))?C.preventDefault():U?g.current?.focus():v.current?.focus()}};return w.addEventListener("keydown",S),()=>w.removeEventListener("keydown",S)}},[f,N]),e.jsxs(jC,{ref:p,role:"region","aria-label":l.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&e.jsx(Lu,{ref:g,onFocusFromOutsideViewport:()=>{const w=N({tabbingDirection:"forwards"});xu(w)}}),e.jsx(bm.Slot,{scope:s,children:e.jsx(Ie.ol,{tabIndex:-1,...c,ref:b})}),P&&e.jsx(Lu,{ref:v,onFocusFromOutsideViewport:()=>{const w=N({tabbingDirection:"backwards"});xu(w)}})]})});Ig.displayName=Og;var Fg="ToastFocusProxy",Lu=u.forwardRef((t,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...l}=t,c=Zl(Fg,s);return e.jsx(Xl,{tabIndex:0,...l,ref:r,style:{position:"fixed"},onFocus:m=>{const f=m.relatedTarget;!c.viewport?.contains(f)&&o()}})});Lu.displayName=Fg;var ii="Toast",OC="toast.swipeStart",IC="toast.swipeMove",FC="toast.swipeCancel",$C="toast.swipeEnd",$g=u.forwardRef((t,r)=>{const{forceMount:s,open:o,defaultOpen:l,onOpenChange:c,...m}=t,[f,p]=Cr({prop:o,defaultProp:l??!0,onChange:c,caller:ii});return e.jsx(An,{present:s||f,children:e.jsx(VC,{open:f,...m,ref:r,onClose:()=>p(!1),onPause:dn(t.onPause),onResume:dn(t.onResume),onSwipeStart:Ce(t.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,g=>{const{x:v,y:x}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,g=>{const{x:v,y:x}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),p(!1)})})})});$g.displayName=ii;var[LC,zC]=Ag(ii,{onClose(){}}),VC=u.forwardRef((t,r)=>{const{__scopeToast:s,type:o="foreground",duration:l,open:c,onClose:m,onEscapeKeyDown:f,onPause:p,onResume:g,onSwipeStart:v,onSwipeMove:x,onSwipeCancel:b,onSwipeEnd:j,...P}=t,N=Zl(ii,s),[w,S]=u.useState(null),C=Ye(r,Q=>S(Q)),E=u.useRef(null),O=u.useRef(null),D=l||N.duration,U=u.useRef(0),V=u.useRef(D),se=u.useRef(0),{onToastAdd:ue,onToastRemove:ie}=N,te=dn(()=>{w?.contains(document.activeElement)&&N.viewport?.focus(),m()}),L=u.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(se.current),U.current=new Date().getTime(),se.current=window.setTimeout(te,Q))},[te]);u.useEffect(()=>{const Q=N.viewport;if(Q){const F=()=>{L(V.current),g?.()},G=()=>{const Y=new Date().getTime()-U.current;V.current=V.current-Y,window.clearTimeout(se.current),p?.()};return Q.addEventListener(Fu,G),Q.addEventListener($u,F),()=>{Q.removeEventListener(Fu,G),Q.removeEventListener($u,F)}}},[N.viewport,D,p,g,L]),u.useEffect(()=>{c&&!N.isClosePausedRef.current&&L(D)},[c,D,N.isClosePausedRef,L]),u.useEffect(()=>(ue(),()=>ie()),[ue,ie]);const re=u.useMemo(()=>w?Wg(w):null,[w]);return N.viewport?e.jsxs(e.Fragment,{children:[re&&e.jsx(BC,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:re}),e.jsx(LC,{scope:s,onClose:te,children:Xa.createPortal(e.jsx(bm.ItemSlot,{scope:s,children:e.jsx(wC,{asChild:!0,onEscapeKeyDown:Ce(f,()=>{N.isFocusedToastEscapeKeyDownRef.current||te(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ie.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":N.swipeDirection,...P,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,Q=>{Q.key==="Escape"&&(f?.(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:Ce(t.onPointerDown,Q=>{Q.button===0&&(E.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:Ce(t.onPointerMove,Q=>{if(!E.current)return;const F=Q.clientX-E.current.x,G=Q.clientY-E.current.y,Y=!!O.current,R=["left","right"].includes(N.swipeDirection),A=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,W=R?A(0,F):0,T=R?0:A(0,G),I=Q.pointerType==="touch"?10:2,$={x:W,y:T},oe={originalEvent:Q,delta:$};Y?(O.current=$,jl(IC,x,oe,{discrete:!1})):mx($,N.swipeDirection,I)?(O.current=$,jl(OC,v,oe,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(F)>I||Math.abs(G)>I)&&(E.current=null)}),onPointerUp:Ce(t.onPointerUp,Q=>{const F=O.current,G=Q.target;if(G.hasPointerCapture(Q.pointerId)&&G.releasePointerCapture(Q.pointerId),O.current=null,E.current=null,F){const Y=Q.currentTarget,R={originalEvent:Q,delta:F};mx(F,N.swipeDirection,N.swipeThreshold)?jl($C,j,R,{discrete:!0}):jl(FC,b,R,{discrete:!0}),Y.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),BC=t=>{const{__scopeToast:r,children:s,...o}=t,l=Zl(ii,r),[c,m]=u.useState(!1),[f,p]=u.useState(!1);return WC(()=>m(!0)),u.useEffect(()=>{const g=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:e.jsx(oi,{asChild:!0,children:e.jsx(Xl,{...o,children:c&&e.jsxs(e.Fragment,{children:[l.label," ",s]})})})},UC="ToastTitle",Lg=u.forwardRef((t,r)=>{const{__scopeToast:s,...o}=t;return e.jsx(Ie.div,{...o,ref:r})});Lg.displayName=UC;var HC="ToastDescription",zg=u.forwardRef((t,r)=>{const{__scopeToast:s,...o}=t;return e.jsx(Ie.div,{...o,ref:r})});zg.displayName=HC;var Vg="ToastAction",Bg=u.forwardRef((t,r)=>{const{altText:s,...o}=t;return s.trim()?e.jsx(Hg,{altText:s,asChild:!0,children:e.jsx(Nm,{...o,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vg}\`. Expected non-empty \`string\`.`),null)});Bg.displayName=Vg;var Ug="ToastClose",Nm=u.forwardRef((t,r)=>{const{__scopeToast:s,...o}=t,l=zC(Ug,s);return e.jsx(Hg,{asChild:!0,children:e.jsx(Ie.button,{type:"button",...o,ref:r,onClick:Ce(t.onClick,l.onClose)})})});Nm.displayName=Ug;var Hg=u.forwardRef((t,r)=>{const{__scopeToast:s,altText:o,...l}=t;return e.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...l,ref:r})});function Wg(t){const r=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),qC(o)){const l=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!l)if(c){const m=o.dataset.radixToastAnnounceAlt;m&&r.push(m)}else r.push(...Wg(o))}}),r}function jl(t,r,s,{discrete:o}){const l=s.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});r&&l.addEventListener(t,r,{once:!0}),o?wm(l,c):l.dispatchEvent(c)}var mx=(t,r,s=0)=>{const o=Math.abs(t.x),l=Math.abs(t.y),c=o>l;return r==="left"||r==="right"?c&&o>s:!c&&l>s};function WC(t=()=>{}){const r=dn(t);Jt(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[r])}function qC(t){return t.nodeType===t.ELEMENT_NODE}function GC(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function xu(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var KC=_g,qg=Ig,Gg=$g,Kg=Lg,Yg=zg,Qg=Bg,Jg=Nm;function Xg(t){var r,s,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(s=Xg(t[r]))&&(o&&(o+=" "),o+=s)}else for(s in t)t[s]&&(o&&(o+=" "),o+=s);return o}function Zg(){for(var t,r,s=0,o="",l=arguments.length;s<l;s++)(t=arguments[s])&&(r=Xg(t))&&(o&&(o+=" "),o+=r);return o}const fx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hx=Zg,li=(t,r)=>s=>{var o;if(r?.variants==null)return hx(t,s?.class,s?.className);const{variants:l,defaultVariants:c}=r,m=Object.keys(l).map(g=>{const v=s?.[g],x=c?.[g];if(v===null)return null;const b=fx(v)||fx(x);return l[g][b]}),f=s&&Object.entries(s).reduce((g,v)=>{let[x,b]=v;return b===void 0||(g[x]=b),g},{}),p=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((g,v)=>{let{class:x,className:b,...j}=v;return Object.entries(j).every(P=>{let[N,w]=P;return Array.isArray(w)?w.includes({...c,...f}[N]):{...c,...f}[N]===w})?[...g,x,b]:g},[]);return hx(t,m,p,s?.class,s?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ev=(...t)=>t.filter((r,s,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=u.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:m,...f},p)=>u.createElement("svg",{ref:p,...QC,width:r,height:r,stroke:t,strokeWidth:o?Number(s)*24/Number(r):s,className:ev("lucide",l),...f},[...m.map(([g,v])=>u.createElement(g,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,r)=>{const s=u.forwardRef(({className:o,...l},c)=>u.createElement(JC,{ref:c,iconNode:r,className:ev(`lucide-${YC(t)}`,o),...l}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=$e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=$e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=$e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=$e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=$e("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=$e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=$e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=$e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=$e("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=$e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=$e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=$e("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=$e("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=$e("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rm="-",w1=t=>{const r=b1(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:m=>{const f=m.split(Rm);return f[0]===""&&f.length!==1&&f.shift(),dv(f,r)||j1(m)},getConflictingClassGroupIds:(m,f)=>{const p=s[m]||[];return f&&o[m]?[...p,...o[m]]:p}}},dv=(t,r)=>{if(t.length===0)return r.classGroupId;const s=t[0],o=r.nextPart.get(s),l=o?dv(t.slice(1),o):void 0;if(l)return l;if(r.validators.length===0)return;const c=t.join(Rm);return r.validators.find(({validator:m})=>m(c))?.classGroupId},vx=/^\[(.+)\]$/,j1=t=>{if(vx.test(t)){const r=vx.exec(t)[1],s=r?.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},b1=t=>{const{theme:r,prefix:s}=t,o={nextPart:new Map,validators:[]};return C1(Object.entries(t.classGroups),s).forEach(([c,m])=>{Uu(m,o,c,r)}),o},Uu=(t,r,s,o)=>{t.forEach(l=>{if(typeof l=="string"){const c=l===""?r:yx(r,l);c.classGroupId=s;return}if(typeof l=="function"){if(N1(l)){Uu(l(o),r,s,o);return}r.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([c,m])=>{Uu(m,yx(r,c),s,o)})})},yx=(t,r)=>{let s=t;return r.split(Rm).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},N1=t=>t.isThemeGetter,C1=(t,r)=>r?t.map(([s,o])=>{const l=o.map(c=>typeof c=="string"?r+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([m,f])=>[r+m,f])):c);return[s,l]}):t,S1=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,o=new Map;const l=(c,m)=>{s.set(c,m),r++,r>t&&(r=0,o=s,s=new Map)};return{get(c){let m=s.get(c);if(m!==void 0)return m;if((m=o.get(c))!==void 0)return l(c,m),m},set(c,m){s.has(c)?s.set(c,m):l(c,m)}}},uv="!",E1=t=>{const{separator:r,experimentalParseClassName:s}=t,o=r.length===1,l=r[0],c=r.length,m=f=>{const p=[];let g=0,v=0,x;for(let w=0;w<f.length;w++){let S=f[w];if(g===0){if(S===l&&(o||f.slice(w,w+c)===r)){p.push(f.slice(v,w)),v=w+c;continue}if(S==="/"){x=w;continue}}S==="["?g++:S==="]"&&g--}const b=p.length===0?f:f.substring(v),j=b.startsWith(uv),P=j?b.substring(1):b,N=x&&x>v?x-v:void 0;return{modifiers:p,hasImportantModifier:j,baseClassName:P,maybePostfixModifierPosition:N}};return s?f=>s({className:f,parseClassName:m}):m},T1=t=>{if(t.length<=1)return t;const r=[];let s=[];return t.forEach(o=>{o[0]==="["?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r},k1=t=>({cache:S1(t.cacheSize),parseClassName:E1(t),...w1(t)}),P1=/\s+/,R1=(t,r)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:l}=r,c=[],m=t.trim().split(P1);let f="";for(let p=m.length-1;p>=0;p-=1){const g=m[p],{modifiers:v,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:j}=s(g);let P=!!j,N=o(P?b.substring(0,j):b);if(!N){if(!P){f=g+(f.length>0?" "+f:f);continue}if(N=o(b),!N){f=g+(f.length>0?" "+f:f);continue}P=!1}const w=T1(v).join(":"),S=x?w+uv:w,C=S+N;if(c.includes(C))continue;c.push(C);const E=l(N,P);for(let O=0;O<E.length;++O){const D=E[O];c.push(S+D)}f=g+(f.length>0?" "+f:f)}return f};function M1(){let t=0,r,s,o="";for(;t<arguments.length;)(r=arguments[t++])&&(s=mv(r))&&(o&&(o+=" "),o+=s);return o}const mv=t=>{if(typeof t=="string")return t;let r,s="";for(let o=0;o<t.length;o++)t[o]&&(r=mv(t[o]))&&(s&&(s+=" "),s+=r);return s};function D1(t,...r){let s,o,l,c=m;function m(p){const g=r.reduce((v,x)=>x(v),t());return s=k1(g),o=s.cache.get,l=s.cache.set,c=f,f(p)}function f(p){const g=o(p);if(g)return g;const v=R1(p,s);return l(p,v),v}return function(){return c(M1.apply(null,arguments))}}const St=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},fv=/^\[(?:([a-z-]+):)?(.+)\]$/i,A1=/^\d+\/\d+$/,_1=new Set(["px","full","screen"]),O1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=t=>$a(t)||_1.has(t)||A1.test(t),xs=t=>eo(t,"length",G1),$a=t=>!!t&&!Number.isNaN(Number(t)),yu=t=>eo(t,"number",$a),Uo=t=>!!t&&Number.isInteger(Number(t)),z1=t=>t.endsWith("%")&&$a(t.slice(0,-1)),Ge=t=>fv.test(t),gs=t=>O1.test(t),V1=new Set(["length","size","percentage"]),B1=t=>eo(t,V1,hv),U1=t=>eo(t,"position",hv),H1=new Set(["image","url"]),W1=t=>eo(t,H1,Y1),q1=t=>eo(t,"",K1),Ho=()=>!0,eo=(t,r,s)=>{const o=fv.exec(t);return o?o[1]?typeof r=="string"?o[1]===r:r.has(o[1]):s(o[2]):!1},G1=t=>I1.test(t)&&!F1.test(t),hv=()=>!1,K1=t=>$1.test(t),Y1=t=>L1.test(t),Q1=()=>{const t=St("colors"),r=St("spacing"),s=St("blur"),o=St("brightness"),l=St("borderColor"),c=St("borderRadius"),m=St("borderSpacing"),f=St("borderWidth"),p=St("contrast"),g=St("grayscale"),v=St("hueRotate"),x=St("invert"),b=St("gap"),j=St("gradientColorStops"),P=St("gradientColorStopPositions"),N=St("inset"),w=St("margin"),S=St("opacity"),C=St("padding"),E=St("saturate"),O=St("scale"),D=St("sepia"),U=St("skew"),V=St("space"),se=St("translate"),ue=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",Ge,r],L=()=>[Ge,r],re=()=>["",Ir,xs],Q=()=>["auto",$a,Ge],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Ge],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[$a,Ge];return{cacheSize:500,separator:":",theme:{colors:[Ho],spacing:[Ir,xs],blur:["none","",gs,Ge],brightness:T(),borderColor:[t],borderRadius:["none","","full",gs,Ge],borderSpacing:L(),borderWidth:re(),contrast:T(),grayscale:A(),hueRotate:T(),invert:A(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[z1,xs],inset:te(),margin:te(),opacity:T(),padding:L(),saturate:T(),scale:T(),sepia:A(),skew:T(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ge]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:ue()}],"overscroll-x":[{"overscroll-x":ue()}],"overscroll-y":[{"overscroll-y":ue()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uo,Ge]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Uo,Ge]}],"grid-cols":[{"grid-cols":[Ho]}],"col-start-end":[{col:["auto",{span:["full",Uo,Ge]},Ge]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Ho]}],"row-start-end":[{row:["auto",{span:[Uo,Ge]},Ge]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,r]}],"min-w":[{"min-w":[Ge,r,"min","max","fit"]}],"max-w":[{"max-w":[Ge,r,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[Ge,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,r,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yu]}],"font-family":[{font:[Ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",$a,yu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,xs]}],"underline-offset":[{"underline-offset":["auto",Ir,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),U1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W1]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:G()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Ir,Ge]}],"outline-w":[{outline:[Ir,xs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Ir,xs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gs,q1]}],"shadow-color":[{shadow:[Ho]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",gs,Ge]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[x]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[m]}],"border-spacing-x":[{"border-spacing-x":[m]}],"border-spacing-y":[{"border-spacing-y":[m]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Uo,Ge]}],"translate-x":[{"translate-x":[se]}],"translate-y":[{"translate-y":[se]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ir,xs,yu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J1=D1(Q1);function Te(...t){return J1(Zg(t))}const X1=KC,pv=u.forwardRef(({className:t,...r},s)=>e.jsx(qg,{ref:s,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));pv.displayName=qg.displayName;const Z1=li("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xv=u.forwardRef(({className:t,variant:r,...s},o)=>e.jsx(Gg,{ref:o,className:Te(Z1({variant:r}),t),...s}));xv.displayName=Gg.displayName;const eS=u.forwardRef(({className:t,...r},s)=>e.jsx(Qg,{ref:s,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...r}));eS.displayName=Qg.displayName;const gv=u.forwardRef(({className:t,...r},s)=>e.jsx(Jg,{ref:s,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:e.jsx(Pm,{className:"h-4 w-4"})}));gv.displayName=Jg.displayName;const vv=u.forwardRef(({className:t,...r},s)=>e.jsx(Kg,{ref:s,className:Te("text-sm font-semibold",t),...r}));vv.displayName=Kg.displayName;const yv=u.forwardRef(({className:t,...r},s)=>e.jsx(Yg,{ref:s,className:Te("text-sm opacity-90",t),...r}));yv.displayName=Yg.displayName;function tS(){const{toasts:t}=Tt();return e.jsxs(X1,{children:[t.map(function({id:r,title:s,description:o,action:l,...c}){return e.jsxs(xv,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(vv,{children:s}),o&&e.jsx(yv,{children:o})]}),l,e.jsx(gv,{})]},r)}),e.jsx(pv,{})]})}var wx=["light","dark"],nS="(prefers-color-scheme: dark)",rS=u.createContext(void 0),sS={setTheme:t=>{},themes:[]},aS=()=>{var t;return(t=u.useContext(rS))!=null?t:sS};u.memo(({forcedTheme:t,storageKey:r,attribute:s,enableSystem:o,enableColorScheme:l,defaultTheme:c,value:m,attrs:f,nonce:p})=>{let g=c==="system",v=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${f.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,x=l?wx.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(P,N=!1,w=!0)=>{let S=m?m[P]:P,C=N?P+"|| ''":`'${S}'`,E="";return l&&w&&!N&&wx.includes(P)&&(E+=`d.style.colorScheme = '${P}';`),s==="class"?N||S?E+=`c.add(${C})`:E+="null":S&&(E+=`d[s](n,${C})`),E},j=t?`!function(){${v}${b(t)}}()`:o?`!function(){try{${v}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${g})){var t='${nS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${m?`var x=${JSON.stringify(m)};`:""}${b(m?"x[e]":"e",!0)}}${g?"":"else{"+b(c,!1,!1)+"}"}${x}}catch(e){}}()`:`!function(){try{${v}var e=localStorage.getItem('${r}');if(e){${m?`var x=${JSON.stringify(m)};`:""}${b(m?"x[e]":"e",!0)}}else{${b(c,!1,!1)};}${x}}catch(t){}}();`;return u.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:j}})});var oS=t=>{switch(t){case"success":return cS;case"info":return uS;case"warning":return dS;case"error":return mS;default:return null}},iS=Array(12).fill(0),lS=({visible:t,className:r})=>Ne.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},Ne.createElement("div",{className:"sonner-spinner"},iS.map((s,o)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),cS=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dS=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uS=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mS=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fS=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hS=()=>{let[t,r]=Ne.useState(document.hidden);return Ne.useEffect(()=>{let s=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},Hu=1,pS=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:s,...o}=t,l=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Hu++,c=this.toasts.find(f=>f.id===l),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...t,id:l,title:s}),{...f,...t,id:l,dismissible:m,title:s}):f):this.addToast({title:s,...o,dismissible:m,id:l}),l},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let o=t instanceof Promise?t:t(),l=s!==void 0,c,m=o.then(async p=>{if(c=["resolve",p],Ne.isValidElement(p))l=!1,this.create({id:s,type:"default",message:p});else if(gS(p)&&!p.ok){l=!1;let g=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description;this.create({id:s,type:"error",message:g,description:v})}else if(r.success!==void 0){l=!1;let g=typeof r.success=="function"?await r.success(p):r.success,v=typeof r.description=="function"?await r.description(p):r.description;this.create({id:s,type:"success",message:g,description:v})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){l=!1;let g=typeof r.error=="function"?await r.error(p):r.error,v=typeof r.description=="function"?await r.description(p):r.description;this.create({id:s,type:"error",message:g,description:v})}}).finally(()=>{var p;l&&(this.dismiss(s),s=void 0),(p=r.finally)==null||p.call(r)}),f=()=>new Promise((p,g)=>m.then(()=>c[0]==="reject"?g(c[1]):p(c[1])).catch(g));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,r)=>{let s=r?.id||Hu++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yn=new pS,xS=(t,r)=>{let s=r?.id||Hu++;return yn.addToast({title:t,...r,id:s}),s},gS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vS=xS,yS=()=>yn.toasts,wS=()=>yn.getActiveToasts();Object.assign(vS,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:yS,getToasts:wS});function jS(t,{insertAt:r}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}jS(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bl(t){return t.label!==void 0}var bS=3,NS="32px",CS="16px",jx=4e3,SS=356,ES=14,TS=20,kS=200;function rr(...t){return t.filter(Boolean).join(" ")}function PS(t){let[r,s]=t.split("-"),o=[];return r&&o.push(r),s&&o.push(s),o}var RS=t=>{var r,s,o,l,c,m,f,p,g,v,x;let{invert:b,toast:j,unstyled:P,interacting:N,setHeights:w,visibleToasts:S,heights:C,index:E,toasts:O,expanded:D,removeToast:U,defaultRichColors:V,closeButton:se,style:ue,cancelButtonStyle:ie,actionButtonStyle:te,className:L="",descriptionClassName:re="",duration:Q,position:F,gap:G,loadingIcon:Y,expandByDefault:R,classNames:A,icons:W,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:I}=t,[$,oe]=Ne.useState(null),[ce,ee]=Ne.useState(null),[J,M]=Ne.useState(!1),[fe,be]=Ne.useState(!1),[ke,pe]=Ne.useState(!1),[Fe,He]=Ne.useState(!1),[kt,Ke]=Ne.useState(!1),[de,_e]=Ne.useState(0),[q,me]=Ne.useState(0),xe=Ne.useRef(j.duration||Q||jx),Ve=Ne.useRef(null),We=Ne.useRef(null),rt=E===0,Pt=E+1<=S,it=j.type,rn=j.dismissible!==!1,lt=j.className||"",Gn=j.descriptionClassName||"",On=Ne.useMemo(()=>C.findIndex(ge=>ge.toastId===j.id)||0,[C,j.id]),Tr=Ne.useMemo(()=>{var ge;return(ge=j.closeButton)!=null?ge:se},[j.closeButton,se]),oa=Ne.useMemo(()=>j.duration||Q||jx,[j.duration,Q]),Gr=Ne.useRef(0),Kn=Ne.useRef(0),ia=Ne.useRef(0),sn=Ne.useRef(null),[Kr,_s]=F.split("-"),Yr=Ne.useMemo(()=>C.reduce((ge,Re,qe)=>qe>=On?ge:ge+Re.height,0),[C,On]),Qr=hS(),In=j.invert||b,Fn=it==="loading";Kn.current=Ne.useMemo(()=>On*G+Yr,[On,Yr]),Ne.useEffect(()=>{xe.current=oa},[oa]),Ne.useEffect(()=>{M(!0)},[]),Ne.useEffect(()=>{let ge=We.current;if(ge){let Re=ge.getBoundingClientRect().height;return me(Re),w(qe=>[{toastId:j.id,height:Re,position:j.position},...qe]),()=>w(qe=>qe.filter(gt=>gt.toastId!==j.id))}},[w,j.id]),Ne.useLayoutEffect(()=>{if(!J)return;let ge=We.current,Re=ge.style.height;ge.style.height="auto";let qe=ge.getBoundingClientRect().height;ge.style.height=Re,me(qe),w(gt=>gt.find(At=>At.toastId===j.id)?gt.map(At=>At.toastId===j.id?{...At,height:qe}:At):[{toastId:j.id,height:qe,position:j.position},...gt])},[J,j.title,j.description,w,j.id]);let Nn=Ne.useCallback(()=>{be(!0),_e(Kn.current),w(ge=>ge.filter(Re=>Re.toastId!==j.id)),setTimeout(()=>{U(j)},kS)},[j,U,w,Kn]);Ne.useEffect(()=>{if(j.promise&&it==="loading"||j.duration===1/0||j.type==="loading")return;let ge;return D||N||I&&Qr?(()=>{if(ia.current<Gr.current){let Re=new Date().getTime()-Gr.current;xe.current=xe.current-Re}ia.current=new Date().getTime()})():xe.current!==1/0&&(Gr.current=new Date().getTime(),ge=setTimeout(()=>{var Re;(Re=j.onAutoClose)==null||Re.call(j,j),Nn()},xe.current)),()=>clearTimeout(ge)},[D,N,j,it,I,Qr,Nn]),Ne.useEffect(()=>{j.delete&&Nn()},[Nn,j.delete]);function ae(){var ge,Re,qe;return W!=null&&W.loading?Ne.createElement("div",{className:rr(A?.loader,(ge=j?.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":it==="loading"},W.loading):Y?Ne.createElement("div",{className:rr(A?.loader,(Re=j?.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":it==="loading"},Y):Ne.createElement(lS,{className:rr(A?.loader,(qe=j?.classNames)==null?void 0:qe.loader),visible:it==="loading"})}return Ne.createElement("li",{tabIndex:0,ref:We,className:rr(L,lt,A?.toast,(r=j?.classNames)==null?void 0:r.toast,A?.default,A?.[it],(s=j?.classNames)==null?void 0:s[it]),"data-sonner-toast":"","data-rich-colors":(o=j.richColors)!=null?o:V,"data-styled":!(j.jsx||j.unstyled||P),"data-mounted":J,"data-promise":!!j.promise,"data-swiped":kt,"data-removed":fe,"data-visible":Pt,"data-y-position":Kr,"data-x-position":_s,"data-index":E,"data-front":rt,"data-swiping":ke,"data-dismissible":rn,"data-type":it,"data-invert":In,"data-swipe-out":Fe,"data-swipe-direction":ce,"data-expanded":!!(D||R&&J),style:{"--index":E,"--toasts-before":E,"--z-index":O.length-E,"--offset":`${fe?de:Kn.current}px`,"--initial-height":R?"auto":`${q}px`,...ue,...j.style},onDragEnd:()=>{pe(!1),oe(null),sn.current=null},onPointerDown:ge=>{Fn||!rn||(Ve.current=new Date,_e(Kn.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(pe(!0),sn.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,Re,qe,gt;if(Fe||!rn)return;sn.current=null;let At=Number(((ge=We.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vt=Number(((Re=We.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((qe=Ve.current)==null?void 0:qe.getTime()),yt=$==="x"?At:vt,Xt=Math.abs(yt)/Ht;if(Math.abs(yt)>=TS||Xt>.11){_e(Kn.current),(gt=j.onDismiss)==null||gt.call(j,j),ee($==="x"?At>0?"right":"left":vt>0?"down":"up"),Nn(),He(!0),Ke(!1);return}pe(!1),oe(null)},onPointerMove:ge=>{var Re,qe,gt,At;if(!sn.current||!rn||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let vt=ge.clientY-sn.current.y,Ht=ge.clientX-sn.current.x,yt=(qe=t.swipeDirections)!=null?qe:PS(F);!$&&(Math.abs(Ht)>1||Math.abs(vt)>1)&&oe(Math.abs(Ht)>Math.abs(vt)?"x":"y");let Xt={x:0,y:0};$==="y"?(yt.includes("top")||yt.includes("bottom"))&&(yt.includes("top")&&vt<0||yt.includes("bottom")&&vt>0)&&(Xt.y=vt):$==="x"&&(yt.includes("left")||yt.includes("right"))&&(yt.includes("left")&&Ht<0||yt.includes("right")&&Ht>0)&&(Xt.x=Ht),(Math.abs(Xt.x)>0||Math.abs(Xt.y)>0)&&Ke(!0),(gt=We.current)==null||gt.style.setProperty("--swipe-amount-x",`${Xt.x}px`),(At=We.current)==null||At.style.setProperty("--swipe-amount-y",`${Xt.y}px`)}},Tr&&!j.jsx?Ne.createElement("button",{"aria-label":T,"data-disabled":Fn,"data-close-button":!0,onClick:Fn||!rn?()=>{}:()=>{var ge;Nn(),(ge=j.onDismiss)==null||ge.call(j,j)},className:rr(A?.closeButton,(l=j?.classNames)==null?void 0:l.closeButton)},(c=W?.close)!=null?c:fS):null,j.jsx||u.isValidElement(j.title)?j.jsx?j.jsx:typeof j.title=="function"?j.title():j.title:Ne.createElement(Ne.Fragment,null,it||j.icon||j.promise?Ne.createElement("div",{"data-icon":"",className:rr(A?.icon,(m=j?.classNames)==null?void 0:m.icon)},j.promise||j.type==="loading"&&!j.icon?j.icon||ae():null,j.type!=="loading"?j.icon||W?.[it]||oS(it):null):null,Ne.createElement("div",{"data-content":"",className:rr(A?.content,(f=j?.classNames)==null?void 0:f.content)},Ne.createElement("div",{"data-title":"",className:rr(A?.title,(p=j?.classNames)==null?void 0:p.title)},typeof j.title=="function"?j.title():j.title),j.description?Ne.createElement("div",{"data-description":"",className:rr(re,Gn,A?.description,(g=j?.classNames)==null?void 0:g.description)},typeof j.description=="function"?j.description():j.description):null),u.isValidElement(j.cancel)?j.cancel:j.cancel&&bl(j.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:j.cancelButtonStyle||ie,onClick:ge=>{var Re,qe;bl(j.cancel)&&rn&&((qe=(Re=j.cancel).onClick)==null||qe.call(Re,ge),Nn())},className:rr(A?.cancelButton,(v=j?.classNames)==null?void 0:v.cancelButton)},j.cancel.label):null,u.isValidElement(j.action)?j.action:j.action&&bl(j.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:j.actionButtonStyle||te,onClick:ge=>{var Re,qe;bl(j.action)&&((qe=(Re=j.action).onClick)==null||qe.call(Re,ge),!ge.defaultPrevented&&Nn())},className:rr(A?.actionButton,(x=j?.classNames)==null?void 0:x.actionButton)},j.action.label):null))};function bx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function MS(t,r){let s={};return[t,r].forEach((o,l)=>{let c=l===1,m=c?"--mobile-offset":"--offset",f=c?CS:NS;function p(g){["top","right","bottom","left"].forEach(v=>{s[`${m}-${v}`]=typeof g=="number"?`${g}px`:g})}typeof o=="number"||typeof o=="string"?p(o):typeof o=="object"?["top","right","bottom","left"].forEach(g=>{o[g]===void 0?s[`${m}-${g}`]=f:s[`${m}-${g}`]=typeof o[g]=="number"?`${o[g]}px`:o[g]}):p(f)}),s}var DS=u.forwardRef(function(t,r){let{invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:m,className:f,offset:p,mobileOffset:g,theme:v="light",richColors:x,duration:b,style:j,visibleToasts:P=bS,toastOptions:N,dir:w=bx(),gap:S=ES,loadingIcon:C,icons:E,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:D}=t,[U,V]=Ne.useState([]),se=Ne.useMemo(()=>Array.from(new Set([o].concat(U.filter(I=>I.position).map(I=>I.position)))),[U,o]),[ue,ie]=Ne.useState([]),[te,L]=Ne.useState(!1),[re,Q]=Ne.useState(!1),[F,G]=Ne.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=Ne.useRef(null),R=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=Ne.useRef(null),W=Ne.useRef(!1),T=Ne.useCallback(I=>{V($=>{var oe;return(oe=$.find(ce=>ce.id===I.id))!=null&&oe.delete||yn.dismiss(I.id),$.filter(({id:ce})=>ce!==I.id)})},[]);return Ne.useEffect(()=>yn.subscribe(I=>{if(I.dismiss){V($=>$.map(oe=>oe.id===I.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{Eg.flushSync(()=>{V($=>{let oe=$.findIndex(ce=>ce.id===I.id);return oe!==-1?[...$.slice(0,oe),{...$[oe],...I},...$.slice(oe+1)]:[I,...$]})})})}),[]),Ne.useEffect(()=>{if(v!=="system"){G(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:$})=>{G($?"dark":"light")})}catch{I.addListener(({matches:oe})=>{try{G(oe?"dark":"light")}catch(ce){console.error(ce)}})}},[v]),Ne.useEffect(()=>{U.length<=1&&L(!1)},[U]),Ne.useEffect(()=>{let I=$=>{var oe,ce;l.every(ee=>$[ee]||$.code===ee)&&(L(!0),(oe=Y.current)==null||oe.focus()),$.code==="Escape"&&(document.activeElement===Y.current||(ce=Y.current)!=null&&ce.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[l]),Ne.useEffect(()=>{if(Y.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,W.current=!1)}},[Y.current]),Ne.createElement("section",{ref:r,"aria-label":`${O} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},se.map((I,$)=>{var oe;let[ce,ee]=I.split("-");return U.length?Ne.createElement("ol",{key:I,dir:w==="auto"?bx():w,tabIndex:-1,ref:Y,className:f,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ce,"data-lifted":te&&U.length>1&&!c,"data-x-position":ee,style:{"--front-toast-height":`${((oe=ue[0])==null?void 0:oe.height)||0}px`,"--width":`${SS}px`,"--gap":`${S}px`,...j,...MS(p,g)},onBlur:J=>{W.current&&!J.currentTarget.contains(J.relatedTarget)&&(W.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||W.current||(W.current=!0,A.current=J.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{re||L(!1)},onDragEnd:()=>L(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},U.filter(J=>!J.position&&$===0||J.position===I).map((J,M)=>{var fe,be;return Ne.createElement(RS,{key:J.id,icons:E,index:M,toast:J,defaultRichColors:x,duration:(fe=N?.duration)!=null?fe:b,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:P,closeButton:(be=N?.closeButton)!=null?be:m,interacting:re,position:I,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,removeToast:T,toasts:U.filter(ke=>ke.position==J.position),heights:ue.filter(ke=>ke.position==J.position),setHeights:ie,expandByDefault:c,gap:S,loadingIcon:C,expanded:te,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const AS=({...t})=>{const{theme:r="system"}=aS();return e.jsx(DS,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var _S=vm[" useId ".trim().toString()]||(()=>{}),OS=0;function Lr(t){const[r,s]=u.useState(_S());return Jt(()=>{s(o=>o??String(OS++))},[t]),r?`radix-${r}`:""}const IS=["top","right","bottom","left"],Ps=Math.min,kn=Math.max,Ll=Math.round,Nl=Math.floor,br=t=>({x:t,y:t}),FS={left:"right",right:"left",bottom:"top",top:"bottom"},$S={start:"end",end:"start"};function Wu(t,r,s){return kn(t,Ps(r,s))}function Vr(t,r){return typeof t=="function"?t(r):t}function Br(t){return t.split("-")[0]}function to(t){return t.split("-")[1]}function Mm(t){return t==="x"?"y":"x"}function Dm(t){return t==="y"?"height":"width"}const LS=new Set(["top","bottom"]);function jr(t){return LS.has(Br(t))?"y":"x"}function Am(t){return Mm(jr(t))}function zS(t,r,s){s===void 0&&(s=!1);const o=to(t),l=Am(t),c=Dm(l);let m=l==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(m=zl(m)),[m,zl(m)]}function VS(t){const r=zl(t);return[qu(t),r,qu(r)]}function qu(t){return t.replace(/start|end/g,r=>$S[r])}const Nx=["left","right"],Cx=["right","left"],BS=["top","bottom"],US=["bottom","top"];function HS(t,r,s){switch(t){case"top":case"bottom":return s?r?Cx:Nx:r?Nx:Cx;case"left":case"right":return r?BS:US;default:return[]}}function WS(t,r,s,o){const l=to(t);let c=HS(Br(t),s==="start",o);return l&&(c=c.map(m=>m+"-"+l),r&&(c=c.concat(c.map(qu)))),c}function zl(t){return t.replace(/left|right|bottom|top/g,r=>FS[r])}function qS(t){return{top:0,right:0,bottom:0,left:0,...t}}function wv(t){return typeof t!="number"?qS(t):{top:t,right:t,bottom:t,left:t}}function Vl(t){const{x:r,y:s,width:o,height:l}=t;return{width:o,height:l,top:s,left:r,right:r+o,bottom:s+l,x:r,y:s}}function Sx(t,r,s){let{reference:o,floating:l}=t;const c=jr(r),m=Am(r),f=Dm(m),p=Br(r),g=c==="y",v=o.x+o.width/2-l.width/2,x=o.y+o.height/2-l.height/2,b=o[f]/2-l[f]/2;let j;switch(p){case"top":j={x:v,y:o.y-l.height};break;case"bottom":j={x:v,y:o.y+o.height};break;case"right":j={x:o.x+o.width,y:x};break;case"left":j={x:o.x-l.width,y:x};break;default:j={x:o.x,y:o.y}}switch(to(r)){case"start":j[m]-=b*(s&&g?-1:1);break;case"end":j[m]+=b*(s&&g?-1:1);break}return j}const GS=async(t,r,s)=>{const{placement:o="bottom",strategy:l="absolute",middleware:c=[],platform:m}=s,f=c.filter(Boolean),p=await(m.isRTL==null?void 0:m.isRTL(r));let g=await m.getElementRects({reference:t,floating:r,strategy:l}),{x:v,y:x}=Sx(g,o,p),b=o,j={},P=0;for(let N=0;N<f.length;N++){const{name:w,fn:S}=f[N],{x:C,y:E,data:O,reset:D}=await S({x:v,y:x,initialPlacement:o,placement:b,strategy:l,middlewareData:j,rects:g,platform:m,elements:{reference:t,floating:r}});v=C??v,x=E??x,j={...j,[w]:{...j[w],...O}},D&&P<=50&&(P++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(g=D.rects===!0?await m.getElementRects({reference:t,floating:r,strategy:l}):D.rects),{x:v,y:x}=Sx(g,b,p)),N=-1)}return{x:v,y:x,placement:b,strategy:l,middlewareData:j}};async function Yo(t,r){var s;r===void 0&&(r={});const{x:o,y:l,platform:c,rects:m,elements:f,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:b=!1,padding:j=0}=Vr(r,t),P=wv(j),w=f[b?x==="floating"?"reference":"floating":x],S=Vl(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(w)))==null||s?w:w.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:p})),C=x==="floating"?{x:o,y:l,width:m.floating.width,height:m.floating.height}:m.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),O=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},D=Vl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:E,strategy:p}):C);return{top:(S.top-D.top+P.top)/O.y,bottom:(D.bottom-S.bottom+P.bottom)/O.y,left:(S.left-D.left+P.left)/O.x,right:(D.right-S.right+P.right)/O.x}}const KS=t=>({name:"arrow",options:t,async fn(r){const{x:s,y:o,placement:l,rects:c,platform:m,elements:f,middlewareData:p}=r,{element:g,padding:v=0}=Vr(t,r)||{};if(g==null)return{};const x=wv(v),b={x:s,y:o},j=Am(l),P=Dm(j),N=await m.getDimensions(g),w=j==="y",S=w?"top":"left",C=w?"bottom":"right",E=w?"clientHeight":"clientWidth",O=c.reference[P]+c.reference[j]-b[j]-c.floating[P],D=b[j]-c.reference[j],U=await(m.getOffsetParent==null?void 0:m.getOffsetParent(g));let V=U?U[E]:0;(!V||!await(m.isElement==null?void 0:m.isElement(U)))&&(V=f.floating[E]||c.floating[P]);const se=O/2-D/2,ue=V/2-N[P]/2-1,ie=Ps(x[S],ue),te=Ps(x[C],ue),L=ie,re=V-N[P]-te,Q=V/2-N[P]/2+se,F=Wu(L,Q,re),G=!p.arrow&&to(l)!=null&&Q!==F&&c.reference[P]/2-(Q<L?ie:te)-N[P]/2<0,Y=G?Q<L?Q-L:Q-re:0;return{[j]:b[j]+Y,data:{[j]:F,centerOffset:Q-F-Y,...G&&{alignmentOffset:Y}},reset:G}}}),YS=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var s,o;const{placement:l,middlewareData:c,rects:m,initialPlacement:f,platform:p,elements:g}=r,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:N=!0,...w}=Vr(t,r);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const S=Br(l),C=jr(f),E=Br(f)===f,O=await(p.isRTL==null?void 0:p.isRTL(g.floating)),D=b||(E||!N?[zl(f)]:VS(f)),U=P!=="none";!b&&U&&D.push(...WS(f,N,P,O));const V=[f,...D],se=await Yo(r,w),ue=[];let ie=((o=c.flip)==null?void 0:o.overflows)||[];if(v&&ue.push(se[S]),x){const Q=zS(l,m,O);ue.push(se[Q[0]],se[Q[1]])}if(ie=[...ie,{placement:l,overflows:ue}],!ue.every(Q=>Q<=0)){var te,L;const Q=(((te=c.flip)==null?void 0:te.index)||0)+1,F=V[Q];if(F&&(!(x==="alignment"?C!==jr(F):!1)||ie.every(R=>jr(R.placement)===C?R.overflows[0]>0:!0)))return{data:{index:Q,overflows:ie},reset:{placement:F}};let G=(L=ie.filter(Y=>Y.overflows[0]<=0).sort((Y,R)=>Y.overflows[1]-R.overflows[1])[0])==null?void 0:L.placement;if(!G)switch(j){case"bestFit":{var re;const Y=(re=ie.filter(R=>{if(U){const A=jr(R.placement);return A===C||A==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(A=>A>0).reduce((A,W)=>A+W,0)]).sort((R,A)=>R[1]-A[1])[0])==null?void 0:re[0];Y&&(G=Y);break}case"initialPlacement":G=f;break}if(l!==G)return{reset:{placement:G}}}return{}}}};function Ex(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function Tx(t){return IS.some(r=>t[r]>=0)}const QS=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:s}=r,{strategy:o="referenceHidden",...l}=Vr(t,r);switch(o){case"referenceHidden":{const c=await Yo(r,{...l,elementContext:"reference"}),m=Ex(c,s.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:Tx(m)}}}case"escaped":{const c=await Yo(r,{...l,altBoundary:!0}),m=Ex(c,s.floating);return{data:{escapedOffsets:m,escaped:Tx(m)}}}default:return{}}}}},jv=new Set(["left","top"]);async function JS(t,r){const{placement:s,platform:o,elements:l}=t,c=await(o.isRTL==null?void 0:o.isRTL(l.floating)),m=Br(s),f=to(s),p=jr(s)==="y",g=jv.has(m)?-1:1,v=c&&p?-1:1,x=Vr(r,t);let{mainAxis:b,crossAxis:j,alignmentAxis:P}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof P=="number"&&(j=f==="end"?P*-1:P),p?{x:j*v,y:b*g}:{x:b*g,y:j*v}}const XS=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var s,o;const{x:l,y:c,placement:m,middlewareData:f}=r,p=await JS(r,t);return m===((s=f.offset)==null?void 0:s.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+p.x,y:c+p.y,data:{...p,placement:m}}}}},ZS=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:s,y:o,placement:l}=r,{mainAxis:c=!0,crossAxis:m=!1,limiter:f={fn:w=>{let{x:S,y:C}=w;return{x:S,y:C}}},...p}=Vr(t,r),g={x:s,y:o},v=await Yo(r,p),x=jr(Br(l)),b=Mm(x);let j=g[b],P=g[x];if(c){const w=b==="y"?"top":"left",S=b==="y"?"bottom":"right",C=j+v[w],E=j-v[S];j=Wu(C,j,E)}if(m){const w=x==="y"?"top":"left",S=x==="y"?"bottom":"right",C=P+v[w],E=P-v[S];P=Wu(C,P,E)}const N=f.fn({...r,[b]:j,[x]:P});return{...N,data:{x:N.x-s,y:N.y-o,enabled:{[b]:c,[x]:m}}}}}},eE=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:s,y:o,placement:l,rects:c,middlewareData:m}=r,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=Vr(t,r),v={x:s,y:o},x=jr(l),b=Mm(x);let j=v[b],P=v[x];const N=Vr(f,r),w=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(p){const E=b==="y"?"height":"width",O=c.reference[b]-c.floating[E]+w.mainAxis,D=c.reference[b]+c.reference[E]-w.mainAxis;j<O?j=O:j>D&&(j=D)}if(g){var S,C;const E=b==="y"?"width":"height",O=jv.has(Br(l)),D=c.reference[x]-c.floating[E]+(O&&((S=m.offset)==null?void 0:S[x])||0)+(O?0:w.crossAxis),U=c.reference[x]+c.reference[E]+(O?0:((C=m.offset)==null?void 0:C[x])||0)-(O?w.crossAxis:0);P<D?P=D:P>U&&(P=U)}return{[b]:j,[x]:P}}}},tE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var s,o;const{placement:l,rects:c,platform:m,elements:f}=r,{apply:p=()=>{},...g}=Vr(t,r),v=await Yo(r,g),x=Br(l),b=to(l),j=jr(l)==="y",{width:P,height:N}=c.floating;let w,S;x==="top"||x==="bottom"?(w=x,S=b===(await(m.isRTL==null?void 0:m.isRTL(f.floating))?"start":"end")?"left":"right"):(S=x,w=b==="end"?"top":"bottom");const C=N-v.top-v.bottom,E=P-v.left-v.right,O=Ps(N-v[w],C),D=Ps(P-v[S],E),U=!r.middlewareData.shift;let V=O,se=D;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(se=E),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(V=C),U&&!b){const ie=kn(v.left,0),te=kn(v.right,0),L=kn(v.top,0),re=kn(v.bottom,0);j?se=P-2*(ie!==0||te!==0?ie+te:kn(v.left,v.right)):V=N-2*(L!==0||re!==0?L+re:kn(v.top,v.bottom))}await p({...r,availableWidth:se,availableHeight:V});const ue=await m.getDimensions(f.floating);return P!==ue.width||N!==ue.height?{reset:{rects:!0}}:{}}}};function ec(){return typeof window<"u"}function no(t){return bv(t)?(t.nodeName||"").toLowerCase():"#document"}function Dn(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function Er(t){var r;return(r=(bv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function bv(t){return ec()?t instanceof Node||t instanceof Dn(t).Node:!1}function cr(t){return ec()?t instanceof Element||t instanceof Dn(t).Element:!1}function Sr(t){return ec()?t instanceof HTMLElement||t instanceof Dn(t).HTMLElement:!1}function kx(t){return!ec()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dn(t).ShadowRoot}const nE=new Set(["inline","contents"]);function ci(t){const{overflow:r,overflowX:s,overflowY:o,display:l}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(r+o+s)&&!nE.has(l)}const rE=new Set(["table","td","th"]);function sE(t){return rE.has(no(t))}const aE=[":popover-open",":modal"];function tc(t){return aE.some(r=>{try{return t.matches(r)}catch{return!1}})}const oE=["transform","translate","scale","rotate","perspective"],iE=["transform","translate","scale","rotate","perspective","filter"],lE=["paint","layout","strict","content"];function _m(t){const r=Om(),s=cr(t)?dr(t):t;return oE.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||iE.some(o=>(s.willChange||"").includes(o))||lE.some(o=>(s.contain||"").includes(o))}function cE(t){let r=Rs(t);for(;Sr(r)&&!Ka(r);){if(_m(r))return r;if(tc(r))return null;r=Rs(r)}return null}function Om(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dE=new Set(["html","body","#document"]);function Ka(t){return dE.has(no(t))}function dr(t){return Dn(t).getComputedStyle(t)}function nc(t){return cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rs(t){if(no(t)==="html")return t;const r=t.assignedSlot||t.parentNode||kx(t)&&t.host||Er(t);return kx(r)?r.host:r}function Nv(t){const r=Rs(t);return Ka(r)?t.ownerDocument?t.ownerDocument.body:t.body:Sr(r)&&ci(r)?r:Nv(r)}function Qo(t,r,s){var o;r===void 0&&(r=[]),s===void 0&&(s=!0);const l=Nv(t),c=l===((o=t.ownerDocument)==null?void 0:o.body),m=Dn(l);if(c){const f=Gu(m);return r.concat(m,m.visualViewport||[],ci(l)?l:[],f&&s?Qo(f):[])}return r.concat(l,Qo(l,[],s))}function Gu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Cv(t){const r=dr(t);let s=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const l=Sr(t),c=l?t.offsetWidth:s,m=l?t.offsetHeight:o,f=Ll(s)!==c||Ll(o)!==m;return f&&(s=c,o=m),{width:s,height:o,$:f}}function Im(t){return cr(t)?t:t.contextElement}function La(t){const r=Im(t);if(!Sr(r))return br(1);const s=r.getBoundingClientRect(),{width:o,height:l,$:c}=Cv(r);let m=(c?Ll(s.width):s.width)/o,f=(c?Ll(s.height):s.height)/l;return(!m||!Number.isFinite(m))&&(m=1),(!f||!Number.isFinite(f))&&(f=1),{x:m,y:f}}const uE=br(0);function Sv(t){const r=Dn(t);return!Om()||!r.visualViewport?uE:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function mE(t,r,s){return r===void 0&&(r=!1),!s||r&&s!==Dn(t)?!1:r}function Zs(t,r,s,o){r===void 0&&(r=!1),s===void 0&&(s=!1);const l=t.getBoundingClientRect(),c=Im(t);let m=br(1);r&&(o?cr(o)&&(m=La(o)):m=La(t));const f=mE(c,s,o)?Sv(c):br(0);let p=(l.left+f.x)/m.x,g=(l.top+f.y)/m.y,v=l.width/m.x,x=l.height/m.y;if(c){const b=Dn(c),j=o&&cr(o)?Dn(o):o;let P=b,N=Gu(P);for(;N&&o&&j!==P;){const w=La(N),S=N.getBoundingClientRect(),C=dr(N),E=S.left+(N.clientLeft+parseFloat(C.paddingLeft))*w.x,O=S.top+(N.clientTop+parseFloat(C.paddingTop))*w.y;p*=w.x,g*=w.y,v*=w.x,x*=w.y,p+=E,g+=O,P=Dn(N),N=Gu(P)}}return Vl({width:v,height:x,x:p,y:g})}function rc(t,r){const s=nc(t).scrollLeft;return r?r.left+s:Zs(Er(t)).left+s}function Ev(t,r){const s=t.getBoundingClientRect(),o=s.left+r.scrollLeft-rc(t,s),l=s.top+r.scrollTop;return{x:o,y:l}}function fE(t){let{elements:r,rect:s,offsetParent:o,strategy:l}=t;const c=l==="fixed",m=Er(o),f=r?tc(r.floating):!1;if(o===m||f&&c)return s;let p={scrollLeft:0,scrollTop:0},g=br(1);const v=br(0),x=Sr(o);if((x||!x&&!c)&&((no(o)!=="body"||ci(m))&&(p=nc(o)),Sr(o))){const j=Zs(o);g=La(o),v.x=j.x+o.clientLeft,v.y=j.y+o.clientTop}const b=m&&!x&&!c?Ev(m,p):br(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-p.scrollLeft*g.x+v.x+b.x,y:s.y*g.y-p.scrollTop*g.y+v.y+b.y}}function hE(t){return Array.from(t.getClientRects())}function pE(t){const r=Er(t),s=nc(t),o=t.ownerDocument.body,l=kn(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),c=kn(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let m=-s.scrollLeft+rc(t);const f=-s.scrollTop;return dr(o).direction==="rtl"&&(m+=kn(r.clientWidth,o.clientWidth)-l),{width:l,height:c,x:m,y:f}}const Px=25;function xE(t,r){const s=Dn(t),o=Er(t),l=s.visualViewport;let c=o.clientWidth,m=o.clientHeight,f=0,p=0;if(l){c=l.width,m=l.height;const v=Om();(!v||v&&r==="fixed")&&(f=l.offsetLeft,p=l.offsetTop)}const g=rc(o);if(g<=0){const v=o.ownerDocument,x=v.body,b=getComputedStyle(x),j=v.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,P=Math.abs(o.clientWidth-x.clientWidth-j);P<=Px&&(c-=P)}else g<=Px&&(c+=g);return{width:c,height:m,x:f,y:p}}const gE=new Set(["absolute","fixed"]);function vE(t,r){const s=Zs(t,!0,r==="fixed"),o=s.top+t.clientTop,l=s.left+t.clientLeft,c=Sr(t)?La(t):br(1),m=t.clientWidth*c.x,f=t.clientHeight*c.y,p=l*c.x,g=o*c.y;return{width:m,height:f,x:p,y:g}}function Rx(t,r,s){let o;if(r==="viewport")o=xE(t,s);else if(r==="document")o=pE(Er(t));else if(cr(r))o=vE(r,s);else{const l=Sv(t);o={x:r.x-l.x,y:r.y-l.y,width:r.width,height:r.height}}return Vl(o)}function Tv(t,r){const s=Rs(t);return s===r||!cr(s)||Ka(s)?!1:dr(s).position==="fixed"||Tv(s,r)}function yE(t,r){const s=r.get(t);if(s)return s;let o=Qo(t,[],!1).filter(f=>cr(f)&&no(f)!=="body"),l=null;const c=dr(t).position==="fixed";let m=c?Rs(t):t;for(;cr(m)&&!Ka(m);){const f=dr(m),p=_m(m);!p&&f.position==="fixed"&&(l=null),(c?!p&&!l:!p&&f.position==="static"&&!!l&&gE.has(l.position)||ci(m)&&!p&&Tv(t,m))?o=o.filter(v=>v!==m):l=f,m=Rs(m)}return r.set(t,o),o}function wE(t){let{element:r,boundary:s,rootBoundary:o,strategy:l}=t;const m=[...s==="clippingAncestors"?tc(r)?[]:yE(r,this._c):[].concat(s),o],f=m[0],p=m.reduce((g,v)=>{const x=Rx(r,v,l);return g.top=kn(x.top,g.top),g.right=Ps(x.right,g.right),g.bottom=Ps(x.bottom,g.bottom),g.left=kn(x.left,g.left),g},Rx(r,f,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function jE(t){const{width:r,height:s}=Cv(t);return{width:r,height:s}}function bE(t,r,s){const o=Sr(r),l=Er(r),c=s==="fixed",m=Zs(t,!0,c,r);let f={scrollLeft:0,scrollTop:0};const p=br(0);function g(){p.x=rc(l)}if(o||!o&&!c)if((no(r)!=="body"||ci(l))&&(f=nc(r)),o){const j=Zs(r,!0,c,r);p.x=j.x+r.clientLeft,p.y=j.y+r.clientTop}else l&&g();c&&!o&&l&&g();const v=l&&!o&&!c?Ev(l,f):br(0),x=m.left+f.scrollLeft-p.x-v.x,b=m.top+f.scrollTop-p.y-v.y;return{x,y:b,width:m.width,height:m.height}}function wu(t){return dr(t).position==="static"}function Mx(t,r){if(!Sr(t)||dr(t).position==="fixed")return null;if(r)return r(t);let s=t.offsetParent;return Er(t)===s&&(s=s.ownerDocument.body),s}function kv(t,r){const s=Dn(t);if(tc(t))return s;if(!Sr(t)){let l=Rs(t);for(;l&&!Ka(l);){if(cr(l)&&!wu(l))return l;l=Rs(l)}return s}let o=Mx(t,r);for(;o&&sE(o)&&wu(o);)o=Mx(o,r);return o&&Ka(o)&&wu(o)&&!_m(o)?s:o||cE(t)||s}const NE=async function(t){const r=this.getOffsetParent||kv,s=this.getDimensions,o=await s(t.floating);return{reference:bE(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function CE(t){return dr(t).direction==="rtl"}const SE={convertOffsetParentRelativeRectToViewportRelativeRect:fE,getDocumentElement:Er,getClippingRect:wE,getOffsetParent:kv,getElementRects:NE,getClientRects:hE,getDimensions:jE,getScale:La,isElement:cr,isRTL:CE};function Pv(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function EE(t,r){let s=null,o;const l=Er(t);function c(){var f;clearTimeout(o),(f=s)==null||f.disconnect(),s=null}function m(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const g=t.getBoundingClientRect(),{left:v,top:x,width:b,height:j}=g;if(f||r(),!b||!j)return;const P=Nl(x),N=Nl(l.clientWidth-(v+b)),w=Nl(l.clientHeight-(x+j)),S=Nl(v),E={rootMargin:-P+"px "+-N+"px "+-w+"px "+-S+"px",threshold:kn(0,Ps(1,p))||1};let O=!0;function D(U){const V=U[0].intersectionRatio;if(V!==p){if(!O)return m();V?m(!1,V):o=setTimeout(()=>{m(!1,1e-7)},1e3)}V===1&&!Pv(g,t.getBoundingClientRect())&&m(),O=!1}try{s=new IntersectionObserver(D,{...E,root:l.ownerDocument})}catch{s=new IntersectionObserver(D,E)}s.observe(t)}return m(!0),c}function TE(t,r,s,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=Im(t),v=l||c?[...g?Qo(g):[],...Qo(r)]:[];v.forEach(S=>{l&&S.addEventListener("scroll",s,{passive:!0}),c&&S.addEventListener("resize",s)});const x=g&&f?EE(g,s):null;let b=-1,j=null;m&&(j=new ResizeObserver(S=>{let[C]=S;C&&C.target===g&&j&&(j.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var E;(E=j)==null||E.observe(r)})),s()}),g&&!p&&j.observe(g),j.observe(r));let P,N=p?Zs(t):null;p&&w();function w(){const S=Zs(t);N&&!Pv(N,S)&&s(),N=S,P=requestAnimationFrame(w)}return s(),()=>{var S;v.forEach(C=>{l&&C.removeEventListener("scroll",s),c&&C.removeEventListener("resize",s)}),x?.(),(S=j)==null||S.disconnect(),j=null,p&&cancelAnimationFrame(P)}}const kE=XS,PE=ZS,RE=YS,ME=tE,DE=QS,Dx=KS,AE=eE,_E=(t,r,s)=>{const o=new Map,l={platform:SE,...s},c={...l.platform,_c:o};return GS(t,r,{...l,platform:c})};var OE=typeof document<"u",IE=function(){},_l=OE?u.useLayoutEffect:IE;function Bl(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let s,o,l;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==r.length)return!1;for(o=s;o--!==0;)if(!Bl(t[o],r[o]))return!1;return!0}if(l=Object.keys(t),s=l.length,s!==Object.keys(r).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(r,l[o]))return!1;for(o=s;o--!==0;){const c=l[o];if(!(c==="_owner"&&t.$$typeof)&&!Bl(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}function Rv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ax(t,r){const s=Rv(t);return Math.round(r*s)/s}function ju(t){const r=u.useRef(t);return _l(()=>{r.current=t}),r}function FE(t){t===void 0&&(t={});const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l,elements:{reference:c,floating:m}={},transform:f=!0,whileElementsMounted:p,open:g}=t,[v,x]=u.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[b,j]=u.useState(o);Bl(b,o)||j(o);const[P,N]=u.useState(null),[w,S]=u.useState(null),C=u.useCallback(R=>{R!==U.current&&(U.current=R,N(R))},[]),E=u.useCallback(R=>{R!==V.current&&(V.current=R,S(R))},[]),O=c||P,D=m||w,U=u.useRef(null),V=u.useRef(null),se=u.useRef(v),ue=p!=null,ie=ju(p),te=ju(l),L=ju(g),re=u.useCallback(()=>{if(!U.current||!V.current)return;const R={placement:r,strategy:s,middleware:b};te.current&&(R.platform=te.current),_E(U.current,V.current,R).then(A=>{const W={...A,isPositioned:L.current!==!1};Q.current&&!Bl(se.current,W)&&(se.current=W,Xa.flushSync(()=>{x(W)}))})},[b,r,s,te,L]);_l(()=>{g===!1&&se.current.isPositioned&&(se.current.isPositioned=!1,x(R=>({...R,isPositioned:!1})))},[g]);const Q=u.useRef(!1);_l(()=>(Q.current=!0,()=>{Q.current=!1}),[]),_l(()=>{if(O&&(U.current=O),D&&(V.current=D),O&&D){if(ie.current)return ie.current(O,D,re);re()}},[O,D,re,ie,ue]);const F=u.useMemo(()=>({reference:U,floating:V,setReference:C,setFloating:E}),[C,E]),G=u.useMemo(()=>({reference:O,floating:D}),[O,D]),Y=u.useMemo(()=>{const R={position:s,left:0,top:0};if(!G.floating)return R;const A=Ax(G.floating,v.x),W=Ax(G.floating,v.y);return f?{...R,transform:"translate("+A+"px, "+W+"px)",...Rv(G.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:A,top:W}},[s,f,G.floating,v.x,v.y]);return u.useMemo(()=>({...v,update:re,refs:F,elements:G,floatingStyles:Y}),[v,re,F,G,Y])}const $E=t=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:o,padding:l}=typeof t=="function"?t(s):t;return o&&r(o)?o.current!=null?Dx({element:o.current,padding:l}).fn(s):{}:o?Dx({element:o,padding:l}).fn(s):{}}}},LE=(t,r)=>({...kE(t),options:[t,r]}),zE=(t,r)=>({...PE(t),options:[t,r]}),VE=(t,r)=>({...AE(t),options:[t,r]}),BE=(t,r)=>({...RE(t),options:[t,r]}),UE=(t,r)=>({...ME(t),options:[t,r]}),HE=(t,r)=>({...DE(t),options:[t,r]}),WE=(t,r)=>({...$E(t),options:[t,r]});var qE="Arrow",Mv=u.forwardRef((t,r)=>{const{children:s,width:o=10,height:l=5,...c}=t;return e.jsx(Ie.svg,{...c,ref:r,width:o,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mv.displayName=qE;var GE=Mv;function sc(t){const[r,s]=u.useState(void 0);return Jt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let m,f;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;m=g.inlineSize,f=g.blockSize}else m=t.offsetWidth,f=t.offsetHeight;s({width:m,height:f})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else s(void 0)},[t]),r}var Fm="Popper",[Dv,ro]=un(Fm),[KE,Av]=Dv(Fm),_v=t=>{const{__scopePopper:r,children:s}=t,[o,l]=u.useState(null);return e.jsx(KE,{scope:r,anchor:o,onAnchorChange:l,children:s})};_v.displayName=Fm;var Ov="PopperAnchor",Iv=u.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:o,...l}=t,c=Av(Ov,s),m=u.useRef(null),f=Ye(r,m),p=u.useRef(null);return u.useEffect(()=>{const g=p.current;p.current=o?.current||m.current,g!==p.current&&c.onAnchorChange(p.current)}),o?null:e.jsx(Ie.div,{...l,ref:f})});Iv.displayName=Ov;var $m="PopperContent",[YE,QE]=Dv($m),Fv=u.forwardRef((t,r)=>{const{__scopePopper:s,side:o="bottom",sideOffset:l=0,align:c="center",alignOffset:m=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:j="optimized",onPlaced:P,...N}=t,w=Av($m,s),[S,C]=u.useState(null),E=Ye(r,J=>C(J)),[O,D]=u.useState(null),U=sc(O),V=U?.width??0,se=U?.height??0,ue=o+(c!=="center"?"-"+c:""),ie=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},te=Array.isArray(g)?g:[g],L=te.length>0,re={padding:ie,boundary:te.filter(XE),altBoundary:L},{refs:Q,floatingStyles:F,placement:G,isPositioned:Y,middlewareData:R}=FE({strategy:"fixed",placement:ue,whileElementsMounted:(...J)=>TE(...J,{animationFrame:j==="always"}),elements:{reference:w.anchor},middleware:[LE({mainAxis:l+se,alignmentAxis:m}),p&&zE({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?VE():void 0,...re}),p&&BE({...re}),UE({...re,apply:({elements:J,rects:M,availableWidth:fe,availableHeight:be})=>{const{width:ke,height:pe}=M.reference,Fe=J.floating.style;Fe.setProperty("--radix-popper-available-width",`${fe}px`),Fe.setProperty("--radix-popper-available-height",`${be}px`),Fe.setProperty("--radix-popper-anchor-width",`${ke}px`),Fe.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),O&&WE({element:O,padding:f}),ZE({arrowWidth:V,arrowHeight:se}),b&&HE({strategy:"referenceHidden",...re})]}),[A,W]=zv(G),T=dn(P);Jt(()=>{Y&&T?.()},[Y,T]);const I=R.arrow?.x,$=R.arrow?.y,oe=R.arrow?.centerOffset!==0,[ce,ee]=u.useState();return Jt(()=>{S&&ee(window.getComputedStyle(S).zIndex)},[S]),e.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:Y?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(YE,{scope:s,placedSide:A,onArrowChange:D,arrowX:I,arrowY:$,shouldHideArrow:oe,children:e.jsx(Ie.div,{"data-side":A,"data-align":W,...N,ref:E,style:{...N.style,animation:Y?void 0:"none"}})})})});Fv.displayName=$m;var $v="PopperArrow",JE={top:"bottom",right:"left",bottom:"top",left:"right"},Lv=u.forwardRef(function(r,s){const{__scopePopper:o,...l}=r,c=QE($v,o),m=JE[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(GE,{...l,ref:s,style:{...l.style,display:"block"}})})});Lv.displayName=$v;function XE(t){return t!==null}var ZE=t=>({name:"transformOrigin",options:t,fn(r){const{placement:s,rects:o,middlewareData:l}=r,m=l.arrow?.centerOffset!==0,f=m?0:t.arrowWidth,p=m?0:t.arrowHeight,[g,v]=zv(s),x={start:"0%",center:"50%",end:"100%"}[v],b=(l.arrow?.x??0)+f/2,j=(l.arrow?.y??0)+p/2;let P="",N="";return g==="bottom"?(P=m?x:`${b}px`,N=`${-p}px`):g==="top"?(P=m?x:`${b}px`,N=`${o.floating.height+p}px`):g==="right"?(P=`${-p}px`,N=m?x:`${j}px`):g==="left"&&(P=`${o.floating.width+p}px`,N=m?x:`${j}px`),{data:{x:P,y:N}}}});function zv(t){const[r,s="center"]=t.split("-");return[r,s]}var Lm=_v,zm=Iv,Vm=Fv,Bm=Lv,[ac]=un("Tooltip",[ro]),oc=ro(),Vv="TooltipProvider",e2=700,Ku="tooltip.open",[t2,Um]=ac(Vv),Bv=t=>{const{__scopeTooltip:r,delayDuration:s=e2,skipDelayDuration:o=300,disableHoverableContent:l=!1,children:c}=t,m=u.useRef(!0),f=u.useRef(!1),p=u.useRef(0);return u.useEffect(()=>{const g=p.current;return()=>window.clearTimeout(g)},[]),e.jsx(t2,{scope:r,isOpenDelayedRef:m,delayDuration:s,onOpen:u.useCallback(()=>{window.clearTimeout(p.current),m.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>m.current=!0,o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:u.useCallback(g=>{f.current=g},[]),disableHoverableContent:l,children:c})};Bv.displayName=Vv;var Jo="Tooltip",[n2,ic]=ac(Jo),Uv=t=>{const{__scopeTooltip:r,children:s,open:o,defaultOpen:l,onOpenChange:c,disableHoverableContent:m,delayDuration:f}=t,p=Um(Jo,t.__scopeTooltip),g=oc(r),[v,x]=u.useState(null),b=Lr(),j=u.useRef(0),P=m??p.disableHoverableContent,N=f??p.delayDuration,w=u.useRef(!1),[S,C]=Cr({prop:o,defaultProp:l??!1,onChange:V=>{V?(p.onOpen(),document.dispatchEvent(new CustomEvent(Ku))):p.onClose(),c?.(V)},caller:Jo}),E=u.useMemo(()=>S?w.current?"delayed-open":"instant-open":"closed",[S]),O=u.useCallback(()=>{window.clearTimeout(j.current),j.current=0,w.current=!1,C(!0)},[C]),D=u.useCallback(()=>{window.clearTimeout(j.current),j.current=0,C(!1)},[C]),U=u.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{w.current=!0,C(!0),j.current=0},N)},[N,C]);return u.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),e.jsx(Lm,{...g,children:e.jsx(n2,{scope:r,contentId:b,open:S,stateAttribute:E,trigger:v,onTriggerChange:x,onTriggerEnter:u.useCallback(()=>{p.isOpenDelayedRef.current?U():O()},[p.isOpenDelayedRef,U,O]),onTriggerLeave:u.useCallback(()=>{P?D():(window.clearTimeout(j.current),j.current=0)},[D,P]),onOpen:O,onClose:D,disableHoverableContent:P,children:s})})};Uv.displayName=Jo;var Yu="TooltipTrigger",Hv=u.forwardRef((t,r)=>{const{__scopeTooltip:s,...o}=t,l=ic(Yu,s),c=Um(Yu,s),m=oc(s),f=u.useRef(null),p=Ye(r,f,l.onTriggerChange),g=u.useRef(!1),v=u.useRef(!1),x=u.useCallback(()=>g.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),e.jsx(zm,{asChild:!0,...m,children:e.jsx(Ie.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...o,ref:p,onPointerMove:Ce(t.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{l.onTriggerLeave(),v.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{l.open&&l.onClose(),g.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:Ce(t.onFocus,()=>{g.current||l.onOpen()}),onBlur:Ce(t.onBlur,l.onClose),onClick:Ce(t.onClick,l.onClose)})})});Hv.displayName=Yu;var r2="TooltipPortal",[I_,s2]=ac(r2,{forceMount:void 0}),Ya="TooltipContent",Wv=u.forwardRef((t,r)=>{const s=s2(Ya,t.__scopeTooltip),{forceMount:o=s.forceMount,side:l="top",...c}=t,m=ic(Ya,t.__scopeTooltip);return e.jsx(An,{present:o||m.open,children:m.disableHoverableContent?e.jsx(qv,{side:l,...c,ref:r}):e.jsx(a2,{side:l,...c,ref:r})})}),a2=u.forwardRef((t,r)=>{const s=ic(Ya,t.__scopeTooltip),o=Um(Ya,t.__scopeTooltip),l=u.useRef(null),c=Ye(r,l),[m,f]=u.useState(null),{trigger:p,onClose:g}=s,v=l.current,{onPointerInTransitChange:x}=o,b=u.useCallback(()=>{f(null),x(!1)},[x]),j=u.useCallback((P,N)=>{const w=P.currentTarget,S={x:P.clientX,y:P.clientY},C=d2(S,w.getBoundingClientRect()),E=u2(S,C),O=m2(N.getBoundingClientRect()),D=h2([...E,...O]);f(D),x(!0)},[x]);return u.useEffect(()=>()=>b(),[b]),u.useEffect(()=>{if(p&&v){const P=w=>j(w,v),N=w=>j(w,p);return p.addEventListener("pointerleave",P),v.addEventListener("pointerleave",N),()=>{p.removeEventListener("pointerleave",P),v.removeEventListener("pointerleave",N)}}},[p,v,j,b]),u.useEffect(()=>{if(m){const P=N=>{const w=N.target,S={x:N.clientX,y:N.clientY},C=p?.contains(w)||v?.contains(w),E=!f2(S,m);C?b():E&&(b(),g())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[p,v,m,g,b]),e.jsx(qv,{...t,ref:c})}),[o2,i2]=ac(Jo,{isInside:!1}),l2=kg("TooltipContent"),qv=u.forwardRef((t,r)=>{const{__scopeTooltip:s,children:o,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:m,...f}=t,p=ic(Ya,s),g=oc(s),{onClose:v}=p;return u.useEffect(()=>(document.addEventListener(Ku,v),()=>document.removeEventListener(Ku,v)),[v]),u.useEffect(()=>{if(p.trigger){const x=b=>{b.target?.contains(p.trigger)&&v()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[p.trigger,v]),e.jsx(Za,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:x=>x.preventDefault(),onDismiss:v,children:e.jsxs(Vm,{"data-state":p.stateAttribute,...g,...f,ref:r,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(l2,{children:o}),e.jsx(o2,{scope:s,isInside:!0,children:e.jsx(RC,{id:p.contentId,role:"tooltip",children:l||o})})]})})});Wv.displayName=Ya;var Gv="TooltipArrow",c2=u.forwardRef((t,r)=>{const{__scopeTooltip:s,...o}=t,l=oc(s);return i2(Gv,s).isInside?null:e.jsx(Bm,{...l,...o,ref:r})});c2.displayName=Gv;function d2(t,r){const s=Math.abs(r.top-t.y),o=Math.abs(r.bottom-t.y),l=Math.abs(r.right-t.x),c=Math.abs(r.left-t.x);switch(Math.min(s,o,l,c)){case c:return"left";case l:return"right";case s:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function u2(t,r,s=5){const o=[];switch(r){case"top":o.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":o.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":o.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":o.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return o}function m2(t){const{top:r,right:s,bottom:o,left:l}=t;return[{x:l,y:r},{x:s,y:r},{x:s,y:o},{x:l,y:o}]}function f2(t,r){const{x:s,y:o}=t;let l=!1;for(let c=0,m=r.length-1;c<r.length;m=c++){const f=r[c],p=r[m],g=f.x,v=f.y,x=p.x,b=p.y;v>o!=b>o&&s<(x-g)*(o-v)/(b-v)+g&&(l=!l)}return l}function h2(t){const r=t.slice();return r.sort((s,o)=>s.x<o.x?-1:s.x>o.x?1:s.y<o.y?-1:s.y>o.y?1:0),p2(r)}function p2(t){if(t.length<=1)return t.slice();const r=[];for(let o=0;o<t.length;o++){const l=t[o];for(;r.length>=2;){const c=r[r.length-1],m=r[r.length-2];if((c.x-m.x)*(l.y-m.y)>=(c.y-m.y)*(l.x-m.x))r.pop();else break}r.push(l)}r.pop();const s=[];for(let o=t.length-1;o>=0;o--){const l=t[o];for(;s.length>=2;){const c=s[s.length-1],m=s[s.length-2];if((c.x-m.x)*(l.y-m.y)>=(c.y-m.y)*(l.x-m.x))s.pop();else break}s.push(l)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var x2=Bv,g2=Uv,v2=Hv,Kv=Wv;const y2=x2,_x=g2,Ox=v2,Qu=u.forwardRef(({className:t,sideOffset:r=4,...s},o)=>e.jsx(Kv,{ref:o,sideOffset:r,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Qu.displayName=Kv.displayName;var lc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},w2={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},j2=class{#e=w2;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,r){return this.#e.setTimeout(t,r)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,r){return this.#e.setInterval(t,r)}clearInterval(t){this.#e.clearInterval(t)}},Ju=new j2;function b2(t){setTimeout(t,0)}var cc=typeof window>"u"||"Deno"in globalThis;function or(){}function N2(t,r){return typeof t=="function"?t(r):t}function C2(t){return typeof t=="number"&&t>=0&&t!==1/0}function S2(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Xu(t,r){return typeof t=="function"?t(r):t}function E2(t,r){return typeof t=="function"?t(r):t}function Ix(t,r){const{type:s="all",exact:o,fetchStatus:l,predicate:c,queryKey:m,stale:f}=t;if(m){if(o){if(r.queryHash!==Hm(m,r.options))return!1}else if(!Zo(r.queryKey,m))return!1}if(s!=="all"){const p=r.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||l&&l!==r.state.fetchStatus||c&&!c(r))}function Fx(t,r){const{exact:s,status:o,predicate:l,mutationKey:c}=t;if(c){if(!r.options.mutationKey)return!1;if(s){if(Xo(r.options.mutationKey)!==Xo(c))return!1}else if(!Zo(r.options.mutationKey,c))return!1}return!(o&&r.state.status!==o||l&&!l(r))}function Hm(t,r){return(r?.queryKeyHashFn||Xo)(t)}function Xo(t){return JSON.stringify(t,(r,s)=>Zu(s)?Object.keys(s).sort().reduce((o,l)=>(o[l]=s[l],o),{}):s)}function Zo(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(s=>Zo(t[s],r[s])):!1}var T2=Object.prototype.hasOwnProperty;function Yv(t,r){if(t===r)return t;const s=$x(t)&&$x(r);if(!s&&!(Zu(t)&&Zu(r)))return r;const l=(s?t:Object.keys(t)).length,c=s?r:Object.keys(r),m=c.length,f=s?new Array(m):{};let p=0;for(let g=0;g<m;g++){const v=s?g:c[g],x=t[v],b=r[v];if(x===b){f[v]=x,(s?g<l:T2.call(t,v))&&p++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){f[v]=b;continue}const j=Yv(x,b);f[v]=j,j===x&&p++}return l===m&&p===l?t:f}function $x(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zu(t){if(!Lx(t))return!1;const r=t.constructor;if(r===void 0)return!0;const s=r.prototype;return!(!Lx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lx(t){return Object.prototype.toString.call(t)==="[object Object]"}function k2(t){return new Promise(r=>{Ju.setTimeout(r,t)})}function P2(t,r,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,r):s.structuralSharing!==!1?Yv(t,r):r}function R2(t,r,s=0){const o=[...t,r];return s&&o.length>s?o.slice(1):o}function M2(t,r,s=0){const o=[r,...t];return s&&o.length>s?o.slice(0,-1):o}var Wm=Symbol();function Qv(t,r){return!t.queryFn&&r?.initialPromise?()=>r.initialPromise:!t.queryFn||t.queryFn===Wm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var D2=class extends lc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!cc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Jv=new D2;function A2(){let t,r;const s=new Promise((l,c)=>{t=l,r=c});s.status="pending",s.catch(()=>{});function o(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{o({status:"fulfilled",value:l}),t(l)},s.reject=l=>{o({status:"rejected",reason:l}),r(l)},s}var _2=b2;function O2(){let t=[],r=0,s=f=>{f()},o=f=>{f()},l=_2;const c=f=>{r?t.push(f):l(()=>{s(f)})},m=()=>{const f=t;t=[],f.length&&l(()=>{o(()=>{f.forEach(p=>{s(p)})})})};return{batch:f=>{let p;r++;try{p=f()}finally{r--,r||m()}return p},batchCalls:f=>(...p)=>{c(()=>{f(...p)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{o=f},setScheduler:f=>{l=f}}}var ln=O2(),I2=class extends lc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!cc&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#e}},Ul=new I2;function F2(t){return Math.min(1e3*2**t,3e4)}function Xv(t){return(t??"online")==="online"?Ul.isOnline():!0}var em=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Zv(t){let r=!1,s=0,o;const l=A2(),c=()=>l.status!=="pending",m=N=>{if(!c()){const w=new em(N);b(w),t.onCancel?.(w)}},f=()=>{r=!0},p=()=>{r=!1},g=()=>Jv.isFocused()&&(t.networkMode==="always"||Ul.isOnline())&&t.canRun(),v=()=>Xv(t.networkMode)&&t.canRun(),x=N=>{c()||(o?.(),l.resolve(N))},b=N=>{c()||(o?.(),l.reject(N))},j=()=>new Promise(N=>{o=w=>{(c()||g())&&N(w)},t.onPause?.()}).then(()=>{o=void 0,c()||t.onContinue?.()}),P=()=>{if(c())return;let N;const w=s===0?t.initialPromise:void 0;try{N=w??t.fn()}catch(S){N=Promise.reject(S)}Promise.resolve(N).then(x).catch(S=>{if(c())return;const C=t.retry??(cc?0:3),E=t.retryDelay??F2,O=typeof E=="function"?E(s,S):E,D=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,S);if(r||!D){b(S);return}s++,t.onFail?.(s,S),k2(O).then(()=>g()?void 0:j()).then(()=>{r?b(S):P()})})};return{promise:l,status:()=>l.status,cancel:m,continue:()=>(o?.(),l),cancelRetry:f,continueRetry:p,canStart:v,start:()=>(v()?P():j().then(P),l)}}var ey=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C2(this.gcTime)&&(this.#e=Ju.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ju.clearTimeout(this.#e),this.#e=void 0)}},$2=class extends ey{#e;#t;#n;#s;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=zx(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=zx(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,r){const s=P2(this.state.data,t,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(t,r){this.#a({type:"setState",state:t,setStateOptions:r})}cancel(t){const r=this.#r?.promise;return this.#r?.cancel(t),r?r.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>E2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!S2(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},l=()=>{const f=Qv(this.options,r),g=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(v),v})();return this.#i=!1,this.options.persister?this.options.persister(f,g,this):f(g)},m=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:l};return o(f),f})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#a({type:"fetch",meta:m.fetchOptions?.meta}),this.#r=Zv({initialPromise:r?.initialPromise,fn:m.fetchFn,onCancel:f=>{f instanceof em&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,p)=>{this.#a({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof em){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...L2(s.data,this.options),fetchMeta:t.meta??null};case"success":const o={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const l=t.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function L2(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xv(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zx(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,s=r!==void 0,o=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function Vx(t){return{onFetch:(r,s)=>{const o=r.options,l=r.fetchOptions?.meta?.fetchMore?.direction,c=r.state.data?.pages||[],m=r.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let v=!1;const x=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(r.signal.aborted?v=!0:r.signal.addEventListener("abort",()=>{v=!0}),r.signal)})},b=Qv(r.options,r.fetchOptions),j=async(P,N,w)=>{if(v)return Promise.reject();if(N==null&&P.pages.length)return Promise.resolve(P);const C=(()=>{const U={client:r.client,queryKey:r.queryKey,pageParam:N,direction:w?"backward":"forward",meta:r.options.meta};return x(U),U})(),E=await b(C),{maxPages:O}=r.options,D=w?M2:R2;return{pages:D(P.pages,E,O),pageParams:D(P.pageParams,N,O)}};if(l&&c.length){const P=l==="backward",N=P?z2:Bx,w={pages:c,pageParams:m},S=N(o,w);f=await j(w,S,P)}else{const P=t??c.length;do{const N=p===0?m[0]??o.initialPageParam:Bx(o,f);if(p>0&&N==null)break;f=await j(f,N),p++}while(p<P)}return f};r.options.persister?r.fetchFn=()=>r.options.persister?.(g,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},s):r.fetchFn=g}}}function Bx(t,{pages:r,pageParams:s}){const o=r.length-1;return r.length>0?t.getNextPageParam(r[o],r,s[o],s):void 0}function z2(t,{pages:r,pageParams:s}){return r.length>0?t.getPreviousPageParam?.(r[0],r,s[0],s):void 0}var V2=class extends ey{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||B2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(r=>r!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Zv({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(c,m)=>{this.#r({type:"failed",failureCount:c,error:m})},onPause:()=>{this.#r({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",l=!this.#s.canStart();try{if(o)r();else{this.#r({type:"pending",variables:t,isPaused:l}),await this.#n.config.onMutate?.(t,this,s);const m=await this.options.onMutate?.(t,s);m!==this.state.context&&this.#r({type:"pending",context:m,variables:t,isPaused:l})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,s),await this.options.onSuccess?.(c,t,this.state.context,s),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(c,null,t,this.state.context,s),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,s),await this.options.onError?.(c,t,this.state.context,s),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,c,t,this.state.context,s),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ln.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function B2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var U2=class extends lc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,r,s){const o=new V2({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(r),state:s});return this.add(o),o}add(t){this.#e.add(t);const r=Cl(t);if(typeof r=="string"){const s=this.#t.get(r);s?s.push(t):this.#t.set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const r=Cl(t);if(typeof r=="string"){const s=this.#t.get(r);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&this.#t.delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Cl(t);if(typeof r=="string"){const o=this.#t.get(r)?.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){const r=Cl(t);return typeof r=="string"?this.#t.get(r)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ln.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Fx(r,s))}findAll(t={}){return this.getAll().filter(r=>Fx(t,r))}notify(t){ln.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ln.batch(()=>Promise.all(t.map(r=>r.continue().catch(or))))}};function Cl(t){return t.options.scope?.id}var H2=class extends lc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,r,s){const o=r.queryKey,l=r.queryHash??Hm(o,r);let c=this.get(l);return c||(c=new $2({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=this.#e.get(t.queryHash);r&&(t.destroy(),r===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ln.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Ix(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Ix(t,s)):r}notify(t){ln.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},W2=class{#e;#t;#n;#s;#r;#o;#i;#a;constructor(t={}){this.#e=t.queryCache||new H2,this.#t=t.mutationCache||new U2,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=Jv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ul.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const r=this.defaultQueryOptions({queryKey:t});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),s=this.#e.build(this,r),o=s.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Xu(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:r,state:s})=>{const o=s.data;return[r,o]})}setQueryData(t,r,s){const o=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(o.queryHash)?.state.data,m=N2(r,c);if(m!==void 0)return this.#e.build(this,o).setData(m,{...s,manual:!0})}setQueriesData(t,r,s){return ln.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,r,s)]))}getQueryState(t){const r=this.defaultQueryOptions({queryKey:t});return this.#e.get(r.queryHash)?.state}removeQueries(t){const r=this.#e;ln.batch(()=>{r.findAll(t).forEach(s=>{r.remove(s)})})}resetQueries(t,r){const s=this.#e;return ln.batch(()=>(s.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const s={revert:!0,...r},o=ln.batch(()=>this.#e.findAll(t).map(l=>l.cancel(s)));return Promise.all(o).then(or).catch(or)}invalidateQueries(t,r={}){return ln.batch(()=>(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},r)))}refetchQueries(t,r={}){const s={...r,cancelRefetch:r.cancelRefetch??!0},o=ln.batch(()=>this.#e.findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,s);return s.throwOnError||(c=c.catch(or)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(o).then(or)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const s=this.#e.build(this,r);return s.isStaleByTime(Xu(r.staleTime,s))?s.fetch(r):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(or).catch(or)}fetchInfiniteQuery(t){return t.behavior=Vx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(or).catch(or)}ensureInfiniteQueryData(t){return t.behavior=Vx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ul.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,r){this.#s.set(Xo(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...this.#s.values()],s={};return r.forEach(o=>{Zo(t,o.queryKey)&&Object.assign(s,o.defaultOptions)}),s}setMutationDefaults(t,r){this.#r.set(Xo(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...this.#r.values()],s={};return r.forEach(o=>{Zo(t,o.mutationKey)&&Object.assign(s,o.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const r={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=Hm(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Wm&&(r.enabled=!1),r}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},q2=u.createContext(void 0),G2=({client:t,children:r})=>(u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(q2.Provider,{value:t,children:r}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},ei.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const Ux="popstate";function K2(t){t===void 0&&(t={});function r(o,l){let{pathname:c,search:m,hash:f}=o.location;return tm("",{pathname:c,search:m,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:Hl(l)}return Q2(r,s,null,t)}function Dt(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function ty(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Y2(){return Math.random().toString(36).substr(2,8)}function Hx(t,r){return{usr:t.state,key:t.key,idx:r}}function tm(t,r,s,o){return s===void 0&&(s=null),ei({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?so(r):r,{state:s,key:r&&r.key||o||Y2()})}function Hl(t){let{pathname:r="/",search:s="",hash:o=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function so(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let o=t.indexOf("?");o>=0&&(r.search=t.substr(o),t=t.substr(0,o)),t&&(r.pathname=t)}return r}function Q2(t,r,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,m=l.history,f=Cs.Pop,p=null,g=v();g==null&&(g=0,m.replaceState(ei({},m.state,{idx:g}),""));function v(){return(m.state||{idx:null}).idx}function x(){f=Cs.Pop;let w=v(),S=w==null?null:w-g;g=w,p&&p({action:f,location:N.location,delta:S})}function b(w,S){f=Cs.Push;let C=tm(N.location,w,S);g=v()+1;let E=Hx(C,g),O=N.createHref(C);try{m.pushState(E,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;l.location.assign(O)}c&&p&&p({action:f,location:N.location,delta:1})}function j(w,S){f=Cs.Replace;let C=tm(N.location,w,S);g=v();let E=Hx(C,g),O=N.createHref(C);m.replaceState(E,"",O),c&&p&&p({action:f,location:N.location,delta:0})}function P(w){let S=l.location.origin!=="null"?l.location.origin:l.location.href,C=typeof w=="string"?w:Hl(w);return C=C.replace(/ $/,"%20"),Dt(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let N={get action(){return f},get location(){return t(l,m)},listen(w){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Ux,x),p=w,()=>{l.removeEventListener(Ux,x),p=null}},createHref(w){return r(l,w)},createURL:P,encodeLocation(w){let S=P(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:j,go(w){return m.go(w)}};return N}var Wx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wx||(Wx={}));function J2(t,r,s){return s===void 0&&(s="/"),X2(t,r,s)}function X2(t,r,s,o){let l=typeof r=="string"?so(r):r,c=Qa(l.pathname||"/",s);if(c==null)return null;let m=ny(t);Z2(m);let f=null;for(let p=0;f==null&&p<m.length;++p){let g=dT(c);f=lT(m[p],g)}return f}function ny(t,r,s,o){r===void 0&&(r=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(c,m,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};p.relativePath.startsWith("/")&&(Dt(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let g=Ts([o,p.relativePath]),v=s.concat(p);c.children&&c.children.length>0&&(Dt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),ny(c.children,r,v,g)),!(c.path==null&&!c.index)&&r.push({path:g,score:oT(g,c.index),routesMeta:v})};return t.forEach((c,m)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,m);else for(let p of ry(c.path))l(c,m,p)}),r}function ry(t){let r=t.split("/");if(r.length===0)return[];let[s,...o]=r,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let m=ry(o.join("/")),f=[];return f.push(...m.map(p=>p===""?c:[c,p].join("/"))),l&&f.push(...m),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function Z2(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:iT(r.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const eT=/^:[\w-]+$/,tT=3,nT=2,rT=1,sT=10,aT=-2,qx=t=>t==="*";function oT(t,r){let s=t.split("/"),o=s.length;return s.some(qx)&&(o+=aT),r&&(o+=nT),s.filter(l=>!qx(l)).reduce((l,c)=>l+(eT.test(c)?tT:c===""?rT:sT),o)}function iT(t,r){return t.length===r.length&&t.slice(0,-1).every((o,l)=>o===r[l])?t[t.length-1]-r[r.length-1]:0}function lT(t,r,s){let{routesMeta:o}=t,l={},c="/",m=[];for(let f=0;f<o.length;++f){let p=o[f],g=f===o.length-1,v=c==="/"?r:r.slice(c.length)||"/",x=nm({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!x)return null;Object.assign(l,x.params),m.push({params:l,pathname:Ts([c,x.pathname]),pathnameBase:hT(Ts([c,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(c=Ts([c,x.pathnameBase]))}return m}function nm(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,o]=cT(t.path,t.caseSensitive,t.end),l=r.match(s);if(!l)return null;let c=l[0],m=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((g,v,x)=>{let{paramName:b,isOptional:j}=v;if(b==="*"){let N=f[x]||"";m=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const P=f[x];return j&&!P?g[b]=void 0:g[b]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:m,pattern:t}}function cT(t,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),ty(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function dT(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ty(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function Qa(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,o=t.charAt(s);return o&&o!=="/"?null:t.slice(s)||"/"}function uT(t,r){r===void 0&&(r="/");let{pathname:s,search:o="",hash:l=""}=typeof t=="string"?so(t):t;return{pathname:s?s.startsWith("/")?s:mT(s,r):r,search:pT(o),hash:xT(l)}}function mT(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function bu(t,r,s,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fT(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function qm(t,r){let s=fT(t);return r?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function Gm(t,r,s,o){o===void 0&&(o=!1);let l;typeof t=="string"?l=so(t):(l=ei({},t),Dt(!l.pathname||!l.pathname.includes("?"),bu("?","pathname","search",l)),Dt(!l.pathname||!l.pathname.includes("#"),bu("#","pathname","hash",l)),Dt(!l.search||!l.search.includes("#"),bu("#","search","hash",l)));let c=t===""||l.pathname==="",m=c?"/":l.pathname,f;if(m==null)f=s;else{let x=r.length-1;if(!o&&m.startsWith("..")){let b=m.split("/");for(;b[0]==="..";)b.shift(),x-=1;l.pathname=b.join("/")}f=x>=0?r[x]:"/"}let p=uT(l,f),g=m&&m!=="/"&&m.endsWith("/"),v=(c||m===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),hT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sy=["post","put","patch","delete"];new Set(sy);const vT=["get",...sy];new Set(vT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},ti.apply(this,arguments)}const dc=u.createContext(null),ay=u.createContext(null),Hr=u.createContext(null),uc=u.createContext(null),Ms=u.createContext({outlet:null,matches:[],isDataRoute:!1}),oy=u.createContext(null);function yT(t,r){let{relative:s}=r===void 0?{}:r;ao()||Dt(!1);let{basename:o,navigator:l}=u.useContext(Hr),{hash:c,pathname:m,search:f}=mc(t,{relative:s}),p=m;return o!=="/"&&(p=m==="/"?o:Ts([o,m])),l.createHref({pathname:p,search:f,hash:c})}function ao(){return u.useContext(uc)!=null}function jn(){return ao()||Dt(!1),u.useContext(uc).location}function iy(t){u.useContext(Hr).static||u.useLayoutEffect(t)}function Wr(){let{isDataRoute:t}=u.useContext(Ms);return t?DT():wT()}function wT(){ao()||Dt(!1);let t=u.useContext(dc),{basename:r,future:s,navigator:o}=u.useContext(Hr),{matches:l}=u.useContext(Ms),{pathname:c}=jn(),m=JSON.stringify(qm(l,s.v7_relativeSplatPath)),f=u.useRef(!1);return iy(()=>{f.current=!0}),u.useCallback(function(g,v){if(v===void 0&&(v={}),!f.current)return;if(typeof g=="number"){o.go(g);return}let x=Gm(g,JSON.parse(m),c,v.relative==="path");t==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Ts([r,x.pathname])),(v.replace?o.replace:o.push)(x,v.state,v)},[r,o,m,c,t])}function mc(t,r){let{relative:s}=r===void 0?{}:r,{future:o}=u.useContext(Hr),{matches:l}=u.useContext(Ms),{pathname:c}=jn(),m=JSON.stringify(qm(l,o.v7_relativeSplatPath));return u.useMemo(()=>Gm(t,JSON.parse(m),c,s==="path"),[t,m,c,s])}function jT(t,r){return bT(t,r)}function bT(t,r,s,o){ao()||Dt(!1);let{navigator:l}=u.useContext(Hr),{matches:c}=u.useContext(Ms),m=c[c.length-1],f=m?m.params:{};m&&m.pathname;let p=m?m.pathnameBase:"/";m&&m.route;let g=jn(),v;if(r){var x;let w=typeof r=="string"?so(r):r;p==="/"||(x=w.pathname)!=null&&x.startsWith(p)||Dt(!1),v=w}else v=g;let b=v.pathname||"/",j=b;if(p!=="/"){let w=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let P=J2(t,{pathname:j}),N=TT(P&&P.map(w=>Object.assign({},w,{params:Object.assign({},f,w.params),pathname:Ts([p,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Ts([p,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),c,s,o);return r&&N?u.createElement(uc.Provider,{value:{location:ti({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Cs.Pop}},N):N}function NT(){let t=MT(),r=gT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),s?u.createElement("pre",{style:l},s):null,null)}const CT=u.createElement(NT,null);class ST extends u.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?u.createElement(Ms.Provider,{value:this.props.routeContext},u.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ET(t){let{routeContext:r,match:s,children:o}=t,l=u.useContext(dc);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(Ms.Provider,{value:r},o)}function TT(t,r,s,o){var l;if(r===void 0&&(r=[]),s===void 0&&(s=null),o===void 0&&(o=null),t==null){var c;if(!s)return null;if(s.errors)t=s.matches;else if((c=o)!=null&&c.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let m=t,f=(l=s)==null?void 0:l.errors;if(f!=null){let v=m.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);v>=0||Dt(!1),m=m.slice(0,Math.min(m.length,v+1))}let p=!1,g=-1;if(s&&o&&o.v7_partialHydration)for(let v=0;v<m.length;v++){let x=m[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=v),x.route.id){let{loaderData:b,errors:j}=s,P=x.route.loader&&b[x.route.id]===void 0&&(!j||j[x.route.id]===void 0);if(x.route.lazy||P){p=!0,g>=0?m=m.slice(0,g+1):m=[m[0]];break}}}return m.reduceRight((v,x,b)=>{let j,P=!1,N=null,w=null;s&&(j=f&&x.route.id?f[x.route.id]:void 0,N=x.route.errorElement||CT,p&&(g<0&&b===0?(AT("route-fallback"),P=!0,w=null):g===b&&(P=!0,w=x.route.hydrateFallbackElement||null)));let S=r.concat(m.slice(0,b+1)),C=()=>{let E;return j?E=N:P?E=w:x.route.Component?E=u.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=v,u.createElement(ET,{match:x,routeContext:{outlet:v,matches:S,isDataRoute:s!=null},children:E})};return s&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?u.createElement(ST,{location:s.location,revalidation:s.revalidation,component:N,error:j,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var ly=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ly||{}),cy=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(cy||{});function kT(t){let r=u.useContext(dc);return r||Dt(!1),r}function PT(t){let r=u.useContext(ay);return r||Dt(!1),r}function RT(t){let r=u.useContext(Ms);return r||Dt(!1),r}function dy(t){let r=RT(),s=r.matches[r.matches.length-1];return s.route.id||Dt(!1),s.route.id}function MT(){var t;let r=u.useContext(oy),s=PT(),o=dy();return r!==void 0?r:(t=s.errors)==null?void 0:t[o]}function DT(){let{router:t}=kT(ly.UseNavigateStable),r=dy(cy.UseNavigateStable),s=u.useRef(!1);return iy(()=>{s.current=!0}),u.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,ti({fromRouteId:r},c)))},[t,r])}const Gx={};function AT(t,r,s){Gx[t]||(Gx[t]=!0)}function _T(t,r){t?.v7_startTransition,t?.v7_relativeSplatPath}function rm(t){let{to:r,replace:s,state:o,relative:l}=t;ao()||Dt(!1);let{future:c,static:m}=u.useContext(Hr),{matches:f}=u.useContext(Ms),{pathname:p}=jn(),g=Wr(),v=Gm(r,qm(f,c.v7_relativeSplatPath),p,l==="path"),x=JSON.stringify(v);return u.useEffect(()=>g(JSON.parse(x),{replace:s,state:o,relative:l}),[g,x,l,s,o]),null}function Qt(t){Dt(!1)}function OT(t){let{basename:r="/",children:s=null,location:o,navigationType:l=Cs.Pop,navigator:c,static:m=!1,future:f}=t;ao()&&Dt(!1);let p=r.replace(/^\/*/,"/"),g=u.useMemo(()=>({basename:p,navigator:c,static:m,future:ti({v7_relativeSplatPath:!1},f)}),[p,f,c,m]);typeof o=="string"&&(o=so(o));let{pathname:v="/",search:x="",hash:b="",state:j=null,key:P="default"}=o,N=u.useMemo(()=>{let w=Qa(v,p);return w==null?null:{location:{pathname:w,search:x,hash:b,state:j,key:P},navigationType:l}},[p,v,x,b,j,P,l]);return N==null?null:u.createElement(Hr.Provider,{value:g},u.createElement(uc.Provider,{children:s,value:N}))}function IT(t){let{children:r,location:s}=t;return jT(sm(r),s)}new Promise(()=>{});function sm(t,r){r===void 0&&(r=[]);let s=[];return u.Children.forEach(t,(o,l)=>{if(!u.isValidElement(o))return;let c=[...r,l];if(o.type===u.Fragment){s.push.apply(s,sm(o.props.children,c));return}o.type!==Qt&&Dt(!1),!o.props.index||!o.props.children||Dt(!1);let m={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=sm(o.props.children,c)),s.push(m)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Wl.apply(this,arguments)}function uy(t,r){if(t==null)return{};var s={},o=Object.keys(t),l,c;for(c=0;c<o.length;c++)l=o[c],!(r.indexOf(l)>=0)&&(s[l]=t[l]);return s}function FT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $T(t,r){return t.button===0&&(!r||r==="_self")&&!FT(t)}function am(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,s)=>{let o=t[s];return r.concat(Array.isArray(o)?o.map(l=>[s,l]):[[s,o]])},[]))}function LT(t,r){let s=am(t);return r&&r.forEach((o,l)=>{s.has(l)||r.getAll(l).forEach(c=>{s.append(l,c)})}),s}const zT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BT="6";try{window.__reactRouterVersion=BT}catch{}const UT=u.createContext({isTransitioning:!1}),HT="startTransition",Kx=vm[HT];function WT(t){let{basename:r,children:s,future:o,window:l}=t,c=u.useRef();c.current==null&&(c.current=K2({window:l,v5Compat:!0}));let m=c.current,[f,p]=u.useState({action:m.action,location:m.location}),{v7_startTransition:g}=o||{},v=u.useCallback(x=>{g&&Kx?Kx(()=>p(x)):p(x)},[p,g]);return u.useLayoutEffect(()=>m.listen(v),[m,v]),u.useEffect(()=>_T(o),[o]),u.createElement(OT,{basename:r,children:s,location:f.location,navigationType:f.action,navigator:m,future:o})}const qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=u.forwardRef(function(r,s){let{onClick:o,relative:l,reloadDocument:c,replace:m,state:f,target:p,to:g,preventScrollReset:v,viewTransition:x}=r,b=uy(r,zT),{basename:j}=u.useContext(Hr),P,N=!1;if(typeof g=="string"&&GT.test(g)&&(P=g,qT))try{let E=new URL(window.location.href),O=g.startsWith("//")?new URL(E.protocol+g):new URL(g),D=Qa(O.pathname,j);O.origin===E.origin&&D!=null?g=D+O.search+O.hash:N=!0}catch{}let w=yT(g,{relative:l}),S=QT(g,{replace:m,state:f,target:p,preventScrollReset:v,relative:l,viewTransition:x});function C(E){o&&o(E),E.defaultPrevented||S(E)}return u.createElement("a",Wl({},b,{href:P||w,onClick:N||c?o:C,ref:s,target:p}))}),KT=u.forwardRef(function(r,s){let{"aria-current":o="page",caseSensitive:l=!1,className:c="",end:m=!1,style:f,to:p,viewTransition:g,children:v}=r,x=uy(r,VT),b=mc(p,{relative:x.relative}),j=jn(),P=u.useContext(ay),{navigator:N,basename:w}=u.useContext(Hr),S=P!=null&&XT(b)&&g===!0,C=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,E=j.pathname,O=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;l||(E=E.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&w&&(O=Qa(O,w)||O);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let U=E===C||!m&&E.startsWith(C)&&E.charAt(D)==="/",V=O!=null&&(O===C||!m&&O.startsWith(C)&&O.charAt(C.length)==="/"),se={isActive:U,isPending:V,isTransitioning:S},ue=U?o:void 0,ie;typeof c=="function"?ie=c(se):ie=[c,U?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let te=typeof f=="function"?f(se):f;return u.createElement(Ja,Wl({},x,{"aria-current":ue,className:ie,ref:s,style:te,to:p,viewTransition:g}),typeof v=="function"?v(se):v)});var om;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(om||(om={}));var Yx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yx||(Yx={}));function YT(t){let r=u.useContext(dc);return r||Dt(!1),r}function QT(t,r){let{target:s,replace:o,state:l,preventScrollReset:c,relative:m,viewTransition:f}=r===void 0?{}:r,p=Wr(),g=jn(),v=mc(t,{relative:m});return u.useCallback(x=>{if($T(x,s)){x.preventDefault();let b=o!==void 0?o:Hl(g)===Hl(v);p(t,{replace:b,state:l,preventScrollReset:c,relative:m,viewTransition:f})}},[g,p,v,o,l,s,t,c,m,f])}function JT(t){let r=u.useRef(am(t)),s=u.useRef(!1),o=jn(),l=u.useMemo(()=>LT(o.search,s.current?null:r.current),[o.search]),c=Wr(),m=u.useCallback((f,p)=>{const g=am(typeof f=="function"?f(l):f);s.current=!0,c("?"+g,p)},[c,l]);return[l,m]}function XT(t,r){r===void 0&&(r={});let s=u.useContext(UT);s==null&&Dt(!1);let{basename:o}=YT(om.useViewTransitionState),l=mc(t,{relative:r.relative});if(!s.isTransitioning)return!1;let c=Qa(s.currentLocation.pathname,o)||s.currentLocation.pathname,m=Qa(s.nextLocation.pathname,o)||s.nextLocation.pathname;return nm(l.pathname,m)!=null||nm(l.pathname,c)!=null}let Pn="https://theproparking-backend-1rxk.onrender.com";Pn.endsWith("/")&&(Pn=Pn.slice(0,-1));if(Pn.startsWith("http://")||Pn.startsWith("https://"))try{const t=new URL(Pn);Pn=`${t.protocol}//${t.host}`}catch{const r=Pn.match(/^(https?:\/\/[^\/]+)/);r&&(Pn=r[1])}Pn.endsWith("/api")||(Pn=`${Pn}/api`);const ZT=Pn;class ek{baseUrl;authToken=null;constructor(r){this.baseUrl=r}setAuthToken(r){this.authToken=r||null}async request(r,s){const o=`${this.baseUrl}${r}`,l={"Content-Type":"application/json",...s?.headers||{}};this.authToken&&(l.Authorization=`Bearer ${this.authToken}`);const c={...s,headers:l};try{const m=await fetch(o,c),p=(m.headers.get("content-type")||"").includes("application/json");if(!m.ok){if(!p){const j=await m.text();throw console.error(`Non-JSON error response from ${o}:`,j.substring(0,300)),new Error(`Server returned non-JSON response (${m.status}): ${m.statusText}`)}const g=m.clone();let v;try{v=await m.json()}catch{const P=await g.text().catch(()=>"Unable to read response");console.error(`Failed to parse error JSON from ${o}:`,P.substring(0,300)),v={error:"Unknown error"}}const x=v&&(v.error??v.message);let b;if(typeof x=="string")b=x;else if(x&&typeof x=="object"&&typeof x.message=="string")b=x.message;else if(v&&typeof v.details=="string")b=v.details;else if(v&&typeof v.hint=="string")b=v.hint;else{const j=JSON.stringify(v);b=j&&j.length<200?j:`HTTP ${m.status}: ${m.statusText}`}throw m.status===401?new Error(b||"Unauthorized"):new Error(b||`HTTP ${m.status}: ${m.statusText}`)}if(m.status===204)return null;if(!p){const g=await m.text();throw console.error(`Non-JSON response from ${o}:`,g.substring(0,300)),new Error("Server returned non-JSON response")}return await m.json()}catch(m){throw console.error(`API Error [${r}]:`,m),m}}async getRates(){return this.request("/rates")}async createRate(r){return this.request("/rates",{method:"POST",body:JSON.stringify(r)})}async updateRate(r,s){return this.request(`/rates/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRate(r){return this.request(`/rates/${r}`,{method:"DELETE"})}async getMonthlyCustomers(){return this.request("/monthlyCustomers")}async createMonthlyCustomer(r){return this.request("/monthlyCustomers",{method:"POST",body:JSON.stringify(r)})}async updateMonthlyCustomer(r,s){return this.request(`/monthlyCustomers/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteMonthlyCustomer(r){return this.request(`/monthlyCustomers/${r}`,{method:"DELETE"})}async registerMonthlyPayment(r,s){return this.request(`/monthlyCustomers/${r}/pay`,{method:"POST",body:JSON.stringify(s)})}async createTicket(r){return this.request("/tickets",{method:"POST",body:JSON.stringify(r)})}async processTicketExit(r,s){return this.request(`/tickets/${r}/exit`,{method:"POST",body:JSON.stringify(s)})}async getTicket(r){return this.request(`/tickets/${r}`)}async getPayments(r){const s=new URLSearchParams;r?.start&&s.append("start",r.start),r?.end&&s.append("end",r.end);const o=s.toString();return this.request(`/payments${o?`?${o}`:""}`)}async createPayment(r){return this.request("/payments",{method:"POST",body:JSON.stringify(r)})}async getFinancialReport(r){const s=new URLSearchParams;r?.start&&s.append("start",r.start),r?.end&&s.append("end",r.end);const o=s.toString();return this.request(`/reports${o?`?${o}`:""}`)}async getCompanyConfig(){return this.request("/companyConfig")}async updateCompanyConfig(r){return this.request("/companyConfig",{method:"PUT",body:JSON.stringify(r)})}async getVehicles(){try{return await this.request("/vehicles")}catch{return console.warn("Vehicles endpoint not available, using tickets instead"),[]}}async createVehicle(r){try{return await this.request("/vehicles",{method:"POST",body:JSON.stringify(r)})}catch{return this.createTicket({vehicle_plate:r.plate,vehicle_type:r.vehicleType})}}async updateVehicle(r,s){return this.request(`/vehicles/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteVehicle(r){return this.request(`/vehicles/${r}`,{method:"DELETE"})}async getVehicleTypes(){return this.request("/vehicleTypes")}async createVehicleType(r){return this.request("/vehicleTypes",{method:"POST",body:JSON.stringify({name:r})})}async deleteVehicleType(r){return this.request(`/vehicleTypes/${r}`,{method:"DELETE"})}async login(r){return this.request("/auth/login",{method:"POST",body:JSON.stringify(r)})}async getCurrentUser(){return this.request("/auth/me")}async changePassword(r){return this.request("/auth/change-password",{method:"POST",body:JSON.stringify(r)})}async getUsers(){return this.request("/users")}async createUser(r){return this.request("/users",{method:"POST",body:JSON.stringify(r)})}async updateUser(r,s){return this.request(`/users/${r}`,{method:"PUT",body:JSON.stringify(s)})}async updateUserPassword(r,s){return this.request(`/users/${r}/password`,{method:"PUT",body:JSON.stringify({newPassword:s})})}async updateOwnPassword(r,s,o){return this.request(`/users/${r}/password`,{method:"PUT",body:JSON.stringify({oldPassword:s,newPassword:o})})}async validatePasswordStrength(r){return this.request("/auth/validate-password",{method:"POST",body:JSON.stringify({password:r})})}async getPasswordRequirements(){return this.request("/auth/password-requirements")}async deleteUser(r){return this.request(`/users/${r}`,{method:"DELETE"})}async createAuditEvent(r){return this.request("/audit/events",{method:"POST",body:JSON.stringify(r)})}async getAuditEvents(r){const s=new URLSearchParams;r?.start&&s.append("start",r.start),r?.end&&s.append("end",r.end),r?.action&&s.append("action",r.action),r?.actorId&&s.append("actorId",r.actorId);const o=s.toString();return this.request(`/audit/events${o?`?${o}`:""}`)}async createBackup(){return this.request("/backup",{method:"POST"})}async listBackups(){return this.request("/backup")}async downloadBackup(r){const s=`${this.baseUrl}/backup/${encodeURIComponent(r)}`,o={};this.authToken&&(o.Authorization=`Bearer ${this.authToken}`);const l=await fetch(s,{headers:o});if(!l.ok){const m=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(m.error||`HTTP ${l.status}`)}return await l.blob()}async previewBackup(r){return this.request(`/backup/${encodeURIComponent(r)}/preview`)}async restoreBackup(r,s){return this.request(`/backup/${encodeURIComponent(r)}/restore`,{method:"POST",body:JSON.stringify({tables:s})})}async deleteBackup(r){return this.request(`/backup/${encodeURIComponent(r)}`,{method:"DELETE"})}async getBackupConfig(){return this.request("/backup-config")}async updateBackupConfig(r){return this.request("/backup-config",{method:"PUT",body:JSON.stringify(r)})}async triggerAutoBackup(){return this.request("/backup-config/trigger",{method:"POST"})}async generateMonthlyReport(r){return this.request("/reports/monthly",{method:"POST",body:JSON.stringify(r||{})})}async getMonthlyReports(r){const s=new URLSearchParams;r?.year&&s.append("year",r.year.toString()),r?.limit&&s.append("limit",r.limit.toString());const o=s.toString();return this.request(`/reports/monthly${o?`?${o}`:""}`)}async getMonthlyReportById(r){return this.request(`/reports/monthly/${r}`)}async deleteMonthlyReport(r){return this.request(`/reports/monthly/${r}`,{method:"DELETE"})}async getPricingRules(r){return this.request(`/pricing-rules/rate/${r}`)}async createPricingRule(r){return this.request("/pricing-rules",{method:"POST",body:JSON.stringify(r)})}async updatePricingRule(r,s){return this.request(`/pricing-rules/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deletePricingRule(r){return this.request(`/pricing-rules/${r}`,{method:"DELETE"})}async togglePricingRule(r,s){return this.request(`/pricing-rules/${r}/toggle`,{method:"PATCH",body:JSON.stringify({isActive:s})})}async getRateTimeWindows(r){return this.request(`/rates/${r}/windows`)}async createRateTimeWindow(r,s){return this.request(`/rates/${r}/windows`,{method:"POST",body:JSON.stringify(s)})}async updateRateTimeWindow(r,s){return this.request(`/rate-windows/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRateTimeWindow(r){return this.request(`/rate-windows/${r}`,{method:"DELETE"})}async getRateThresholds(r){return this.request(`/rates/${r}/thresholds`)}async createRateThreshold(r,s){return this.request(`/rates/${r}/thresholds`,{method:"POST",body:JSON.stringify(s)})}async updateRateThreshold(r,s){return this.request(`/rate-thresholds/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRateThreshold(r){return this.request(`/rate-thresholds/${r}`,{method:"DELETE"})}async getReceiptTemplates(r){const s=r&&r!=="all"?`?type=${r}`:"";return this.request(`/receipt-templates${s}`)}async createReceiptTemplate(r){return this.request("/receipt-templates",{method:"POST",body:JSON.stringify(r)})}async updateReceiptTemplate(r,s){return this.request(`/receipt-templates/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteReceiptTemplate(r){return this.request(`/receipt-templates/${r}`,{method:"DELETE"})}async setDefaultReceiptTemplate(r){return this.request(`/receipt-templates/${r}/set-default`,{method:"POST"})}async cloneReceiptTemplate(r){return this.request(`/receipt-templates/${r}/clone`,{method:"POST"})}async getBusinessHours(){return this.request("/business-hours")}async updateBusinessHours(r,s){return this.request(`/business-hours/${r}`,{method:"PUT",body:JSON.stringify(s)})}async getHolidays(r){const s=r?"?upcoming=true":"";return this.request(`/holidays${s}`)}async createHoliday(r){return this.request("/holidays",{method:"POST",body:JSON.stringify(r)})}async updateHoliday(r,s){return this.request(`/holidays/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteHoliday(r){return this.request(`/holidays/${r}`,{method:"DELETE"})}async getSpecialEvents(r){const s=r?"?active=true":"";return this.request(`/special-events${s}`)}async createSpecialEvent(r){return this.request("/special-events",{method:"POST",body:JSON.stringify(r)})}async updateSpecialEvent(r,s){return this.request(`/special-events/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteSpecialEvent(r){return this.request(`/special-events/${r}`,{method:"DELETE"})}async getOperationalStatus(){return this.request("/operational-status")}async enqueuePrinterJob(r){return this.request("/printer-jobs",{method:"POST",body:JSON.stringify(r)})}async listPrinterJobs(r){const s=new URLSearchParams;r?.status&&(Array.isArray(r.status)?r.status:[r.status]).forEach(c=>s.append("status",c)),r?.jobType&&(Array.isArray(r.jobType)?r.jobType:[r.jobType]).forEach(c=>s.append("jobType",c)),typeof r?.limit=="number"&&s.set("limit",r.limit.toString()),r?.since&&s.set("since",r.since),r?.search&&s.set("search",r.search);const o=s.toString();return this.request(`/printer-jobs${o?`?${o}`:""}`)}async getPrinterJob(r){return this.request(`/printer-jobs/${r}`)}async cancelPrinterJob(r,s){return this.request(`/printer-jobs/${r}/cancel`,{method:"POST",body:JSON.stringify({reason:s})})}async getPrinterJobStatuses(){return this.request("/printer-jobs/statuses")}async getExpenses(r){const s=new URLSearchParams;r?.start&&s.set("start",r.start),r?.end&&s.set("end",r.end),r?.category&&s.set("category",r.category),r?.status&&s.set("status",r.status);const o=s.toString();return this.request(`/expenses${o?`?${o}`:""}`)}async getExpense(r){return this.request(`/expenses/${r}`)}async createExpense(r){return this.request("/expenses",{method:"POST",body:JSON.stringify(r)})}async updateExpense(r,s){return this.request(`/expenses/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteExpense(r){return this.request(`/expenses/${r}`,{method:"DELETE"})}async getManualRevenues(r){const s=new URLSearchParams;r?.start&&s.set("start",r.start),r?.end&&s.set("end",r.end),r?.category&&s.set("category",r.category);const o=s.toString();return this.request(`/manual-revenues${o?`?${o}`:""}`)}async getManualRevenue(r){return this.request(`/manual-revenues/${r}`)}async createManualRevenue(r){return this.request("/manual-revenues",{method:"POST",body:JSON.stringify(r)})}async updateManualRevenue(r,s){return this.request(`/manual-revenues/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteManualRevenue(r){return this.request(`/manual-revenues/${r}`,{method:"DELETE"})}}const Se=new ek(ZT),my=u.createContext(void 0);function tk(){try{return localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token")}catch{return null}}const nk=({children:t})=>{const[r,s]=u.useState(null),[o,l]=u.useState(null),[c,m]=u.useState(!0),[f,p]=u.useState(!1),[g,v]=u.useState(!1);u.useEffect(()=>{const C=tk();C?l(C):m(!1)},[]),u.useEffect(()=>{if(!o){s(null),Se.setAuthToken(null),m(!1);return}(async()=>{m(!0),Se.setAuthToken(o);try{const E=await Se.getCurrentUser();s(E.user)}catch(E){console.warn("Token validation failed, clearing:",E),b(),l(null),s(null),Se.setAuthToken(null)}finally{m(!1)}})()},[o]);const x=(C,E)=>{try{E?(localStorage.setItem("auth:token",C),sessionStorage.removeItem("auth:token")):(sessionStorage.setItem("auth:token",C),localStorage.removeItem("auth:token"))}catch{}},b=()=>{try{localStorage.removeItem("auth:token"),sessionStorage.removeItem("auth:token")}catch{}},j=async(C,E,O)=>{const D=await Se.login({login:C,password:E});s(D.user),l(D.token),x(D.token,O),Se.setAuthToken(D.token),D.mustChangePassword!==void 0&&p(D.mustChangePassword),D.isFirstLogin!==void 0&&v(D.isFirstLogin)},P=()=>{s(null),l(null),p(!1),v(!1),b(),Se.setAuthToken(null)},N=()=>{p(!1),v(!1)},w=C=>r?r.role==="admin"?!0:!!(r.permissions||{})[C]:!1,S=u.useMemo(()=>({user:r,token:o,isAuthenticated:!!r,isAdmin:r?.role==="admin",hasPermission:w,loading:c,mustChangePassword:f,isFirstLogin:g,login:j,logout:P,clearPasswordChangeFlags:N}),[r,o,c,f,g]);return e.jsx(my.Provider,{value:S,children:t})},bn=()=>{const t=u.useContext(my);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},fy=u.createContext(void 0),rk=({children:t})=>{const{token:r}=bn(),[s,o]=u.useState([]),[l,c]=u.useState([]),[m,f]=u.useState([]),[p,g]=u.useState({name:"Estacionamento",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#2563eb",receiptCounter:1}),[v,x]=u.useState(()=>{try{const Y=localStorage.getItem("cash:isOpen");return Y?JSON.parse(Y):!1}catch{return!1}}),[b,j]=u.useState(()=>{try{const Y=localStorage.getItem("cash:session");return Y?JSON.parse(Y):void 0}catch{return}}),[P,N]=u.useState(()=>{try{const Y=localStorage.getItem("cash:lastClosingAmount");return Y?Number(Y):0}catch{return 0}});u.useEffect(()=>{try{localStorage.setItem("cash:isOpen",JSON.stringify(v))}catch{}},[v]),u.useEffect(()=>{try{localStorage.setItem("cash:session",JSON.stringify(b))}catch{}},[b]),u.useEffect(()=>{try{localStorage.setItem("cash:lastClosingAmount",String(P))}catch{}},[P]),u.useEffect(()=>{(async()=>{try{const[R,A]=await Promise.all([Se.getVehicles().catch(W=>(console.error("Error loading vehicles:",W),[])),Se.getRates().catch(W=>(console.error("Error loading rates:",W),[]))]);if(o(R||[]),c(A||[]),r){const[W,T]=await Promise.all([Se.getMonthlyCustomers().catch(I=>(console.error("Error loading monthly customers:",I),[])),Se.getCompanyConfig().catch(I=>(console.error("Error loading company config:",I),null))]);f(W||[]),T&&g(T)}else f([]),g({name:"Estacionamento",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#2563eb",receiptCounter:1})}catch(R){console.error("Erro ao carregar dados:",R),o([]),c([]),f([])}})()},[r]);const w=(Y,R)=>{const A=new Date().toISOString();j({openedAt:A,openingAmount:Y,operatorName:R}),x(!0)},S=(Y,R)=>{const A=new Date().toISOString();j(W=>W?{...W,closedAt:A,closingAmount:Y,operatorName:R||W.operatorName}:void 0),x(!1),N(Y)},C=(Y,R,A,W)=>{const T=new Date(`${Y.entryDate}T${Y.entryTime}`),I=new Date(`${A}T${W}`),$=Math.floor((I.getTime()-T.getTime())/6e4);if(R.rateType==="Hora/Frao"){const oe=Math.floor($/60),ce=$%60;let ee=oe;return ce>R.courtesyMinutes&&(ee+=1),Math.max(ee,1)*R.value}else{if(R.rateType==="Diria")return Math.ceil($/1440)*R.value;if(R.rateType==="Pernoite")return R.value;if(["Semanal","Quinzenal","Mensal"].includes(R.rateType)){const oe=(Y.contractedDays||30)*24*60;if($<=oe)return R.value;const ce=l.find(ee=>ee.vehicleType===Y.vehicleType&&ee.rateType==="Hora/Frao");return ce?R.value+Math.ceil(($-oe)/60)*ce.value:R.value}}return R.value},E=Y=>{const R=Y?.start?new Date(Y.start):void 0,A=Y?.end?new Date(Y.end):void 0;return s.filter(W=>W.status==="Concludo").filter(W=>{if(!R&&!A)return!0;const T=W.exitDate?new Date(W.exitDate):void 0;if(!T||R&&T<R)return!1;if(A){const I=new Date(A);if(I.setHours(23,59,59,999),T>I)return!1}return!0}).reduce((W,T)=>W+(T.totalValue||0),0)},O=Y=>{const R=Y?.start?new Date(Y.start):void 0,A=Y?.end?new Date(Y.end):void 0;return m.reduce((W,T)=>{const $=(T.paymentHistory||[]).filter(oe=>{const ce=oe.date?new Date(oe.date):void 0;if(!ce||R&&ce<R)return!1;if(A){const ee=new Date(A);if(ee.setHours(23,59,59,999),ce>ee)return!1}return!0}).reduce((oe,ce)=>oe+(ce.value||0),0);return W+$},0)},D=Y=>E(Y)+O(Y),U=async Y=>{try{const R=await Se.createVehicle(Y);o(A=>[...A,R])}catch(R){throw console.error("Erro ao adicionar veculo:",R),R}},V=async(Y,R)=>{try{const A=await Se.updateVehicle(Y,R);o(W=>W.map(T=>T.id===Y?A:T))}catch(A){throw console.error("Erro ao atualizar veculo:",A),A}},se=async Y=>{try{await Se.deleteVehicle(Y),o(R=>R.filter(A=>A.id!==Y))}catch(R){throw console.error("Erro ao remover veculo:",R),R}},ue=async Y=>{try{const R=await Se.createRate(Y);c(A=>[...A,R])}catch(R){throw console.error("Erro ao adicionar tarifa:",R),R}},ie=async(Y,R)=>{try{const A=await Se.updateRate(Y,R);return c(W=>W.map(T=>T.id===Y?A:T)),A}catch(A){throw console.error("Erro ao atualizar tarifa:",A),A}},te=async Y=>{try{await Se.deleteRate(Y),c(R=>R.filter(A=>A.id!==Y))}catch(R){throw console.error("Erro ao remover tarifa:",R),R}},L=async Y=>{try{const R=await Se.createMonthlyCustomer(Y);return f(A=>[...A,R]),R}catch(R){throw console.error("Erro ao adicionar cliente:",R),R}},re=async(Y,R)=>{try{const A=await Se.updateMonthlyCustomer(Y,R);f(W=>W.map(T=>T.id===Y?A:T))}catch(A){throw console.error("Erro ao atualizar cliente mensalista:",A),A}},Q=async Y=>{try{await Se.deleteMonthlyCustomer(Y),f(R=>R.filter(A=>A.id!==Y))}catch(R){throw console.error("Erro ao remover cliente mensalista:",R),R}},F=async(Y,R)=>{try{const A=await Se.registerMonthlyPayment(Y,{value:R.value,method:R.method});return f(T=>T.map(I=>I.id===Y?A.customer:I)),g(T=>({...T,receiptCounter:T.receiptCounter+1})),Number(A.payment?.id)||Date.now()}catch(A){throw console.error("Erro ao registrar pagamento:",A),A}},G=async Y=>{try{const R=await Se.updateCompanyConfig(Y);g(R)}catch(R){throw console.error("Erro ao atualizar configuraes:",R),R}};return e.jsx(fy.Provider,{value:{vehicles:s,rates:l,monthlyCustomers:m,companyConfig:p,cashIsOpen:v,cashSession:b,lastClosingAmount:P,openCashRegister:w,closeCashRegister:S,getAvulsoRevenue:E,getMonthlyRevenue:O,getTotalRevenue:D,addVehicle:U,updateVehicle:V,deleteVehicle:se,addRate:ue,updateRate:ie,deleteRate:te,addMonthlyCustomer:L,updateMonthlyCustomer:re,deleteMonthlyCustomer:Q,registerPayment:F,updateCompanyConfig:G,calculateRate:C},children:t})},qn=()=>{const t=u.useContext(fy);if(!t)throw new Error("useParking deve ser usado dentro de um ParkingProvider");return t},Km=li("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=u.forwardRef(({className:t,variant:r,size:s,asChild:o=!1,...l},c)=>{const m=o?iC:"button";return e.jsx(m,{className:Te(Km({variant:r,size:s,className:t})),ref:c,...l})});K.displayName="Button";const sk=()=>{const{cashIsOpen:t}=qn(),{user:r,logout:s,hasPermission:o,isAdmin:l}=bn(),{toast:c}=Tt(),m=Wr(),f=[{to:"/",icon:Ia,label:"Operacional",perm:"openCloseCash"},{to:"/mensalistas",icon:gx,label:"Mensalistas",perm:"manageMonthlyCustomers"},{to:"/financeiro",icon:av,label:"Financeiro",perm:"viewReports"},{to:"/relatorios-mensais",icon:qa,label:"Relatrios Mensais",perm:"viewReports"},{to:"/users",icon:gx,label:"Usurios",perm:"manageUsers"},{to:"/tarifas",icon:h1,label:"Gerenciar Tarifas",perm:"manageRates"},{to:"/horarios-feriados",icon:Xs,label:"Horrios e Feriados",perm:"manageCompanyConfig"},{to:"/configuracoes-dashboard",icon:t1,label:"Dashboard Analytics",perm:"viewReports"},{to:"/configuracoes",icon:Tm,label:"Configuraes",perm:"manageCompanyConfig"}].filter(p=>o(p.perm));return l&&(f.push({to:"/integracoes",icon:f1,label:"Integraes",perm:""}),f.push({to:"/modelos-recibos",icon:o1,label:"Modelos de Recibos",perm:""})),e.jsxs("aside",{className:"w-64 bg-sidebar-background text-sidebar-foreground flex flex-col border-r border-sidebar-border",children:[e.jsxs("div",{className:"p-6 border-b border-sidebar-border",children:[e.jsx("h1",{className:"text-xl font-bold text-sidebar-primary",children:"Estacionamento"}),e.jsx("p",{className:"text-sm text-sidebar-foreground/70 mt-1",children:"Sistema de Gesto"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:f.map(p=>{const g=p.to==="/financeiro",v=p.to==="/relatorios-mensais",x=!t&&!g&&!v;return e.jsxs(KT,{to:p.to,end:p.to==="/",className:({isActive:b})=>Te("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",x?"opacity-50 pointer-events-none":"",b?"bg-sidebar-primary text-sidebar-primary-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[e.jsx(p.icon,{className:"h-5 w-5"}),e.jsx("span",{children:p.label})]},p.to)})}),e.jsx("div",{className:"p-4 border-t border-sidebar-border",children:e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:r?.name||""}),e.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:r?.role||""})]}),e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{s(),c({title:"Sesso encerrada"}),m("/login")},children:"Sair"})]}),e.jsx("p",{className:"text-xs text-sidebar-foreground/60 text-center w-full",children:" 2024 Estacionamento"})]})})]})};var Nu="focusScope.autoFocusOnMount",Cu="focusScope.autoFocusOnUnmount",Qx={bubbles:!1,cancelable:!0},ak="FocusScope",fc=u.forwardRef((t,r)=>{const{loop:s=!1,trapped:o=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...m}=t,[f,p]=u.useState(null),g=dn(l),v=dn(c),x=u.useRef(null),b=Ye(r,N=>p(N)),j=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(o){let N=function(E){if(j.paused||!f)return;const O=E.target;f.contains(O)?x.current=O:bs(x.current,{select:!0})},w=function(E){if(j.paused||!f)return;const O=E.relatedTarget;O!==null&&(f.contains(O)||bs(x.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&bs(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",w);const C=new MutationObserver(S);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",w),C.disconnect()}}},[o,f,j.paused]),u.useEffect(()=>{if(f){Xx.add(j);const N=document.activeElement;if(!f.contains(N)){const S=new CustomEvent(Nu,Qx);f.addEventListener(Nu,g),f.dispatchEvent(S),S.defaultPrevented||(ok(uk(hy(f)),{select:!0}),document.activeElement===N&&bs(f))}return()=>{f.removeEventListener(Nu,g),setTimeout(()=>{const S=new CustomEvent(Cu,Qx);f.addEventListener(Cu,v),f.dispatchEvent(S),S.defaultPrevented||bs(N??document.body,{select:!0}),f.removeEventListener(Cu,v),Xx.remove(j)},0)}}},[f,g,v,j]);const P=u.useCallback(N=>{if(!s&&!o||j.paused)return;const w=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,S=document.activeElement;if(w&&S){const C=N.currentTarget,[E,O]=ik(C);E&&O?!N.shiftKey&&S===O?(N.preventDefault(),s&&bs(E,{select:!0})):N.shiftKey&&S===E&&(N.preventDefault(),s&&bs(O,{select:!0})):S===C&&N.preventDefault()}},[s,o,j.paused]);return e.jsx(Ie.div,{tabIndex:-1,...m,ref:b,onKeyDown:P})});fc.displayName=ak;function ok(t,{select:r=!1}={}){const s=document.activeElement;for(const o of t)if(bs(o,{select:r}),document.activeElement!==s)return}function ik(t){const r=hy(t),s=Jx(r,t),o=Jx(r.reverse(),t);return[s,o]}function hy(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Jx(t,r){for(const s of t)if(!lk(s,{upTo:r}))return s}function lk(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ck(t){return t instanceof HTMLInputElement&&"select"in t}function bs(t,{select:r=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&ck(t)&&r&&t.select()}}var Xx=dk();function dk(){let t=[];return{add(r){const s=t[0];r!==s&&s?.pause(),t=Zx(t,r),t.unshift(r)},remove(r){t=Zx(t,r),t[0]?.resume()}}}function Zx(t,r){const s=[...t],o=s.indexOf(r);return o!==-1&&s.splice(o,1),s}function uk(t){return t.filter(r=>r.tagName!=="A")}var Su=0;function Ym(){u.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eg()),document.body.insertAdjacentElement("beforeend",t[1]??eg()),Su++,()=>{Su===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Su--}},[])}function eg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vr=function(){return vr=Object.assign||function(r){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},vr.apply(this,arguments)};function py(t,r){var s={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(s[o[l]]=t[o[l]]);return s}function mk(t,r,s){if(s||arguments.length===2)for(var o=0,l=r.length,c;o<l;o++)(c||!(o in r))&&(c||(c=Array.prototype.slice.call(r,0,o)),c[o]=r[o]);return t.concat(c||Array.prototype.slice.call(r))}var Ol="right-scroll-bar-position",Il="width-before-scroll-bar",fk="with-scroll-bars-hidden",hk="--removed-body-scroll-bar-size";function Eu(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function pk(t,r){var s=u.useState(function(){return{value:t,callback:r,facade:{get current(){return s.value},set current(o){var l=s.value;l!==o&&(s.value=o,s.callback(o,l))}}}})[0];return s.callback=r,s.facade}var xk=typeof window<"u"?u.useLayoutEffect:u.useEffect,tg=new WeakMap;function gk(t,r){var s=pk(null,function(o){return t.forEach(function(l){return Eu(l,o)})});return xk(function(){var o=tg.get(s);if(o){var l=new Set(o),c=new Set(t),m=s.current;l.forEach(function(f){c.has(f)||Eu(f,null)}),c.forEach(function(f){l.has(f)||Eu(f,m)})}tg.set(s,t)},[t]),s}function vk(t){return t}function yk(t,r){r===void 0&&(r=vk);var s=[],o=!1,l={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(c){var m=r(c,o);return s.push(m),function(){s=s.filter(function(f){return f!==m})}},assignSyncMedium:function(c){for(o=!0;s.length;){var m=s;s=[],m.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){o=!0;var m=[];if(s.length){var f=s;s=[],f.forEach(c),m=s}var p=function(){var v=m;m=[],v.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),s={push:function(v){m.push(v),g()},filter:function(v){return m=m.filter(v),s}}}};return l}function wk(t){t===void 0&&(t={});var r=yk(null);return r.options=vr({async:!0,ssr:!1},t),r}var xy=function(t){var r=t.sideCar,s=py(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return u.createElement(o,vr({},s))};xy.isSideCarExport=!0;function jk(t,r){return t.useMedium(r),xy}var gy=wk(),Tu=function(){},hc=u.forwardRef(function(t,r){var s=u.useRef(null),o=u.useState({onScrollCapture:Tu,onWheelCapture:Tu,onTouchMoveCapture:Tu}),l=o[0],c=o[1],m=t.forwardProps,f=t.children,p=t.className,g=t.removeScrollBar,v=t.enabled,x=t.shards,b=t.sideCar,j=t.noRelative,P=t.noIsolation,N=t.inert,w=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,E=t.gapMode,O=py(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,U=gk([s,r]),V=vr(vr({},O),l);return u.createElement(u.Fragment,null,v&&u.createElement(D,{sideCar:gy,removeScrollBar:g,shards:x,noRelative:j,noIsolation:P,inert:N,setCallbacks:c,allowPinchZoom:!!w,lockRef:s,gapMode:E}),m?u.cloneElement(u.Children.only(f),vr(vr({},V),{ref:U})):u.createElement(C,vr({},V,{className:p,ref:U}),f))});hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hc.classNames={fullWidth:Il,zeroRight:Ol};var bk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nk(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=bk();return r&&t.setAttribute("nonce",r),t}function Ck(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function Sk(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var Ek=function(){var t=0,r=null;return{add:function(s){t==0&&(r=Nk())&&(Ck(r,s),Sk(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Tk=function(){var t=Ek();return function(r,s){u.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&s])}},vy=function(){var t=Tk(),r=function(s){var o=s.styles,l=s.dynamic;return t(o,l),null};return r},kk={left:0,top:0,right:0,gap:0},ku=function(t){return parseInt(t||"",10)||0},Pk=function(t){var r=window.getComputedStyle(document.body),s=r[t==="padding"?"paddingLeft":"marginLeft"],o=r[t==="padding"?"paddingTop":"marginTop"],l=r[t==="padding"?"paddingRight":"marginRight"];return[ku(s),ku(o),ku(l)]},Rk=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kk;var r=Pk(t),s=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-s+r[2]-r[0])}},Mk=vy(),za="data-scroll-locked",Dk=function(t,r,s,o){var l=t.left,c=t.top,m=t.right,f=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(fk,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(za,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),s==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ol,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(Il,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Il," .").concat(Il,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(za,`] {
    `).concat(hk,": ").concat(f,`px;
  }
`)},ng=function(){var t=parseInt(document.body.getAttribute(za)||"0",10);return isFinite(t)?t:0},Ak=function(){u.useEffect(function(){return document.body.setAttribute(za,(ng()+1).toString()),function(){var t=ng()-1;t<=0?document.body.removeAttribute(za):document.body.setAttribute(za,t.toString())}},[])},_k=function(t){var r=t.noRelative,s=t.noImportant,o=t.gapMode,l=o===void 0?"margin":o;Ak();var c=u.useMemo(function(){return Rk(l)},[l]);return u.createElement(Mk,{styles:Dk(c,!r,l,s?"":"!important")})},im=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return im=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{im=!1}var Ma=im?{passive:!1}:!1,Ok=function(t){return t.tagName==="TEXTAREA"},yy=function(t,r){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!Ok(t)&&s[r]==="visible")},Ik=function(t){return yy(t,"overflowY")},Fk=function(t){return yy(t,"overflowX")},rg=function(t,r){var s=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=wy(t,o);if(l){var c=jy(t,o),m=c[1],f=c[2];if(m>f)return!0}o=o.parentNode}while(o&&o!==s.body);return!1},$k=function(t){var r=t.scrollTop,s=t.scrollHeight,o=t.clientHeight;return[r,s,o]},Lk=function(t){var r=t.scrollLeft,s=t.scrollWidth,o=t.clientWidth;return[r,s,o]},wy=function(t,r){return t==="v"?Ik(r):Fk(r)},jy=function(t,r){return t==="v"?$k(r):Lk(r)},zk=function(t,r){return t==="h"&&r==="rtl"?-1:1},Vk=function(t,r,s,o,l){var c=zk(t,window.getComputedStyle(r).direction),m=c*o,f=s.target,p=r.contains(f),g=!1,v=m>0,x=0,b=0;do{if(!f)break;var j=jy(t,f),P=j[0],N=j[1],w=j[2],S=N-w-c*P;(P||S)&&wy(t,f)&&(x+=S,b+=P);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!p&&f!==document.body||p&&(r.contains(f)||r===f));return(v&&Math.abs(x)<1||!v&&Math.abs(b)<1)&&(g=!0),g},El=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sg=function(t){return[t.deltaX,t.deltaY]},ag=function(t){return t&&"current"in t?t.current:t},Bk=function(t,r){return t[0]===r[0]&&t[1]===r[1]},Uk=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hk=0,Da=[];function Wk(t){var r=u.useRef([]),s=u.useRef([0,0]),o=u.useRef(),l=u.useState(Hk++)[0],c=u.useState(vy)[0],m=u.useRef(t);u.useEffect(function(){m.current=t},[t]),u.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var N=mk([t.lockRef.current],(t.shards||[]).map(ag),!0).filter(Boolean);return N.forEach(function(w){return w.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var f=u.useCallback(function(N,w){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!m.current.allowPinchZoom;var S=El(N),C=s.current,E="deltaX"in N?N.deltaX:C[0]-S[0],O="deltaY"in N?N.deltaY:C[1]-S[1],D,U=N.target,V=Math.abs(E)>Math.abs(O)?"h":"v";if("touches"in N&&V==="h"&&U.type==="range")return!1;var se=rg(V,U);if(!se)return!0;if(se?D=V:(D=V==="v"?"h":"v",se=rg(V,U)),!se)return!1;if(!o.current&&"changedTouches"in N&&(E||O)&&(o.current=D),!D)return!0;var ue=o.current||D;return Vk(ue,w,N,ue==="h"?E:O)},[]),p=u.useCallback(function(N){var w=N;if(!(!Da.length||Da[Da.length-1]!==c)){var S="deltaY"in w?sg(w):El(w),C=r.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&Bk(D.delta,S)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var E=(m.current.shards||[]).map(ag).filter(Boolean).filter(function(D){return D.contains(w.target)}),O=E.length>0?f(w,E[0]):!m.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),g=u.useCallback(function(N,w,S,C){var E={name:N,delta:w,target:S,should:C,shadowParent:qk(S)};r.current.push(E),setTimeout(function(){r.current=r.current.filter(function(O){return O!==E})},1)},[]),v=u.useCallback(function(N){s.current=El(N),o.current=void 0},[]),x=u.useCallback(function(N){g(N.type,sg(N),N.target,f(N,t.lockRef.current))},[]),b=u.useCallback(function(N){g(N.type,El(N),N.target,f(N,t.lockRef.current))},[]);u.useEffect(function(){return Da.push(c),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",p,Ma),document.addEventListener("touchmove",p,Ma),document.addEventListener("touchstart",v,Ma),function(){Da=Da.filter(function(N){return N!==c}),document.removeEventListener("wheel",p,Ma),document.removeEventListener("touchmove",p,Ma),document.removeEventListener("touchstart",v,Ma)}},[]);var j=t.removeScrollBar,P=t.inert;return u.createElement(u.Fragment,null,P?u.createElement(c,{styles:Uk(l)}):null,j?u.createElement(_k,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function qk(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const Gk=jk(gy,Wk);var pc=u.forwardRef(function(t,r){return u.createElement(hc,vr({},t,{ref:r,sideCar:Gk}))});pc.classNames=hc.classNames;var Kk=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Aa=new WeakMap,Tl=new WeakMap,kl={},Pu=0,by=function(t){return t&&(t.host||by(t.parentNode))},Yk=function(t,r){return r.map(function(s){if(t.contains(s))return s;var o=by(s);return o&&t.contains(o)?o:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},Qk=function(t,r,s,o){var l=Yk(r,Array.isArray(t)?t:[t]);kl[s]||(kl[s]=new WeakMap);var c=kl[s],m=[],f=new Set,p=new Set(l),g=function(x){!x||f.has(x)||(f.add(x),g(x.parentNode))};l.forEach(g);var v=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(b){if(f.has(b))v(b);else try{var j=b.getAttribute(o),P=j!==null&&j!=="false",N=(Aa.get(b)||0)+1,w=(c.get(b)||0)+1;Aa.set(b,N),c.set(b,w),m.push(b),N===1&&P&&Tl.set(b,!0),w===1&&b.setAttribute(s,"true"),P||b.setAttribute(o,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return v(r),f.clear(),Pu++,function(){m.forEach(function(x){var b=Aa.get(x)-1,j=c.get(x)-1;Aa.set(x,b),c.set(x,j),b||(Tl.has(x)||x.removeAttribute(o),Tl.delete(x)),j||x.removeAttribute(s)}),Pu--,Pu||(Aa=new WeakMap,Aa=new WeakMap,Tl=new WeakMap,kl={})}},Qm=function(t,r,s){s===void 0&&(s="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),l=Kk(t);return l?(o.push.apply(o,Array.from(l.querySelectorAll("[aria-live], script"))),Qk(o,l,s,"aria-hidden")):function(){return null}},xc="Dialog",[Ny,Cy]=un(xc),[Jk,mr]=Ny(xc),Sy=t=>{const{__scopeDialog:r,children:s,open:o,defaultOpen:l,onOpenChange:c,modal:m=!0}=t,f=u.useRef(null),p=u.useRef(null),[g,v]=Cr({prop:o,defaultProp:l??!1,onChange:c,caller:xc});return e.jsx(Jk,{scope:r,triggerRef:f,contentRef:p,contentId:Lr(),titleId:Lr(),descriptionId:Lr(),open:g,onOpenChange:v,onOpenToggle:u.useCallback(()=>v(x=>!x),[v]),modal:m,children:s})};Sy.displayName=xc;var Ey="DialogTrigger",Ty=u.forwardRef((t,r)=>{const{__scopeDialog:s,...o}=t,l=mr(Ey,s),c=Ye(r,l.triggerRef);return e.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Zm(l.open),...o,ref:c,onClick:Ce(t.onClick,l.onOpenToggle)})});Ty.displayName=Ey;var Jm="DialogPortal",[Xk,ky]=Ny(Jm,{forceMount:void 0}),Py=t=>{const{__scopeDialog:r,forceMount:s,children:o,container:l}=t,c=mr(Jm,r);return e.jsx(Xk,{scope:r,forceMount:s,children:u.Children.map(o,m=>e.jsx(An,{present:s||c.open,children:e.jsx(oi,{asChild:!0,container:l,children:m})}))})};Py.displayName=Jm;var ql="DialogOverlay",Ry=u.forwardRef((t,r)=>{const s=ky(ql,t.__scopeDialog),{forceMount:o=s.forceMount,...l}=t,c=mr(ql,t.__scopeDialog);return c.modal?e.jsx(An,{present:o||c.open,children:e.jsx(eP,{...l,ref:r})}):null});Ry.displayName=ql;var Zk=Js("DialogOverlay.RemoveScroll"),eP=u.forwardRef((t,r)=>{const{__scopeDialog:s,...o}=t,l=mr(ql,s);return e.jsx(pc,{as:Zk,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(Ie.div,{"data-state":Zm(l.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),ea="DialogContent",My=u.forwardRef((t,r)=>{const s=ky(ea,t.__scopeDialog),{forceMount:o=s.forceMount,...l}=t,c=mr(ea,t.__scopeDialog);return e.jsx(An,{present:o||c.open,children:c.modal?e.jsx(tP,{...l,ref:r}):e.jsx(nP,{...l,ref:r})})});My.displayName=ea;var tP=u.forwardRef((t,r)=>{const s=mr(ea,t.__scopeDialog),o=u.useRef(null),l=Ye(r,s.contentRef,o);return u.useEffect(()=>{const c=o.current;if(c)return Qm(c)},[]),e.jsx(Dy,{...t,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,c=>{const m=c.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0;(m.button===2||f)&&c.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,c=>c.preventDefault())})}),nP=u.forwardRef((t,r)=>{const s=mr(ea,t.__scopeDialog),o=u.useRef(!1),l=u.useRef(!1);return e.jsx(Dy,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{t.onCloseAutoFocus?.(c),c.defaultPrevented||(o.current||s.triggerRef.current?.focus(),c.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:c=>{t.onInteractOutside?.(c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const m=c.target;s.triggerRef.current?.contains(m)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),Dy=u.forwardRef((t,r)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,...m}=t,f=mr(ea,s),p=u.useRef(null),g=Ye(r,p);return Ym(),e.jsxs(e.Fragment,{children:[e.jsx(fc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:c,children:e.jsx(Za,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Zm(f.open),...m,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(sP,{titleId:f.titleId}),e.jsx(oP,{contentRef:p,descriptionId:f.descriptionId})]})]})}),Xm="DialogTitle",Ay=u.forwardRef((t,r)=>{const{__scopeDialog:s,...o}=t,l=mr(Xm,s);return e.jsx(Ie.h2,{id:l.titleId,...o,ref:r})});Ay.displayName=Xm;var _y="DialogDescription",Oy=u.forwardRef((t,r)=>{const{__scopeDialog:s,...o}=t,l=mr(_y,s);return e.jsx(Ie.p,{id:l.descriptionId,...o,ref:r})});Oy.displayName=_y;var Iy="DialogClose",Fy=u.forwardRef((t,r)=>{const{__scopeDialog:s,...o}=t,l=mr(Iy,s);return e.jsx(Ie.button,{type:"button",...o,ref:r,onClick:Ce(t.onClick,()=>l.onOpenChange(!1))})});Fy.displayName=Iy;function Zm(t){return t?"open":"closed"}var $y="DialogTitleWarning",[rP,Ly]=aC($y,{contentName:ea,titleName:Xm,docsSlug:"dialog"}),sP=({titleId:t})=>{const r=Ly($y),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return u.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},aP="DialogDescriptionWarning",oP=({contentRef:t,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ly(aP).contentName}}.`;return u.useEffect(()=>{const l=t.current?.getAttribute("aria-describedby");r&&l&&(document.getElementById(r)||console.warn(o))},[o,t,r]),null},zy=Sy,iP=Ty,Vy=Py,ef=Ry,tf=My,nf=Ay,rf=Oy,sf=Fy;const xt=zy,lP=Vy,By=u.forwardRef(({className:t,...r},s)=>e.jsx(ef,{ref:s,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));By.displayName=ef.displayName;const ft=u.forwardRef(({className:t,children:r,hideClose:s,...o},l)=>e.jsxs(lP,{children:[e.jsx(By,{}),e.jsxs(tf,{ref:l,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[r,!s&&e.jsxs(sf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(Pm,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ft.displayName=tf.displayName;const ht=({className:t,...r})=>e.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});ht.displayName="DialogHeader";const Ut=({className:t,...r})=>e.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Ut.displayName="DialogFooter";const pt=u.forwardRef(({className:t,...r},s)=>e.jsx(nf,{ref:s,className:Te("text-lg font-semibold leading-none tracking-tight",t),...r}));pt.displayName=nf.displayName;const ur=u.forwardRef(({className:t,...r},s)=>e.jsx(rf,{ref:s,className:Te("text-sm text-muted-foreground",t),...r}));ur.displayName=rf.displayName;const le=u.forwardRef(({className:t,type:r,...s},o)=>e.jsx("input",{type:r,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...s}));le.displayName="Input";var cP="Label",Uy=u.forwardRef((t,r)=>e.jsx(Ie.label,{...t,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Uy.displayName=cP;var Hy=Uy;const dP=li("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=u.forwardRef(({className:t,...r},s)=>e.jsx(Hy,{ref:s,className:Te(dP(),t),...r}));H.displayName=Hy.displayName;function og(t,[r,s]){return Math.min(s,Math.max(r,t))}var uP=u.createContext(void 0);function di(t){const r=u.useContext(uP);return t||r||"ltr"}function gc(t){const r=u.useRef({value:t,previous:t});return u.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var mP=[" ","Enter","ArrowUp","ArrowDown"],fP=[" ","Enter"],ta="Select",[vc,yc,hP]=Jl(ta),[oo]=un(ta,[hP,ro]),wc=ro(),[pP,Ds]=oo(ta),[xP,gP]=oo(ta),Wy=t=>{const{__scopeSelect:r,children:s,open:o,defaultOpen:l,onOpenChange:c,value:m,defaultValue:f,onValueChange:p,dir:g,name:v,autoComplete:x,disabled:b,required:j,form:P}=t,N=wc(r),[w,S]=u.useState(null),[C,E]=u.useState(null),[O,D]=u.useState(!1),U=di(g),[V,se]=Cr({prop:o,defaultProp:l??!1,onChange:c,caller:ta}),[ue,ie]=Cr({prop:m,defaultProp:f,onChange:p,caller:ta}),te=u.useRef(null),L=w?P||!!w.closest("form"):!0,[re,Q]=u.useState(new Set),F=Array.from(re).map(G=>G.props.value).join(";");return e.jsx(Lm,{...N,children:e.jsxs(pP,{required:j,scope:r,trigger:w,onTriggerChange:S,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:O,onValueNodeHasChildrenChange:D,contentId:Lr(),value:ue,onValueChange:ie,open:V,onOpenChange:se,dir:U,triggerPointerDownPosRef:te,disabled:b,children:[e.jsx(vc.Provider,{scope:r,children:e.jsx(xP,{scope:t.__scopeSelect,onNativeOptionAdd:u.useCallback(G=>{Q(Y=>new Set(Y).add(G))},[]),onNativeOptionRemove:u.useCallback(G=>{Q(Y=>{const R=new Set(Y);return R.delete(G),R})},[]),children:s})}),L?e.jsxs(pw,{"aria-hidden":!0,required:j,tabIndex:-1,name:v,autoComplete:x,value:ue,onChange:G=>ie(G.target.value),disabled:b,form:P,children:[ue===void 0?e.jsx("option",{value:""}):null,Array.from(re)]},F):null]})})};Wy.displayName=ta;var qy="SelectTrigger",Gy=u.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:o=!1,...l}=t,c=wc(s),m=Ds(qy,s),f=m.disabled||o,p=Ye(r,m.onTriggerChange),g=yc(s),v=u.useRef("touch"),[x,b,j]=gw(N=>{const w=g().filter(E=>!E.disabled),S=w.find(E=>E.value===m.value),C=vw(w,N,S);C!==void 0&&m.onValueChange(C.value)}),P=N=>{f||(m.onOpenChange(!0),j()),N&&(m.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return e.jsx(zm,{asChild:!0,...c,children:e.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":xw(m.value)?"":void 0,...l,ref:p,onClick:Ce(l.onClick,N=>{N.currentTarget.focus(),v.current!=="mouse"&&P(N)}),onPointerDown:Ce(l.onPointerDown,N=>{v.current=N.pointerType;const w=N.target;w.hasPointerCapture(N.pointerId)&&w.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(P(N),N.preventDefault())}),onKeyDown:Ce(l.onKeyDown,N=>{const w=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&b(N.key),!(w&&N.key===" ")&&mP.includes(N.key)&&(P(),N.preventDefault())})})})});Gy.displayName=qy;var Ky="SelectValue",Yy=u.forwardRef((t,r)=>{const{__scopeSelect:s,className:o,style:l,children:c,placeholder:m="",...f}=t,p=Ds(Ky,s),{onValueNodeHasChildrenChange:g}=p,v=c!==void 0,x=Ye(r,p.onValueNodeChange);return Jt(()=>{g(v)},[g,v]),e.jsx(Ie.span,{...f,ref:x,style:{pointerEvents:"none"},children:xw(p.value)?e.jsx(e.Fragment,{children:m}):c})});Yy.displayName=Ky;var vP="SelectIcon",Qy=u.forwardRef((t,r)=>{const{__scopeSelect:s,children:o,...l}=t;return e.jsx(Ie.span,{"aria-hidden":!0,...l,ref:r,children:o||""})});Qy.displayName=vP;var yP="SelectPortal",Jy=t=>e.jsx(oi,{asChild:!0,...t});Jy.displayName=yP;var na="SelectContent",Xy=u.forwardRef((t,r)=>{const s=Ds(na,t.__scopeSelect),[o,l]=u.useState();if(Jt(()=>{l(new DocumentFragment)},[]),!s.open){const c=o;return c?Xa.createPortal(e.jsx(Zy,{scope:t.__scopeSelect,children:e.jsx(vc.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(ew,{...t,ref:r})});Xy.displayName=na;var ar=10,[Zy,As]=oo(na),wP="SelectContentImpl",jP=Js("SelectContent.RemoveScroll"),ew=u.forwardRef((t,r)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:m,side:f,sideOffset:p,align:g,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:j,sticky:P,hideWhenDetached:N,avoidCollisions:w,...S}=t,C=Ds(na,s),[E,O]=u.useState(null),[D,U]=u.useState(null),V=Ye(r,J=>O(J)),[se,ue]=u.useState(null),[ie,te]=u.useState(null),L=yc(s),[re,Q]=u.useState(!1),F=u.useRef(!1);u.useEffect(()=>{if(E)return Qm(E)},[E]),Ym();const G=u.useCallback(J=>{const[M,...fe]=L().map(pe=>pe.ref.current),[be]=fe.slice(-1),ke=document.activeElement;for(const pe of J)if(pe===ke||(pe?.scrollIntoView({block:"nearest"}),pe===M&&D&&(D.scrollTop=0),pe===be&&D&&(D.scrollTop=D.scrollHeight),pe?.focus(),document.activeElement!==ke))return},[L,D]),Y=u.useCallback(()=>G([se,E]),[G,se,E]);u.useEffect(()=>{re&&Y()},[re,Y]);const{onOpenChange:R,triggerPointerDownPosRef:A}=C;u.useEffect(()=>{if(E){let J={x:0,y:0};const M=be=>{J={x:Math.abs(Math.round(be.pageX)-(A.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(A.current?.y??0))}},fe=be=>{J.x<=10&&J.y<=10?be.preventDefault():E.contains(be.target)||R(!1),document.removeEventListener("pointermove",M),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",fe,{capture:!0})}}},[E,R,A]),u.useEffect(()=>{const J=()=>R(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[R]);const[W,T]=gw(J=>{const M=L().filter(ke=>!ke.disabled),fe=M.find(ke=>ke.ref.current===document.activeElement),be=vw(M,J,fe);be&&setTimeout(()=>be.ref.current.focus())}),I=u.useCallback((J,M,fe)=>{const be=!F.current&&!fe;(C.value!==void 0&&C.value===M||be)&&(ue(J),be&&(F.current=!0))},[C.value]),$=u.useCallback(()=>E?.focus(),[E]),oe=u.useCallback((J,M,fe)=>{const be=!F.current&&!fe;(C.value!==void 0&&C.value===M||be)&&te(J)},[C.value]),ce=o==="popper"?lm:tw,ee=ce===lm?{side:f,sideOffset:p,align:g,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:j,sticky:P,hideWhenDetached:N,avoidCollisions:w}:{};return e.jsx(Zy,{scope:s,content:E,viewport:D,onViewportChange:U,itemRefCallback:I,selectedItem:se,onItemLeave:$,itemTextRefCallback:oe,focusSelectedItem:Y,selectedItemText:ie,position:o,isPositioned:re,searchRef:W,children:e.jsx(pc,{as:jP,allowPinchZoom:!0,children:e.jsx(fc,{asChild:!0,trapped:C.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ce(l,J=>{C.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:e.jsx(Za,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:J=>J.preventDefault(),...S,...ee,onPlaced:()=>Q(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ce(S.onKeyDown,J=>{const M=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!M&&J.key.length===1&&T(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let be=L().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(J.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ke=J.target,pe=be.indexOf(ke);be=be.slice(pe+1)}setTimeout(()=>G(be)),J.preventDefault()}})})})})})})});ew.displayName=wP;var bP="SelectItemAlignedPosition",tw=u.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:o,...l}=t,c=Ds(na,s),m=As(na,s),[f,p]=u.useState(null),[g,v]=u.useState(null),x=Ye(r,V=>v(V)),b=yc(s),j=u.useRef(!1),P=u.useRef(!0),{viewport:N,selectedItem:w,selectedItemText:S,focusSelectedItem:C}=m,E=u.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&N&&w&&S){const V=c.trigger.getBoundingClientRect(),se=g.getBoundingClientRect(),ue=c.valueNode.getBoundingClientRect(),ie=S.getBoundingClientRect();if(c.dir!=="rtl"){const ke=ie.left-se.left,pe=ue.left-ke,Fe=V.left-pe,He=V.width+Fe,kt=Math.max(He,se.width),Ke=window.innerWidth-ar,de=og(pe,[ar,Math.max(ar,Ke-kt)]);f.style.minWidth=He+"px",f.style.left=de+"px"}else{const ke=se.right-ie.right,pe=window.innerWidth-ue.right-ke,Fe=window.innerWidth-V.right-pe,He=V.width+Fe,kt=Math.max(He,se.width),Ke=window.innerWidth-ar,de=og(pe,[ar,Math.max(ar,Ke-kt)]);f.style.minWidth=He+"px",f.style.right=de+"px"}const te=b(),L=window.innerHeight-ar*2,re=N.scrollHeight,Q=window.getComputedStyle(g),F=parseInt(Q.borderTopWidth,10),G=parseInt(Q.paddingTop,10),Y=parseInt(Q.borderBottomWidth,10),R=parseInt(Q.paddingBottom,10),A=F+G+re+R+Y,W=Math.min(w.offsetHeight*5,A),T=window.getComputedStyle(N),I=parseInt(T.paddingTop,10),$=parseInt(T.paddingBottom,10),oe=V.top+V.height/2-ar,ce=L-oe,ee=w.offsetHeight/2,J=w.offsetTop+ee,M=F+G+J,fe=A-M;if(M<=oe){const ke=te.length>0&&w===te[te.length-1].ref.current;f.style.bottom="0px";const pe=g.clientHeight-N.offsetTop-N.offsetHeight,Fe=Math.max(ce,ee+(ke?$:0)+pe+Y),He=M+Fe;f.style.height=He+"px"}else{const ke=te.length>0&&w===te[0].ref.current;f.style.top="0px";const Fe=Math.max(oe,F+N.offsetTop+(ke?I:0)+ee)+fe;f.style.height=Fe+"px",N.scrollTop=M-oe+N.offsetTop}f.style.margin=`${ar}px 0`,f.style.minHeight=W+"px",f.style.maxHeight=L+"px",o?.(),requestAnimationFrame(()=>j.current=!0)}},[b,c.trigger,c.valueNode,f,g,N,w,S,c.dir,o]);Jt(()=>E(),[E]);const[O,D]=u.useState();Jt(()=>{g&&D(window.getComputedStyle(g).zIndex)},[g]);const U=u.useCallback(V=>{V&&P.current===!0&&(E(),C?.(),P.current=!1)},[E,C]);return e.jsx(CP,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:j,onScrollButtonChange:U,children:e.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:e.jsx(Ie.div,{...l,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});tw.displayName=bP;var NP="SelectPopperPosition",lm=u.forwardRef((t,r)=>{const{__scopeSelect:s,align:o="start",collisionPadding:l=ar,...c}=t,m=wc(s);return e.jsx(Vm,{...m,...c,ref:r,align:o,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lm.displayName=NP;var[CP,af]=oo(na,{}),cm="SelectViewport",nw=u.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:o,...l}=t,c=As(cm,s),m=af(cm,s),f=Ye(r,c.onViewportChange),p=u.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(vc.Slot,{scope:s,children:e.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ce(l.onScroll,g=>{const v=g.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=m;if(b?.current&&x){const j=Math.abs(p.current-v.scrollTop);if(j>0){const P=window.innerHeight-ar*2,N=parseFloat(x.style.minHeight),w=parseFloat(x.style.height),S=Math.max(N,w);if(S<P){const C=S+j,E=Math.min(P,C),O=C-E;x.style.height=E+"px",x.style.bottom==="0px"&&(v.scrollTop=O>0?O:0,x.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});nw.displayName=cm;var rw="SelectGroup",[SP,EP]=oo(rw),TP=u.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t,l=Lr();return e.jsx(SP,{scope:s,id:l,children:e.jsx(Ie.div,{role:"group","aria-labelledby":l,...o,ref:r})})});TP.displayName=rw;var sw="SelectLabel",aw=u.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t,l=EP(sw,s);return e.jsx(Ie.div,{id:l.id,...o,ref:r})});aw.displayName=sw;var Gl="SelectItem",[kP,ow]=oo(Gl),iw=u.forwardRef((t,r)=>{const{__scopeSelect:s,value:o,disabled:l=!1,textValue:c,...m}=t,f=Ds(Gl,s),p=As(Gl,s),g=f.value===o,[v,x]=u.useState(c??""),[b,j]=u.useState(!1),P=Ye(r,C=>p.itemRefCallback?.(C,o,l)),N=Lr(),w=u.useRef("touch"),S=()=>{l||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(kP,{scope:s,value:o,disabled:l,textId:N,isSelected:g,onItemTextChange:u.useCallback(C=>{x(E=>E||(C?.textContent??"").trim())},[]),children:e.jsx(vc.ItemSlot,{scope:s,value:o,disabled:l,textValue:v,children:e.jsx(Ie.div,{role:"option","aria-labelledby":N,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...m,ref:P,onFocus:Ce(m.onFocus,()=>j(!0)),onBlur:Ce(m.onBlur,()=>j(!1)),onClick:Ce(m.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:Ce(m.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:Ce(m.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:Ce(m.onPointerMove,C=>{w.current=C.pointerType,l?p.onItemLeave?.():w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(m.onPointerLeave,C=>{C.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Ce(m.onKeyDown,C=>{p.searchRef?.current!==""&&C.key===" "||(fP.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});iw.displayName=Gl;var qo="SelectItemText",lw=u.forwardRef((t,r)=>{const{__scopeSelect:s,className:o,style:l,...c}=t,m=Ds(qo,s),f=As(qo,s),p=ow(qo,s),g=gP(qo,s),[v,x]=u.useState(null),b=Ye(r,S=>x(S),p.onItemTextChange,S=>f.itemTextRefCallback?.(S,p.value,p.disabled)),j=v?.textContent,P=u.useMemo(()=>e.jsx("option",{value:p.value,disabled:p.disabled,children:j},p.value),[p.disabled,p.value,j]),{onNativeOptionAdd:N,onNativeOptionRemove:w}=g;return Jt(()=>(N(P),()=>w(P)),[N,w,P]),e.jsxs(e.Fragment,{children:[e.jsx(Ie.span,{id:p.textId,...c,ref:b}),p.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Xa.createPortal(c.children,m.valueNode):null]})});lw.displayName=qo;var cw="SelectItemIndicator",dw=u.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t;return ow(cw,s).isSelected?e.jsx(Ie.span,{"aria-hidden":!0,...o,ref:r}):null});dw.displayName=cw;var dm="SelectScrollUpButton",uw=u.forwardRef((t,r)=>{const s=As(dm,t.__scopeSelect),o=af(dm,t.__scopeSelect),[l,c]=u.useState(!1),m=Ye(r,o.onScrollButtonChange);return Jt(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=p.scrollTop>0;c(g)};const p=s.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),l?e.jsx(fw,{...t,ref:m,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=s;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});uw.displayName=dm;var um="SelectScrollDownButton",mw=u.forwardRef((t,r)=>{const s=As(um,t.__scopeSelect),o=af(um,t.__scopeSelect),[l,c]=u.useState(!1),m=Ye(r,o.onScrollButtonChange);return Jt(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<g;c(v)};const p=s.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),l?e.jsx(fw,{...t,ref:m,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=s;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});mw.displayName=um;var fw=u.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:o,...l}=t,c=As("SelectScrollButton",s),m=u.useRef(null),f=yc(s),p=u.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return u.useEffect(()=>()=>p(),[p]),Jt(()=>{f().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),e.jsx(Ie.div,{"aria-hidden":!0,...l,ref:r,style:{flexShrink:0,...l.style},onPointerDown:Ce(l.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:Ce(l.onPointerMove,()=>{c.onItemLeave?.(),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:Ce(l.onPointerLeave,()=>{p()})})}),PP="SelectSeparator",hw=u.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t;return e.jsx(Ie.div,{"aria-hidden":!0,...o,ref:r})});hw.displayName=PP;var mm="SelectArrow",RP=u.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t,l=wc(s),c=Ds(mm,s),m=As(mm,s);return c.open&&m.position==="popper"?e.jsx(Bm,{...l,...o,ref:r}):null});RP.displayName=mm;var MP="SelectBubbleInput",pw=u.forwardRef(({__scopeSelect:t,value:r,...s},o)=>{const l=u.useRef(null),c=Ye(o,l),m=gc(r);return u.useEffect(()=>{const f=l.current;if(!f)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(m!==r&&v){const x=new Event("change",{bubbles:!0});v.call(f,r),f.dispatchEvent(x)}},[m,r]),e.jsx(Ie.select,{...s,style:{...Dg,...s.style},ref:c,defaultValue:r})});pw.displayName=MP;function xw(t){return t===""||t===void 0}function gw(t){const r=dn(t),s=u.useRef(""),o=u.useRef(0),l=u.useCallback(m=>{const f=s.current+m;r(f),(function p(g){s.current=g,window.clearTimeout(o.current),g!==""&&(o.current=window.setTimeout(()=>p(""),1e3))})(f)},[r]),c=u.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,l,c]}function vw(t,r,s){const l=r.length>1&&Array.from(r).every(g=>g===r[0])?r[0]:r,c=s?t.indexOf(s):-1;let m=DP(t,Math.max(c,0));l.length===1&&(m=m.filter(g=>g!==s));const p=m.find(g=>g.textValue.toLowerCase().startsWith(l.toLowerCase()));return p!==s?p:void 0}function DP(t,r){return t.map((s,o)=>t[(r+o)%t.length])}var AP=Wy,yw=Gy,_P=Yy,OP=Qy,IP=Jy,ww=Xy,FP=nw,jw=aw,bw=iw,$P=lw,LP=dw,Nw=uw,Cw=mw,Sw=hw;const Ze=AP,et=_P,Je=u.forwardRef(({className:t,children:r,...s},o)=>e.jsxs(yw,{ref:o,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(OP,{asChild:!0,children:e.jsx(Sm,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=yw.displayName;const Ew=u.forwardRef(({className:t,...r},s)=>e.jsx(Nw,{ref:s,className:Te("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(n1,{className:"h-4 w-4"})}));Ew.displayName=Nw.displayName;const Tw=u.forwardRef(({className:t,...r},s)=>e.jsx(Cw,{ref:s,className:Te("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Sm,{className:"h-4 w-4"})}));Tw.displayName=Cw.displayName;const Xe=u.forwardRef(({className:t,children:r,position:s="popper",...o},l)=>e.jsx(IP,{children:e.jsxs(ww,{ref:l,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...o,children:[e.jsx(Ew,{}),e.jsx(FP,{className:Te("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(Tw,{})]})}));Xe.displayName=ww.displayName;const zP=u.forwardRef(({className:t,...r},s)=>e.jsx(jw,{ref:s,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));zP.displayName=jw.displayName;const we=u.forwardRef(({className:t,children:r,...s},o)=>e.jsxs(bw,{ref:o,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(LP,{children:e.jsx(Cm,{className:"h-4 w-4"})})}),e.jsx($P,{children:r})]}));we.displayName=bw.displayName;const VP=u.forwardRef(({className:t,...r},s)=>e.jsx(Sw,{ref:s,className:Te("-mx-1 my-1 h-px bg-muted",t),...r}));VP.displayName=Sw.displayName;function _n(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function Ur(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function BP(t,r){const s=_n(t);if(isNaN(r))return Ur(t,NaN);const o=s.getDate(),l=Ur(t,s.getTime());l.setMonth(s.getMonth()+r+1,0);const c=l.getDate();return o>=c?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}const kw=6048e5,UP=864e5;let HP={};function jc(){return HP}function ni(t,r){const s=jc(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=_n(t),c=l.getDay(),m=(c<o?7:0)+c-o;return l.setDate(l.getDate()-m),l.setHours(0,0,0,0),l}function Kl(t){return ni(t,{weekStartsOn:1})}function Pw(t){const r=_n(t),s=r.getFullYear(),o=Ur(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=Kl(o),c=Ur(t,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const m=Kl(c);return r.getTime()>=l.getTime()?s+1:r.getTime()>=m.getTime()?s:s-1}function ig(t){const r=_n(t);return r.setHours(0,0,0,0),r}function lg(t){const r=_n(t),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+t-+s}function WP(t,r){const s=ig(t),o=ig(r),l=+s-lg(s),c=+o-lg(o);return Math.round((l-c)/UP)}function qP(t){const r=Pw(t),s=Ur(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Kl(s)}function GP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function KP(t){if(!GP(t)&&typeof t!="number")return!1;const r=_n(t);return!isNaN(Number(r))}function YP(t){const r=_n(t),s=Ur(t,0);return s.setFullYear(r.getFullYear(),0,1),s.setHours(0,0,0,0),s}const QP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JP=(t,r,s)=>{let o;const l=QP[t];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+o:o+" ago":o};function Va(t){return(r={})=>{const s=r.width?String(r.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const XP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tR={date:Va({formats:XP,defaultWidth:"full"}),time:Va({formats:ZP,defaultWidth:"full"}),dateTime:Va({formats:eR,defaultWidth:"full"})},nR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rR=(t,r,s,o)=>nR[t];function yr(t){return(r,s)=>{const o=s?.context?String(s.context):"standalone";let l;if(o==="formatting"&&t.formattingValues){const m=t.defaultFormattingWidth||t.defaultWidth,f=s?.width?String(s.width):m;l=t.formattingValues[f]||t.formattingValues[m]}else{const m=t.defaultWidth,f=s?.width?String(s.width):t.defaultWidth;l=t.values[f]||t.values[m]}const c=t.argumentCallback?t.argumentCallback(r):r;return l[c]}}const sR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dR=(t,r)=>{const s=Number(t),o=s%100;if(o>20||o<10)switch(o%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},uR={ordinalNumber:dR,era:yr({values:sR,defaultWidth:"wide"}),quarter:yr({values:aR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yr({values:oR,defaultWidth:"wide"}),day:yr({values:iR,defaultWidth:"wide"}),dayPeriod:yr({values:lR,defaultWidth:"wide",formattingValues:cR,defaultFormattingWidth:"wide"})};function wr(t){return(r,s={})=>{const o=s.width,l=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],c=r.match(l);if(!c)return null;const m=c[0],f=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(f)?fR(f,x=>x.test(m)):mR(f,x=>x.test(m));let g;g=t.valueCallback?t.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const v=r.slice(m.length);return{value:g,rest:v}}}function mR(t,r){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return s}function fR(t,r){for(let s=0;s<t.length;s++)if(r(t[s]))return s}function Rw(t){return(r,s={})=>{const o=r.match(t.matchPattern);if(!o)return null;const l=o[0],c=r.match(t.parsePattern);if(!c)return null;let m=t.valueCallback?t.valueCallback(c[0]):c[0];m=s.valueCallback?s.valueCallback(m):m;const f=r.slice(l.length);return{value:m,rest:f}}}const hR=/^(\d+)(th|st|nd|rd)?/i,pR=/\d+/i,xR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gR={any:[/^b/i,/^(a|c)/i]},vR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yR={any:[/1/i,/2/i,/3/i,/4/i]},wR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ER={ordinalNumber:Rw({matchPattern:hR,parsePattern:pR,valueCallback:t=>parseInt(t,10)}),era:wr({matchPatterns:xR,defaultMatchWidth:"wide",parsePatterns:gR,defaultParseWidth:"any"}),quarter:wr({matchPatterns:vR,defaultMatchWidth:"wide",parsePatterns:yR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wr({matchPatterns:wR,defaultMatchWidth:"wide",parsePatterns:jR,defaultParseWidth:"any"}),day:wr({matchPatterns:bR,defaultMatchWidth:"wide",parsePatterns:NR,defaultParseWidth:"any"}),dayPeriod:wr({matchPatterns:CR,defaultMatchWidth:"any",parsePatterns:SR,defaultParseWidth:"any"})},TR={code:"en-US",formatDistance:JP,formatLong:tR,formatRelative:rR,localize:uR,match:ER,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kR(t){const r=_n(t);return WP(r,YP(r))+1}function PR(t){const r=_n(t),s=+Kl(r)-+qP(r);return Math.round(s/kw)+1}function Mw(t,r){const s=_n(t),o=s.getFullYear(),l=jc(),c=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,m=Ur(t,0);m.setFullYear(o+1,0,c),m.setHours(0,0,0,0);const f=ni(m,r),p=Ur(t,0);p.setFullYear(o,0,c),p.setHours(0,0,0,0);const g=ni(p,r);return s.getTime()>=f.getTime()?o+1:s.getTime()>=g.getTime()?o:o-1}function RR(t,r){const s=jc(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Mw(t,r),c=Ur(t,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),ni(c,r)}function MR(t,r){const s=_n(t),o=+ni(s,r)-+RR(s,r);return Math.round(o/kw)+1}function mt(t,r){const s=t<0?"-":"",o=Math.abs(t).toString().padStart(r,"0");return s+o}const vs={y(t,r){const s=t.getFullYear(),o=s>0?s:1-s;return mt(r==="yy"?o%100:o,r.length)},M(t,r){const s=t.getMonth();return r==="M"?String(s+1):mt(s+1,2)},d(t,r){return mt(t.getDate(),r.length)},a(t,r){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,r){return mt(t.getHours()%12||12,r.length)},H(t,r){return mt(t.getHours(),r.length)},m(t,r){return mt(t.getMinutes(),r.length)},s(t,r){return mt(t.getSeconds(),r.length)},S(t,r){const s=r.length,o=t.getMilliseconds(),l=Math.trunc(o*Math.pow(10,s-3));return mt(l,r.length)}},_a={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cg={G:function(t,r,s){const o=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){const o=t.getFullYear(),l=o>0?o:1-o;return s.ordinalNumber(l,{unit:"year"})}return vs.y(t,r)},Y:function(t,r,s,o){const l=Mw(t,o),c=l>0?l:1-l;if(r==="YY"){const m=c%100;return mt(m,2)}return r==="Yo"?s.ordinalNumber(c,{unit:"year"}):mt(c,r.length)},R:function(t,r){const s=Pw(t);return mt(s,r.length)},u:function(t,r){const s=t.getFullYear();return mt(s,r.length)},Q:function(t,r,s){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return mt(o,2);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,s){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return mt(o,2);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,s){const o=t.getMonth();switch(r){case"M":case"MM":return vs.M(t,r);case"Mo":return s.ordinalNumber(o+1,{unit:"month"});case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,s){const o=t.getMonth();switch(r){case"L":return String(o+1);case"LL":return mt(o+1,2);case"Lo":return s.ordinalNumber(o+1,{unit:"month"});case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,s,o){const l=MR(t,o);return r==="wo"?s.ordinalNumber(l,{unit:"week"}):mt(l,r.length)},I:function(t,r,s){const o=PR(t);return r==="Io"?s.ordinalNumber(o,{unit:"week"}):mt(o,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):vs.d(t,r)},D:function(t,r,s){const o=kR(t);return r==="Do"?s.ordinalNumber(o,{unit:"dayOfYear"}):mt(o,r.length)},E:function(t,r,s){const o=t.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,s,o){const l=t.getDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return mt(c,2);case"eo":return s.ordinalNumber(c,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(t,r,s,o){const l=t.getDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return mt(c,r.length);case"co":return s.ordinalNumber(c,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(t,r,s){const o=t.getDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return mt(l,r.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(o,{width:"short",context:"formatting"});case"iiii":default:return s.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,s){const l=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,r,s){const o=t.getHours();let l;switch(o===12?l=_a.noon:o===0?l=_a.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,r,s){const o=t.getHours();let l;switch(o>=17?l=_a.evening:o>=12?l=_a.afternoon:o>=4?l=_a.morning:l=_a.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){let o=t.getHours()%12;return o===0&&(o=12),s.ordinalNumber(o,{unit:"hour"})}return vs.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):vs.H(t,r)},K:function(t,r,s){const o=t.getHours()%12;return r==="Ko"?s.ordinalNumber(o,{unit:"hour"}):mt(o,r.length)},k:function(t,r,s){let o=t.getHours();return o===0&&(o=24),r==="ko"?s.ordinalNumber(o,{unit:"hour"}):mt(o,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):vs.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):vs.s(t,r)},S:function(t,r){return vs.S(t,r)},X:function(t,r,s){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return ug(o);case"XXXX":case"XX":return Ys(o);case"XXXXX":case"XXX":default:return Ys(o,":")}},x:function(t,r,s){const o=t.getTimezoneOffset();switch(r){case"x":return ug(o);case"xxxx":case"xx":return Ys(o);case"xxxxx":case"xxx":default:return Ys(o,":")}},O:function(t,r,s){const o=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+dg(o,":");case"OOOO":default:return"GMT"+Ys(o,":")}},z:function(t,r,s){const o=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+dg(o,":");case"zzzz":default:return"GMT"+Ys(o,":")}},t:function(t,r,s){const o=Math.trunc(t.getTime()/1e3);return mt(o,r.length)},T:function(t,r,s){const o=t.getTime();return mt(o,r.length)}};function dg(t,r=""){const s=t>0?"-":"+",o=Math.abs(t),l=Math.trunc(o/60),c=o%60;return c===0?s+String(l):s+String(l)+r+mt(c,2)}function ug(t,r){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):Ys(t,r)}function Ys(t,r=""){const s=t>0?"-":"+",o=Math.abs(t),l=mt(Math.trunc(o/60),2),c=mt(o%60,2);return s+l+r+c}const mg=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Dw=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},DR=(t,r)=>{const s=t.match(/(P+)(p+)?/)||[],o=s[1],l=s[2];if(!l)return mg(t,r);let c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",mg(o,r)).replace("{{time}}",Dw(l,r))},AR={p:Dw,P:DR},_R=/^D+$/,OR=/^Y+$/,IR=["D","DD","YY","YYYY"];function FR(t){return _R.test(t)}function $R(t){return OR.test(t)}function LR(t,r,s){const o=zR(t,r,s);if(console.warn(o),IR.includes(t))throw new RangeError(o)}function zR(t,r,s){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${o} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UR=/^'([^]*?)'?$/,HR=/''/g,WR=/[a-zA-Z]/;function Be(t,r,s){const o=jc(),l=s?.locale??o.locale??TR,c=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,f=_n(t);if(!KP(f))throw new RangeError("Invalid time value");let p=r.match(BR).map(v=>{const x=v[0];if(x==="p"||x==="P"){const b=AR[x];return b(v,l.formatLong)}return v}).join("").match(VR).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:qR(v)};if(cg[x])return{isToken:!0,value:v};if(x.match(WR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(p=l.localize.preprocessor(f,p));const g={firstWeekContainsDate:c,weekStartsOn:m,locale:l};return p.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!s?.useAdditionalWeekYearTokens&&$R(x)||!s?.useAdditionalDayOfYearTokens&&FR(x))&&LR(x,r,String(t));const b=cg[x[0]];return b(f,x,l.localize,g)}).join("")}function qR(t){const r=t.match(UR);return r?r[1].replace(HR,"'"):t}function GR(t){return+_n(t)<Date.now()}function Aw({value:t,onValueChange:r,placeholder:s="Selecione o tipo"}){const{toast:o}=Tt(),[l,c]=u.useState([]),[m,f]=u.useState(!1),[p,g]=u.useState(""),[v,x]=u.useState(!1),b=async()=>{try{const P=await Se.getVehicleTypes();console.log("Vehicle types fetched:",P),c(P||[])}catch(P){console.error("Error fetching vehicle types:",P),c([{id:"1",name:"Carro",isDefault:!0},{id:"2",name:"Moto",isDefault:!0},{id:"3",name:"Caminhonete",isDefault:!0}]),o({title:"Aviso",description:"No foi possvel carregar tipos de veculos. Usando tipos padro.",variant:"default"})}};u.useEffect(()=>{b()},[]);const j=async()=>{if(!p.trim()){o({title:"Nome obrigatrio",description:"Digite o nome do tipo de veculo",variant:"destructive"});return}x(!0);try{const P=await Se.createVehicleType(p.trim());o({title:"Tipo criado com sucesso",description:`${P.name} foi adicionado  lista`}),await b(),r(P.name),f(!1),g("")}catch(P){const N=P instanceof Error?P.message:String(P);o({title:"Erro ao criar tipo",description:N||"Tente novamente",variant:"destructive"})}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(Ze,{value:t,onValueChange:r,children:[e.jsx(Je,{children:e.jsx(et,{placeholder:s})}),e.jsx(Xe,{children:l.map(P=>e.jsx(we,{value:P.name,children:P.name},P.id))})]})}),e.jsx(K,{type:"button",variant:"outline",size:"icon",onClick:()=>f(!0),title:"Adicionar novo tipo de veculo",children:e.jsx(cn,{className:"h-4 w-4"})})]}),e.jsx(xt,{open:m,onOpenChange:f,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsx(pt,{children:"Novo Tipo de Veculo"})}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{children:[e.jsx(H,{htmlFor:"typeName",children:"Nome do Tipo *"}),e.jsx(le,{id:"typeName",value:p,onChange:P=>g(P.target.value),placeholder:"Ex: Caminho, Bicicleta, etc.",onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),j())},autoFocus:!0})]})}),e.jsxs(Ut,{children:[e.jsx(K,{variant:"outline",onClick:()=>{f(!1),g("")},disabled:v,children:"Cancelar"}),e.jsx(K,{onClick:j,disabled:v,children:v?"Salvando...":"Confirmar & Salvar"})]})]})})]})}const KR=({open:t,onOpenChange:r,vehicle:s,onSaved:o})=>{const{addVehicle:l,updateVehicle:c,rates:m,calculateRate:f}=qn(),{toast:p}=Tt(),[g,v]=u.useState(""),[x,b]=u.useState("Carro"),[j,P]=u.useState(""),[N,w]=u.useState(""),[S,C]=u.useState(""),[E,O]=u.useState(""),[D,U]=u.useState(""),[V,se]=u.useState("");u.useEffect(()=>{if(s)v(s.plate),b(s.vehicleType),P(s.rateId),w(s.entryDate),C(s.entryTime),O(s.exitDate||""),U(s.exitTime||""),se(s.contractedDays?.toString()||"");else{const Q=new Date;v(""),b("Carro"),P(""),w(Be(Q,"yyyy-MM-dd")),C(Be(Q,"HH:mm")),O(""),U(""),se("")}},[s,t]);const ue=m.filter(Q=>Q.vehicleType===x),ie=m.find(Q=>Q.id===j),te=()=>!s||!E||!D||!ie?0:f(s,ie,E,D),L=async Q=>{if(Q.preventDefault(),!g||!j||!N||!S){p({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}const F={plate:g.toUpperCase(),vehicleType:x,rateId:j,entryDate:N,entryTime:S,exitDate:E||void 0,exitTime:D||void 0,status:E&&D?"Concludo":"Em andamento",totalValue:E&&D&&ie?te():0,contractedDays:V?parseInt(V):void 0};try{s?(await c(s.id,F),p({title:"Veculo atualizado",description:"As informaes foram atualizadas com sucesso"})):(await l(F),p({title:"Veculo adicionado",description:"O veculo foi registrado com sucesso"})),o?.(),r(!1)}catch{p({title:"Erro ao salvar veculo",description:"Tente novamente",variant:"destructive"})}},re=ie&&["Semanal","Quinzenal","Mensal"].includes(ie.rateType);return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ht,{children:e.jsx(pt,{children:s?"Editar Veculo":"Adicionar Veculo"})}),e.jsxs("form",{onSubmit:L,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"plate",children:"Placa *"}),e.jsx(le,{id:"plate",value:g,onChange:Q=>v(Q.target.value),placeholder:"ABC-1234",className:"uppercase"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"vehicleType",children:"Tipo de Veculo *"}),e.jsx(Aw,{value:x,onValueChange:Q=>b(Q)})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"rate",children:"Tarifa *"}),e.jsxs(Ze,{value:j,onValueChange:P,children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Selecione uma tarifa"})}),e.jsx(Xe,{children:ue.map(Q=>e.jsxs(we,{value:Q.id,children:[Q.rateType," - R$ ",Q.value.toFixed(2),"/",Q.unit]},Q.id))})]})]}),re&&e.jsxs("div",{children:[e.jsx(H,{htmlFor:"contractedDays",children:"Dias Contratados *"}),e.jsx(le,{id:"contractedDays",type:"number",value:V,onChange:Q=>se(Q.target.value),placeholder:"30"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"entryDate",children:"Data de Entrada *"}),e.jsx(le,{id:"entryDate",type:"date",value:N,onChange:Q=>w(Q.target.value)})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"entryTime",children:"Hora de Entrada *"}),e.jsx(le,{id:"entryTime",type:"time",value:S,onChange:Q=>C(Q.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"exitDate",children:"Data de Sada"}),e.jsx(le,{id:"exitDate",type:"date",value:E,onChange:Q=>O(Q.target.value)})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"exitTime",children:"Hora de Sada"}),e.jsx(le,{id:"exitTime",type:"time",value:D,onChange:Q=>U(Q.target.value)})]})]}),E&&D&&s&&ie&&e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor calculado:"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",te().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{type:"submit",children:s?"Atualizar":"Adicionar"})]})]})]})})};var Ru="rovingFocusGroup.onEntryFocus",YR={bubbles:!1,cancelable:!0},ui="RovingFocusGroup",[fm,_w,QR]=Jl(ui),[JR,io]=un(ui,[QR]),[XR,ZR]=JR(ui),Ow=u.forwardRef((t,r)=>e.jsx(fm.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(fm.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(eM,{...t,ref:r})})}));Ow.displayName=ui;var eM=u.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:l=!1,dir:c,currentTabStopId:m,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...x}=t,b=u.useRef(null),j=Ye(r,b),P=di(c),[N,w]=Cr({prop:m,defaultProp:f??null,onChange:p,caller:ui}),[S,C]=u.useState(!1),E=dn(g),O=_w(s),D=u.useRef(!1),[U,V]=u.useState(0);return u.useEffect(()=>{const se=b.current;if(se)return se.addEventListener(Ru,E),()=>se.removeEventListener(Ru,E)},[E]),e.jsx(XR,{scope:s,orientation:o,dir:P,loop:l,currentTabStopId:N,onItemFocus:u.useCallback(se=>w(se),[w]),onItemShiftTab:u.useCallback(()=>C(!0),[]),onFocusableItemAdd:u.useCallback(()=>V(se=>se+1),[]),onFocusableItemRemove:u.useCallback(()=>V(se=>se-1),[]),children:e.jsx(Ie.div,{tabIndex:S||U===0?-1:0,"data-orientation":o,...x,ref:j,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{D.current=!0}),onFocus:Ce(t.onFocus,se=>{const ue=!D.current;if(se.target===se.currentTarget&&ue&&!S){const ie=new CustomEvent(Ru,YR);if(se.currentTarget.dispatchEvent(ie),!ie.defaultPrevented){const te=O().filter(G=>G.focusable),L=te.find(G=>G.active),re=te.find(G=>G.id===N),F=[L,re,...te].filter(Boolean).map(G=>G.ref.current);$w(F,v)}}D.current=!1}),onBlur:Ce(t.onBlur,()=>C(!1))})})}),Iw="RovingFocusGroupItem",Fw=u.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:l=!1,tabStopId:c,children:m,...f}=t,p=Lr(),g=c||p,v=ZR(Iw,s),x=v.currentTabStopId===g,b=_w(s),{onFocusableItemAdd:j,onFocusableItemRemove:P,currentTabStopId:N}=v;return u.useEffect(()=>{if(o)return j(),()=>P()},[o,j,P]),e.jsx(fm.ItemSlot,{scope:s,id:g,focusable:o,active:l,children:e.jsx(Ie.span,{tabIndex:x?0:-1,"data-orientation":v.orientation,...f,ref:r,onMouseDown:Ce(t.onMouseDown,w=>{o?v.onItemFocus(g):w.preventDefault()}),onFocus:Ce(t.onFocus,()=>v.onItemFocus(g)),onKeyDown:Ce(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){v.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const S=rM(w,v.orientation,v.dir);if(S!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=b().filter(O=>O.focusable).map(O=>O.ref.current);if(S==="last")E.reverse();else if(S==="prev"||S==="next"){S==="prev"&&E.reverse();const O=E.indexOf(w.currentTarget);E=v.loop?sM(E,O+1):E.slice(O+1)}setTimeout(()=>$w(E))}}),children:typeof m=="function"?m({isCurrentTabStop:x,hasTabStop:N!=null}):m})})});Fw.displayName=Iw;var tM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nM(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rM(t,r,s){const o=nM(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return tM[o]}function $w(t,r=!1){const s=document.activeElement;for(const o of t)if(o===s||(o.focus({preventScroll:r}),document.activeElement!==s))return}function sM(t,r){return t.map((s,o)=>t[(r+o)%t.length])}var of=Ow,lf=Fw,cf="Radio",[aM,Lw]=un(cf),[oM,iM]=aM(cf),zw=u.forwardRef((t,r)=>{const{__scopeRadio:s,name:o,checked:l=!1,required:c,disabled:m,value:f="on",onCheck:p,form:g,...v}=t,[x,b]=u.useState(null),j=Ye(r,w=>b(w)),P=u.useRef(!1),N=x?g||!!x.closest("form"):!0;return e.jsxs(oM,{scope:s,checked:l,disabled:m,children:[e.jsx(Ie.button,{type:"button",role:"radio","aria-checked":l,"data-state":Hw(l),"data-disabled":m?"":void 0,disabled:m,value:f,...v,ref:j,onClick:Ce(t.onClick,w=>{l||p?.(),N&&(P.current=w.isPropagationStopped(),P.current||w.stopPropagation())})}),N&&e.jsx(Uw,{control:x,bubbles:!P.current,name:o,value:f,checked:l,required:c,disabled:m,form:g,style:{transform:"translateX(-100%)"}})]})});zw.displayName=cf;var Vw="RadioIndicator",Bw=u.forwardRef((t,r)=>{const{__scopeRadio:s,forceMount:o,...l}=t,c=iM(Vw,s);return e.jsx(An,{present:o||c.checked,children:e.jsx(Ie.span,{"data-state":Hw(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:r})})});Bw.displayName=Vw;var lM="RadioBubbleInput",Uw=u.forwardRef(({__scopeRadio:t,control:r,checked:s,bubbles:o=!0,...l},c)=>{const m=u.useRef(null),f=Ye(m,c),p=gc(s),g=sc(r);return u.useEffect(()=>{const v=m.current;if(!v)return;const x=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==s&&j){const P=new Event("click",{bubbles:o});j.call(v,s),v.dispatchEvent(P)}},[p,s,o]),e.jsx(Ie.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:f,style:{...l.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uw.displayName=lM;function Hw(t){return t?"checked":"unchecked"}var cM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bc="RadioGroup",[dM]=un(bc,[io,Lw]),Ww=io(),qw=Lw(),[uM,mM]=dM(bc),Gw=u.forwardRef((t,r)=>{const{__scopeRadioGroup:s,name:o,defaultValue:l,value:c,required:m=!1,disabled:f=!1,orientation:p,dir:g,loop:v=!0,onValueChange:x,...b}=t,j=Ww(s),P=di(g),[N,w]=Cr({prop:c,defaultProp:l??null,onChange:x,caller:bc});return e.jsx(uM,{scope:s,name:o,required:m,disabled:f,value:N,onValueChange:w,children:e.jsx(of,{asChild:!0,...j,orientation:p,dir:P,loop:v,children:e.jsx(Ie.div,{role:"radiogroup","aria-required":m,"aria-orientation":p,"data-disabled":f?"":void 0,dir:P,...b,ref:r})})})});Gw.displayName=bc;var Kw="RadioGroupItem",Yw=u.forwardRef((t,r)=>{const{__scopeRadioGroup:s,disabled:o,...l}=t,c=mM(Kw,s),m=c.disabled||o,f=Ww(s),p=qw(s),g=u.useRef(null),v=Ye(r,g),x=c.value===l.value,b=u.useRef(!1);return u.useEffect(()=>{const j=N=>{cM.includes(N.key)&&(b.current=!0)},P=()=>b.current=!1;return document.addEventListener("keydown",j),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",j),document.removeEventListener("keyup",P)}},[]),e.jsx(lf,{asChild:!0,...f,focusable:!m,active:x,children:e.jsx(zw,{disabled:m,required:c.required,checked:x,...p,...l,name:c.name,ref:v,onCheck:()=>c.onValueChange(l.value),onKeyDown:Ce(j=>{j.key==="Enter"&&j.preventDefault()}),onFocus:Ce(l.onFocus,()=>{b.current&&g.current?.click()})})})});Yw.displayName=Kw;var fM="RadioGroupIndicator",Qw=u.forwardRef((t,r)=>{const{__scopeRadioGroup:s,...o}=t,l=qw(s);return e.jsx(Bw,{...l,...o,ref:r})});Qw.displayName=fM;var Jw=Gw,Xw=Yw,hM=Qw;const Zw=u.forwardRef(({className:t,...r},s)=>e.jsx(Jw,{className:Te("grid gap-2",t),...r,ref:s}));Zw.displayName=Jw.displayName;const hm=u.forwardRef(({className:t,...r},s)=>e.jsx(Xw,{ref:s,className:Te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(hM,{className:"flex items-center justify-center",children:e.jsx(sv,{className:"h-2.5 w-2.5 fill-current text-current"})})}));hm.displayName=Xw.displayName;const pM={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},xM=(t,r,s)=>{let o;const l=pM[t];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",String(r)),s?.addSuffix?s.comparison&&s.comparison>0?"em "+o:"h "+o:o},gM={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},vM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yM={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wM={date:Va({formats:gM,defaultWidth:"full"}),time:Va({formats:vM,defaultWidth:"full"}),dateTime:Va({formats:yM,defaultWidth:"full"})},jM={lastWeek:t=>{const r=t.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},bM=(t,r,s,o)=>{const l=jM[t];return typeof l=="function"?l(r):l},NM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},CM={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},SM={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},EM={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},TM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},kM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},PM=(t,r)=>{const s=Number(t);return r?.unit==="week"?s+"":s+""},RM={ordinalNumber:PM,era:yr({values:NM,defaultWidth:"wide"}),quarter:yr({values:CM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yr({values:SM,defaultWidth:"wide"}),day:yr({values:EM,defaultWidth:"wide"}),dayPeriod:yr({values:TM,defaultWidth:"wide",formattingValues:kM,defaultFormattingWidth:"wide"})},MM=/^(\d+)[o]?/i,DM=/\d+/i,AM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},_M={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},OM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},IM={any:[/1/i,/2/i,/3/i,/4/i]},FM={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$M={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},LM={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},zM={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},VM={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},BM={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},UM={ordinalNumber:Rw({matchPattern:MM,parsePattern:DM,valueCallback:t=>parseInt(t,10)}),era:wr({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:_M,defaultParseWidth:"any"}),quarter:wr({matchPatterns:OM,defaultMatchWidth:"wide",parsePatterns:IM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wr({matchPatterns:FM,defaultMatchWidth:"wide",parsePatterns:$M,defaultParseWidth:"any"}),day:wr({matchPatterns:LM,defaultMatchWidth:"wide",parsePatterns:zM,defaultParseWidth:"any"}),dayPeriod:wr({matchPatterns:VM,defaultMatchWidth:"any",parsePatterns:BM,defaultParseWidth:"any"})},at={code:"pt-BR",formatDistance:xM,formatLong:wM,formatRelative:bM,localize:RM,match:UM,options:{weekStartsOn:0,firstWeekContainsDate:1}},ra={name:"Estacionamento Modelo",legalName:"Estacionamento Modelo LTDA",cnpj:"12.345.678/0001-90",address:"Av. Central, 123 - Centro - So Paulo/SP",phone:"(11) 3333-0000"};function df(t){return t==null||Number.isNaN(Number(t))?"R$ 0,00":Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function e0(t){return t?t instanceof Date?t:new Date(t):new Date}function Ss(t){return e0(t).toLocaleDateString("pt-BR")}function t0(t){return e0(t).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}function Wo(t,r){if(!t)return[];const s=t.split(/\s+/),o=[];let l="";return s.forEach(c=>{if(!c)return;const m=l?`${l} ${c}`:c;m.length>r?(l&&o.push(l),l=c.length>r?c.slice(0,r):c):l=m}),l&&o.push(l),o}function n0(t,r){if(!t)return null;const s=r?.customFieldValues||{};return s[t.name]?s[t.name]:t.defaultValue?t.defaultValue:""}function Fl(t,r,s){const l=s||ra,c=[],m="-".repeat(32),f=(v="")=>c.push(v),p=v=>{if(!v)return;const x=v.slice(0,32),b=Math.floor((32-x.length)/2);f(`${" ".repeat(Math.max(b,0))}${x}`)};t.showLogo&&p("[ LOGO ]"),t.showCompanyName&&l?.name&&p(l.name),t.showCompanyDetails&&(l?.legalName&&p(l.legalName),l?.cnpj&&p(`CNPJ: ${l.cnpj}`),l?.address&&p(l.address),l?.phone&&p(`Tel: ${l.phone}`)),t.headerText&&Wo(t.headerText,32).forEach(p),f(m),t.showReceiptNumber&&r.receiptNumber&&f(`RECIBO: ${r.receiptNumber}`);const g=r.payment?.paidAt||r.issuedAt;return t.showDate&&g&&f(`Data: ${Ss(g)}`),t.showTime&&g&&f(`Hora: ${t0(g)}`),t.showPlate&&r.vehicle?.plate&&f(`Placa: ${r.vehicle.plate}`),t.showVehicleType&&r.vehicle?.model&&f(`Veculo: ${r.vehicle.model}`),t.showEntryTime&&r.customFieldValues?.entryTime&&f(`Entrada: ${r.customFieldValues.entryTime}`),t.showExitTime&&r.customFieldValues?.exitTime&&f(`Sada: ${r.customFieldValues.exitTime}`),t.showDuration&&r.customFieldValues?.duration&&f(`Permanncia: ${r.customFieldValues.duration}`),t.showRate&&r.rate?.name&&f(`Tarifa: ${r.rate.name}`),t.templateType==="monthly_payment"&&(r.plan?.name&&f(`Plano: ${r.plan.name}`),r.plan?.reference&&f(`Referncia: ${r.plan.reference}`),r.contract?.number&&f(`Contrato: ${r.contract.number}`),r.payment?.dueDate&&f(`Venc.: ${Ss(r.payment.dueDate)}`),r.slot&&f(`Vaga: ${r.slot}`)),t.showValue&&f(`Valor: ${df(r.payment?.amount)}`),t.showPaymentMethod&&r.payment?.method&&f(`Pagamento: ${r.payment.method}`),t.showOperator&&r.payment?.receivedBy&&f(`Operador: ${r.payment.receivedBy}`),t.customFields?.length&&(f(m),t.customFields.forEach(v=>{const x=n0(v,r);x&&Wo(`${v.label||v.name}: ${x}`,32).forEach(f)})),r.notes&&(f(m),Wo(r.notes,32).forEach(f)),t.termsAndConditions&&(f(m),Wo(t.termsAndConditions,32).forEach(f)),t.footerText&&(f(m),Wo(t.footerText,32).forEach(p)),t.showSignatureLine&&(f(""),f("____________________________"),f("Assinatura do Responsvel")),f(""),c.join(`
`)}let Rn="https://theproparking-backend-1rxk.onrender.com";Rn.endsWith("/")&&(Rn=Rn.slice(0,-1));if(Rn.startsWith("http://")||Rn.startsWith("https://"))try{const t=new URL(Rn);Rn=`${t.protocol}//${t.host}`}catch{const r=Rn.match(/^(https?:\/\/[^\/]+)/);r&&(Rn=r[1])}Rn.endsWith("/api")||(Rn=`${Rn}/api`);const fg=Rn,HM=({open:t,onOpenChange:r,vehicle:s,rate:o,calculatedValue:l,onConfirm:c,companyConfig:m,operatorName:f="Operador",isMonthlyVehicle:p=!1})=>{const{toast:g}=Tt(),{token:v}=bn(),[x,b]=u.useState("Dinheiro"),[j,P]=u.useState(""),[N,w]=u.useState(0),[S,C]=u.useState(!1),[E,O]=u.useState("simple"),[D,U]=u.useState(!1),[V,se]=u.useState(s?.entryTime||""),[ue,ie]=u.useState(null),[te,L]=u.useState(""),[re,Q]=u.useState(!1);u.useEffect(()=>{s?.entryTime&&se(s.entryTime)},[s]),u.useEffect(()=>{t&&(b("Dinheiro"),P(""),w(0),C(!1),O(p?"none":"simple"))},[t,p]),u.useEffect(()=>{if(!t||p)return;let $=!1;return(async()=>{Q(!0);try{const ce=`${fg}/receipt-templates/default/parking_ticket`;console.log("[ExitConfirmationDialog] Loading template from:",ce,{hasToken:!!v});const ee=await fetch(ce,{headers:v?{Authorization:`Bearer ${v}`}:void 0});if(console.log("[ExitConfirmationDialog] Template response:",{status:ee.status,ok:ee.ok,contentType:ee.headers.get("content-type")}),!$)if(ee.ok){const J=await ee.json();console.log("[ExitConfirmationDialog] Template loaded:",J),ie(J)}else{const J=await ee.text().catch(()=>"Unable to read error");console.error("[ExitConfirmationDialog] Failed to load template:",{status:ee.status,statusText:ee.statusText,error:J.substring(0,200)}),ie(null)}}catch(ce){$||(console.error("[ExitConfirmationDialog] Error loading template:",ce),ie(null))}finally{$||Q(!1)}})(),()=>{$=!0}},[t,p,fg,v]),u.useEffect(()=>{if(!p&&x==="Dinheiro"&&j){const $=parseFloat(j);if(isNaN($))w(0);else{const oe=$-l;w(oe>=0?oe:0)}}else w(0)},[j,l,x,p]);const F=u.useMemo(()=>{if(!ue||!s||p)return null;const $=new Date,oe=s.entryDate&&(D?V:s.entryTime)?new Date(`${s.entryDate}T${D?V:s.entryTime}`):null,ce=$,ee=oe!==null?Math.max(Math.floor((ce.getTime()-oe.getTime())/6e4),0):0,J=Math.floor(ee/60),M=ee%60,fe=oe?Be(oe,"dd/MM/yyyy",{locale:at}):"",be=oe?Be(oe,"HH:mm",{locale:at}):"",ke=Be(ce,"dd/MM/yyyy",{locale:at}),pe=Be(ce,"HH:mm",{locale:at}),Fe=`${J}h ${M}min`,He={entrydate:fe,entrytime:be,exitdate:ke,exittime:pe,duration:Fe,plate:s.plate,paymentmethod:x,value:df(l),operator:f},kt={};return ue.customFields?.forEach(Ke=>{const de=Ke.name.replace(/[^a-zA-Z]/g,"").toLowerCase();de&&He[de]?kt[Ke.name]=He[de]:Ke.defaultValue&&!kt[Ke.name]&&(kt[Ke.name]=Ke.defaultValue)}),{receiptNumber:(s.id||"").toString().slice(-6).padStart(6,"0"),issuedAt:$,vehicle:{plate:s.plate,model:s.vehicleType},rate:o?.rateType?{name:o.rateType}:void 0,payment:{amount:l,method:x,paidAt:$,receivedBy:f},customFieldValues:kt}},[ue,s,o,l,x,f,p,V,D]);u.useEffect(()=>{if(!ue||!F||p){console.log("[ExitConfirmationDialog] Cannot generate preview:",{hasTemplate:!!ue,hasSampleData:!!F,isMonthlyVehicle:p}),L("");return}console.log("[ExitConfirmationDialog] Generating thermal preview...");const $=Fl(ue,F,m||ra);console.log("[ExitConfirmationDialog] Preview generated, length:",$.length),L($)},[ue,F,m,p]);const G=()=>{if(!p&&x==="Dinheiro"){const $=parseFloat(j);if(isNaN($)||$<l){g({title:"Valor insuficiente",description:"O valor pago deve ser maior ou igual ao valor total",variant:"destructive"});return}}if(p||E==="none"){c(x,null),r(!1);return}C(!0)},Y=async()=>{E==="simple"?c(x,{receiptType:"simple"}):c(x,null),r(!1)},R=new Date,A=s?new Date(`${s.entryDate}T${D?V:s.entryTime}`):new Date,W=s?Math.floor((R.getTime()-A.getTime())/6e4):0,T=Math.floor(W/60),I=W%60;return S?e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"max-w-lg print:shadow-none space-y-4",children:[e.jsx(ht,{children:e.jsx(pt,{children:"Pr-visualizao do Ticket"})}),re?e.jsx("div",{className:"rounded border bg-muted/50 p-4 text-sm text-muted-foreground",children:"Carregando template configurado..."}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:te||"Preview indisponvel para este template."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Visualizao baseada no template de impressora trmica configurado em Modelos de Recibos."})]}),e.jsxs(Ut,{className:"print:hidden",children:[e.jsx(K,{variant:"outline",onClick:()=>C(!1),children:"Voltar"}),e.jsxs(K,{onClick:Y,disabled:re,title:re?"Carregando template...":te?"Imprimir e confirmar sada":"Template no disponvel, mas voc pode continuar",children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Imprimir e Confirmar"]})]})]})}):e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"max-w-md",children:[e.jsx(ht,{children:e.jsx(pt,{children:"Confirmar Sada do Veculo"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Placa:"}),e.jsx("span",{className:"font-bold",children:s?.plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Tipo:"}),e.jsx("span",{children:s?.vehicleType})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Entrada:"}),D?e.jsx("input",{type:"time",className:"border rounded px-2 py-1 text-sm",value:V,onChange:$=>se($.target.value),onBlur:()=>U(!1),autoFocus:!0,style:{width:"90px"}}):e.jsx("span",{title:"Duplo clique para editar hora",style:{cursor:"pointer",userSelect:"none"},onDoubleClick:()=>U(!0),children:s&&Be(A,"dd/MM/yyyy 's' HH:mm",{locale:at})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Permanncia:"}),e.jsxs("span",{children:[T,"h ",I,"min"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"font-semibold",children:"Valor Total:"}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:["R$ ",l.toFixed(2)]})]})]}),!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"paymentMethod",children:"Forma de Pagamento *"}),e.jsxs(Ze,{value:x,onValueChange:$=>b($),children:[e.jsx(Je,{id:"paymentMethod",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(we,{value:"Pix",children:"Pix"}),e.jsx(we,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(we,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),x==="Dinheiro"&&e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-background",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(e1,{className:"h-4 w-4"}),"Calculadora de Troco"]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"amountPaid",children:"Valor Recebido *"}),e.jsx(le,{id:"amountPaid",type:"number",step:"0.01",placeholder:"0.00",value:j,onChange:$=>P($.target.value),className:"text-lg"})]}),j&&e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded",children:[e.jsx("span",{className:"font-medium",children:"Troco:"}),e.jsxs("span",{className:"text-xl font-bold text-success",children:["R$ ",N.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/20",children:[e.jsx(H,{className:"text-base font-semibold",children:"Emitir ticket de sada:"}),p?e.jsx("div",{className:"rounded bg-muted px-3 py-2 text-sm text-muted-foreground",children:"Clientes mensalistas no necessitam de ticket na sada. Um recibo ser emitido no dia do pagamento."}):e.jsxs(Zw,{value:E,onValueChange:$=>O($),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hm,{value:"none",id:"none"}),e.jsx(H,{htmlFor:"none",className:"font-normal cursor-pointer",children:"No emitir"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hm,{value:"simple",id:"simple"}),e.jsx(H,{htmlFor:"simple",className:"font-normal cursor-pointer",children:"Imprimir ticket de sada"})]})]})]})]}),e.jsxs(Ut,{children:[e.jsx(K,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{onClick:G,children:p||E==="none"?"Confirmar":e.jsxs(e.Fragment,{children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Gerar pr-visualizao"]})})]})]})})},wn=u.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));wn.displayName="Textarea";function WM({open:t,onOpenChange:r,vehicle:s,companyConfig:o,operatorName:l="Operador",onSubmit:c}){const[m,f]=u.useState(""),[p,g]=u.useState(""),[v,x]=u.useState(""),[b,j]=u.useState(!1),[P,N]=u.useState(!1),w=u.useRef(null);u.useEffect(()=>{t&&(f(""),g(""),x(""),j(!1),N(!1))},[t]);const S=u.useMemo(()=>s?.exitDate&&s?.exitTime?new Date(`${s.exitDate}T${s.exitTime}`):new Date,[s]),C=u.useMemo(()=>s?.entryDate&&s?.entryTime?new Date(`${s.entryDate}T${s.entryTime}`):new Date,[s]),E=u.useMemo(()=>{if(!s)return{hours:0,minutes:0};const U=S.getTime()-C.getTime(),V=Math.max(Math.floor(U/6e4),0);return{hours:Math.floor(V/60),minutes:V%60}},[s,C,S]),O=()=>{m.trim()&&j(!0)},D=async()=>{if(s)try{N(!0),c&&await c({clientName:m.trim(),clientCpf:p.trim()||void 0,notes:v.trim()||void 0}),window.print(),r(!1)}finally{N(!1)}};return s?e.jsx(xt,{open:t,onOpenChange:U=>{U||j(!1),r(U)},children:e.jsxs(ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ht,{children:e.jsx(pt,{children:"Impresso para Reembolso"})}),b?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{ref:w,className:"bg-white text-black p-8 rounded-lg border-2 border-gray-300",children:[e.jsxs("div",{className:"text-center border-b pb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:o?.name||"Estacionamento"}),o?.cnpj&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["CNPJ: ",o.cnpj]}),o?.address&&e.jsx("p",{className:"text-xs text-muted-foreground",children:o.address}),e.jsx("p",{className:"text-lg font-semibold mt-2",children:"RECIBO DE REEMBOLSO"})]}),e.jsxs("div",{className:"space-y-2 border-b py-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Solicitante:"}),e.jsx("span",{children:m})]}),p&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"CPF:"}),e.jsx("span",{children:p})]})]}),e.jsxs("div",{className:"space-y-2 border-b py-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Placa:"}),e.jsx("span",{className:"font-semibold uppercase",children:s.plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"}),e.jsx("span",{children:s.vehicleType})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Entrada:"}),e.jsx("span",{children:Be(C,"dd/MM/yyyy 's' HH:mm",{locale:at})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Sada:"}),e.jsx("span",{children:Be(S,"dd/MM/yyyy 's' HH:mm",{locale:at})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Permanncia:"}),e.jsxs("span",{children:[E.hours,"h ",E.minutes,"min"]})]})]}),e.jsx("div",{className:"space-y-2 border-b py-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Valor Pago:"}),e.jsx("span",{className:"font-semibold",children:s.totalValue>0?`R$ ${s.totalValue.toFixed(2)}`:"R$ 0,00"})]})}),v&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-medium",children:"Observaes:"}),e.jsx("p",{className:"text-sm mt-1",children:v})]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground border-t pt-4 mt-6",children:[e.jsxs("p",{children:["Operador: ",l]}),e.jsx("p",{className:"mt-2",children:"Documento gerado para fins de reembolso corporativo."}),e.jsx("p",{className:"text-xs mt-2",children:Be(new Date,"dd/MM/yyyy 's' HH:mm:ss",{locale:at})})]})]})}):e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"bg-muted/40 p-4 rounded border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Dados do veculo"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Placa:"}),e.jsx("p",{className:"font-semibold uppercase",children:s.plate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("p",{children:s.vehicleType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Entrada:"}),e.jsxs("p",{children:[s.entryDate?Be(new Date(s.entryDate),"dd/MM/yyyy",{locale:at}):"-"," ",s.entryTime]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Sada:"}),e.jsxs("p",{children:[s.exitDate?Be(new Date(s.exitDate),"dd/MM/yyyy",{locale:at}):Be(S,"dd/MM/yyyy",{locale:at})," ",s.exitTime||Be(S,"HH:mm",{locale:at})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Permanncia:"}),e.jsxs("p",{children:[E.hours,"h ",E.minutes,"min"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Valor total:"}),e.jsx("p",{children:s.totalValue>0?`R$ ${s.totalValue.toFixed(2)}`:""})]})]})]}),e.jsxs("div",{children:[e.jsxs(H,{children:["Nome do solicitante ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(le,{value:m,onChange:U=>f(U.target.value),placeholder:"Nome completo"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"CPF (opcional)"}),e.jsx(le,{value:p,onChange:U=>g(U.target.value),placeholder:"000.000.000-00",maxLength:14})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Observaes"}),e.jsx(wn,{value:v,onChange:U=>x(U.target.value),placeholder:"Motivo do reembolso, centro de custo, etc.",rows:3})]})]}),e.jsx(Ut,{children:b?e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"outline",onClick:()=>j(!1),children:"Voltar"}),e.jsxs(K,{onClick:D,disabled:P,children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),P?"Registrando...":"Imprimir e Registrar"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{onClick:O,disabled:!m.trim(),children:"Gerar prvia"})]})})]})}):null}function qM(){const t=async ee=>{try{await fetch(`${F}/vehicles/${ee.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({status:"Em andamento",exitDate:null,exitTime:null,totalValue:null,paymentMethod:null})}),r({title:"Finalizao desfeita",description:"O veculo voltou para o estado de entrada."}),G()}catch(J){console.error(J),r({title:"Erro ao desfazer finalizao",description:"Tente novamente",variant:"destructive"})}},{toast:r}=Tt(),{cashIsOpen:s,cashSession:o,companyConfig:l,monthlyCustomers:c}=qn(),{user:m,hasPermission:f,token:p}=bn(),[g,v]=u.useState([]),[x,b]=u.useState([]),[j,P]=u.useState("all"),[N,w]=u.useState(!1),[S,C]=u.useState(!1),[E,O]=u.useState(),[D,U]=u.useState(),[V,se]=u.useState(!1),[ue,ie]=u.useState(!1),[te,L]=u.useState(),[re,Q]=u.useState(new Date),F="https://theproparking-backend-1rxk.onrender.com",G=async()=>{try{const J=await(await fetch(`${F}/vehicles`)).json();v(J)}catch(ee){console.error(ee)}},Y=async()=>{try{const J=await(await fetch(`${F}/rates`)).json();b(J)}catch(ee){console.error(ee)}};u.useEffect(()=>{G(),Y()},[]),u.useEffect(()=>{const ee=setInterval(()=>{Q(new Date)},1e3);return()=>clearInterval(ee)},[]);const R=g.filter(ee=>j==="all"?!0:ee.status===j),A=(ee,J,M)=>{const fe=new Date(`${ee.entryDate}T${ee.entryTime}`),be=Math.floor((M.getTime()-fe.getTime())/6e4);if(J.rateType==="Hora/Frao"){const ke=Math.floor(be/60),pe=be%60;let Fe=ke;return pe>(J.courtesyMinutes||0)&&(Fe+=1),Math.max(Fe,1)*J.value}else{if(J.rateType==="Diria")return Math.ceil(be/1440)*J.value;if(J.rateType==="Pernoite")return J.value;if(["Semanal","Quinzenal","Mensal"].includes(J.rateType)){const ke=(ee.contractedDays||30)*24*60;if(be<=ke)return J.value;const pe=x.find(Fe=>Fe.vehicleType===ee.vehicleType&&Fe.rateType==="Hora/Frao");return pe?J.value+Math.ceil((be-ke)/60)*pe.value:J.value}}return J.value},W=ee=>{if(console.log("Clicou em finalizar sada",ee),!f("openCloseCash"))return;const J=c.some(M=>M.plates.some(fe=>fe.toUpperCase()===ee.plate.toUpperCase()));U(ee),se(J),C(!0)},T=async(ee,J)=>{if(console.log("Entrou em handleConfirmExit",D,p),!D)return;const M=new Date,fe=Be(M,"yyyy-MM-dd"),be=Be(M,"HH:mm"),ke=x.find(He=>He.id===D.rateId);if(!ke)return;const pe=A(D,ke,M),Fe=V?0:pe;console.log("Token usado na sada:",p);try{await fetch(`${F}/vehicles/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({exitDate:fe,exitTime:be,status:"Concludo",totalValue:Fe,paymentMethod:ee})}),J&&await fetch(`${F}/receipts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:D.id,receiptType:J.receiptType,clientName:J.clientName,clientCpf:J.clientCpf,notes:J.notes})}),r({title:"Sada registrada com sucesso",description:`Valor total: R$ ${Fe.toFixed(2)} - ${ee}`}),G(),U(void 0)}catch(He){console.error(He),r({title:"Erro ao registrar sada",description:"Tente novamente",variant:"destructive"})}},I=ee=>{L(ee),ie(!0)},$=async ee=>{if(te)try{await fetch(`${F}/receipts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:te.id,receiptType:"individual_reembolso",clientName:ee.clientName,clientCpf:ee.clientCpf,notes:ee.notes})}),r({title:"Recibo de reembolso gerado",description:`Solicitante: ${ee.clientName}`})}catch(J){console.error(J),r({title:"Erro ao gerar recibo",description:"No foi possvel registrar o recibo de reembolso.",variant:"destructive"})}},oe=ee=>{f("openCloseCash")&&(O(ee),w(!0))},ce=()=>{f("openCloseCash")&&(O(void 0),w(!0))};return e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-l-4 border-primary rounded-lg p-6 mb-8 shadow-sm",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"App Estacionamento"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de Gesto de Estacionamento"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zu,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Empresa:"}),e.jsx("span",{children:l?.name||"Carregando..."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Data:"}),e.jsx("span",{children:Be(re,"dd 'de' MMMM 'de' yyyy",{locale:at})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s1,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"CNPJ:"}),e.jsx("span",{children:l?.cnpj||"No configurado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Em,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Hora:"}),e.jsx("span",{className:"font-mono font-semibold text-primary",children:Be(re,"HH:mm:ss")})]}),e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx(c1,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Endereo:"}),e.jsx("span",{children:l?.address||"No configurado"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Operador:"}),e.jsx("span",{className:"text-muted-foreground italic",children:m?.name||"Sistema (autenticao em desenvolvimento)"})]}),s&&o?.openedAt&&e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Caixa aberto por:"}),e.jsxs("span",{children:[o.operatorName||""," "," ",Be(new Date(o.openedAt),"dd/MM/yyyy HH:mm",{locale:at})]})]})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(K,{size:"lg",onClick:ce,className:"font-semibold bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(cn,{className:"h-5 w-5 mr-2"}),"Registrar Entrada"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{variant:j==="Em andamento"?"default":"outline",onClick:()=>P("Em andamento"),size:"sm",children:"Em andamento"}),e.jsx(K,{variant:j==="Concludo"?"default":"outline",onClick:()=>P("Concludo"),size:"sm",children:"Concludos"}),e.jsx(K,{variant:j==="all"?"default":"outline",onClick:()=>P("all"),size:"sm",children:"Todos"})]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Placa"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Entrada"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Sada"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-foreground",children:"Aes"})]})}),e.jsx("tbody",{children:R.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground",children:"Nenhum veculo registrado"})}):R.map((ee,J)=>e.jsxs("tr",{className:J%2===0?"bg-background":"bg-muted/20",onDoubleClick:()=>I(ee),title:"Clique duas vezes para acessar opes de reembolso",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:ee.plate}),c.some(M=>M.plates.some(fe=>fe.toUpperCase()===ee.plate.toUpperCase()))&&e.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Mensalista"})]})}),e.jsx("td",{className:"px-4 py-3",children:ee.vehicleType}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[Be(new Date(ee.entryDate),"dd/MM/yyyy",{locale:at})," ",ee.entryTime]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:ee.exitDate?`${Be(new Date(ee.exitDate),"dd/MM/yyyy",{locale:at})} ${ee.exitTime}`:"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.status==="Em andamento"?"bg-warning/10 text-warning":"bg-success/10 text-success"}`,children:ee.status})}),e.jsx("td",{className:"px-4 py-3 font-medium",children:ee.totalValue>0?`R$ ${ee.totalValue.toFixed(2)}`:"-"}),e.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[f("openCloseCash")&&e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>oe(ee),children:e.jsx(km,{className:"h-4 w-4"})}),ee.status==="Em andamento"&&f("openCloseCash")&&e.jsxs(K,{size:"sm",onClick:()=>W(ee),children:[e.jsx(rv,{className:"h-4 w-4 mr-1"}),"Finalizar"]}),ee.status==="Concludo"&&f("openCloseCash")&&e.jsx(K,{size:"sm",variant:"outline",style:{color:"#b45309",borderColor:"#fbbf24"},onClick:()=>t(ee),children:"Desfazer Finalizao"})]})]},ee.id))})]})})})]}),e.jsx(KR,{open:N,onOpenChange:w,vehicle:E,onSaved:G}),e.jsx(HM,{open:S,onOpenChange:C,vehicle:D,rate:D?x.find(ee=>ee.id===D.rateId):void 0,calculatedValue:D&&x.find(ee=>ee.id===D.rateId)?V?0:A(D,x.find(ee=>ee.id===D.rateId),new Date):0,onConfirm:T,companyConfig:l,operatorName:"Operador do Sistema",isMonthlyVehicle:V}),e.jsx(WM,{open:ue,onOpenChange:ee=>{ie(ee),ee||L(void 0)},vehicle:te,companyConfig:l,operatorName:"Operador do Sistema",onSubmit:$})]})}const Mu="https://theproparking-backend-1rxk.onrender.com";function GM({open:t,onOpenChange:r,customer:s,onSaved:o}){const{addMonthlyCustomer:l,updateMonthlyCustomer:c}=qn(),{token:m}=bn(),[f,p]=u.useState(""),[g,v]=u.useState(""),[x,b]=u.useState(""),[j,P]=u.useState(""),[N,w]=u.useState(null),[S,C]=u.useState(""),[E,O]=u.useState(!1),[D,U]=u.useState([]),[V,se]=u.useState(""),[ue,ie]=u.useState(!1),[te,L]=u.useState(""),[re,Q]=u.useState("Dinheiro"),[F,G]=u.useState(""),[Y,R]=u.useState(0),[A,W]=u.useState(""),[T,I]=u.useState(new Date);u.useEffect(()=>{if(s){p(s.name),v(s.cpf||""),b(s.phone||"");const de=s.parkingSlot?.toString()||"";P(de),w(de);const _e=Array.isArray(s.plates)?s.plates:[];U(_e.map(q=>({id:Math.random().toString(),value:q,isEditing:!1}))),L(s.value.toString()),W(s.operatorName||""),s.contractDate&&I(new Date(s.contractDate))}else p(""),v(""),b(""),P(""),w(null),C(""),U([]),L("150"),Q("Dinheiro"),G(""),R(0),W(""),ie(!1),se("")},[s,t]);const $=de=>{const _e=de.replace(/\D/g,"");return _e.length<=11?_e.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):de},oe=de=>{const _e=de.replace(/\D/g,"");return _e.length<=11?_e.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d{1,4})$/,"$1-$2"):de},ce=de=>{v($(de.target.value))},ee=de=>{b(oe(de.target.value))},J=()=>{D.length>=5||(ie(!0),se(""))},M=de=>{if(de.key==="Enter"){de.preventDefault();const _e=V.trim();if(_e){const q=_e.toUpperCase();U(me=>[...me,{id:Date.now().toString(),value:q,isEditing:!1}]),se(""),ie(!1)}}else de.key==="Escape"&&(se(""),ie(!1))},fe=()=>{V.trim()||ie(!1)},be=de=>{U(_e=>_e.map(q=>q.id===de?{...q,isEditing:!0}:q))},ke=(de,_e)=>{U(q=>q.map(me=>me.id===de?{...me,value:_e.toUpperCase(),isEditing:!1}:me))},pe=de=>{U(_e=>_e.filter(q=>q.id!==de))};u.useEffect(()=>{if(re==="Dinheiro"&&F&&te){const de=parseFloat(F),_e=parseFloat(te);R(de>_e?de-_e:0)}else R(0)},[F,te,re]);const Fe=async de=>{if(!de||isNaN(parseInt(de))){C("");return}O(!0),C("");try{const _e=s?.id?`${Mu}/monthlyCustomers/slot/${de}/check?customerId=${s.id}`:`${Mu}/monthlyCustomers/slot/${de}/check`,q=m?{Authorization:`Bearer ${m}`}:{},me=await fetch(_e,{headers:q}),xe=await me.json();me.ok?xe.available||C(xe.message||"Esta vaga j est em uso."):(console.warn("Slot check failed:",xe.error),C(""))}catch(_e){console.error("Erro ao verificar vaga:",_e),C("")}finally{O(!1)}},He=de=>{const _e=de.target.value.replace(/\D/g,"");P(_e),C("")};u.useEffect(()=>{if(!j){C("");return}if(s?.id&&N&&j===N){C("");return}const de=setTimeout(()=>{Fe(j)},500);return()=>clearTimeout(de)},[j,s?.id,N,m]);const kt=async de=>{if(de.preventDefault(),!f.trim()){alert("Por favor, preencha o nome do cliente.");return}if(!g.trim()){alert("Por favor, preencha o CPF do cliente.");return}if(!x.trim()){alert("Por favor, preencha o telefone do cliente.");return}if(!j){alert("Por favor, informe o nmero da vaga.");return}if(D.length===0){alert("Por favor, adicione pelo menos uma placa de veculo.");return}if(!te||parseFloat(te)<=0){alert("Por favor, informe o valor mensal.");return}if(S){alert("Por favor, escolha uma vaga disponvel antes de continuar.");return}try{if(s?.id){const _e={name:f.trim(),cpf:g.trim(),phone:x.trim(),parkingSlot:parseInt(j),plates:D.map(q=>q.value),value:parseFloat(te),operatorName:A.trim()||void 0};await c(s.id,_e)}else{const _e={name:f.trim(),cpf:g.trim(),phone:x.trim(),parkingSlot:parseInt(j),plates:D.map(me=>me.value),value:parseFloat(te),paymentMethod:re,paidAmount:re==="Dinheiro"?parseFloat(F):void 0,operatorName:A.trim()||void 0,status:"Em dia",contractDate:T.toISOString(),dueDate:BP(T,1).toISOString()},q=await l(_e);if(q?.id){const me=await fetch(`${Mu}/monthlyCustomers/${q.id}/receipt`,{headers:m?{Authorization:`Bearer ${m}`}:void 0});if(me.ok){const xe=await me.json();Ke(xe)}}}r(!1),o&&o()}catch(_e){const q=_e instanceof Error?_e.message:String(_e);console.error("Erro ao salvar cliente:",q),alert(`Erro ao salvar cliente: ${q}

Verifique o console para mais detalhes.`)}},Ke=de=>{const _e=window.open("","_blank");if(!_e)return;const q=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Recibo de Mensalista</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
            .receipt { border: 2px solid #000; padding: 20px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
            .header h1 { font-size: 24px; margin-bottom: 5px; }
            .header p { font-size: 12px; margin: 2px 0; }
            .section { margin: 15px 0; }
            .section-title { font-weight: bold; font-size: 14px; margin-bottom: 8px; border-bottom: 1px solid #000; }
            .field { display: flex; margin: 5px 0; font-size: 12px; }
            .field-label { font-weight: bold; width: 150px; }
            .field-value { flex: 1; }
            .plates { display: flex; flex-wrap: wrap; gap: 10px; }
            .plate-badge { background: #333; color: white; padding: 5px 10px; border-radius: 4px; font-weight: bold; }
            .footer { margin-top: 20px; padding-top: 15px; border-top: 2px solid #000; text-align: center; font-size: 11px; }
            @media print {
              body { padding: 0; }
              @page { margin: 0.5cm; }
            }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h1>${de.company.name}</h1>
              ${de.company.legalName?`<p>${de.company.legalName}</p>`:""}
              ${de.company.cnpj?`<p>CNPJ: ${de.company.cnpj}</p>`:""}
              ${de.company.address?`<p>${de.company.address}</p>`:""}
              ${de.company.phone?`<p>Tel: ${de.company.phone}</p>`:""}
            </div>
            
            <div class="section">
              <div class="section-title">RECIBO DE CONTRATO MENSALISTA</div>
            </div>

            <div class="section">
              <div class="section-title">Dados do Cliente</div>
              <div class="field">
                <span class="field-label">Nome:</span>
                <span class="field-value">${de.customer.name}</span>
              </div>
              ${de.customer.cpf?`
              <div class="field">
                <span class="field-label">CPF:</span>
                <span class="field-value">${de.customer.cpf}</span>
              </div>`:""}
              ${de.customer.phone?`
              <div class="field">
                <span class="field-label">Telefone:</span>
                <span class="field-value">${de.customer.phone}</span>
              </div>`:""}
            </div>

            <div class="section">
              <div class="section-title">Vaga e Veculos</div>
              ${de.customer.parkingSlot?`
              <div class="field">
                <span class="field-label">Vaga Reservada:</span>
                <span class="field-value" style="font-size: 18px; font-weight: bold; color: #2563eb;">N ${de.customer.parkingSlot}</span>
              </div>`:""}
              <div class="field" style="margin-top: 10px;">
                <span class="field-label">Placas Cadastradas:</span>
              </div>
              <div class="plates">
                ${de.customer.plates.map(me=>`<span class="plate-badge">${me}</span>`).join("")}
              </div>
              <p style="font-size: 11px; margin-top: 8px; color: #666;">
                * O cliente possui ${de.customer.plates.length} veculo(s) cadastrado(s) para esta vaga.
              </p>
            </div>

            <div class="section">
              <div class="section-title">Dados do Contrato</div>
              <div class="field">
                <span class="field-label">Data do Contrato:</span>
                <span class="field-value">${Be(new Date(de.contract.date),"dd/MM/yyyy HH:mm")}</span>
              </div>
              <div class="field">
                <span class="field-label">Valor Mensal:</span>
                <span class="field-value">R$ ${de.contract.value.toFixed(2)}</span>
              </div>
              <div class="field">
                <span class="field-label">Vencimento:</span>
                <span class="field-value">${Be(new Date(de.contract.dueDate),"dd/MM/yyyy")}</span>
              </div>
            </div>

            ${de.payment?`
            <div class="section">
              <div class="section-title">Pagamento</div>
              <div class="field">
                <span class="field-label">Forma de Pagamento:</span>
                <span class="field-value">${de.payment.method}</span>
              </div>
              <div class="field">
                <span class="field-label">Valor Pago:</span>
                <span class="field-value">R$ ${de.payment.value.toFixed(2)}</span>
              </div>
              <div class="field">
                <span class="field-label">Data do Pagamento:</span>
                <span class="field-value">${Be(new Date(de.payment.date),"dd/MM/yyyy HH:mm")}</span>
              </div>
            </div>`:""}

            ${de.operator?`
            <div class="section">
              <div class="field">
                <span class="field-label">Operador:</span>
                <span class="field-value">${de.operator}</span>
              </div>
            </div>`:""}

            <div class="footer">
              <p>Este recibo  comprovante de contrato de estacionamento mensal.</p>
              <p>Emitido em: ${Be(new Date,"dd/MM/yyyy HH:mm")}</p>
            </div>
          </div>
          <script>
            window.onload = () => {
              window.print();
            };
          <\/script>
        </body>
      </html>
    `;_e.document.write(q),_e.document.close()};return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:s?"Editar Cliente":"Adicionar Cliente Mensalista"}),e.jsx(ur,{children:s?"Edite os dados do cliente mensalista.":"Registre um novo cliente mensalista com pagamento e recibo."})]}),e.jsxs("form",{onSubmit:kt,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"bg-muted/50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Data do Contrato"}),e.jsx("div",{className:"text-lg font-semibold",children:Be(T,"dd/MM/yyyy 's' HH:mm")})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(H,{htmlFor:"name",className:"text-right",children:["Nome ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"name",value:f,onChange:de=>p(de.target.value),className:"col-span-3",placeholder:"Nome completo do cliente",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(H,{htmlFor:"cpf",className:"text-right",children:["CPF ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"cpf",value:g,onChange:ce,className:"col-span-3",placeholder:"000.000.000-00",maxLength:14,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(H,{htmlFor:"phone",className:"text-right",children:["Telefone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"phone",value:x,onChange:ee,className:"col-span-3",placeholder:"(00) 00000-0000",maxLength:15,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(H,{htmlFor:"parkingSlot",className:"text-right",children:["Vaga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"col-span-3 space-y-1",children:[e.jsx(le,{id:"parkingSlot",type:"number",value:j,onChange:He,placeholder:"Nmero da vaga",min:"1",required:!0,className:S?"border-red-500":""}),E&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verificando disponibilidade..."}),S&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:S}),j&&!S&&!E&&e.jsx("p",{className:"text-sm text-green-600 font-medium",children:" Vaga disponvel"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Uma vaga por cliente (at 5 veculos na mesma vaga)"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsxs(H,{className:"text-right pt-2",children:["Placas ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"col-span-3 space-y-2",children:[D.map(de=>e.jsxs("div",{className:"flex gap-2 items-center",children:[de.isEditing?e.jsx(le,{value:de.value,onChange:_e=>{const q=_e.target.value.toUpperCase();U(me=>me.map(xe=>xe.id===de.id?{...xe,value:q}:xe))},onBlur:()=>ke(de.id,de.value),onKeyDown:_e=>{_e.key==="Enter"&&(_e.preventDefault(),ke(de.id,de.value))},autoFocus:!0,placeholder:"ABC-1234",className:"flex-1"}):e.jsx("div",{className:"flex-1 px-3 py-2 border rounded-md bg-muted font-mono font-semibold",children:de.value}),e.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>be(de.id),disabled:de.isEditing,children:e.jsx(Es,{className:"h-4 w-4"})}),e.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>pe(de.id),children:e.jsx(lr,{className:"h-4 w-4 text-red-500"})})]},de.id)),ue&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(le,{value:V,onChange:de=>se(de.target.value.toUpperCase()),onKeyDown:M,onBlur:fe,placeholder:"ABC-1234 (pressione Enter ou clique Confirmar)",autoFocus:!0,maxLength:8}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{type:"button",variant:"default",size:"sm",onClick:()=>{const de=V.trim();if(de){const _e=de.toUpperCase();U(q=>[...q,{id:Date.now().toString(),value:_e,isEditing:!1}]),se(""),ie(!1)}},disabled:!V.trim(),className:"flex-1",children:"Confirmar Placa"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{se(""),ie(!1)},children:"Cancelar"})]})]}),!ue&&D.length<5&&e.jsxs(K,{type:"button",variant:"outline",onClick:J,className:"w-full",children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Adicionar Placa ",D.length>0&&`(${D.length}/5)`]}),D.length>=5&&e.jsx("p",{className:"text-sm text-muted-foreground",children:" Mximo de 5 veculos atingido"}),D.length===0&&!ue&&e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Clique no boto acima para adicionar a primeira placa"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(H,{htmlFor:"value",className:"text-right",children:["Valor Mensal ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"value",type:"number",step:"0.01",value:te,onChange:de=>L(de.target.value),placeholder:"150.00",className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(H,{htmlFor:"operator",className:"text-right",children:"Operador"}),e.jsx(le,{id:"operator",value:A,onChange:de=>W(de.target.value),placeholder:"Nome do operador (opcional)",className:"col-span-3"})]}),!s&&e.jsxs("div",{className:"border-t pt-4 mt-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Pagamento"}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 mb-3",children:[e.jsx(H,{className:"text-right",children:"Forma"}),e.jsxs(Ze,{value:re,onValueChange:Q,children:[e.jsx(Je,{className:"col-span-3",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(we,{value:"Pix",children:"Pix"}),e.jsx(we,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(we,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),re==="Dinheiro"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 mb-3",children:[e.jsx(H,{htmlFor:"paidAmount",className:"text-right",children:"Valor Pago"}),e.jsx(le,{id:"paidAmount",type:"number",step:"0.01",value:F,onChange:de=>G(de.target.value),placeholder:"200.00",className:"col-span-3"})]}),Y>0&&e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(H,{className:"text-right",children:"Troco"}),e.jsxs("div",{className:"col-span-3 px-3 py-2 bg-muted rounded-md font-semibold text-green-600",children:["R$ ",Y.toFixed(2)]})]})]})]})]}),e.jsxs(Ut,{children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:s?"Salvar Alteraes":"Salvar + Imprimir Recibo"})]})]})]})})}const KM=({open:t,onOpenChange:r,customer:s,onSaved:o})=>{const{registerPayment:l,companyConfig:c}=qn(),{toast:m}=Tt(),f=u.useRef(null),[p,g]=u.useState(""),[v,x]=u.useState("Dinheiro"),[b,j]=u.useState(""),[P,N]=u.useState(!1),[w,S]=u.useState(0),[C,E]=u.useState(null),[O,D]=u.useState({});u.useEffect(()=>{t&&(g(Be(new Date,"yyyy-MM-dd")),x("Dinheiro"),j(""),N(!1),U())},[t]);const U=async()=>{try{const te=await fetch("http://localhost:3000/receipt-templates/default/monthly_payment",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(te.ok){const L=await te.json();E(L);const re={};Array.isArray(L.customFields)&&L.customFields.forEach(Q=>{re[Q.name]=Q.defaultValue||""}),re.referenceMonth=Be(new Date,"MMMM/yyyy",{locale:at}),D(re)}}catch(te){const L=te instanceof Error?te.message:String(te);console.error("Error fetching template:",L)}},V=()=>!s||!b?0:parseFloat(b)-s.value,se=async()=>{if(!s||!p)return;const te=await l(s.id,{date:p,value:s.value,method:v});S(te),N(!0),m({title:"Pagamento registrado",description:"O recibo foi gerado automaticamente"}),o&&o()},ue=()=>{window.print()},ie=()=>{r(!1),N(!1)};return s?e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ht,{children:e.jsxs(pt,{children:["Registrar Pagamento - ",s.name]})}),P?e.jsxs("div",{children:[e.jsxs("div",{ref:f,className:"bg-white text-black p-8 rounded-lg border-2 border-gray-300",children:[C?.showCompanyName!==!1&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",style:{color:C?.primaryColor||"#000000"},children:c.name}),C?.showCompanyDetails!==!1&&e.jsxs(e.Fragment,{children:[c.legalName&&e.jsx("p",{className:"text-sm",children:c.legalName}),c.cnpj&&e.jsxs("p",{className:"text-sm",children:["CNPJ: ",c.cnpj]}),c.address&&e.jsx("p",{className:"text-sm",children:c.address}),c.phone&&e.jsxs("p",{className:"text-sm",children:["Tel: ",c.phone]})]})]}),C?.showReceiptNumber!==!1&&e.jsxs("div",{className:"border-t-2 border-b-2 border-gray-300 py-4 my-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-center",children:["RECIBO N ",w.toString().padStart(6,"0")]}),e.jsx("p",{className:"text-center text-sm mt-1",children:"Mensalista"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Cliente:"})," ",s.name]}),C?.showPlate!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Placas:"})," ",s.plates.join(", ")]}),C?.showDate!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Data do Pagamento:"})," ",Be(new Date(p),"dd/MM/yyyy",{locale:at})]}),C?.showPaymentMethod!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Forma de Pagamento:"})," ",v]}),C?.showValue!==!1&&e.jsxs("p",{children:[e.jsx("strong",{children:"Valor Pago:"})," R$ ",s.value.toFixed(2)]}),C?.customFields?.map(te=>e.jsxs("p",{children:[e.jsxs("strong",{children:[te.label,":"]})," ",O[te.name]||"-"]},te.name))]}),C?.showSignatureLine!==!1&&e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-300",children:[e.jsx("p",{className:"text-center",children:"_______________________________"}),e.jsx("p",{className:"text-center text-sm mt-1",children:"Assinatura do Responsvel"})]}),C?.termsAndConditions&&e.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-300 rounded",children:e.jsxs("p",{className:"text-xs text-center",children:[e.jsx("strong",{children:"ATENO:"})," ",C.termsAndConditions]})}),C?.footerText&&e.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:C.footerText})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(K,{variant:"outline",onClick:ue,className:"flex-1",children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Imprimir"]}),e.jsx(K,{onClick:ie,className:"flex-1",children:"Fechar"})]})]}):e.jsxs("form",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor a receber:"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",s.value.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"paymentDate",children:"Data do Pagamento"}),e.jsx(le,{id:"paymentDate",type:"date",value:p,onChange:te=>g(te.target.value)})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),e.jsxs(Ze,{value:v,onValueChange:te=>x(te),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Dinheiro",children:"Dinheiro"}),e.jsx(we,{value:"Pix",children:"Pix"}),e.jsx(we,{value:"Carto Dbito",children:"Carto Dbito"}),e.jsx(we,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),v==="Dinheiro"&&e.jsxs("div",{children:[e.jsx(H,{htmlFor:"amountReceived",children:"Valor Recebido (R$)"}),e.jsx(le,{id:"amountReceived",type:"number",step:"0.01",value:b,onChange:te=>j(te.target.value),placeholder:"0.00"}),b&&e.jsxs("p",{className:"text-sm mt-2 text-muted-foreground",children:["Troco: R$ ",V().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{type:"button",onClick:se,children:"Confirmar Pagamento"})]})]})]})}):null};var pm=["Enter"," "],YM=["ArrowDown","PageUp","Home"],r0=["ArrowUp","PageDown","End"],QM=[...YM,...r0],JM={ltr:[...pm,"ArrowRight"],rtl:[...pm,"ArrowLeft"]},XM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mi="Menu",[ri,ZM,eD]=Jl(mi),[sa,s0]=un(mi,[eD,ro,io]),Nc=ro(),a0=io(),[tD,aa]=sa(mi),[nD,fi]=sa(mi),o0=t=>{const{__scopeMenu:r,open:s=!1,children:o,dir:l,onOpenChange:c,modal:m=!0}=t,f=Nc(r),[p,g]=u.useState(null),v=u.useRef(!1),x=dn(c),b=di(l);return u.useEffect(()=>{const j=()=>{v.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>v.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),e.jsx(Lm,{...f,children:e.jsx(tD,{scope:r,open:s,onOpenChange:x,content:p,onContentChange:g,children:e.jsx(nD,{scope:r,onClose:u.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:v,dir:b,modal:m,children:o})})})};o0.displayName=mi;var rD="MenuAnchor",uf=u.forwardRef((t,r)=>{const{__scopeMenu:s,...o}=t,l=Nc(s);return e.jsx(zm,{...l,...o,ref:r})});uf.displayName=rD;var mf="MenuPortal",[sD,i0]=sa(mf,{forceMount:void 0}),l0=t=>{const{__scopeMenu:r,forceMount:s,children:o,container:l}=t,c=aa(mf,r);return e.jsx(sD,{scope:r,forceMount:s,children:e.jsx(An,{present:s||c.open,children:e.jsx(oi,{asChild:!0,container:l,children:o})})})};l0.displayName=mf;var Wn="MenuContent",[aD,ff]=sa(Wn),c0=u.forwardRef((t,r)=>{const s=i0(Wn,t.__scopeMenu),{forceMount:o=s.forceMount,...l}=t,c=aa(Wn,t.__scopeMenu),m=fi(Wn,t.__scopeMenu);return e.jsx(ri.Provider,{scope:t.__scopeMenu,children:e.jsx(An,{present:o||c.open,children:e.jsx(ri.Slot,{scope:t.__scopeMenu,children:m.modal?e.jsx(oD,{...l,ref:r}):e.jsx(iD,{...l,ref:r})})})})}),oD=u.forwardRef((t,r)=>{const s=aa(Wn,t.__scopeMenu),o=u.useRef(null),l=Ye(r,o);return u.useEffect(()=>{const c=o.current;if(c)return Qm(c)},[]),e.jsx(hf,{...t,ref:l,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),iD=u.forwardRef((t,r)=>{const s=aa(Wn,t.__scopeMenu);return e.jsx(hf,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),lD=Js("MenuContent.ScrollLock"),hf=u.forwardRef((t,r)=>{const{__scopeMenu:s,loop:o=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:m,disableOutsidePointerEvents:f,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:b,onDismiss:j,disableOutsideScroll:P,...N}=t,w=aa(Wn,s),S=fi(Wn,s),C=Nc(s),E=a0(s),O=ZM(s),[D,U]=u.useState(null),V=u.useRef(null),se=Ye(r,V,w.onContentChange),ue=u.useRef(0),ie=u.useRef(""),te=u.useRef(0),L=u.useRef(null),re=u.useRef("right"),Q=u.useRef(0),F=P?pc:u.Fragment,G=P?{as:lD,allowPinchZoom:!0}:void 0,Y=A=>{const W=ie.current+A,T=O().filter(J=>!J.disabled),I=document.activeElement,$=T.find(J=>J.ref.current===I)?.textValue,oe=T.map(J=>J.textValue),ce=wD(oe,W,$),ee=T.find(J=>J.textValue===ce)?.ref.current;(function J(M){ie.current=M,window.clearTimeout(ue.current),M!==""&&(ue.current=window.setTimeout(()=>J(""),1e3))})(W),ee&&setTimeout(()=>ee.focus())};u.useEffect(()=>()=>window.clearTimeout(ue.current),[]),Ym();const R=u.useCallback(A=>re.current===L.current?.side&&bD(A,L.current?.area),[]);return e.jsx(aD,{scope:s,searchRef:ie,onItemEnter:u.useCallback(A=>{R(A)&&A.preventDefault()},[R]),onItemLeave:u.useCallback(A=>{R(A)||(V.current?.focus(),U(null))},[R]),onTriggerLeave:u.useCallback(A=>{R(A)&&A.preventDefault()},[R]),pointerGraceTimerRef:te,onPointerGraceIntentChange:u.useCallback(A=>{L.current=A},[]),children:e.jsx(F,{...G,children:e.jsx(fc,{asChild:!0,trapped:l,onMountAutoFocus:Ce(c,A=>{A.preventDefault(),V.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:e.jsx(Za,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:b,onDismiss:j,children:e.jsx(of,{asChild:!0,...E,dir:S.dir,orientation:"vertical",loop:o,currentTabStopId:D,onCurrentTabStopIdChange:U,onEntryFocus:Ce(p,A=>{S.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Vm,{role:"menu","aria-orientation":"vertical","data-state":S0(w.open),"data-radix-menu-content":"",dir:S.dir,...C,...N,ref:se,style:{outline:"none",...N.style},onKeyDown:Ce(N.onKeyDown,A=>{const T=A.target.closest("[data-radix-menu-content]")===A.currentTarget,I=A.ctrlKey||A.altKey||A.metaKey,$=A.key.length===1;T&&(A.key==="Tab"&&A.preventDefault(),!I&&$&&Y(A.key));const oe=V.current;if(A.target!==oe||!QM.includes(A.key))return;A.preventDefault();const ee=O().filter(J=>!J.disabled).map(J=>J.ref.current);r0.includes(A.key)&&ee.reverse(),vD(ee)}),onBlur:Ce(t.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(ue.current),ie.current="")}),onPointerMove:Ce(t.onPointerMove,si(A=>{const W=A.target,T=Q.current!==A.clientX;if(A.currentTarget.contains(W)&&T){const I=A.clientX>Q.current?"right":"left";re.current=I,Q.current=A.clientX}}))})})})})})})});c0.displayName=Wn;var cD="MenuGroup",pf=u.forwardRef((t,r)=>{const{__scopeMenu:s,...o}=t;return e.jsx(Ie.div,{role:"group",...o,ref:r})});pf.displayName=cD;var dD="MenuLabel",d0=u.forwardRef((t,r)=>{const{__scopeMenu:s,...o}=t;return e.jsx(Ie.div,{...o,ref:r})});d0.displayName=dD;var Yl="MenuItem",hg="menu.itemSelect",Cc=u.forwardRef((t,r)=>{const{disabled:s=!1,onSelect:o,...l}=t,c=u.useRef(null),m=fi(Yl,t.__scopeMenu),f=ff(Yl,t.__scopeMenu),p=Ye(r,c),g=u.useRef(!1),v=()=>{const x=c.current;if(!s&&x){const b=new CustomEvent(hg,{bubbles:!0,cancelable:!0});x.addEventListener(hg,j=>o?.(j),{once:!0}),wm(x,b),b.defaultPrevented?g.current=!1:m.onClose()}};return e.jsx(u0,{...l,ref:p,disabled:s,onClick:Ce(t.onClick,v),onPointerDown:x=>{t.onPointerDown?.(x),g.current=!0},onPointerUp:Ce(t.onPointerUp,x=>{g.current||x.currentTarget?.click()}),onKeyDown:Ce(t.onKeyDown,x=>{const b=f.searchRef.current!=="";s||b&&x.key===" "||pm.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Cc.displayName=Yl;var u0=u.forwardRef((t,r)=>{const{__scopeMenu:s,disabled:o=!1,textValue:l,...c}=t,m=ff(Yl,s),f=a0(s),p=u.useRef(null),g=Ye(r,p),[v,x]=u.useState(!1),[b,j]=u.useState("");return u.useEffect(()=>{const P=p.current;P&&j((P.textContent??"").trim())},[c.children]),e.jsx(ri.ItemSlot,{scope:s,disabled:o,textValue:l??b,children:e.jsx(lf,{asChild:!0,...f,focusable:!o,children:e.jsx(Ie.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:g,onPointerMove:Ce(t.onPointerMove,si(P=>{o?m.onItemLeave(P):(m.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,si(P=>m.onItemLeave(P))),onFocus:Ce(t.onFocus,()=>x(!0)),onBlur:Ce(t.onBlur,()=>x(!1))})})})}),uD="MenuCheckboxItem",m0=u.forwardRef((t,r)=>{const{checked:s=!1,onCheckedChange:o,...l}=t;return e.jsx(g0,{scope:t.__scopeMenu,checked:s,children:e.jsx(Cc,{role:"menuitemcheckbox","aria-checked":Ql(s)?"mixed":s,...l,ref:r,"data-state":gf(s),onSelect:Ce(l.onSelect,()=>o?.(Ql(s)?!0:!s),{checkForDefaultPrevented:!1})})})});m0.displayName=uD;var f0="MenuRadioGroup",[mD,fD]=sa(f0,{value:void 0,onValueChange:()=>{}}),h0=u.forwardRef((t,r)=>{const{value:s,onValueChange:o,...l}=t,c=dn(o);return e.jsx(mD,{scope:t.__scopeMenu,value:s,onValueChange:c,children:e.jsx(pf,{...l,ref:r})})});h0.displayName=f0;var p0="MenuRadioItem",x0=u.forwardRef((t,r)=>{const{value:s,...o}=t,l=fD(p0,t.__scopeMenu),c=s===l.value;return e.jsx(g0,{scope:t.__scopeMenu,checked:c,children:e.jsx(Cc,{role:"menuitemradio","aria-checked":c,...o,ref:r,"data-state":gf(c),onSelect:Ce(o.onSelect,()=>l.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});x0.displayName=p0;var xf="MenuItemIndicator",[g0,hD]=sa(xf,{checked:!1}),v0=u.forwardRef((t,r)=>{const{__scopeMenu:s,forceMount:o,...l}=t,c=hD(xf,s);return e.jsx(An,{present:o||Ql(c.checked)||c.checked===!0,children:e.jsx(Ie.span,{...l,ref:r,"data-state":gf(c.checked)})})});v0.displayName=xf;var pD="MenuSeparator",y0=u.forwardRef((t,r)=>{const{__scopeMenu:s,...o}=t;return e.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});y0.displayName=pD;var xD="MenuArrow",w0=u.forwardRef((t,r)=>{const{__scopeMenu:s,...o}=t,l=Nc(s);return e.jsx(Bm,{...l,...o,ref:r})});w0.displayName=xD;var gD="MenuSub",[F_,j0]=sa(gD),Go="MenuSubTrigger",b0=u.forwardRef((t,r)=>{const s=aa(Go,t.__scopeMenu),o=fi(Go,t.__scopeMenu),l=j0(Go,t.__scopeMenu),c=ff(Go,t.__scopeMenu),m=u.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:p}=c,g={__scopeMenu:t.__scopeMenu},v=u.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return u.useEffect(()=>v,[v]),u.useEffect(()=>{const x=f.current;return()=>{window.clearTimeout(x),p(null)}},[f,p]),e.jsx(uf,{asChild:!0,...g,children:e.jsx(u0,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":l.contentId,"data-state":S0(s.open),...t,ref:ym(r,l.onTriggerChange),onClick:x=>{t.onClick?.(x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,si(x=>{c.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!s.open&&!m.current&&(c.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{s.onOpenChange(!0),v()},100))})),onPointerLeave:Ce(t.onPointerLeave,si(x=>{v();const b=s.content?.getBoundingClientRect();if(b){const j=s.content?.dataset.side,P=j==="right",N=P?-5:5,w=b[P?"left":"right"],S=b[P?"right":"left"];c.onPointerGraceIntentChange({area:[{x:x.clientX+N,y:x.clientY},{x:w,y:b.top},{x:S,y:b.top},{x:S,y:b.bottom},{x:w,y:b.bottom}],side:j}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(x),x.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,x=>{const b=c.searchRef.current!=="";t.disabled||b&&x.key===" "||JM[o.dir].includes(x.key)&&(s.onOpenChange(!0),s.content?.focus(),x.preventDefault())})})})});b0.displayName=Go;var N0="MenuSubContent",C0=u.forwardRef((t,r)=>{const s=i0(Wn,t.__scopeMenu),{forceMount:o=s.forceMount,...l}=t,c=aa(Wn,t.__scopeMenu),m=fi(Wn,t.__scopeMenu),f=j0(N0,t.__scopeMenu),p=u.useRef(null),g=Ye(r,p);return e.jsx(ri.Provider,{scope:t.__scopeMenu,children:e.jsx(An,{present:o||c.open,children:e.jsx(ri.Slot,{scope:t.__scopeMenu,children:e.jsx(hf,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:g,align:"start",side:m.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{m.isUsingKeyboardRef.current&&p.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,v=>{v.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,v=>{m.onClose(),v.preventDefault()}),onKeyDown:Ce(t.onKeyDown,v=>{const x=v.currentTarget.contains(v.target),b=XM[m.dir].includes(v.key);x&&b&&(c.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});C0.displayName=N0;function S0(t){return t?"open":"closed"}function Ql(t){return t==="indeterminate"}function gf(t){return Ql(t)?"indeterminate":t?"checked":"unchecked"}function vD(t){const r=document.activeElement;for(const s of t)if(s===r||(s.focus(),document.activeElement!==r))return}function yD(t,r){return t.map((s,o)=>t[(r+o)%t.length])}function wD(t,r,s){const l=r.length>1&&Array.from(r).every(g=>g===r[0])?r[0]:r,c=s?t.indexOf(s):-1;let m=yD(t,Math.max(c,0));l.length===1&&(m=m.filter(g=>g!==s));const p=m.find(g=>g.toLowerCase().startsWith(l.toLowerCase()));return p!==s?p:void 0}function jD(t,r){const{x:s,y:o}=t;let l=!1;for(let c=0,m=r.length-1;c<r.length;m=c++){const f=r[c],p=r[m],g=f.x,v=f.y,x=p.x,b=p.y;v>o!=b>o&&s<(x-g)*(o-v)/(b-v)+g&&(l=!l)}return l}function bD(t,r){if(!r)return!1;const s={x:t.clientX,y:t.clientY};return jD(s,r)}function si(t){return r=>r.pointerType==="mouse"?t(r):void 0}var ND=o0,CD=uf,SD=l0,ED=c0,TD=pf,kD=d0,PD=Cc,RD=m0,MD=h0,DD=x0,AD=v0,_D=y0,OD=w0,ID=b0,FD=C0,vf="ContextMenu",[$D]=un(vf,[s0]),mn=s0(),[LD,E0]=$D(vf),T0=t=>{const{__scopeContextMenu:r,children:s,onOpenChange:o,dir:l,modal:c=!0}=t,[m,f]=u.useState(!1),p=mn(r),g=dn(o),v=u.useCallback(x=>{f(x),g(x)},[g]);return e.jsx(LD,{scope:r,open:m,onOpenChange:v,modal:c,children:e.jsx(ND,{...p,dir:l,open:m,onOpenChange:v,modal:c,children:s})})};T0.displayName=vf;var k0="ContextMenuTrigger",P0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,disabled:o=!1,...l}=t,c=E0(k0,s),m=mn(s),f=u.useRef({x:0,y:0}),p=u.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...f.current})}),g=u.useRef(0),v=u.useCallback(()=>window.clearTimeout(g.current),[]),x=b=>{f.current={x:b.clientX,y:b.clientY},c.onOpenChange(!0)};return u.useEffect(()=>v,[v]),u.useEffect(()=>void(o&&v()),[o,v]),e.jsxs(e.Fragment,{children:[e.jsx(CD,{...m,virtualRef:p}),e.jsx(Ie.span,{"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,...l,ref:r,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:o?t.onContextMenu:Ce(t.onContextMenu,b=>{v(),x(b),b.preventDefault()}),onPointerDown:o?t.onPointerDown:Ce(t.onPointerDown,Pl(b=>{v(),g.current=window.setTimeout(()=>x(b),700)})),onPointerMove:o?t.onPointerMove:Ce(t.onPointerMove,Pl(v)),onPointerCancel:o?t.onPointerCancel:Ce(t.onPointerCancel,Pl(v)),onPointerUp:o?t.onPointerUp:Ce(t.onPointerUp,Pl(v))})]})});P0.displayName=k0;var zD="ContextMenuPortal",R0=t=>{const{__scopeContextMenu:r,...s}=t,o=mn(r);return e.jsx(SD,{...o,...s})};R0.displayName=zD;var M0="ContextMenuContent",D0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=E0(M0,s),c=mn(s),m=u.useRef(!1);return e.jsx(ED,{...c,...o,ref:r,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:f=>{t.onCloseAutoFocus?.(f),!f.defaultPrevented&&m.current&&f.preventDefault(),m.current=!1},onInteractOutside:f=>{t.onInteractOutside?.(f),!f.defaultPrevented&&!l.modal&&(m.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D0.displayName=M0;var VD="ContextMenuGroup",BD=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(TD,{...l,...o,ref:r})});BD.displayName=VD;var UD="ContextMenuLabel",A0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(kD,{...l,...o,ref:r})});A0.displayName=UD;var HD="ContextMenuItem",_0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(PD,{...l,...o,ref:r})});_0.displayName=HD;var WD="ContextMenuCheckboxItem",O0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(RD,{...l,...o,ref:r})});O0.displayName=WD;var qD="ContextMenuRadioGroup",GD=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(MD,{...l,...o,ref:r})});GD.displayName=qD;var KD="ContextMenuRadioItem",I0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(DD,{...l,...o,ref:r})});I0.displayName=KD;var YD="ContextMenuItemIndicator",F0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(AD,{...l,...o,ref:r})});F0.displayName=YD;var QD="ContextMenuSeparator",$0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(_D,{...l,...o,ref:r})});$0.displayName=QD;var JD="ContextMenuArrow",XD=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(OD,{...l,...o,ref:r})});XD.displayName=JD;var ZD="ContextMenuSubTrigger",L0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(ID,{...l,...o,ref:r})});L0.displayName=ZD;var eA="ContextMenuSubContent",z0=u.forwardRef((t,r)=>{const{__scopeContextMenu:s,...o}=t,l=mn(s);return e.jsx(FD,{...l,...o,ref:r,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z0.displayName=eA;function Pl(t){return r=>r.pointerType!=="mouse"?t(r):void 0}var tA=T0,nA=P0,rA=R0,V0=D0,B0=A0,U0=_0,H0=O0,W0=I0,q0=F0,G0=$0,K0=L0,Y0=z0;const sA=tA,aA=nA,oA=u.forwardRef(({className:t,inset:r,children:s,...o},l)=>e.jsxs(K0,{ref:l,className:Te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",r&&"pl-8",t),...o,children:[s,e.jsx(tv,{className:"ml-auto h-4 w-4"})]}));oA.displayName=K0.displayName;const iA=u.forwardRef(({className:t,...r},s)=>e.jsx(Y0,{ref:s,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));iA.displayName=Y0.displayName;const Q0=u.forwardRef(({className:t,...r},s)=>e.jsx(rA,{children:e.jsx(V0,{ref:s,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Q0.displayName=V0.displayName;const $l=u.forwardRef(({className:t,inset:r,...s},o)=>e.jsx(U0,{ref:o,className:Te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",t),...s}));$l.displayName=U0.displayName;const lA=u.forwardRef(({className:t,children:r,checked:s,...o},l)=>e.jsxs(H0,{ref:l,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:s,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(q0,{children:e.jsx(Cm,{className:"h-4 w-4"})})}),r]}));lA.displayName=H0.displayName;const cA=u.forwardRef(({className:t,children:r,...s},o)=>e.jsxs(W0,{ref:o,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(q0,{children:e.jsx(sv,{className:"h-2 w-2 fill-current"})})}),r]}));cA.displayName=W0.displayName;const dA=u.forwardRef(({className:t,inset:r,...s},o)=>e.jsx(B0,{ref:o,className:Te("px-2 py-1.5 text-sm font-semibold text-foreground",r&&"pl-8",t),...s}));dA.displayName=B0.displayName;const uA=u.forwardRef(({className:t,...r},s)=>e.jsx(G0,{ref:s,className:Te("-mx-1 my-1 h-px bg-border",t),...r}));uA.displayName=G0.displayName;const mA=li("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qs({className:t,variant:r,...s}){return e.jsx("div",{className:Te(mA({variant:r}),t),...s})}const fA=t=>t?{cash:"Dinheiro",pix:"Pix",debit_card:"Carto Dbito",credit_card:"Carto Crdito",Dinheiro:"Dinheiro",Pix:"Pix","Carto Dbito":"Carto Dbito","Carto Crdito":"Carto Crdito"}[t]||t:"-";function hA(){const{toast:t}=Tt(),{monthlyCustomers:r,deleteMonthlyCustomer:s}=qn(),{hasPermission:o}=bn(),[l,c]=u.useState(!1),[m,f]=u.useState(!1),[p,g]=u.useState(),v=()=>{o("manageMonthlyCustomers")&&(g(void 0),c(!0))},x=w=>{o("manageMonthlyCustomers")&&(g(w),c(!0))},b=w=>{o("manageMonthlyCustomers")&&(g(w),f(!0))},j=async w=>{if(o("manageMonthlyCustomers")&&confirm(`Deseja realmente remover o cliente ${w.name}?`))try{await s(w.id),t({title:"Cliente removido",description:"O cliente foi excludo com sucesso"})}catch(S){console.error("Erro ao remover cliente:",S)}},P=w=>GR(new Date(w.dueDate))?"Atrasado":"Em dia",N=o("manageMonthlyCustomers");return e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mensalistas"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Gesto de clientes recorrentes"}),!N&&e.jsx("div",{className:"mt-2",children:e.jsx(Qs,{variant:"secondary",className:"text-xs",children:"Somente leitura"})})]}),N&&e.jsxs(K,{onClick:v,children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Adicionar Cliente"]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Cliente"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Placas"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Vaga Reservada"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Data de Contratao"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Prximo Vencimento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"ltimo Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Mtodo de Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-foreground",children:"Aes"})]})}),e.jsx("tbody",{children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-muted-foreground",children:"Nenhum cliente cadastrado"})}):r.map((w,S)=>{const C=P(w);return console.log("Cliente:",w.name,"contractDate:",w.contractDate),e.jsxs(sA,{children:[e.jsx(aA,{asChild:!0,children:e.jsxs("tr",{className:S%2===0?"bg-background":"bg-muted/20",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:w.name}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:w.plates.map((E,O)=>e.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:E},O))})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:["Vaga ",w.parkingSlot]})}),e.jsxs("td",{className:"px-4 py-3 font-medium",children:["R$ ",w.value.toFixed(2)]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.contractDate?Be(new Date(w.contractDate),"dd/MM/yyyy",{locale:at}):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:Be(new Date(w.dueDate),"dd/MM/yyyy",{locale:at})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.lastPayment?Be(new Date(w.lastPayment),"dd/MM/yyyy",{locale:at}):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.lastPaymentMethod?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-muted",children:fA(w.lastPaymentMethod)}):"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C==="Em dia"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:C})}),e.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:N&&e.jsx(K,{size:"sm",onClick:()=>b(w),children:"Registrar Pagamento"})})]})}),e.jsx(Q0,{children:N&&e.jsxs(e.Fragment,{children:[e.jsx($l,{onClick:()=>x(w),children:"Editar"}),e.jsx($l,{onClick:()=>b(w),children:"Efetuar Pagamento"}),e.jsx($l,{onClick:()=>j(w),className:"text-destructive",children:"Remover"})]})})]},w.id)})})]})})})]}),e.jsx(GM,{open:l,onOpenChange:c,customer:p}),e.jsx(KM,{open:m,onOpenChange:f,customer:p})]})}const pA=({open:t,onOpenChange:r,totalRevenue:s=0})=>{const{openCashRegister:o,lastClosingAmount:l}=qn(),{user:c}=bn(),[m,f]=u.useState("");u.useEffect(()=>{if(t){const g=s>0?s:l||0;f(g>0?g.toFixed(2):"")}},[t,l,s]);const p=()=>{const g=c?.name||"",v=m?Number(m):l||0;o(v,g),r(!1)};return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"sm:max-w-md",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:"Abertura de Caixa"}),e.jsx(ur,{children:"Informe o valor inicial do caixa."})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Operador"}),e.jsx("div",{className:"text-sm text-muted-foreground italic",children:"(ser preenchido aps implementao de login)"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"openingAmount",children:"Valor de Abertura"}),e.jsx(le,{id:"openingAmount",type:"number",min:0,step:"0.01",value:m,onChange:g=>f(g.target.value),placeholder:l>0?l.toFixed(2):"0.00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s>0?`Sugerido: R$ ${s.toFixed(2)} (receita total em caixa). Voc pode editar este valor.`:l>0?`Sugerido: R$ ${l.toFixed(2)} (ltimo fechamento). Voc pode editar este valor.`:"Nenhum valor sugerido. Informe o valor inicial."})]})]}),e.jsxs(Ut,{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{onClick:p,children:"Abrir Caixa"})]})]})})},xA=({open:t,onOpenChange:r})=>{const{cashSession:s,getTotalRevenue:o,closeCashRegister:l}=qn(),[c,m]=u.useState(0),f=s?.operatorName||"",p=new Date,v=`${Be(p,"yyyy-MM-dd")}`,x=u.useMemo(()=>o({start:v,end:v}),[o,v]);u.useEffect(()=>{t&&m(x||0)},[t,x]);const b=()=>{l(c||0,f),r(!1)};return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"sm:max-w-md",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:"Fechamento de Caixa"}),e.jsx(ur,{children:"Confirme os dados para fechar o caixa."})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Operador"}),e.jsx("div",{className:"text-sm",children:f||e.jsx("span",{className:"italic text-muted-foreground",children:"(em branco at o login)"})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Data e Hora"}),e.jsx("div",{className:"text-sm",children:Be(p,"dd 'de' MMMM 'de' yyyy 's' HH:mm:ss",{locale:at})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"closingAmount",children:"Valor de Fechamento"}),e.jsx(le,{id:"closingAmount",type:"number",min:0,value:c,onChange:j=>m(Number(j.target.value))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pr-preenchido com a receita total do dia."})]})]}),e.jsxs(Ut,{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(K,{onClick:b,children:"Fechar Caixa"})]})]})})};var Sc="Checkbox",[gA]=un(Sc),[vA,yf]=gA(Sc);function yA(t){const{__scopeCheckbox:r,checked:s,children:o,defaultChecked:l,disabled:c,form:m,name:f,onCheckedChange:p,required:g,value:v="on",internal_do_not_use_render:x}=t,[b,j]=Cr({prop:s,defaultProp:l??!1,onChange:p,caller:Sc}),[P,N]=u.useState(null),[w,S]=u.useState(null),C=u.useRef(!1),E=P?!!m||!!P.closest("form"):!0,O={checked:b,disabled:c,setChecked:j,control:P,setControl:N,name:f,form:m,value:v,hasConsumerStoppedPropagationRef:C,required:g,defaultChecked:ks(l)?!1:l,isFormControl:E,bubbleInput:w,setBubbleInput:S};return e.jsx(vA,{scope:r,...O,children:wA(x)?x(O):o})}var J0="CheckboxTrigger",X0=u.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...o},l)=>{const{control:c,value:m,disabled:f,checked:p,required:g,setControl:v,setChecked:x,hasConsumerStoppedPropagationRef:b,isFormControl:j,bubbleInput:P}=yf(J0,t),N=Ye(l,v),w=u.useRef(p);return u.useEffect(()=>{const S=c?.form;if(S){const C=()=>x(w.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[c,x]),e.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":ks(p)?"mixed":p,"aria-required":g,"data-state":rj(p),"data-disabled":f?"":void 0,disabled:f,value:m,...o,ref:N,onKeyDown:Ce(r,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ce(s,S=>{x(C=>ks(C)?!0:!C),P&&j&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})})});X0.displayName=J0;var wf=u.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:o,checked:l,defaultChecked:c,required:m,disabled:f,value:p,onCheckedChange:g,form:v,...x}=t;return e.jsx(yA,{__scopeCheckbox:s,checked:l,defaultChecked:c,disabled:f,required:m,onCheckedChange:g,name:o,form:v,value:p,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(X0,{...x,ref:r,__scopeCheckbox:s}),b&&e.jsx(nj,{__scopeCheckbox:s})]})})});wf.displayName=Sc;var Z0="CheckboxIndicator",ej=u.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:o,...l}=t,c=yf(Z0,s);return e.jsx(An,{present:o||ks(c.checked)||c.checked===!0,children:e.jsx(Ie.span,{"data-state":rj(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:r,style:{pointerEvents:"none",...t.style}})})});ej.displayName=Z0;var tj="CheckboxBubbleInput",nj=u.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:o,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:m,required:f,disabled:p,name:g,value:v,form:x,bubbleInput:b,setBubbleInput:j}=yf(tj,t),P=Ye(s,j),N=gc(c),w=sc(o);u.useEffect(()=>{const C=b;if(!C)return;const E=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(E,"checked").set,U=!l.current;if(N!==c&&D){const V=new Event("click",{bubbles:U});C.indeterminate=ks(c),D.call(C,ks(c)?!1:c),C.dispatchEvent(V)}},[b,N,c,l]);const S=u.useRef(ks(c)?!1:c);return e.jsx(Ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??S.current,required:f,disabled:p,name:g,value:v,form:x,...r,tabIndex:-1,ref:P,style:{...r.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});nj.displayName=tj;function wA(t){return typeof t=="function"}function ks(t){return t==="indeterminate"}function rj(t){return ks(t)?"indeterminate":t?"checked":"unchecked"}const ai=u.forwardRef(({className:t,...r},s)=>e.jsx(wf,{ref:s,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(ej,{className:Te("flex items-center justify-center text-current"),children:e.jsx(Cm,{className:"h-4 w-4"})})}));ai.displayName=wf.displayName;const jA=li("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fr=u.forwardRef(({className:t,variant:r,...s},o)=>e.jsx("div",{ref:o,role:"alert",className:Te(jA({variant:r}),t),...s}));Fr.displayName="Alert";const bA=u.forwardRef(({className:t,...r},s)=>e.jsx("h5",{ref:s,className:Te("mb-1 font-medium leading-none tracking-tight",t),...r}));bA.displayName="AlertTitle";const $r=u.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Te("text-sm [&_p]:leading-relaxed",t),...r}));$r.displayName="AlertDescription";const pg=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Maro"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}];function NA({open:t,onOpenChange:r,onConfirm:s}){const o=new Date,l=o.getFullYear(),c=o.getMonth()+1,m=c===1?12:c-1,f=c===1?l-1:l,[p,g]=u.useState(m),[v,x]=u.useState(f),[b,j]=u.useState(!0),[P,N]=u.useState(!1),w=[l,l-1,l-2],S=async()=>{N(!0);try{await s({month:p,year:v,clearOperational:b}),r(!1)}catch(E){console.error("Error in dialog:",E)}finally{N(!1)}},C=pg.find(E=>E.value===p)?.label||"";return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"sm:max-w-[500px]",children:[e.jsxs(ht,{children:[e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(qa,{className:"h-5 w-5"}),"Gerar Relatrio Mensal"]}),e.jsx(ur,{children:"Encerre o ciclo financeiro mensal e gere um relatrio completo."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"month",children:"Ms de Referncia"}),e.jsxs(Ze,{value:p.toString(),onValueChange:E=>g(Number(E)),children:[e.jsx(Je,{id:"month",children:e.jsx(et,{placeholder:"Selecione o ms"})}),e.jsx(Xe,{children:pg.map(E=>e.jsx(we,{value:E.value.toString(),children:E.label},E.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"year",children:"Ano"}),e.jsxs(Ze,{value:v.toString(),onValueChange:E=>x(Number(E)),children:[e.jsx(Je,{id:"year",children:e.jsx(et,{placeholder:"Selecione o ano"})}),e.jsx(Xe,{children:w.map(E=>e.jsx(we,{value:E.toString(),children:E},E))})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(ai,{id:"clearOperational",checked:b,onCheckedChange:E=>j(E)}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(H,{htmlFor:"clearOperational",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Limpar registros operacionais"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove todos os tickets (entrada/sada) do perodo aps arquivamento. Recomendado para iniciar novo ciclo mensal."})]})]}),e.jsxs(Fr,{children:[e.jsx(nv,{className:"h-4 w-4"}),e.jsxs($r,{children:[e.jsx("strong",{children:"Ateno:"})," Esta ao ir:",e.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1 text-sm",children:[e.jsxs("li",{children:["Arquivar todos os dados financeiros de"," ",e.jsxs("strong",{children:[C,"/",v]})]}),e.jsx("li",{children:"Gerar relatrio completo com receitas e despesas"}),e.jsx("li",{children:"Salvar snapshot de todos os pagamentos e tickets"}),b&&e.jsxs("li",{className:"text-orange-600 dark:text-orange-400",children:[e.jsx("strong",{children:"Limpar tabela operacional"})," (tickets de entrada/sada)"]})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Apenas um relatrio por ms pode ser gerado. Certifique-se de que todos os lanamentos do perodo foram registrados."})]})]})]}),e.jsxs(Ut,{children:[e.jsx(K,{variant:"outline",onClick:()=>r(!1),disabled:P,children:"Cancelar"}),e.jsx(K,{onClick:S,disabled:P,className:"min-w-[120px]",children:P?e.jsxs(e.Fragment,{children:[e.jsx(iv,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qa,{className:"mr-2 h-4 w-4"}),"Gerar Relatrio"]})})]})]})})}var Ec="Tabs",[CA]=un(Ec,[io]),sj=io(),[SA,jf]=CA(Ec),aj=u.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,onValueChange:l,defaultValue:c,orientation:m="horizontal",dir:f,activationMode:p="automatic",...g}=t,v=di(f),[x,b]=Cr({prop:o,onChange:l,defaultProp:c??"",caller:Ec});return e.jsx(SA,{scope:s,baseId:Lr(),value:x,onValueChange:b,orientation:m,dir:v,activationMode:p,children:e.jsx(Ie.div,{dir:v,"data-orientation":m,...g,ref:r})})});aj.displayName=Ec;var oj="TabsList",ij=u.forwardRef((t,r)=>{const{__scopeTabs:s,loop:o=!0,...l}=t,c=jf(oj,s),m=sj(s);return e.jsx(of,{asChild:!0,...m,orientation:c.orientation,dir:c.dir,loop:o,children:e.jsx(Ie.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:r})})});ij.displayName=oj;var lj="TabsTrigger",cj=u.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,disabled:l=!1,...c}=t,m=jf(lj,s),f=sj(s),p=mj(m.baseId,o),g=fj(m.baseId,o),v=o===m.value;return e.jsx(lf,{asChild:!0,...f,focusable:!l,active:v,children:e.jsx(Ie.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":g,"data-state":v?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:p,...c,ref:r,onMouseDown:Ce(t.onMouseDown,x=>{!l&&x.button===0&&x.ctrlKey===!1?m.onValueChange(o):x.preventDefault()}),onKeyDown:Ce(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&m.onValueChange(o)}),onFocus:Ce(t.onFocus,()=>{const x=m.activationMode!=="manual";!v&&!l&&x&&m.onValueChange(o)})})})});cj.displayName=lj;var dj="TabsContent",uj=u.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,forceMount:l,children:c,...m}=t,f=jf(dj,s),p=mj(f.baseId,o),g=fj(f.baseId,o),v=o===f.value,x=u.useRef(v);return u.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(An,{present:l||v,children:({present:b})=>e.jsx(Ie.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!b,id:g,tabIndex:0,...m,ref:r,style:{...t.style,animationDuration:x.current?"0s":void 0},children:b&&c})})});uj.displayName=dj;function mj(t,r){return`${t}-trigger-${r}`}function fj(t,r){return`${t}-content-${r}`}var EA=aj,hj=ij,pj=cj,xj=uj;const zr=EA,Nr=u.forwardRef(({className:t,...r},s)=>e.jsx(hj,{ref:s,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));Nr.displayName=hj.displayName;const ct=u.forwardRef(({className:t,...r},s)=>e.jsx(pj,{ref:s,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...r}));ct.displayName=pj.displayName;const dt=u.forwardRef(({className:t,...r},s)=>e.jsx(xj,{ref:s,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));dt.displayName=xj.displayName;function TA(){const{toast:t}=Tt(),{cashIsOpen:r,cashSession:s,openCashRegister:o,getAvulsoRevenue:l,getMonthlyRevenue:c,getTotalRevenue:m}=qn(),{hasPermission:f}=bn(),[p,g]=u.useState([]),[v,x]=u.useState([]),[b,j]=u.useState([]),[P,N]=u.useState(""),[w,S]=u.useState(""),[C,E]=u.useState(!1),[O,D]=u.useState(!1),[U,V]=u.useState(!1),[se,ue]=u.useState(null),[ie,te]=u.useState(null),[L,re]=u.useState(!1),[Q,F]=u.useState(null),[G,Y]=u.useState(null);u.useEffect(()=>{(async()=>{try{re(!0);const me=P&&w?{start:P,end:w}:void 0;console.log("[Financeiro] Loading financial data with filters:",me);const[xe,Ve,We]=await Promise.all([Se.getFinancialReport(me).catch(lt=>{throw console.error("[Financeiro] Error fetching financial report:",lt),lt}),Se.getExpenses(me).catch(lt=>(console.error("[Financeiro] Error fetching expenses:",lt),(lt.message?.includes("expenses")||lt.message?.includes("table")||lt.message?.includes("schema cache"))&&console.warn("[Financeiro] Expenses table not found. Please run CREATE-TABLES-FINANCEIRO.sql in Supabase."),[])),Se.getManualRevenues(me).catch(lt=>(console.error("[Financeiro] Error fetching manual revenues:",lt),(lt.message?.includes("manual_revenues")||lt.message?.includes("table")||lt.message?.includes("schema cache"))&&console.warn("[Financeiro] Manual revenues table not found. Please run CREATE-TABLES-FINANCEIRO.sql in Supabase."),[]))]);console.log("[Financeiro] Report received:",{hasReport:!!xe,paymentsCount:xe?.payments?.length||0,total:xe?.total||0});const rt=xe?.payments||[],Pt=lt=>lt==="monthly_customer"?"Mensalista":"Avulso",it=rt.map(lt=>({type:Pt(lt.target_type),date:lt.date,value:Number(lt.value)||0}));console.log("[Financeiro] Mapped records:",it.length),g(it),x(Ve||[]);const rn=(We||[]).map(lt=>{const Gn={...lt,status:lt.status||"No Pago",category:lt.category||""};return console.log("[Financeiro] Manual revenue loaded:",{id:Gn.id,hasStatus:!!Gn.status,hasCategory:!!Gn.category}),Gn});console.log("[Financeiro] Manual revenues with status:",rn.length),j(rn)}catch(me){console.error("[Financeiro] Failed to load financial data:",me);const Ve=me.message?.includes("table")||me.message?.includes("schema cache")||me.message?.includes("manual_revenues")||me.message?.includes("expenses")?"Tabelas no encontradas. Execute o script CREATE-TABLES-FINANCEIRO.sql no Supabase SQL Editor.":me.message||String(me);t({title:"Erro ao carregar dados",description:Ve,variant:"destructive"}),g([]),x([]),j([])}finally{re(!1)}})()},[P,w,t]),u.useEffect(()=>{if(!r)return;const q=me=>{me.preventDefault();try{localStorage.setItem("cash:pendingClose","1")}catch{}return me.returnValue="",""};return window.addEventListener("beforeunload",q),()=>window.removeEventListener("beforeunload",q)},[r]),u.useEffect(()=>{if((typeof window<"u"?localStorage.getItem("cash:pendingClose"):null)&&r){D(!0);try{localStorage.removeItem("cash:pendingClose")}catch{}}},[r]);const R=p.filter(q=>{if(!P||!w)return!0;const me=new Date(q.date);return me>=new Date(P)&&me<=new Date(w)}),A=R.filter(q=>q.type==="Avulso").reduce((q,me)=>q+me.value,0),W=R.filter(q=>q.type==="Mensalista").reduce((q,me)=>q+me.value,0),T=A+W,I=u.useMemo(()=>b.reduce((q,me)=>q+(me.value||0),0),[b]),$=u.useMemo(()=>v.reduce((q,me)=>q+(me.value||0),0),[v]),oe=T+I,ce=oe-$,ee=()=>{const q=[["Tipo","Data","Valor"],...R.map(Ve=>[Ve.type,Ve.date,Ve.value.toFixed(2)]),["Total Receitas Estacionamento","",T.toFixed(2)],["Total Receitas Manuais","",I.toFixed(2)],["Total Receitas","",oe.toFixed(2)],["Total Despesas","",$.toFixed(2)],["Saldo Lquido","",ce.toFixed(2)]].map(Ve=>Ve.join(",")).join(`
`),me=new Blob([q],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a");xe.href=URL.createObjectURL(me),xe.download=`financeiro_${Be(new Date,"yyyy-MM-dd")}.csv`,xe.click(),t({title:"Relatrio exportado",description:"O arquivo CSV foi baixado com sucesso"})},J=()=>{const q={id:`new-${Date.now()}`,name:"",value:0,dueDate:Be(new Date,"yyyy-MM-dd"),paymentDate:null,status:"Em dia",category:"Contas",isRecurring:!1,recurringFrequency:null,notes:null};x([...v,q]),ue(q.id)},M=(q,me,xe)=>{x(Ve=>Ve.map(rt=>{if(rt.id!==q)return rt;const Pt={...rt,[me]:xe};if(me==="dueDate"||me==="paymentDate"){const it=fe(Pt.dueDate,Pt.paymentDate);Pt.status=it}return Pt}))},fe=(q,me)=>{if(me)return"Pago";const xe=new Date;xe.setHours(0,0,0,0);const Ve=new Date(q);Ve.setHours(0,0,0,0);const We=Math.floor((Ve.getTime()-xe.getTime())/(1e3*60*60*24));return We<0?"Atrasado":We<=3?"Perto do Vencimento":"Em dia"},be=async q=>{try{if(q.id.startsWith("new-")){const{id:me,status:xe,...Ve}=q,We=await Se.createExpense(Ve);x(rt=>rt.map(Pt=>Pt.id===me?We:Pt)),t({title:"Despesa criada",description:"A despesa foi registrada com sucesso"})}else{const{id:me,status:xe,...Ve}=q,We=await Se.updateExpense(me,Ve);x(rt=>rt.map(Pt=>Pt.id===me?We:Pt)),t({title:"Despesa atualizada",description:"A despesa foi atualizada com sucesso"})}ue(null)}catch(me){t({title:"Erro",description:me.message||"No foi possvel salvar a despesa",variant:"destructive"})}},ke=async q=>{try{const me=Be(new Date,"yyyy-MM-dd"),xe={...q,paymentDate:me,status:"Pago"};if(await M(q.id,"paymentDate",me),await M(q.id,"status","Pago"),q.id.startsWith("new-"))x(Ve=>Ve.map(We=>We.id===q.id?xe:We)),t({title:"Pagamento registrado",description:"A despesa foi marcada como paga"});else{const{id:Ve,status:We,...rt}=xe;await Se.updateExpense(Ve,rt),x(Pt=>Pt.map(it=>it.id===Ve?xe:it)),t({title:"Pagamento registrado",description:"A despesa foi marcada como paga"})}}catch(me){t({title:"Erro",description:me.message||"No foi possvel registrar o pagamento",variant:"destructive"})}},pe=async q=>{if(confirm("Tem certeza que deseja excluir esta despesa?"))try{q.startsWith("new-")||await Se.deleteExpense(q),x(me=>me.filter(xe=>xe.id!==q)),t({title:"Despesa excluda",description:"A despesa foi removida com sucesso"})}catch(me){t({title:"Erro",description:me.message||"No foi possvel excluir a despesa",variant:"destructive"})}},Fe=()=>{const q={id:`new-${Date.now()}`,description:"",value:0,date:Be(new Date,"yyyy-MM-dd"),category:"",status:"No Pago",notes:null};j([...b,q]),te(q.id)},He=(q,me,xe)=>{j(Ve=>Ve.map(We=>We.id===q?{...We,[me]:xe}:We))},kt=async q=>{try{if(q.id.startsWith("new-")){const{id:me,...xe}=q,Ve=await Se.createManualRevenue({description:xe.description,value:xe.value,date:xe.date,category:xe.category,status:xe.status,notes:xe.notes});j(We=>We.map(rt=>rt.id===me?Ve:rt)),t({title:"Receita criada",description:"A receita foi registrada com sucesso"})}else{const{id:me,...xe}=q,Ve=await Se.updateManualRevenue(me,{description:xe.description,value:xe.value,date:xe.date,category:xe.category,status:xe.status,notes:xe.notes});j(We=>We.map(rt=>rt.id===me?Ve:rt)),t({title:"Receita atualizada",description:"A receita foi atualizada com sucesso"})}te(null)}catch(me){t({title:"Erro",description:me.message||"No foi possvel salvar a receita",variant:"destructive"})}},Ke=async q=>{if(confirm("Tem certeza que deseja excluir esta receita?"))try{q.startsWith("new-")||await Se.deleteManualRevenue(q),j(me=>me.filter(xe=>xe.id!==q)),t({title:"Receita excluda",description:"A receita foi removida com sucesso"})}catch(me){t({title:"Erro",description:me.message||"No foi possvel excluir a receita",variant:"destructive"})}},de=q=>{switch(q){case"Pago":return"bg-success/10 text-success";case"Atrasado":return"bg-destructive/10 text-destructive";case"Perto do Vencimento":return"bg-warning/10 text-warning";case"Em dia":return"bg-primary/10 text-primary";default:return"bg-muted text-muted-foreground"}},_e=async q=>{try{const me=await Se.generateMonthlyReport(q);t({title:"Relatrio mensal gerado!",description:me.message||"O relatrio foi gerado e arquivado com sucesso."});const xe=P&&w?{start:P,end:w}:void 0,We=(await Se.getFinancialReport(xe))?.payments||[],rt=it=>it==="monthly_customer"?"Mensalista":"Avulso",Pt=We.map(it=>({type:rt(it.target_type),date:it.date,value:Number(it.value)||0}));g(Pt)}catch(me){throw console.error("Error generating monthly report:",me),t({title:"Erro ao gerar relatrio",description:me.message||"No foi possvel gerar o relatrio mensal.",variant:"destructive"}),me}};return f("viewReports")?e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Financeiro"}),r&&s?.openedAt&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Caixa aberto em"," ",Be(new Date(s.openedAt),"dd/MM/yyyy HH:mm",{locale:at})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",onClick:ee,children:[e.jsx(ov,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),e.jsxs(K,{variant:"outline",onClick:()=>V(!0),className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio Mensal"]}),!r&&f("openCloseCash")&&e.jsx(K,{onClick:()=>E(!0),className:"bg-green-600 hover:bg-green-700",children:"Abrir Caixa"}),r&&f("openCloseCash")&&e.jsx(K,{onClick:()=>D(!0),variant:"destructive",children:"Fechar Caixa"})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border mb-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Filtrar por Perodo"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"startDate",children:"Data Inicial"}),e.jsx("input",{id:"startDate",type:"date",value:P,onChange:q=>N(q.target.value),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endDate",children:"Data Final"}),e.jsx("input",{id:"endDate",type:"date",value:w,onChange:q=>S(q.target.value),className:"input"})]})]}),P&&w&&e.jsx(K,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{N(""),S("")},children:"Limpar Filtro"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita Estacionamento"}),e.jsxs("p",{className:"text-3xl font-bold text-primary",children:["R$ ",T.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avulsos: R$ ",A.toFixed(2)," | Mensalistas: R$ ",W.toFixed(2)]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receitas Manuais"}),e.jsxs("p",{className:"text-3xl font-bold text-accent",children:["R$ ",I.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sublocao e outros"})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Despesas"}),e.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",$.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total de despesas registradas"})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border border-primary/20",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Saldo Lquido"}),e.jsxs("p",{className:`text-3xl font-bold ${ce>=0?"text-success":"text-destructive"}`,children:["R$ ",ce.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Receitas - Despesas"})]})]}),e.jsxs(zr,{defaultValue:"expenses",className:"space-y-6",children:[e.jsxs(Nr,{children:[e.jsx(ct,{value:"expenses",children:"Despesas"}),e.jsx(ct,{value:"revenues",children:"Receitas Manuais"})]}),e.jsxs(dt,{value:"expenses",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Despesas"}),e.jsxs(K,{onClick:J,size:"sm",children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Adicionar Despesa"]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Vencimento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data Pagamento"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Recorrente"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),e.jsx("tbody",{children:v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:'Nenhuma despesa registrada. Clique em "Adicionar Despesa" para comear.'})}):v.map((q,me)=>(me===0&&console.log("[Financeiro] First expense status:",{id:q.id,status:q.status,shouldShowButton:q.status!=="Pago"}),e.jsxs("tr",{className:me%2===0?"bg-background":"bg-muted/20",children:[e.jsx("td",{className:"px-4 py-3",children:se===q.id?e.jsx(le,{value:q.name,onChange:xe=>M(q.id,"name",xe.target.value),placeholder:"Nome da despesa",className:"w-full"}):e.jsx("span",{className:"font-medium",children:q.name||""})}),e.jsx("td",{className:"px-4 py-3",children:se===q.id?e.jsx(le,{type:"number",step:"0.01",min:"0",value:q.value,onChange:xe=>M(q.id,"value",Number(xe.target.value)),className:"w-full"}):e.jsxs("span",{children:["R$ ",q.value.toFixed(2)]})}),e.jsx("td",{className:"px-4 py-3",children:se===q.id?e.jsxs(Ze,{value:q.category,onValueChange:xe=>M(q.id,"category",xe),children:[e.jsx(Je,{className:"w-full",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Contas",children:"Contas"}),e.jsx(we,{value:"Manuteno",children:"Manuteno"}),e.jsx(we,{value:"Pr-labore",children:"Pr-labore"}),e.jsx(we,{value:"Impostos",children:"Impostos"})]})]}):e.jsx("span",{children:q.category})}),e.jsx("td",{className:"px-4 py-3",children:se===q.id?e.jsx(le,{type:"date",value:q.dueDate,onChange:xe=>M(q.id,"dueDate",xe.target.value),className:"w-full"}):e.jsx("span",{children:q.dueDate?Be(new Date(q.dueDate),"dd/MM/yyyy",{locale:at}):""})}),e.jsx("td",{className:"px-4 py-3",children:se===q.id?e.jsx(le,{type:"date",value:q.paymentDate||"",onChange:xe=>M(q.id,"paymentDate",xe.target.value||null),className:"w-full"}):e.jsx("span",{children:q.paymentDate?Be(new Date(q.paymentDate),"dd/MM/yyyy",{locale:at}):""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${de(q.status)}`,children:q.status})}),e.jsx("td",{className:"px-4 py-3",children:se===q.id?e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Ze,{value:q.isRecurring?"true":"false",onValueChange:xe=>M(q.id,"isRecurring",xe==="true"),children:[e.jsx(Je,{className:"w-full",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"false",children:"No"}),e.jsx(we,{value:"true",children:"Sim"})]})]}),q.isRecurring&&e.jsxs(Ze,{value:q.recurringFrequency||"monthly",onValueChange:xe=>M(q.id,"recurringFrequency",xe),children:[e.jsx(Je,{className:"w-full",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"monthly",children:"Mensal"}),e.jsx(we,{value:"weekly",children:"Semanal"}),e.jsx(we,{value:"yearly",children:"Anual"})]})]})]}):e.jsx("span",{className:"text-sm",children:q.isRecurring?q.recurringFrequency==="monthly"?"Mensal":q.recurringFrequency==="weekly"?"Semanal":"Anual":"No"})}),e.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:se===q.id?e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(K,{size:"sm",variant:"outline",onClick:()=>{Q&&x(xe=>xe.map(Ve=>Ve.id===q.id?Q:Ve)),ue(null),F(null)},children:"Cancelar"}),e.jsxs(K,{size:"sm",onClick:()=>be(q),disabled:!q.name||q.value<=0,children:[e.jsx(Bu,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):e.jsxs(e.Fragment,{children:[q.status!=="Pago"&&e.jsxs(K,{size:"sm",variant:"ghost",onClick:()=>ke(q),className:"text-green-600 hover:text-green-700",children:[e.jsx(Vu,{className:"h-4 w-4 mr-1"}),"Realizar Pagamento"]}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{F(q),ue(q.id)},children:"Editar"}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>pe(q.id),children:e.jsx(lr,{className:"h-4 w-4 text-destructive"})})]})})]},q.id)))})]})})})]}),e.jsxs(dt,{value:"revenues",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Receitas Manuais"}),e.jsxs(K,{onClick:Fe,size:"sm",children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Adicionar Receita"]})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Descrio"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Valor"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),e.jsx("tbody",{children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:'Nenhuma receita manual registrada. Clique em "Adicionar Receita" para comear.'})}):b.map((q,me)=>e.jsxs("tr",{className:me%2===0?"bg-background":"bg-muted/20",children:[e.jsx("td",{className:"px-4 py-3",children:ie===q.id?e.jsx(le,{value:q.description,onChange:xe=>He(q.id,"description",xe.target.value),placeholder:"Descrio da receita",className:"w-full"}):e.jsx("span",{className:"font-medium",children:q.description||""})}),e.jsx("td",{className:"px-4 py-3",children:ie===q.id?e.jsx(le,{type:"number",step:"0.01",min:"0",value:q.value,onChange:xe=>He(q.id,"value",Number(xe.target.value)),className:"w-full"}):e.jsxs("span",{children:["R$ ",q.value.toFixed(2)]})}),e.jsx("td",{className:"px-4 py-3",children:ie===q.id?e.jsx(le,{value:q.category,onChange:xe=>He(q.id,"category",xe.target.value),placeholder:"Digite a categoria",className:"w-full"}):e.jsx("span",{children:q.category||""})}),e.jsx("td",{className:"px-4 py-3",children:ie===q.id?e.jsx(le,{type:"date",value:q.date,onChange:xe=>He(q.id,"date",xe.target.value),className:"w-full"}):e.jsx("span",{children:q.date?Be(new Date(q.date),"dd/MM/yyyy",{locale:at}):""})}),e.jsx("td",{className:"px-4 py-3",children:ie===q.id?e.jsxs(Ze,{value:q.status,onValueChange:xe=>He(q.id,"status",xe),children:[e.jsx(Je,{className:"w-full",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Pago",children:"Pago"}),e.jsx(we,{value:"No Pago",children:"No Pago"})]})]}):e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.status==="Pago"?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:q.status})}),e.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:ie===q.id?e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(K,{size:"sm",variant:"outline",onClick:()=>{G&&j(xe=>xe.map(Ve=>Ve.id===q.id?G:Ve)),te(null),Y(null)},children:"Cancelar"}),e.jsxs(K,{size:"sm",onClick:()=>kt(q),disabled:!q.description||q.value<=0,children:[e.jsx(Bu,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{Y(q),te(q.id)},children:"Editar"}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>Ke(q.id),children:e.jsx(lr,{className:"h-4 w-4 text-destructive"})})]})})]},q.id))})]})})})]})]})]}),e.jsx(pA,{open:C,onOpenChange:E,totalRevenue:oe}),e.jsx(xA,{open:O,onOpenChange:D}),e.jsx(NA,{open:U,onOpenChange:V,onConfirm:_e})]}):e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para visualizar relatrios financeiros."})]})})}const tt=u.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));tt.displayName="Card";const Ot=u.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Te("flex flex-col space-y-1.5 p-6",t),...r}));Ot.displayName="CardHeader";const It=u.forwardRef(({className:t,...r},s)=>e.jsx("h3",{ref:s,className:Te("text-2xl font-semibold leading-none tracking-tight",t),...r}));It.displayName="CardTitle";const zt=u.forwardRef(({className:t,...r},s)=>e.jsx("p",{ref:s,className:Te("text-sm text-muted-foreground",t),...r}));zt.displayName="CardDescription";const nt=u.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Te("p-6 pt-0",t),...r}));nt.displayName="CardContent";const kA=u.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Te("flex items-center p-6 pt-0",t),...r}));kA.displayName="CardFooter";const Du=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function PA(){const{toast:t}=Tt(),{hasPermission:r}=bn(),[s,o]=u.useState([]),[l,c]=u.useState(!0),[m,f]=u.useState(null),[p,g]=u.useState(!1),[v,x]=u.useState(new Date().getFullYear());u.useEffect(()=>{b()},[v]);const b=async()=>{try{c(!0);const w=await Se.getMonthlyReports({year:v,limit:12});o(w||[])}catch(w){console.error("Error loading reports:",w);const S=w.message?.includes("relation")||w.message?.includes("monthly_reports")||w.message?.includes("does not exist");t(S?{title:"Tabela no encontrada",description:"Execute o script backend/create-monthly-reports-table.sql no Supabase para criar a estrutura necessria.",variant:"destructive"}:{title:"Erro ao carregar relatrios",description:w.message||"No foi possvel carregar os relatrios mensais.",variant:"destructive"}),o([])}finally{c(!1)}},j=async w=>{try{const S=await Se.getMonthlyReportById(w.id);f(S),g(!0)}catch(S){t({title:"Erro ao carregar detalhes",description:S.message||"No foi possvel carregar os detalhes do relatrio.",variant:"destructive"})}},P=w=>{const S=N(w),C=new Blob([S],{type:"text/plain;charset=utf-8"}),E=document.createElement("a");E.href=URL.createObjectURL(C),E.download=`relatorio_mensal_${w.report_month}_${w.report_year}.txt`,E.click(),t({title:"Relatrio baixado",description:"O documento foi baixado com sucesso."})},N=w=>`

             RELATRIO FINANCEIRO MENSAL


PERODO: ${Du[w.report_month-1]}/${w.report_year}
GERADO EM: ${Be(new Date(w.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:at})}


INFORMAES DA EMPRESA

Razo Social: ${w.company_legal_name||w.company_name}
Nome Fantasia: ${w.company_name}
CNPJ: ${w.company_cnpj}
Endereo: ${w.company_address}
Telefone: ${w.company_phone}


OPERADOR RESPONSVEL

Nome: ${w.operator_name}
ID: ${w.operator_id}


RESUMO FINANCEIRO

Receita Total:          R$ ${w.total_revenue.toFixed(2)}
   Avulsos:            R$ ${w.avulsos_revenue.toFixed(2)}
   Mensalistas:        R$ ${w.mensalistas_revenue.toFixed(2)}


FORMAS DE PAGAMENTO

Dinheiro:               R$ ${w.cash_total.toFixed(2)}
PIX:                    R$ ${w.pix_total.toFixed(2)}
Carto Dbito:          R$ ${w.debit_card_total.toFixed(2)}
Carto Crdito:         R$ ${w.credit_card_total.toFixed(2)}


ESTATSTICAS OPERACIONAIS

Total de Tickets:       ${w.total_tickets}
Tickets Encerrados:     ${w.tickets_closed}
Clientes Mensalistas:   ${w.monthly_customers_count}
Pagamentos Mensalistas: ${w.monthly_payments_count}


OBSERVAES

Este relatrio foi gerado automaticamente pelo sistema de
gesto de estacionamento. Todos os dados operacionais foram
arquivados e podem ser consultados atravs do ID do relatrio:
${w.id}

Status: ${w.status==="completed"?"Concludo":w.status}


            FIM DO RELATRIO MENSAL

`;return r("viewReports")?l?e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Relatrios Mensais"}),e.jsx("div",{className:"text-center py-12",children:"Carregando..."})]})}):e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Relatrios Mensais"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Histrico de encerramentos mensais e relatrios financeiros"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"outline",size:"sm",onClick:()=>x(v-1),children:""}),e.jsx("span",{className:"font-semibold min-w-[80px] text-center",children:v}),e.jsx(K,{variant:"outline",size:"sm",onClick:()=>x(v+1),disabled:v>=new Date().getFullYear(),children:""})]})]}),s.length===0?e.jsx(tt,{children:e.jsxs(nt,{className:"py-12 text-center",children:[e.jsx(qa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum relatrio gerado"}),e.jsx("p",{className:"text-muted-foreground",children:'Clique em "Gerar Relatrio Mensal" na pgina Financeiro para criar seu primeiro relatrio.'})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(w=>e.jsxs(tt,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Ot,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(It,{className:"text-lg",children:[Du[w.report_month-1]," ",w.report_year]}),e.jsxs(zt,{className:"text-xs mt-1",children:["Gerado em"," ",Be(new Date(w.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:at})]})]}),e.jsx(Qs,{variant:w.status==="completed"?"default":"secondary",children:w.status==="completed"?"Concludo":w.status})]})}),e.jsxs(nt,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Receita Total:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",w.total_revenue.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avulsos:"}),e.jsxs("span",{children:["R$ ",w.avulsos_revenue.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Mensalistas:"}),e.jsxs("span",{children:["R$ ",w.mensalistas_revenue.toFixed(2)]})]})]}),e.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:["Operador: ",w.operator_name]}),e.jsx("div",{className:"flex gap-2 pt-2",children:e.jsxs(K,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>j(w),children:[e.jsx(Fa,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]})})]})]},w.id))})]}),e.jsx(xt,{open:p,onOpenChange:g,children:e.jsx(ft,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:m&&e.jsxs(e.Fragment,{children:[e.jsxs(ht,{children:[e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(qa,{className:"h-5 w-5"}),"Relatrio Mensal - ",Du[m.report_month-1],"/",m.report_year]}),e.jsxs(ur,{children:["Gerado em"," ",Be(new Date(m.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:at})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Xs,{className:"h-4 w-4"}),"Informaes da Empresa"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Nome:"}),e.jsx("p",{className:"font-medium",children:m.company_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"CNPJ:"}),e.jsx("p",{className:"font-medium",children:m.company_cnpj})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Endereo:"}),e.jsx("p",{className:"font-medium",children:m.company_address})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(av,{className:"h-4 w-4"}),"Resumo Financeiro"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(tt,{children:e.jsxs(nt,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita Total"}),e.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",m.total_revenue.toFixed(2)]})]})}),e.jsx(tt,{children:e.jsxs(nt,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avulsos"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",m.avulsos_revenue.toFixed(2)]})]})}),e.jsx(tt,{children:e.jsxs(nt,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensalistas"}),e.jsxs("p",{className:"text-2xl font-bold text-accent",children:["R$ ",m.mensalistas_revenue.toFixed(2)]})]})}),e.jsx(tt,{children:e.jsxs(nt,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),e.jsx("p",{className:"text-2xl font-bold",children:m.total_tickets})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Formas de Pagamento"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Dinheiro:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",m.cash_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"PIX:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",m.pix_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Carto Dbito:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",m.debit_card_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Carto Crdito:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",m.credit_card_total.toFixed(2)]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Ia,{className:"h-4 w-4"}),"Estatsticas Operacionais"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total de Tickets:"}),e.jsx("span",{className:"font-semibold",children:m.total_tickets})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tickets Encerrados:"}),e.jsx("span",{className:"font-semibold",children:m.tickets_closed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Clientes Mensalistas:"}),e.jsx("span",{className:"font-semibold",children:m.monthly_customers_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Pagamentos Mensalistas:"}),e.jsx("span",{className:"font-semibold",children:m.monthly_payments_count})]})]})]}),e.jsxs("div",{className:"text-sm border-t pt-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Operador responsvel:"}),e.jsx("span",{className:"ml-2 font-medium",children:m.operator_name})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(K,{onClick:()=>P(m),className:"flex-1",children:[e.jsx(ov,{className:"h-4 w-4 mr-2"}),"Baixar Documento"]}),e.jsx(K,{variant:"outline",onClick:()=>g(!1),children:"Fechar"})]})]})})})]}):e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para visualizar relatrios mensais."})]})})}const RA=({open:t,onOpenChange:r})=>{const[s,o]=u.useState([]),[l,c]=u.useState(!1),[m,f]=u.useState({startDate:"",endDate:"",action:"",actorId:""}),[p,g]=u.useState(new Set),{toast:v}=Tt(),x=async()=>{c(!0);try{const C={};m.startDate&&(C.start=new Date(m.startDate).toISOString()),m.endDate&&(C.end=new Date(m.endDate).toISOString()),m.action&&(C.action=m.action),m.actorId&&(C.actorId=m.actorId);const E=await Se.getAuditEvents(C);o(E||[])}catch(C){const E=C instanceof Error?C.message:String(C);v({title:"Erro ao carregar eventos",description:E,variant:"destructive"})}finally{c(!1)}};u.useEffect(()=>{t&&x()},[t,x]);const b=C=>{const E=new Set(p);E.has(C)?E.delete(C):E.add(C),g(E)},j=C=>({"user.create":"Criao de usurio","user.update":"Atualizao de usurio","user.delete":"Excluso de usurio","user.password.update":"Atualizao de senha","user.bulkUpdate":"Atualizao em massa","cash.open":"Abertura de caixa","cash.close":"Fechamento de caixa","ticket.create":"Criao de ticket","ticket.finalize":"Finalizao de ticket","payment.create":"Criao de pagamento","customer.create":"Criao de mensalista","customer.update":"Atualizao de mensalista","customer.delete":"Excluso de mensalista","rate.create":"Criao de tarifa","rate.update":"Atualizao de tarifa","rate.delete":"Excluso de tarifa","config.update":"Atualizao de configurao"})[C]||C,P=C=>C.includes("create")?"text-green-600":C.includes("update")?"text-blue-600":C.includes("delete")?"text-red-600":C.includes("close")||C.includes("finalize")?"text-purple-600":C.includes("open")?"text-emerald-600":"text-gray-600",N=Array.from(new Set(s.map(C=>C.action))),w=Array.from(new Set(s.map(C=>({id:C.actor_id,name:C.actor_name})))),S=C=>{if(!C)return null;try{return JSON.parse(C)}catch{return C}};return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx(ht,{children:e.jsxs(pt,{className:"flex items-center gap-2",children:[e.jsx(XC,{className:"h-5 w-5"}),"Log de Auditoria"]})}),e.jsxs("div",{className:"bg-muted/30 rounded-lg border p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Data Incio"}),e.jsx(le,{type:"date",value:m.startDate,onChange:C=>f({...m,startDate:C.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Data Fim"}),e.jsx(le,{type:"date",value:m.endDate,onChange:C=>f({...m,endDate:C.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Ao"}),e.jsxs(Ze,{value:m.action,onValueChange:C=>f({...m,action:C}),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Todas"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"",children:"Todas"}),N.map(C=>e.jsx(we,{value:C,children:j(C)},C))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Usurio"}),e.jsxs(Ze,{value:m.actorId,onValueChange:C=>f({...m,actorId:C}),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Todos"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"",children:"Todos"}),w.map(C=>e.jsx(we,{value:C.id,children:C.name},C.id))]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," evento",s.length!==1?"s":""," encontrado",s.length!==1?"s":""]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{variant:"outline",size:"sm",onClick:()=>f({startDate:"",endDate:"",action:"",actorId:""}),children:"Limpar filtros"}),e.jsx(K,{size:"sm",onClick:x,disabled:l,children:l?"Carregando...":"Atualizar"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:l?e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Carregando eventos..."}):s.length===0?e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Nenhum evento encontrado"}):e.jsx("div",{className:"divide-y",children:s.map(C=>{const E=p.has(C.id),O=S(C.details),D=O!==null;return e.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[D?e.jsx("button",{onClick:()=>b(C.id),className:"mt-0.5 text-muted-foreground hover:text-foreground transition-colors","aria-label":E?"Recolher detalhes":"Expandir detalhes",children:E?e.jsx(Sm,{className:"h-4 w-4"}):e.jsx(tv,{className:"h-4 w-4"})}):e.jsx("div",{className:"w-4"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`font-medium ${P(C.action)}`,children:j(C.action)}),C.target_type&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",C.target_type,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(cv,{className:"h-3 w-3"}),C.actor_name," (",C.actor_login,")"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xs,{className:"h-3 w-3"}),Be(new Date(C.created_at),"dd/MM/yyyy 's' HH:mm",{locale:at})]})]})]})}),E&&D&&e.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded border text-xs",children:[e.jsx("div",{className:"font-medium mb-2",children:"Detalhes:"}),e.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs overflow-x-auto",children:typeof O=="object"?JSON.stringify(O,null,2):String(O)})]})]})]})},C.id)})})})]})})},MA=()=>{const{isAdmin:t,hasPermission:r,user:s,logout:o}=bn(),l=Wr(),[c,m]=u.useState([]),[f,p]=u.useState(!1),[g,v]=u.useState(null),[x,b]=u.useState(!1),[j,P]=u.useState(!1),[N,w]=u.useState(!1),[S,C]=u.useState(!1),[E,O]=u.useState(!1),[D,U]=u.useState(null),[V,se]=u.useState([]),[ue,ie]=u.useState(!1),[te,L]=u.useState(null),{toast:re}=Tt(),[Q,F]=u.useState(""),[G,Y]=u.useState(""),[R,A]=u.useState("all"),W=Object.keys({manageRates:!1,manageMonthlyCustomers:!1,viewReports:!1,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!1,manageBackups:!1}),[T,I]=u.useState("any"),$={manageRates:!1,manageMonthlyCustomers:!0,viewReports:!0,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1},oe={manageRates:!0,manageMonthlyCustomers:!0,viewReports:!0,manageUsers:!0,manageCompanyConfig:!0,manageVehicleTypes:!0,openCloseCash:!0,manageBackups:!0},ce={Admin:{role:"admin",permissions:{...oe}},Operacional:{role:"operator",permissions:{manageRates:!1,manageMonthlyCustomers:!0,viewReports:!1,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1}},Financeiro:{role:"operator",permissions:{manageRates:!0,manageMonthlyCustomers:!1,viewReports:!0,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1}}},ee=ae=>{const ge=ce[ae];fe(Re=>({...Re,role:ge.role,permissions:{...ge.permissions}}))},J=ae=>{const ge=ce[ae];ke(Re=>({...Re,role:ge.role,permissions:{...ge.permissions}}))},[M,fe]=u.useState({name:"",email:"",login:"",password:"",role:"operator",permissions:{...$}}),[be,ke]=u.useState({name:"",email:"",login:"",role:"operator",permissions:{...$}}),[pe,Fe]=u.useState(""),[He,kt]=u.useState(""),[Ke,de]=u.useState(""),[_e,q]=u.useState(!1),me=ae=>{const ge=[],Re=ae.length>=8;Re||ge.push("Mnimo de 8 caracteres");const qe=/[a-z]/.test(ae),gt=/[A-Z]/.test(ae),At=/[0-9]/.test(ae),vt=/[^A-Za-z0-9]/.test(ae),Ht=[qe,gt,At,vt].filter(Boolean).length;Ht<3&&ge.push("Use 3 tipos: maiscula, minscula, nmero, smbolo");let yt=0;yt+=Re?1:0,yt+=Ht>=2?1:0,yt+=Ht>=3?1:0,yt+=ae.length>=12?1:0,yt+=ae.length>=16?1:0;const Xt=["Muito fraca","Fraca","Mdia","Forte","Muito forte"],Yn=["text-red-600","text-orange-500","text-yellow-600","text-green-600","text-emerald-600"],Os=Math.min(yt,4),la=Re&&Ht>=3;return{score:yt,label:Xt[Os],color:Yn[Os],valid:la,issues:ge}},xe=u.useMemo(()=>me(M.password||""),[M.password]),Ve=u.useMemo(()=>me(He||""),[He]),We=async()=>{p(!0);try{const ae=await Se.getUsers();m(ae||[])}catch(ae){v(ae.message||"Erro ao carregar usurios")}finally{p(!1)}};u.useEffect(()=>{r("manageUsers")&&We()},[t]),u.useEffect(()=>{const ae=setTimeout(()=>Y(Q.trim().toLowerCase()),300);return()=>clearTimeout(ae)},[Q]);const rt=u.useMemo(()=>{let ae=c.slice();return R!=="all"&&(ae=ae.filter(ge=>ge.role===R)),T!=="any"&&(ae=ae.filter(ge=>!!(ge.permissions||{})[T])),G&&(ae=ae.filter(ge=>`${ge.name||""} ${ge.login||""} ${ge.email||""}`.toLowerCase().includes(G))),ae},[c,R,T,G]),Pt=u.useMemo(()=>rt.length?rt.every(ae=>V.includes(ae.id)):!1,[rt,V]),it=ae=>{if(ae){const ge=Array.from(new Set([...V,...rt.map(Re=>Re.id)]));se(ge)}else{const ge=new Set(rt.map(Re=>Re.id));se(Re=>Re.filter(qe=>!ge.has(qe)))}},rn=(ae,ge)=>{se(Re=>ge?Array.from(new Set([...Re,ae])):Re.filter(qe=>qe!==ae))},lt=()=>{fe({name:"",email:"",login:"",password:"",role:"operator",permissions:{...$}}),b(!0)},Gn=async ae=>{if(ae.preventDefault(),!xe.valid){re({title:"Senha fraca",description:xe.issues.join("  "),variant:"destructive"});return}try{const ge=await Se.createUser(M);re({title:"Usurio criado",description:ge.name}),b(!1),We()}catch(ge){re({title:"Erro ao criar usurio",description:ge.message})}},On=ae=>{U(ae),ke({name:ae.name,email:ae.email,login:ae.login,role:ae.role,permissions:{...$,...ae.permissions||{}}}),P(!0)},Tr=async ae=>{if(ae.preventDefault(),!!D)try{const ge=await Se.updateUser(D.id,be);re({title:"Usurio atualizado",description:ge.name}),P(!1),We()}catch(ge){re({title:"Erro ao atualizar",description:ge.message})}},oa=ae=>{U(ae),Fe(""),kt(""),de(""),q(!1),w(!0)},Gr=async ae=>{if(ae.preventDefault(),!!D){if(He!==Ke){re({title:"Senhas no conferem",description:"Confirme a nova senha corretamente."});return}if(!Ve.valid){re({title:"Senha fraca",description:Ve.issues.join("  "),variant:"destructive"});return}try{pe?await Se.updateOwnPassword(D.id,pe,He):await Se.updateUserPassword(D.id,He),re({title:"Senha atualizada",description:D.name}),w(!1),s&&D.id===s.id&&(o(),l("/login"))}catch(ge){re({title:"Erro ao atualizar senha",description:ge.message})}}},Kn=ae=>{U(ae),C(!0)},ia=async()=>{if(D)try{await Se.deleteUser(D.id),re({title:"Usurio removido",description:D.name}),C(!1),We()}catch(ae){re({title:"Erro ao remover usurio",description:ae.message})}},sn=u.useMemo(()=>c.filter(ae=>ae.role==="admin").length,[c]),Kr=u.useMemo(()=>c.filter(ae=>V.includes(ae.id)&&ae.role==="admin").length,[c,V]),_s=async ae=>{if(V.length){if(ae==="operator"&&sn>0&&Kr===sn){re({title:"Operao bloqueada",description:"No  permitido remover o ltimo admin.",variant:"destructive"});return}try{const ge=V.map(Re=>Se.updateUser(Re,{role:ae}));await Promise.all(ge),re({title:"Papel atualizado",description:`${V.length} usurio(s) atualizado(s)`}),se([]),await We()}catch(ge){re({title:"Erro em atualizao em massa",description:ge.message,variant:"destructive"})}}},Yr=async ae=>{if(!V.length)return;const ge=ce[ae];try{const Re=V.map(qe=>Se.updateUser(qe,{role:ge.role,permissions:ge.permissions}));await Promise.all(Re),re({title:"Preset aplicado",description:`${ae} aplicado para ${V.length} usurio(s)`}),se([]),await We()}catch(Re){re({title:"Erro ao aplicar preset",description:Re.message,variant:"destructive"})}},Qr=async()=>{if(!te)return;const{kind:ae,value:ge}=te;try{ae==="role"?await _s(ge):await Yr(ge);try{await Se.createAuditEvent({action:"user.bulkUpdate",targetType:"user",details:{kind:ae,value:ge,count:V.length,ids:V}})}catch(Re){console.warn("Failed to write bulk audit event",Re)}ie(!1),L(null)}catch{}},In=Object.keys($),Fn=()=>{const ae=rt.map(gt=>({id:gt.id,name:gt.name,login:gt.login,email:gt.email,role:gt.role,permissions:In.reduce((At,vt)=>({...At,[vt]:!!(gt.permissions||{})[vt]}),{})})),ge=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),Re=URL.createObjectURL(ge),qe=document.createElement("a");qe.href=Re,qe.download="usuarios.json",qe.click(),URL.revokeObjectURL(Re)},Nn=()=>{const ae=["id","name","login","email","role",...In],ge=rt.map(vt=>{const Ht=In.map(Xt=>vt.permissions&&vt.permissions[Xt]?"1":"0");return[vt.id,vt.name,vt.login,vt.email,vt.role,...Ht].map(Xt=>{const Yn=String(Xt??"");return/[",\n]/.test(Yn)?'"'+Yn.replace(/"/g,'""')+'"':Yn}).join(",")}),Re=[ae.join(","),...ge].join(`
`),qe=new Blob([Re],{type:"text/csv;charset=utf-8;"}),gt=URL.createObjectURL(qe),At=document.createElement("a");At.href=gt,At.download="usuarios.csv",At.click(),URL.revokeObjectURL(gt)};return r("manageUsers")?e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Usurios"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>O(!0),children:"Log de Auditoria"}),e.jsx(K,{variant:"outline",onClick:Nn,children:"Exportar CSV"}),e.jsx(K,{variant:"outline",onClick:Fn,children:"Exportar JSON"}),r("manageUsers")&&e.jsx(K,{onClick:lt,children:"Criar usurio"})]})]}),f&&e.jsx("p",{children:"Carregando..."}),g&&e.jsx("p",{className:"text-red-600",children:g}),e.jsxs("div",{className:"bg-card rounded-lg border p-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Buscar"}),e.jsx(le,{placeholder:"Nome, login ou email",value:Q,onChange:ae=>F(ae.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Papel"}),e.jsxs(Ze,{value:R,onValueChange:ae=>A(ae),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Todos"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"all",children:"Todos"}),e.jsx(we,{value:"admin",children:"Admin"}),e.jsx(we,{value:"operator",children:"Operador"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Permisso"}),e.jsxs(Ze,{value:T,onValueChange:ae=>I(ae),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Qualquer"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"any",children:"Qualquer"}),W.map(ae=>e.jsx(we,{value:ae,children:Au(ae)},ae))]})]})]})]}),(Q||R!=="all"||T!=="any")&&e.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[rt.length," resultados"]}),e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{F(""),A("all"),I("any")},children:"Limpar filtros"})]})]}),V.length>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-900 rounded-md p-3 mb-3 flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:["Selecionados: ",V.length]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxs(Ze,{onValueChange:ae=>{L({kind:"role",value:ae}),ie(!0)},children:[e.jsx(Je,{className:"w-[170px]",children:e.jsx(et,{placeholder:"Definir papel"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"admin",children:"Admin"}),e.jsx(we,{value:"operator",children:"Operador"})]})]}),e.jsxs(Ze,{onValueChange:ae=>{L({kind:"preset",value:ae}),ie(!0)},children:[e.jsx(Je,{className:"w-[200px]",children:e.jsx(et,{placeholder:"Aplicar preset"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Admin",children:"Admin"}),e.jsx(we,{value:"Operacional",children:"Operacional"}),e.jsx(we,{value:"Financeiro",children:"Financeiro"})]})]}),e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>se([]),children:"Limpar seleo"})]})]}),e.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium w-10",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Pt,onChange:ae=>it(ae.target.checked),"aria-label":"Selecionar todos"})}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Login"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Papel"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),e.jsx("tbody",{children:rt.map(ae=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:V.includes(ae.id),onChange:ge=>rn(ae.id,ge.target.checked),"aria-label":`Selecionar ${ae.name}`})}),e.jsx("td",{className:"px-4 py-3",children:ae.name}),e.jsx("td",{className:"px-4 py-3",children:ae.login}),e.jsx("td",{className:"px-4 py-3",children:ae.email}),e.jsx("td",{className:"px-4 py-3",children:ae.role}),e.jsx("td",{className:"px-4 py-3 text-right flex gap-1 justify-end",children:r("manageUsers")&&e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>On(ae),children:"Editar"}),e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>oa(ae),children:"Senha"}),e.jsx(K,{variant:"destructive",size:"sm",onClick:()=>Kn(ae),children:"Excluir"})]})})]},ae.id))})]})}),e.jsx(xt,{open:x,onOpenChange:b,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsx(pt,{children:"Novo usurio"})}),e.jsxs("form",{onSubmit:Gn,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Presets rpidos"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>ee("Admin"),children:"Admin"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>ee("Operacional"),children:"Operacional"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>ee("Financeiro"),children:"Financeiro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nome"}),e.jsx(le,{value:M.name,onChange:ae=>fe({...M,name:ae.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(le,{type:"email",value:M.email,onChange:ae=>fe({...M,email:ae.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Login"}),e.jsx(le,{value:M.login,onChange:ae=>fe({...M,login:ae.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Senha"}),e.jsx(le,{type:_e?"text":"password",value:M.password,onChange:ae=>fe({...M,password:ae.target.value}),required:!0}),M.password&&e.jsxs("p",{className:`text-xs mt-1 ${xe.color}`,children:["Fora da senha: ",xe.label]}),!xe.valid&&M.password&&e.jsx("p",{className:"text-xs text-muted-foreground",children:xe.issues.join("  ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Papel"}),e.jsxs(Ze,{value:M.role,onValueChange:ae=>fe({...M,role:ae,permissions:ae==="admin"?{...oe}:{...$}}),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Selecione"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"operator",children:"Operador"}),e.jsx(we,{value:"admin",children:"Admin"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Permisses"}),Object.keys($).map(ae=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ai,{checked:M.permissions[ae],onCheckedChange:ge=>fe({...M,permissions:{...M.permissions,[ae]:!!ge}})}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[Au(ae),e.jsxs(_x,{children:[e.jsx(Ox,{className:"cursor-help",children:e.jsx(px,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(Qu,{className:"max-w-xs",children:xg(ae)})]})]})]},ae))]}),e.jsxs(Ut,{children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(K,{type:"submit",children:"Criar"})]})]})]})}),e.jsx(xt,{open:j,onOpenChange:P,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsx(pt,{children:"Editar usurio"})}),e.jsxs("form",{onSubmit:Tr,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Presets rpidos"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>J("Admin"),children:"Admin"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>J("Operacional"),children:"Operacional"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>J("Financeiro"),children:"Financeiro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nome"}),e.jsx(le,{value:be.name,onChange:ae=>ke({...be,name:ae.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(le,{type:"email",value:be.email,onChange:ae=>ke({...be,email:ae.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Login"}),e.jsx(le,{value:be.login,onChange:ae=>ke({...be,login:ae.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Papel"}),e.jsxs(Ze,{value:be.role,onValueChange:ae=>ke({...be,role:ae,permissions:ae==="admin"?{...oe}:{...be.permissions}}),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Selecione"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"operator",children:"Operador"}),e.jsx(we,{value:"admin",children:"Admin"})]})]})]}),be.role==="admin"?e.jsx("div",{className:"text-xs text-muted-foreground",children:"Admins possuem acesso total por padro."}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"Permisses"}),Object.keys($).map(ae=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ai,{checked:be.permissions[ae],onCheckedChange:ge=>ke({...be,permissions:{...be.permissions,[ae]:!!ge}})}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[Au(ae),e.jsxs(_x,{children:[e.jsx(Ox,{className:"cursor-help",children:e.jsx(px,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(Qu,{className:"max-w-xs",children:xg(ae)})]})]})]},ae))]}),e.jsxs(Ut,{children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),e.jsx(K,{type:"submit",children:"Salvar"})]})]})]})}),e.jsx(xt,{open:N,onOpenChange:w,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsx(pt,{children:"Atualizar senha"})}),e.jsxs("form",{onSubmit:Gr,className:"space-y-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Administradores podem redefinir senhas sem informar a senha atual. Usurios comuns devem informar a senha atual."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Senha atual (somente se for sua prpria conta)"}),e.jsx(le,{type:_e?"text":"password",value:pe,onChange:ae=>Fe(ae.target.value),placeholder:"Opcional para admin"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nova senha"}),e.jsx(le,{type:_e?"text":"password",value:He,onChange:ae=>kt(ae.target.value),required:!0}),He&&e.jsxs("p",{className:`text-xs mt-1 ${Ve.color}`,children:["Fora da senha: ",Ve.label]}),!Ve.valid&&He&&e.jsx("p",{className:"text-xs text-muted-foreground",children:Ve.issues.join("  ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Confirmar nova senha"}),e.jsx(le,{type:_e?"text":"password",value:Ke,onChange:ae=>de(ae.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"showPasswords",type:"checkbox",checked:_e,onChange:ae=>q(ae.target.checked),className:"h-4 w-4"}),e.jsx("label",{htmlFor:"showPasswords",className:"text-sm cursor-pointer select-none",children:"Mostrar senhas"})]}),e.jsxs(Ut,{children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(K,{type:"submit",children:"Atualizar"})]})]})]})}),e.jsx(xt,{open:S,onOpenChange:C,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsx(pt,{children:"Excluir usurio"})}),e.jsxs("p",{children:["Tem certeza que deseja excluir ",D?.name,"? Esta ao no pode ser desfeita."]}),e.jsxs(Ut,{children:[e.jsx(K,{variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),e.jsx(K,{variant:"destructive",onClick:ia,children:"Excluir"})]})]})}),e.jsx(xt,{open:ue,onOpenChange:ie,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsx(pt,{children:"Confirmar ao em massa"})}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:["Voc est prestes a aplicar"," ",e.jsx("span",{className:"font-medium",children:te?.kind==="role"?`o papel "${te?.value}"`:`o preset "${te?.value}"`})," ","em ",e.jsx("span",{className:"font-medium",children:V.length})," usurio(s)."]}),te?.kind==="role"&&te?.value==="operator"&&Kr===sn&&sn>0&&e.jsx("p",{className:"text-red-600",children:"Ateno: isso removeria o ltimo admin, o que no  permitido."})]}),e.jsxs(Ut,{children:[e.jsx(K,{type:"button",variant:"outline",onClick:()=>{ie(!1),L(null)},children:"Cancelar"}),e.jsx(K,{onClick:Qr,children:"Confirmar"})]})]})}),e.jsx(RA,{open:E,onOpenChange:O})]})}):e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para ver esta pgina."})]})})};function Au(t){return{manageRates:"Gerenciar tarifas",manageMonthlyCustomers:"Gerenciar mensalistas",viewReports:"Ver relatrios",manageUsers:"Gerenciar usurios",manageCompanyConfig:"Configuraes da empresa",manageVehicleTypes:"Tipos de veculos",openCloseCash:"Abrir/Fechar caixa",manageBackups:"Gerenciar backups"}[t]||t}function xg(t){return{manageRates:"Permite criar, editar e remover tarifas. Usurios sem esta permisso s conseguem visualizar as tarifas.",manageMonthlyCustomers:"Permite cadastrar, editar e excluir mensalistas, bem como registrar pagamentos de planos mensais.",viewReports:"Permite acessar relatrios financeiros e operacionais. Sem esta permisso, a pgina de relatrios fica inacessvel.",manageUsers:"Permite criar, editar, redefinir senha e excluir usurios, alm de gerenciar papis e permisses.",manageCompanyConfig:"Permite alterar configuraes gerais da empresa (nome, CNPJ, recibos, etc.). Sem esta permisso o formulrio fica somente leitura.",manageVehicleTypes:"Permite gerenciar os tipos de veculos disponveis (criar, editar, remover).",openCloseCash:"Permite abrir e fechar o caixa, alm de registrar entradas/sadas avulsas e finalizar tickets.",manageBackups:"Permite criar, baixar, restaurar e excluir backups do sistema, bem como configurar backups automticos programados."}[t]||"Permisso do sistema."}var Tc="Switch",[DA]=un(Tc),[AA,_A]=DA(Tc),gj=u.forwardRef((t,r)=>{const{__scopeSwitch:s,name:o,checked:l,defaultChecked:c,required:m,disabled:f,value:p="on",onCheckedChange:g,form:v,...x}=t,[b,j]=u.useState(null),P=Ye(r,E=>j(E)),N=u.useRef(!1),w=b?v||!!b.closest("form"):!0,[S,C]=Cr({prop:l,defaultProp:c??!1,onChange:g,caller:Tc});return e.jsxs(AA,{scope:s,checked:S,disabled:f,children:[e.jsx(Ie.button,{type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":jj(S),"data-disabled":f?"":void 0,disabled:f,value:p,...x,ref:P,onClick:Ce(t.onClick,E=>{C(O=>!O),w&&(N.current=E.isPropagationStopped(),N.current||E.stopPropagation())})}),w&&e.jsx(wj,{control:b,bubbles:!N.current,name:o,value:p,checked:S,required:m,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});gj.displayName=Tc;var vj="SwitchThumb",yj=u.forwardRef((t,r)=>{const{__scopeSwitch:s,...o}=t,l=_A(vj,s);return e.jsx(Ie.span,{"data-state":jj(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:r})});yj.displayName=vj;var OA="SwitchBubbleInput",wj=u.forwardRef(({__scopeSwitch:t,control:r,checked:s,bubbles:o=!0,...l},c)=>{const m=u.useRef(null),f=Ye(m,c),p=gc(s),g=sc(r);return u.useEffect(()=>{const v=m.current;if(!v)return;const x=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==s&&j){const P=new Event("click",{bubbles:o});j.call(v,s),v.dispatchEvent(P)}},[p,s,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:f,style:{...l.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wj.displayName=OA;function jj(t){return t?"checked":"unchecked"}var bj=gj,IA=yj;const Oe=u.forwardRef(({className:t,...r},s)=>e.jsx(bj,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...r,ref:s,children:e.jsx(IA,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Oe.displayName=bj.displayName;const FA=[{value:"generic_escpos",label:"Generic ESC/POS (Compatvel)"},{value:"epson_tm_t20",label:"Epson TM-T20"},{value:"epson_tm_t88",label:"Epson TM-T88"},{value:"bematech_mp4200",label:"Bematech MP-4200"},{value:"bematech_mp100",label:"Bematech MP-100"},{value:"daruma_dr700",label:"Daruma DR-700"},{value:"elgin_i9",label:"Elgin i9"},{value:"elgin_i7",label:"Elgin i7"},{value:"nitere_nscale",label:"Nitere NScale"},{value:"sweda_si300",label:"Sweda SI-300"}],$A=[{value:"usb",label:"USB"},{value:"network",label:"Rede (Wi-Fi/Ethernet)"},{value:"bluetooth",label:"Bluetooth"},{value:"serial",label:"Serial (COM)"}];function LA({config:t,onChange:r,onSave:s,onPreview:o}){const{toast:l}=Tt(),[c,m]=u.useState([]),[f,p]=u.useState(!1),g=async()=>{p(!0);try{"getInstalledRelatedApps"in navigator&&l({title:"Deteco de impressoras",description:"Selecione manualmente a impressora nas configuraes do navegador ao imprimir."}),m(["Impressora Padro do Sistema"])}catch(x){console.error("Error detecting printers:",x),l({title:"Erro ao detectar impressoras",description:"Use o dilogo de impresso do navegador para selecionar a impressora.",variant:"destructive"})}finally{p(!1)}};u.useEffect(()=>{g()},[]);const v=x=>{const b=x.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/")){l({title:"Arquivo invlido",description:"Por favor, selecione uma imagem (PNG, JPG, etc.)",variant:"destructive"});return}const j=new FileReader;j.onload=P=>{const N=P.target?.result;r({...t,logoUrl:N,logoEnabled:!0}),l({title:"Logo carregada",description:"A logo ser exibida nos recibos impressos."})},j.readAsDataURL(b)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsxs(It,{className:"flex items-center gap-2",children:[e.jsx(Ga,{className:"h-5 w-5"}),"Configurao da Impressora"]}),e.jsx(zt,{children:"Configure a impressora trmica para emisso de recibos"})]}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"printerModel",children:"Modelo da Impressora"}),e.jsxs(Ze,{value:t.printerModel,onValueChange:x=>r({...t,printerModel:x}),children:[e.jsx(Je,{id:"printerModel",children:e.jsx(et,{})}),e.jsx(Xe,{children:FA.map(x=>e.jsx(we,{value:x.value,children:x.label},x.value))})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"connectionType",children:"Tipo de Conexo"}),e.jsxs(Ze,{value:t.connectionType,onValueChange:x=>r({...t,connectionType:x}),children:[e.jsx(Je,{id:"connectionType",children:e.jsx(et,{})}),e.jsx(Xe,{children:$A.map(x=>e.jsx(we,{value:x.value,children:x.label},x.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"paperWidth",children:"Largura do Papel"}),e.jsxs(Ze,{value:t.paperWidth,onValueChange:x=>r({...t,paperWidth:x}),children:[e.jsx(Je,{id:"paperWidth",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"58mm",children:"58mm (Mini)"}),e.jsx(we,{value:"80mm",children:"80mm (Padro)"})]})]})]}),t.connectionType==="usb"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"usbVendorId",children:"Vendor ID (USB)"}),e.jsx(le,{id:"usbVendorId",value:t.usbVendorId||"",onChange:x=>r({...t,usbVendorId:x.target.value}),placeholder:"Ex: 0x0416"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Utilize o ID hexadecimal da impressora (ex.: 0x0416). Consulte o gerenciador de dispositivos do sistema operacional."})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"usbProductId",children:"Product ID (USB)"}),e.jsx(le,{id:"usbProductId",value:t.usbProductId||"",onChange:x=>r({...t,usbProductId:x.target.value}),placeholder:"Ex: 0x5011"})]})]}),t.connectionType==="network"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"networkHost",children:"Endereo IP da Impressora"}),e.jsx(le,{id:"networkHost",value:t.networkHost||"",onChange:x=>r({...t,networkHost:x.target.value}),placeholder:"Ex: 192.168.0.50"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"networkPort",children:"Porta"}),e.jsx(le,{id:"networkPort",type:"number",value:t.networkPort!=null?String(t.networkPort):"9100",onChange:x=>r({...t,networkPort:Number(x.target.value)||9100}),placeholder:"9100"})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"defaultPrinter",children:"Nome da Impressora (opcional)"}),e.jsx(le,{id:"defaultPrinter",value:t.defaultPrinter,onChange:x=>r({...t,defaultPrinter:x.target.value}),placeholder:"Ex: Epson TM-T20"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe em branco para usar a impressora padro do sistema"})]})]})]}),e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Recursos ESC/POS"}),e.jsx(zt,{children:"Ative recursos especiais da impressora trmica"})]}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{htmlFor:"autoprint",children:"Impresso Automtica"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Imprime automaticamente sem mostrar dilogo"})]}),e.jsx(Oe,{id:"autoprint",checked:t.autoprint,onCheckedChange:x=>r({...t,autoprint:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{htmlFor:"enableCut",children:"Corte Automtico"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Corta o papel aps imprimir o recibo"})]}),e.jsx(Oe,{id:"enableCut",checked:t.enableCut,onCheckedChange:x=>r({...t,enableCut:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{htmlFor:"enableBeep",children:"Sinal Sonoro"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Emite um beep ao finalizar impresso"})]}),e.jsx(Oe,{id:"enableBeep",checked:t.enableBeep,onCheckedChange:x=>r({...t,enableBeep:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{htmlFor:"enableDrawer",children:"Abertura de Gaveta"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Abre a gaveta de dinheiro automaticamente"})]}),e.jsx(Oe,{id:"enableDrawer",checked:t.enableDrawer,onCheckedChange:x=>r({...t,enableDrawer:x})})]})]})]}),e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Personalizao do Layout"}),e.jsx(zt,{children:"Configure cabealho, rodap e logo do recibo"})]}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(H,{htmlFor:"logoUpload",children:"Logo da Empresa"}),e.jsx(Oe,{checked:t.logoEnabled,onCheckedChange:x=>r({...t,logoEnabled:x})})]}),t.logoEnabled&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{id:"logoUpload",type:"file",accept:"image/*",onChange:v,className:"flex-1"}),e.jsx(K,{variant:"outline",size:"icon",onClick:()=>document.getElementById("logoUpload")?.click(),children:e.jsx(v1,{className:"h-4 w-4"})})]}),t.logoUrl&&e.jsx("div",{className:"border rounded p-2 flex justify-center bg-muted",children:e.jsx("img",{src:t.logoUrl,alt:"Logo",className:"max-h-24 object-contain"})})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"headerText",children:"Texto do Cabealho"}),e.jsx(wn,{id:"headerText",value:t.headerText,onChange:x=>r({...t,headerText:x.target.value}),placeholder:"Ex: Estacionamento 24h - Seguro e Confivel",rows:2})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"footerText",children:"Texto do Rodap"}),e.jsx(wn,{id:"footerText",value:t.footerText,onChange:x=>r({...t,footerText:x.target.value}),placeholder:"Ex: Obrigado pela preferncia! Volte sempre!",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"fontSize",children:"Tamanho da Fonte"}),e.jsxs(Ze,{value:t.fontSize,onValueChange:x=>r({...t,fontSize:x}),children:[e.jsx(Je,{id:"fontSize",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"small",children:"Pequena"}),e.jsx(we,{value:"normal",children:"Normal"}),e.jsx(we,{value:"large",children:"Grande"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"lineSpacing",children:"Espaamento"}),e.jsxs(Ze,{value:t.lineSpacing,onValueChange:x=>r({...t,lineSpacing:x}),children:[e.jsx(Je,{id:"lineSpacing",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"compact",children:"Compacto"}),e.jsx(we,{value:"normal",children:"Normal"}),e.jsx(we,{value:"relaxed",children:"Relaxado"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(K,{variant:"outline",onClick:o,children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),e.jsxs(K,{onClick:s,children:[e.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Salvar Configuraes"]})]})]})}function zA({open:t,onOpenChange:r,printerConfig:s,companyInfo:o}){const l=()=>{window.print()},c={number:"000123",date:new Date,plate:"ABC-1234",vehicleType:"Carro",entryTime:new Date(Date.now()-72e5),exitTime:new Date,duration:"2h 00min",value:20,paymentMethod:"Dinheiro",operator:"Joo Silva"},m={small:"text-xs",normal:"text-sm",large:"text-base"}[s.fontSize]||"text-sm",f={compact:"leading-tight",normal:"leading-normal",relaxed:"leading-relaxed"}[s.lineSpacing]||"leading-normal";return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:"Visualizao de Impresso"}),e.jsxs(ur,{children:["Preview do recibo configurado para ",s.paperWidth]})]}),e.jsx("div",{className:"my-4",children:e.jsxs("div",{className:`thermal-receipt-preview ${s.paperWidth==="58mm"?"thermal-58mm":"thermal-80mm"} ${m} ${f}`,style:{paddingTop:`${s.margins.top}px`,paddingBottom:`${s.margins.bottom}px`,paddingLeft:`${s.margins.left}px`,paddingRight:`${s.margins.right}px`},children:[s.logoEnabled&&s.logoUrl&&e.jsx("div",{className:"receipt-logo",children:e.jsx("img",{src:s.logoUrl,alt:"Logo"})}),e.jsxs("div",{className:"receipt-header",children:[e.jsx("div",{className:"company-name",children:o.name}),o.legalName&&e.jsx("div",{className:"company-legal",children:o.legalName}),o.cnpj&&e.jsxs("div",{className:"company-info",children:["CNPJ: ",o.cnpj]}),o.address&&e.jsx("div",{className:"company-info",children:o.address}),o.phone&&e.jsxs("div",{className:"company-info",children:["Tel: ",o.phone]}),s.headerText&&e.jsx("div",{className:"header-text",children:s.headerText})]}),e.jsx("div",{className:"receipt-divider",children:""}),e.jsxs("div",{className:"receipt-body",children:[e.jsx("div",{className:"receipt-title",children:"RECIBO DE ESTACIONAMENTO"}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"N:"}),e.jsx("span",{className:"receipt-value",children:c.number})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Data:"}),e.jsx("span",{className:"receipt-value",children:Be(c.date,"dd/MM/yyyy 's' HH:mm",{locale:at})})]}),e.jsx("div",{className:"receipt-divider-light",children:"-------------------------------"}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Placa:"}),e.jsx("span",{className:"receipt-value font-bold",children:c.plate})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Veculo:"}),e.jsx("span",{className:"receipt-value",children:c.vehicleType})]}),e.jsx("div",{className:"receipt-divider-light",children:"-------------------------------"}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Entrada:"}),e.jsx("span",{className:"receipt-value",children:Be(c.entryTime,"dd/MM/yyyy HH:mm",{locale:at})})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Sada:"}),e.jsx("span",{className:"receipt-value",children:Be(c.exitTime,"dd/MM/yyyy HH:mm",{locale:at})})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Permanncia:"}),e.jsx("span",{className:"receipt-value",children:c.duration})]}),e.jsx("div",{className:"receipt-divider",children:""}),e.jsxs("div",{className:"receipt-row receipt-total",children:[e.jsx("span",{className:"font-bold",children:"VALOR:"}),e.jsxs("span",{className:"receipt-value font-bold text-lg",children:["R$ ",c.value.toFixed(2)]})]}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Forma Pgto:"}),e.jsx("span",{className:"receipt-value",children:c.paymentMethod})]}),e.jsx("div",{className:"receipt-divider",children:""}),e.jsxs("div",{className:"receipt-row",children:[e.jsx("span",{children:"Operador:"}),e.jsx("span",{className:"receipt-value",children:c.operator})]})]}),s.footerText&&e.jsx("div",{className:"receipt-footer",children:e.jsx("div",{className:"footer-text",children:s.footerText})}),e.jsx("div",{className:"receipt-cut-line",children:" - - - - - - - - - - - - - - - - - -"})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(K,{variant:"outline",onClick:()=>r(!1),children:[e.jsx(Pm,{className:"h-4 w-4 mr-2"}),"Fechar"]}),e.jsxs(K,{onClick:l,children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Imprimir Teste"]})]})]})})}const VA=()=>{const[t,r]=u.useState({enabled:!1,schedule:"0 2 * * *",retentionDays:30}),[s,o]=u.useState(!1),[l,c]=u.useState(!1),{toast:m}=Tt(),f=async()=>{o(!0);try{const x=await Se.getBackupConfig();r(x)}catch(x){console.error("Erro ao carregar configurao de backup:",x);const b=x instanceof Error?x.message:String(x);!b.includes("404")&&!b.includes("Not Found")&&m({title:"Erro ao carregar configurao",description:b,variant:"destructive"})}finally{o(!1)}};u.useEffect(()=>{f()},[f]);const p=async()=>{c(!0);try{await Se.updateBackupConfig(t),m({title:"Configurao salva",description:"As configuraes de backup foram atualizadas"})}catch(x){const b=x instanceof Error?x.message:String(x);m({title:"Erro ao salvar",description:b,variant:"destructive"})}finally{c(!1)}},g=async()=>{try{await Se.triggerAutoBackup(),m({title:"Backup iniciado",description:"Um backup automtico est sendo criado"})}catch(x){const b=x instanceof Error?x.message:String(x);m({title:"Erro",description:b,variant:"destructive"})}},v={"0 2 * * *":"Diariamente s 2:00 AM","0 0 * * 0":"Semanalmente aos domingos  meia-noite","0 3 1 * *":"Mensalmente no dia 1 s 3:00 AM","0 */6 * * *":"A cada 6 horas"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-2 flex items-center gap-2",children:[e.jsx(a1,{className:"h-5 w-5"}),"Backups Automticos"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure backups automticos regulares para proteger seus dados"})]}),s?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando configuraes..."}):e.jsxs("div",{className:"space-y-6 bg-card border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{className:"text-base font-medium",children:"Ativar backups automticos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Criar backups automaticamente no horrio agendado"})]}),e.jsx(Oe,{checked:t.enabled,onCheckedChange:x=>r({...t,enabled:x})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Em,{className:"h-4 w-4"}),"Agendamento (Cron Expression)"]}),e.jsx(le,{value:t.schedule,onChange:x=>r({...t,schedule:x.target.value}),placeholder:"0 2 * * *",disabled:!t.enabled}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Exemplos comuns:"}),Object.entries(v).map(([x,b])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"bg-muted px-2 py-0.5 rounded text-xs",children:x}),e.jsx("span",{className:"text-xs",children:b})]},x))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Xs,{className:"h-4 w-4"}),"Reteno (dias)"]}),e.jsx(le,{type:"number",min:"1",max:"365",value:t.retentionDays,onChange:x=>r({...t,retentionDays:parseInt(x.target.value)||30}),disabled:!t.enabled}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Backups automticos mais antigos que ",t.retentionDays," dias sero removidos automaticamente"]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.jsx(K,{onClick:p,disabled:l,children:l?"Salvando...":"Salvar Configuraes"}),e.jsx(K,{variant:"outline",onClick:g,disabled:!t.enabled,children:"Executar Backup Agora"})]}),t.enabled&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-green-900",children:[e.jsx(BA,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Backups automticos ativos"}),e.jsxs("p",{className:"text-sm text-green-800",children:["Prximo backup: ",v[t.schedule]||t.schedule]})]})]})})]})]})};function BA({className:t}){return e.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function UA(){const{toast:t}=Tt(),{hasPermission:r}=bn(),[s,o]=u.useState({name:"",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#000000",receiptCounter:0,printerConfig:{printerModel:"generic_escpos",paperWidth:"80mm",connectionType:"usb",autoprint:!1,defaultPrinter:"",enableCut:!0,enableBeep:!1,enableDrawer:!1,logoUrl:"",logoEnabled:!1,headerText:"",footerText:"Obrigado pela preferncia!",fontSize:"normal",lineSpacing:"normal",margins:{top:10,bottom:10,left:5,right:5},usbVendorId:"",usbProductId:"",networkHost:"",networkPort:9100}}),[l,c]=u.useState(!1),m=async()=>{try{const p=await Se.getCompanyConfig();o({...p,printerConfig:p.printerConfig||{printerModel:"generic_escpos",paperWidth:"80mm",connectionType:"usb",autoprint:!1,defaultPrinter:"",enableCut:!0,enableBeep:!1,enableDrawer:!1,logoUrl:"",logoEnabled:!1,headerText:"",footerText:"Obrigado pela preferncia!",fontSize:"normal",lineSpacing:"normal",margins:{top:10,bottom:10,left:5,right:5},usbVendorId:"",usbProductId:"",networkHost:"",networkPort:9100}})}catch(p){console.error("Erro ao buscar configuraes:",p)}};u.useEffect(()=>{m()},[]);const f=async p=>{if(p.preventDefault(),!!r("manageCompanyConfig"))try{await Se.updateCompanyConfig(s),t({title:"Configuraes salvas",description:"As informaes da empresa foram atualizadas com sucesso"}),window.dispatchEvent(new CustomEvent("companyConfigUpdated")),m()}catch(g){console.error(g),t({title:"Erro",description:"No foi possvel atualizar as configuraes",variant:"destructive"})}};return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuraes"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Dados da empresa, impressora e personalizao"})]}),e.jsxs(zr,{defaultValue:"company",className:"w-full",children:[e.jsxs(Nr,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsx(ct,{value:"company",children:"Informaes da Empresa"}),e.jsx(ct,{value:"printer",children:"Configurao de Impressora"}),e.jsx(ct,{value:"backup",children:"Backups Automticos"})]}),e.jsx(dt,{value:"company",children:e.jsx("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"name",children:"Nome da Empresa *"}),e.jsx(le,{id:"name",value:s.name,onChange:p=>o({...s,name:p.target.value}),placeholder:"Estacionamento Exemplo"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"legalName",children:"Razo Social"}),e.jsx(le,{id:"legalName",value:s.legalName,onChange:p=>o({...s,legalName:p.target.value}),placeholder:"Empresa Exemplo Ltda"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(le,{id:"cnpj",value:s.cnpj,onChange:p=>o({...s,cnpj:p.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"address",children:"Endereo"}),e.jsx(le,{id:"address",value:s.address,onChange:p=>o({...s,address:p.target.value}),placeholder:"Rua Exemplo, 123 - Bairro - Cidade/UF"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"phone",children:"Telefone / WhatsApp"}),e.jsx(le,{id:"phone",value:s.phone,onChange:p=>o({...s,phone:p.target.value}),placeholder:"(00) 00000-0000"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"primaryColor",children:"Cor Primria"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(le,{id:"primaryColor",type:"color",value:s.primaryColor,onChange:p=>o({...s,primaryColor:p.target.value}),className:"w-20 h-10"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.primaryColor})]})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Contador de Recibos:"})," ",s.receiptCounter.toString().padStart(6,"0")]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"O contador  incrementado automaticamente a cada recibo emitido"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:r("manageCompanyConfig")?e.jsx(K,{type:"submit",children:"Salvar Configuraes"}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"Visualizao somente. Sem permisso para editar."})})]})})}),e.jsx(dt,{value:"printer",children:e.jsx(LA,{config:s.printerConfig||{},onChange:p=>o({...s,printerConfig:p}),onSave:()=>f({preventDefault:()=>{}}),onPreview:()=>c(!0)})}),e.jsx(dt,{value:"backup",children:e.jsx(VA,{})})]}),e.jsx(zA,{open:l,onOpenChange:c,printerConfig:s.printerConfig||{},companyInfo:{name:s.name,legalName:s.legalName,cnpj:s.cnpj,address:s.address,phone:s.phone}})]})})}function HA({rateId:t,onClose:r}){const{toast:s}=Tt(),[o,l]=u.useState([]),[c,m]=u.useState(!0),[f,p]=u.useState(!1),[g,v]=u.useState(null),[x,b]=u.useState("first_hour"),[j,P]=u.useState(""),[N,w]=u.useState(""),[S,C]=u.useState("0");u.useEffect(()=>{E()},[t]);const E=async()=>{try{m(!0),console.log(" Loading pricing rules for rate ID:",t);const L=await Se.getPricingRules(t);console.log(" Pricing rules loaded:",L),l(L)}catch(L){const re=L;console.error(" Error loading pricing rules:",L),console.error("Error details:",{message:L.message,status:L.status,rateId:t}),s({title:"Erro ao carregar regras",description:re.message||"No foi possvel carregar as regras de precificao.",variant:"destructive"})}finally{m(!1)}},O=async()=>{try{const L=se();await Se.createPricingRule(L),s({title:"Regra criada",description:"Regra de precificao criada com sucesso."}),ue(),E()}catch(L){s({title:"Erro ao criar regra",description:L.message,variant:"destructive"})}},D=async()=>{if(g)try{const L=se();await Se.updatePricingRule(g.id,L),s({title:"Regra atualizada",description:"Regra de precificao atualizada com sucesso."}),ue(),E()}catch(L){s({title:"Erro ao atualizar regra",description:L.message,variant:"destructive"})}},U=async L=>{if(confirm("Deseja realmente excluir esta regra?"))try{await Se.deletePricingRule(L),s({title:"Regra excluda",description:"Regra de precificao excluda com sucesso."}),E()}catch(re){s({title:"Erro ao excluir regra",description:re.message,variant:"destructive"})}},V=async(L,re)=>{try{await Se.togglePricingRule(L,!re),s({title:re?"Regra desativada":"Regra ativada",description:`Regra ${re?"desativada":"ativada"} com sucesso.`}),E()}catch(Q){s({title:"Erro ao alterar status",description:Q.message,variant:"destructive"})}},se=()=>{const L=parseFloat(j);switch(x){case"first_hour":return{rateId:t,ruleType:x,conditions:{},valueAdjustment:{type:"override",value:L},priority:parseInt(S)||1,description:N||`Primeira hora: R$ ${L.toFixed(2)}`};case"daily_max":return{rateId:t,ruleType:x,conditions:{},valueAdjustment:{type:"cap",value:L},priority:parseInt(S)||99,description:N||`Valor mximo dirio: R$ ${L.toFixed(2)}`};case"time_range":return{rateId:t,ruleType:x,conditions:{hour_start:8,hour_end:18,days_of_week:[1,2,3,4,5]},valueAdjustment:{type:"multiplier",value:L},priority:parseInt(S)||3,description:N||`Horrio de pico: ${L}x`};case"hourly_progression":return{rateId:t,ruleType:x,conditions:{},valueAdjustment:{type:"progressive",ranges:[{from:0,to:2,value:L},{from:2,to:5,value:L*.8},{from:5,to:999,value:L*.6}]},priority:parseInt(S)||2,description:N||`Preo progressivo a partir de R$ ${L.toFixed(2)}`};default:throw new Error("Tipo de regra invlido")}},ue=()=>{b("first_hour"),P(""),w(""),C("0"),v(null),p(!1)},ie=L=>{v(L),b(L.ruleType);const re=L.valueAdjustment;"value"in re&&typeof re.value=="number"?P(re.value.toString()):"ranges"in re&&Array.isArray(re.ranges)&&re.ranges.length>0&&P(re.ranges[0].value.toString()),w(L.description),C(L.priority.toString()),p(!0)},te=L=>({first_hour:"Primeira Hora",daily_max:"Mximo Dirio",time_range:"Faixa Horria",hourly_progression:"Preo Progressivo"})[L]||L;return c?e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando regras..."})})}):e.jsx("div",{className:"space-y-4",children:e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Regras de Precificao Avanada"}),e.jsx(zt,{children:"Configure regras especiais de preo baseadas em tempo (primeira hora, mximo dirio, etc.)"})]}),e.jsx(nt,{children:f?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Tipo de Regra"}),e.jsxs(Ze,{value:x,onValueChange:b,children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"first_hour",children:"Primeira Hora"}),e.jsx(we,{value:"daily_max",children:"Mximo Dirio"}),e.jsx(we,{value:"time_range",children:"Faixa Horria (Pico)"}),e.jsx(we,{value:"hourly_progression",children:"Preo Progressivo"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Valor (R$)"}),e.jsx(le,{type:"number",step:"0.01",value:j,onChange:L=>P(L.target.value),placeholder:"Ex: 10.00"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x==="first_hour"&&"Valor fixo para a primeira hora",x==="daily_max"&&"Valor mximo cobrado por dia",x==="time_range"&&"Multiplicador (ex: 1.5 = 150%)",x==="hourly_progression"&&"Valor base (ser reduzido progressivamente)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Descrio (Opcional)"}),e.jsx(le,{value:N,onChange:L=>w(L.target.value),placeholder:"Ex: Primeira hora: R$ 10,00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Prioridade"}),e.jsx(le,{type:"number",value:S,onChange:L=>C(L.target.value),placeholder:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Menor nmero = maior prioridade. Sugerido: primeira hora=1, progressivo=2, faixa horria=3, mximo dirio=99"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{onClick:g?D:O,className:"flex-1",children:[g?"Atualizar":"Criar"," Regra"]}),e.jsx(K,{variant:"outline",onClick:ue,children:"Cancelar"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(K,{onClick:()=>p(!0),className:"w-full",children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Adicionar Nova Regra"]}),o.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:"Nenhuma regra configurada. Clique acima para adicionar."}):e.jsx("div",{className:"space-y-2",children:o.map(L=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:te(L.ruleType)}),!L.isActive&&e.jsx("span",{className:"text-xs bg-gray-200 px-2 py-0.5 rounded",children:"Inativa"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:L.description}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Prioridade: ",L.priority]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>V(L.id,L.isActive),children:L.isActive?e.jsx(g1,{className:"h-4 w-4 text-green-600"}):e.jsx(x1,{className:"h-4 w-4 text-gray-400"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>ie(L),children:e.jsx(km,{className:"h-4 w-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>U(L.id),children:e.jsx(lr,{className:"h-4 w-4 text-destructive"})})]})]},L.id))})]})})]})})}var WA="Separator",gg="horizontal",qA=["horizontal","vertical"],Nj=u.forwardRef((t,r)=>{const{decorative:s,orientation:o=gg,...l}=t,c=GA(o)?o:gg,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Ie.div,{"data-orientation":c,...f,...l,ref:r})});Nj.displayName=WA;function GA(t){return qA.includes(t)}var Cj=Nj;const Sj=u.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...o},l)=>e.jsx(Cj,{ref:l,decorative:s,orientation:r,className:Te("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));Sj.displayName=Cj.displayName;const vg={daily:"Diria",overnight:"Pernoite",weekly:"Semanal",biweekly:"Quinzenal"},xm=[{value:0,label:"Domingo"},{value:1,label:"Segunda-feira"},{value:2,label:"Tera-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"Sbado"}],_u="__CURRENT_RATE__";function Ns(t){return t?t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():""}function Ou(t){const r=Ns(t);return r.includes("daily")||r.includes("diaria")?"daily":r.includes("overnight")||r.includes("pernoite")?"overnight":r.includes("weekly")||r.includes("semanal")?"weekly":r.includes("biweekly")||r.includes("quinzenal")?"biweekly":null}function KA(t){const r=Ns(t);return r.includes("diaria")?"daily":r.includes("pernoite")?"overnight":r.includes("semanal")?"weekly":r.includes("quinzenal")?"biweekly":"daily"}function yg(t){return t?t.length===5?t:t.slice(0,5):"--:--"}function wg(t){const r=xm.find(s=>s.value===t);return r?r.label:"Dia"}function YA(t){if(!t)return"";try{const r=new Date(t);return Be(r,"dd/MM/yyyy HH:mm")}catch{return t}}function QA({rate:t,allRates:r,onClose:s,onUpdated:o}){const{toast:l}=Tt(),{updateRate:c}=qn(),[m,f]=u.useState("windows"),[p,g]=u.useState([]),[v,x]=u.useState([]),[b,j]=u.useState(t.config||{}),[P,N]=u.useState(!0),[w,S]=u.useState(!1),C=u.useMemo(()=>r.filter(T=>T.id!==t.id&&Ns(T.vehicleType)===Ns(t.vehicleType)&&Ns(T.rateType).includes("hora")),[r,t.id,t.rateType,t.vehicleType]),E=u.useMemo(()=>r.filter(T=>T.id!==t.id&&Ns(T.vehicleType)===Ns(t.vehicleType)&&Ns(T.rateType)!=="mensal"),[r,t.id,t.vehicleType]),O=KA(t.rateType),[D,U]=u.useState({id:"",windowType:O,startTime:"",endTime:"",startDay:1,endDay:5,durationLimitMinutes:"",extraRateId:"",isActive:!0,metadata:""}),[V,se]=u.useState({id:"",targetRateId:"",thresholdAmount:"",autoApply:!1}),ue=`${t.vehicleType} - ${t.rateType}`;u.useEffect(()=>{ie()},[t.id]),u.useEffect(()=>{te(),L()},[t.id]);const ie=async()=>{try{N(!0);const[T,I]=await Promise.all([Se.getRateTimeWindows(t.id),Se.getRateThresholds(t.id)]);g(T||[]),x(I||[]),j(t.config||{})}catch(T){console.error("Erro ao carregar dados avanados da tarifa:",T),l({title:"Erro ao carregar configuraes",description:"No foi possvel carregar as configuraes avanadas desta tarifa.",variant:"destructive"})}finally{N(!1)}},te=()=>{U({id:"",windowType:O,startTime:"",endTime:"",startDay:1,endDay:5,durationLimitMinutes:"",extraRateId:"",isActive:!0,metadata:""})},L=()=>{se({id:"",targetRateId:"",thresholdAmount:"",autoApply:!1})},re=T=>{f("windows"),U({id:T.id,windowType:Ou(T.window_type)||O,startTime:T.start_time||"",endTime:T.end_time||"",startDay:T.start_day??1,endDay:T.end_day??5,durationLimitMinutes:T.duration_limit_minutes?.toString()||"",extraRateId:T.extra_rate_id||"",isActive:T.is_active,metadata:JSON.stringify(T.metadata||{},null,2)})},Q=T=>{f("thresholds"),se({id:T.id,targetRateId:T.target_rate_id,thresholdAmount:T.threshold_amount.toString(),autoApply:T.auto_apply})},F=async T=>{T.preventDefault(),S(!0);try{const I={windowType:D.windowType,startTime:D.startTime||null,endTime:D.endTime||null,startDay:D.startDay,endDay:D.endDay,durationLimitMinutes:D.durationLimitMinutes?Number(D.durationLimitMinutes):null,extraRateId:D.extraRateId||null,isActive:D.isActive,metadata:JA(D.metadata)};if((D.windowType==="daily"||D.windowType==="overnight")&&(!D.startTime||!D.endTime))throw new Error("Informe horrio de incio e trmino.");if((D.windowType==="weekly"||D.windowType==="biweekly")&&!D.durationLimitMinutes)throw new Error("Informe o limite de durao em minutos.");D.id?(await Se.updateRateTimeWindow(D.id,I),l({title:"Janela atualizada com sucesso."})):(await Se.createRateTimeWindow(t.id,I),l({title:"Janela criada com sucesso."})),te(),ie(),o?.()}catch(I){l({title:"Erro ao salvar janela",description:I.message||"Verifique os campos e tente novamente.",variant:"destructive"})}finally{S(!1)}},G=async T=>{if(confirm("Confirmar excluso desta janela?"))try{await Se.deleteRateTimeWindow(T.id),l({title:"Janela removida com sucesso."}),ie(),o?.()}catch(I){l({title:"Erro ao remover janela",description:I.message,variant:"destructive"})}},Y=async T=>{T.preventDefault(),S(!0);try{if(!V.targetRateId)throw new Error("Selecione a tarifa alvo.");if(!V.thresholdAmount)throw new Error("Informe o valor limite para sugesto.");const I={targetRateId:V.targetRateId,thresholdAmount:Number(V.thresholdAmount),autoApply:V.autoApply};V.id?(await Se.updateRateThreshold(V.id,I),l({title:"Sugesto atualizada com sucesso."})):(await Se.createRateThreshold(t.id,I),l({title:"Sugesto criada com sucesso."})),L(),ie(),o?.()}catch(I){l({title:"Erro ao salvar sugesto",description:I.message,variant:"destructive"})}finally{S(!1)}},R=async T=>{if(confirm("Remover esta sugesto automtica?"))try{await Se.deleteRateThreshold(T.id),l({title:"Sugesto removida com sucesso."}),ie(),o?.()}catch(I){l({title:"Erro ao remover sugesto",description:I.message,variant:"destructive"})}},A=T=>{const I=Ou(T.window_type)||"daily";return e.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{variant:T.is_active?"default":"secondary",children:vg[I]}),!T.is_active&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"(Inativa)"})]}),e.jsxs("p",{className:"text-sm",children:["Horrio:"," ",e.jsxs("span",{className:"font-medium",children:[yg(T.start_time),"  ",yg(T.end_time)]})]}),(I==="weekly"||I==="biweekly")&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[wg(T.start_day),"  ",wg(T.end_day),"  limite:"," ",T.duration_limit_minutes?`${T.duration_limit_minutes} min`:"no definido"]}),T.extra_rate_id&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tarifa extra:"," ",r.find($=>$.id===T.extra_rate_id)?.rateType||T.extra_rate_id]}),T.metadata&&Object.keys(T.metadata).length>0&&e.jsx("pre",{className:"bg-muted/60 rounded-md p-2 text-[11px] text-muted-foreground overflow-x-auto",children:JSON.stringify(T.metadata,null,2)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"outline",size:"sm",onClick:()=>re(T),children:"Editar"}),e.jsx(K,{variant:"destructive",size:"sm",onClick:()=>G(T),children:"Excluir"})]})]},T.id)},W=T=>{const I=r.find($=>$.id===T.target_rate_id);return e.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{variant:T.auto_apply?"default":"outline",children:T.auto_apply?"Aplicao automtica":"Sugesto"}),I&&e.jsxs("span",{className:"text-sm font-medium",children:[I.vehicleType," - ",I.rateType]})]}),e.jsxs("p",{className:"text-sm",children:["Valor limite:"," ",e.jsxs("span",{className:"font-medium",children:["R$ ",Number(T.threshold_amount).toFixed(2)]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criado em: ",YA(T.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"outline",size:"sm",onClick:()=>Q(T),children:"Editar"}),e.jsx(K,{variant:"destructive",size:"sm",onClick:()=>R(T),children:"Excluir"})]})]},T.id)};return P?e.jsx(tt,{children:e.jsx(nt,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando configuraes avanadas..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Configuraes Avanadas"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ajuste janelas de tempo, sugestes de tarifa e regras especiais para ",ue]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.unit&&e.jsxs(Qs,{variant:"outline",children:["Valor base: R$ ",t.value.toFixed(2),"/",t.unit]}),e.jsx(Qs,{variant:"outline",children:t.vehicleType}),e.jsx(Qs,{variant:"outline",children:t.rateType}),s&&e.jsx(K,{variant:"outline",onClick:s,children:"Fechar"})]})]}),e.jsxs(zr,{value:m,onValueChange:f,className:"space-y-4",children:[e.jsxs(Nr,{children:[e.jsx(ct,{value:"windows",children:"Janelas de Tempo"}),e.jsx(ct,{value:"thresholds",children:"Sugestes Automticas"}),e.jsx(ct,{value:"config",children:"Configuraes da Tarifa"}),e.jsx(ct,{value:"rules",children:"Regras Avanadas"})]}),e.jsxs(dt,{value:"windows",className:"space-y-4",children:[e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Janelas de Tempo"}),e.jsx(zt,{children:"Configure horrios vlidos para esta tarifa. Voc pode definir mltiplas janelas por tipo."})]}),e.jsx(nt,{children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Tipo de Janela"}),e.jsxs(Ze,{value:D.windowType,onValueChange:T=>U(I=>({...I,windowType:T})),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"daily",children:"Diria"}),e.jsx(we,{value:"overnight",children:"Pernoite"}),e.jsx(we,{value:"weekly",children:"Semanal"}),e.jsx(we,{value:"biweekly",children:"Quinzenal"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Status"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ative/desative temporariamente a janela"})]}),e.jsx(Oe,{checked:D.isActive,onCheckedChange:T=>U(I=>({...I,isActive:T}))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Horrio Inicial"}),e.jsx(le,{type:"time",value:D.startTime,onChange:T=>U(I=>({...I,startTime:T.target.value})),required:D.windowType==="daily"||D.windowType==="overnight"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Horrio Final"}),e.jsx(le,{type:"time",value:D.endTime,onChange:T=>U(I=>({...I,endTime:T.target.value})),required:D.windowType==="daily"||D.windowType==="overnight"})]})]}),(D.windowType==="weekly"||D.windowType==="biweekly")&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Dia Inicial"}),e.jsxs(Ze,{value:String(D.startDay),onValueChange:T=>U(I=>({...I,startDay:Number(T)})),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsx(Xe,{children:xm.map(T=>e.jsx(we,{value:String(T.value),children:T.label},T.value))})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Dia Final"}),e.jsxs(Ze,{value:String(D.endDay),onValueChange:T=>U(I=>({...I,endDay:Number(T)})),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsx(Xe,{children:xm.map(T=>e.jsx(we,{value:String(T.value),children:T.label},T.value))})]})]})]}),(D.windowType==="weekly"||D.windowType==="biweekly")&&e.jsxs("div",{children:[e.jsx(H,{children:"Limite (minutos)"}),e.jsx(le,{type:"number",min:"0",placeholder:"Ex: 1440",value:D.durationLimitMinutes,onChange:T=>U(I=>({...I,durationLimitMinutes:T.target.value}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo mximo coberto pela tarifa. Ultrapassando, ser cobrada hora extra."})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Tarifa para hora extra (opcional)"}),e.jsxs(Ze,{value:D.extraRateId||_u,onValueChange:T=>U(I=>({...I,extraRateId:T===_u?"":T})),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Selecione uma tarifa de hora/frao"})}),e.jsxs(Xe,{children:[e.jsx(we,{value:_u,children:"Padro (hora/frao atual)"}),C.map(T=>e.jsxs(we,{value:T.id,children:[T.vehicleType," - ",T.rateType," (R$ ",T.value.toFixed(2),"/",T.unit,")"]},T.id))]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Metadata (JSON opcional)"}),e.jsx(wn,{className:"font-mono text-xs",rows:4,placeholder:'Ex: { "observacao": "Especial feriados" }',value:D.metadata,onChange:T=>U(I=>({...I,metadata:T.target.value}))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{type:"submit",disabled:w,className:"flex-1",children:D.id?"Atualizar Janela":"Adicionar Janela"}),D.id&&e.jsx(K,{type:"button",variant:"outline",onClick:te,children:"Cancelar"})]})]})})]}),e.jsx("div",{className:"space-y-4",children:["daily","overnight","weekly","biweekly"].map(T=>{const I=p.filter($=>Ou($.window_type)===T);return I.length?e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:vg[T]}),e.jsxs(zt,{children:[T==="daily"&&"Intervalos cobertos pela tarifa diria.",T==="overnight"&&"Perodos de pernoite. Horas alm do fim sero cobradas como extra.",T==="weekly"&&"Controle de planos semanais com limite mximo de permanncia.",T==="biweekly"&&"Controle de planos quinzenais com limite mximo de permanncia."]})]}),e.jsx(nt,{className:"space-y-3",children:I.map(A)})]},T):null})})]}),e.jsxs(dt,{value:"thresholds",className:"space-y-4",children:[e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Sugestes Automticas"}),e.jsx(zt,{children:"Configure o valor mximo para sugerir (ou aplicar automaticamente) outra tarifa."})]}),e.jsx(nt,{children:e.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Tarifa alvo"}),e.jsxs(Ze,{value:V.targetRateId,onValueChange:T=>se(I=>({...I,targetRateId:T})),children:[e.jsx(Je,{children:e.jsx(et,{placeholder:"Selecione a tarifa de destino"})}),e.jsx(Xe,{children:E.map(T=>e.jsxs(we,{value:T.id,children:[T.vehicleType," - ",T.rateType," (R$ ",T.value.toFixed(2),")"]},T.id))})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Valor limite (R$)"}),e.jsx(le,{type:"number",step:"0.01",value:V.thresholdAmount,onChange:T=>se(I=>({...I,thresholdAmount:T.target.value})),placeholder:"Ex: 30.00",required:!0})]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Aplicar automaticamente?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Se ativado, a tarifa ser trocada sem necessidade de confirmao."})]}),e.jsx(Oe,{checked:V.autoApply,onCheckedChange:T=>se(I=>({...I,autoApply:T}))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{type:"submit",disabled:w,className:"flex-1",children:V.id?"Atualizar Sugesto":"Adicionar Sugesto"}),V.id&&e.jsx(K,{type:"button",variant:"outline",onClick:L,children:"Cancelar"})]})]})})]}),e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Limites configurados"}),e.jsx(zt,{children:"Quando o valor atual de cobrana exceder o limite, uma sugesto de troca ser exibida para o operador."})]}),e.jsx(nt,{className:"space-y-3",children:v.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-6",children:"Nenhuma sugesto configurada ainda."}):v.map(W)})]})]}),e.jsx(dt,{value:"config",children:e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Configurao da Tarifa"}),e.jsx(zt,{children:"Ajuste parmetros complementares da tarifa, como tolerncia e valores padro."})]}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Minutos de cortesia"}),e.jsx(le,{type:"number",min:"0",value:String(b.courtesyMinutes??t.courtesyMinutes??0),onChange:T=>j(I=>({...I,courtesyMinutes:Number(T.target.value)}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo tolerado antes de cobrar a prxima frao em Hora/Frao."})]}),e.jsx(Sj,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Observaes adicionais"}),e.jsx(wn,{rows:4,placeholder:"Notas internas, instrues especiais, etc.",value:b.metadata?.notes||"",onChange:T=>j(I=>({...I,metadata:{...I.metadata||{},notes:T.target.value}}))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(K,{onClick:async()=>{try{const T=await c(t.id,{config:b,courtesyMinutes:b.courtesyMinutes??t.courtesyMinutes});j(T?.config||{}),l({title:"Configurao da tarifa atualizada."}),o?.()}catch(T){l({title:"Erro ao salvar configurao",description:T.message,variant:"destructive"})}},children:"Salvar configuraes"})})]})]})}),e.jsx(dt,{value:"rules",children:e.jsx(HA,{rateId:t.id,onClose:s})})]})]})}function JA(t){if(!t||!t.trim())return{};try{return JSON.parse(t)}catch{throw new Error("Metadata invlido. Informe um JSON vlido.")}}function XA(){const{rates:t,addRate:r,updateRate:s,deleteRate:o}=qn(),{hasPermission:l}=bn(),{toast:c}=Tt(),[m,f]=u.useState(null),[p,g]=u.useState(null),[v,x]=u.useState({vehicleType:"Carro",rateType:"Hora/Frao",value:"",unit:"hora",courtesyMinutes:"10"}),b=async E=>{E.preventDefault();const O={vehicleType:v.vehicleType,rateType:v.rateType,value:parseFloat(v.value),unit:v.unit,courtesyMinutes:parseInt(v.courtesyMinutes)};try{m?(await s(m,O),c({title:"Tarifa atualizada com sucesso"})):(await r(O),c({title:"Tarifa adicionada com sucesso"})),N()}catch{c({title:"Erro ao salvar tarifa",description:"Tente novamente",variant:"destructive"})}},j=E=>{f(E.id),x({vehicleType:E.vehicleType,rateType:E.rateType,value:E.value.toString(),unit:E.unit,courtesyMinutes:E.courtesyMinutes.toString()}),window.scrollTo({top:0,behavior:"smooth"})},P=async E=>{if(confirm("Tem certeza que deseja excluir esta tarifa?"))try{await o(E),c({title:"Tarifa excluda com sucesso"})}catch{c({title:"Erro ao excluir tarifa",variant:"destructive"})}},N=()=>{f(null),x({vehicleType:"Carro",rateType:"Hora/Frao",value:"",unit:"hora",courtesyMinutes:"10"})},w=t.filter(E=>E.vehicleType===v.vehicleType),S=p&&t.find(E=>E.id===p)||null,C=l("manageRates");return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Tarifas"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure os valores e tipos de tarifas para cada tipo de veculo"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(tt,{className:C?"":"opacity-50 pointer-events-none select-none",children:[e.jsxs(Ot,{children:[e.jsx(It,{children:m?"Editar Tarifa":"Adicionar Nova Tarifa"}),e.jsx(zt,{children:m?"Atualize as informaes da tarifa selecionada":"Preencha os campos abaixo para criar uma nova tarifa"})]}),e.jsx(nt,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Tipo de Veculo"}),e.jsx(Aw,{value:v.vehicleType,onValueChange:E=>x({...v,vehicleType:E})})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Tipo de Tarifa"}),e.jsxs(Ze,{value:v.rateType,onValueChange:E=>x({...v,rateType:E}),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Hora/Frao",children:"Hora/Frao"}),e.jsx(we,{value:"Diria",children:"Diria"}),e.jsx(we,{value:"Pernoite",children:"Pernoite"}),e.jsx(we,{value:"Semanal",children:"Semanal"}),e.jsx(we,{value:"Quinzenal",children:"Quinzenal"}),e.jsx(we,{value:"Mensal",children:"Mensal"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Valor (R$)"}),e.jsx(le,{type:"number",step:"0.01",value:v.value,onChange:E=>x({...v,value:E.target.value}),placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Unidade"}),e.jsx(le,{value:v.unit,onChange:E=>x({...v,unit:E.target.value}),placeholder:"hora, dia, ms...",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Minutos de Cortesia"}),e.jsx(le,{type:"number",value:v.courtesyMinutes,onChange:E=>x({...v,courtesyMinutes:E.target.value}),placeholder:"10",min:"0",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tempo de tolerncia antes de cobrar a prxima frao"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[C&&e.jsxs(K,{type:"submit",className:"flex-1",children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),m?"Atualizar Tarifa":"Adicionar Tarifa"]}),m&&C&&e.jsx(K,{type:"button",variant:"outline",onClick:N,children:"Cancelar"})]})]})})]}),e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsxs(It,{children:["Tarifas Cadastradas - ",v.vehicleType]}),e.jsxs(zt,{children:[w.length," ",w.length===1?"tarifa cadastrada":"tarifas cadastradas"]})]}),e.jsx(nt,{children:e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:w.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Nenhuma tarifa cadastrada para ",v.vehicleType]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use o formulrio ao lado para adicionar a primeira tarifa"})]}):w.map(E=>e.jsxs("div",{className:`bg-muted/50 p-4 rounded-lg flex items-center justify-between transition-colors hover:bg-muted ${m===E.id?"ring-2 ring-primary":""}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium",children:[E.vehicleType," - ",E.rateType]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",E.value.toFixed(2),"/",E.unit,E.courtesyMinutes>0&&`  ${E.courtesyMinutes}min cortesia`]})]}),e.jsx("div",{className:"flex gap-2",children:C&&e.jsxs(e.Fragment,{children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>g(E.id),title:"Regras avanadas",children:e.jsx(Tm,{className:"h-4 w-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>j(E),title:"Editar tarifa",children:e.jsx(km,{className:"h-4 w-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>P(E.id),title:"Excluir tarifa",className:"text-destructive hover:text-destructive",children:e.jsx(lr,{className:"h-4 w-4"})})]})})]},E.id))})})]})]}),S&&e.jsx("div",{className:"mt-6",children:e.jsx(QA,{rate:S,allRates:t,onClose:()=>g(null),onUpdated:()=>{m===S.id&&x(E=>({...E,courtesyMinutes:(S.courtesyMinutes??0).toString()}))}})})]})})}const ZA=()=>{const{toast:t}=Tt(),[r,s]=u.useState(!1),[o,l]=u.useState(!1),[c,m]=u.useState(!1),[f,p]=u.useState(!1),[g,v]=u.useState(!1),[x,b]=u.useState(""),[j,P]=u.useState(587),[N,w]=u.useState(""),[S,C]=u.useState(""),[E,O]=u.useState(!1),[D,U]=u.useState(""),[V,se]=u.useState(!1),[ue,ie]=u.useState(""),[te,L]=u.useState(""),[re,Q]=u.useState(""),[F,G]=u.useState(!1),[Y,R]=u.useState(""),[A,W]=u.useState(""),[T,I]=u.useState(""),[$,oe]=u.useState("");u.useEffect(()=>{ce()},[]);const ce=async()=>{s(!0);try{const pe=localStorage.getItem("token"),Fe=await fetch("/api/integrations/configs/smtp",{headers:{Authorization:`Bearer ${pe}`}});if(Fe.ok){const Ke=await Fe.json();v(Ke.enabled),b(Ke.config.host||""),P(Ke.config.port||587),w(Ke.config.user||""),C(Ke.config.pass||""),O(Ke.config.secure||!1),U(Ke.config.fromEmail||"")}const He=await fetch("/api/integrations/configs/sms",{headers:{Authorization:`Bearer ${pe}`}});if(He.ok){const Ke=await He.json();se(Ke.enabled),ie(Ke.config.accountSid||""),L(Ke.config.authToken||""),Q(Ke.config.fromNumber||"")}const kt=await fetch("/api/integrations/configs/whatsapp",{headers:{Authorization:`Bearer ${pe}`}});if(kt.ok){const Ke=await kt.json();G(Ke.enabled),R(Ke.config.phoneNumberId||""),W(Ke.config.accessToken||"")}}catch(pe){console.error("Error loading configs:",pe),t({variant:"destructive",title:"Erro",description:"Erro ao carregar configuraes"})}finally{s(!1)}},ee=async()=>{s(!0);try{const pe=localStorage.getItem("token");if((await fetch("/api/integrations/configs/smtp",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({enabled:g,config:{host:x,port:j,user:N,pass:S,secure:E,fromEmail:D}})})).ok)t({title:"Sucesso",description:"Configurao SMTP salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{t({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao SMTP"})}finally{s(!1)}},J=async()=>{s(!0);try{const pe=localStorage.getItem("token");if((await fetch("/api/integrations/configs/sms",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({enabled:V,config:{accountSid:ue,authToken:te,fromNumber:re}})})).ok)t({title:"Sucesso",description:"Configurao SMS salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{t({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao SMS"})}finally{s(!1)}},M=async()=>{s(!0);try{const pe=localStorage.getItem("token");if((await fetch("/api/integrations/configs/whatsapp",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({enabled:F,config:{phoneNumberId:Y,accessToken:A}})})).ok)t({title:"Sucesso",description:"Configurao WhatsApp salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{t({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao WhatsApp"})}finally{s(!1)}},fe=async()=>{if(!T){t({variant:"destructive",title:"Erro",description:"Informe um email para teste"});return}l(!0);try{const pe=localStorage.getItem("token"),Fe=await fetch("/api/integrations/test-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({to:T})});if(Fe.ok)t({title:"Email Enviado",description:"Email de teste enviado com sucesso!"});else{const He=await Fe.json();throw new Error(He.error||"Erro ao enviar email")}}catch(pe){t({variant:"destructive",title:"Erro",description:pe.message||"Erro ao enviar email de teste"})}finally{l(!1)}},be=async()=>{if(!$){t({variant:"destructive",title:"Erro",description:"Informe um telefone para teste"});return}m(!0);try{const pe=localStorage.getItem("token"),Fe=await fetch("/api/integrations/test-sms",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({to:$})});if(Fe.ok)t({title:"SMS Enviado",description:"SMS de teste enviado com sucesso!"});else{const He=await Fe.json();throw new Error(He.error||"Erro ao enviar SMS")}}catch(pe){t({variant:"destructive",title:"Erro",description:pe.message||"Erro ao enviar SMS de teste"})}finally{m(!1)}},ke=async()=>{if(!$){t({variant:"destructive",title:"Erro",description:"Informe um telefone para teste"});return}p(!0);try{const pe=localStorage.getItem("token"),Fe=await fetch("/api/integrations/test-whatsapp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({to:$})});if(Fe.ok)t({title:"WhatsApp Enviado",description:"Mensagem de teste enviada com sucesso!"});else{const He=await Fe.json();throw new Error(He.error||"Erro ao enviar WhatsApp")}}catch(pe){t({variant:"destructive",title:"Erro",description:pe.message||"Erro ao enviar WhatsApp de teste"})}finally{p(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Integraes"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure integraes com servios externos"})]}),e.jsxs(zr,{defaultValue:"email",className:"space-y-4",children:[e.jsxs(Nr,{children:[e.jsxs(ct,{value:"email",children:[e.jsx(lv,{className:"w-4 h-4 mr-2"}),"Email (SMTP)"]}),e.jsxs(ct,{value:"sms",children:[e.jsx(m1,{className:"w-4 h-4 mr-2"}),"SMS"]}),e.jsxs(ct,{value:"whatsapp",children:[e.jsx(u1,{className:"w-4 h-4 mr-2"}),"WhatsApp"]}),e.jsxs(ct,{value:"webhooks",children:[e.jsx(y1,{className:"w-4 h-4 mr-2"}),"Webhooks"]})]}),e.jsx(dt,{value:"email",children:e.jsxs(tt,{children:[e.jsx(Ot,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(It,{children:"Configurao SMTP"}),e.jsx(zt,{children:"Configure o servidor de email para envio de recibos e notificaes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{htmlFor:"smtp-enabled",children:"Ativo"}),e.jsx(Oe,{id:"smtp-enabled",checked:g,onCheckedChange:v})]})]})}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"smtp-host",children:"Host SMTP"}),e.jsx(le,{id:"smtp-host",placeholder:"smtp.gmail.com",value:x,onChange:pe=>b(pe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"smtp-port",children:"Porta"}),e.jsx(le,{id:"smtp-port",type:"number",placeholder:"587",value:j,onChange:pe=>P(parseInt(pe.target.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"smtp-user",children:"Usurio / Email"}),e.jsx(le,{id:"smtp-user",type:"email",placeholder:"seu@email.com",value:N,onChange:pe=>w(pe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"smtp-pass",children:"Senha"}),e.jsx(le,{id:"smtp-pass",type:"password",placeholder:"",value:S,onChange:pe=>C(pe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"smtp-from",children:"Email de Envio"}),e.jsx(le,{id:"smtp-from",type:"email",placeholder:"noreply@estacionamento.com",value:D,onChange:pe=>U(pe.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{id:"smtp-secure",checked:E,onCheckedChange:O}),e.jsx(H,{htmlFor:"smtp-secure",children:"Usar SSL/TLS"})]}),e.jsx(Fr,{children:e.jsxs($r,{className:"text-sm",children:[e.jsx("strong",{children:"Gmail:"}),' Use smtp.gmail.com, porta 587, e crie uma "Senha de app" nas configuraes de segurana do Google.']})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{onClick:ee,disabled:r,children:"Salvar Configurao"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(le,{placeholder:"email@teste.com",value:T,onChange:pe=>I(pe.target.value),className:"w-64"}),e.jsxs(K,{variant:"outline",onClick:fe,disabled:o||!g,children:[o?"Enviando...":"Testar Email",e.jsx(vu,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),e.jsx(dt,{value:"sms",children:e.jsxs(tt,{children:[e.jsx(Ot,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(It,{children:"Configurao SMS (Twilio)"}),e.jsx(zt,{children:"Configure o Twilio para envio de SMS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{htmlFor:"sms-enabled",children:"Ativo"}),e.jsx(Oe,{id:"sms-enabled",checked:V,onCheckedChange:se})]})]})}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"twilio-sid",children:"Account SID"}),e.jsx(le,{id:"twilio-sid",placeholder:"AC...",value:ue,onChange:pe=>ie(pe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"twilio-token",children:"Auth Token"}),e.jsx(le,{id:"twilio-token",type:"password",placeholder:"",value:te,onChange:pe=>L(pe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"twilio-from",children:"Nmero de Envio"}),e.jsx(le,{id:"twilio-from",placeholder:"+5511999999999",value:re,onChange:pe=>Q(pe.target.value)})]}),e.jsx(Fr,{children:e.jsxs($r,{className:"text-sm",children:["Obtenha suas credenciais no"," ",e.jsx("a",{href:"https://console.twilio.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Console Twilio"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{onClick:J,disabled:r,children:"Salvar Configurao"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(le,{placeholder:"+5511999999999",value:$,onChange:pe=>oe(pe.target.value),className:"w-64"}),e.jsxs(K,{variant:"outline",onClick:be,disabled:c||!V,children:[c?"Enviando...":"Testar SMS",e.jsx(vu,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),e.jsx(dt,{value:"whatsapp",children:e.jsxs(tt,{children:[e.jsx(Ot,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(It,{children:"Configurao WhatsApp Business"}),e.jsx(zt,{children:"Configure a API do WhatsApp Business"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{htmlFor:"whatsapp-enabled",children:"Ativo"}),e.jsx(Oe,{id:"whatsapp-enabled",checked:F,onCheckedChange:G})]})]})}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"whatsapp-phone-id",children:"Phone Number ID"}),e.jsx(le,{id:"whatsapp-phone-id",placeholder:"123456789012345",value:Y,onChange:pe=>R(pe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"whatsapp-token",children:"Access Token"}),e.jsx(le,{id:"whatsapp-token",type:"password",placeholder:"",value:A,onChange:pe=>W(pe.target.value)})]}),e.jsx(Fr,{children:e.jsxs($r,{className:"text-sm",children:["Configure no"," ",e.jsx("a",{href:"https://developers.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Meta for Developers"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{onClick:M,disabled:r,children:"Salvar Configurao"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(le,{placeholder:"+5511999999999",value:$,onChange:pe=>oe(pe.target.value),className:"w-64"}),e.jsxs(K,{variant:"outline",onClick:ke,disabled:f||!F,children:[f?"Enviando...":"Testar WhatsApp",e.jsx(vu,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),e.jsx(dt,{value:"webhooks",children:e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Webhooks"}),e.jsx(zt,{children:"Configure webhooks para integraes personalizadas"})]}),e.jsx(nt,{children:e.jsx(Fr,{children:e.jsx($r,{children:"Webhooks permitem enviar eventos do sistema para URLs externas. Em breve!"})})})]})})]})]})};var Ej="AlertDialog",[e_]=un(Ej,[Cy]),qr=Cy(),Tj=t=>{const{__scopeAlertDialog:r,...s}=t,o=qr(r);return e.jsx(zy,{...o,...s,modal:!0})};Tj.displayName=Ej;var t_="AlertDialogTrigger",n_=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...o}=t,l=qr(s);return e.jsx(iP,{...l,...o,ref:r})});n_.displayName=t_;var r_="AlertDialogPortal",kj=t=>{const{__scopeAlertDialog:r,...s}=t,o=qr(r);return e.jsx(Vy,{...o,...s})};kj.displayName=r_;var s_="AlertDialogOverlay",Pj=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...o}=t,l=qr(s);return e.jsx(ef,{...l,...o,ref:r})});Pj.displayName=s_;var Ba="AlertDialogContent",[a_,o_]=e_(Ba),i_=kg("AlertDialogContent"),Rj=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,children:o,...l}=t,c=qr(s),m=u.useRef(null),f=Ye(r,m),p=u.useRef(null);return e.jsx(rP,{contentName:Ba,titleName:Mj,docsSlug:"alert-dialog",children:e.jsx(a_,{scope:s,cancelRef:p,children:e.jsxs(tf,{role:"alertdialog",...c,...l,ref:f,onOpenAutoFocus:Ce(l.onOpenAutoFocus,g=>{g.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(i_,{children:o}),e.jsx(c_,{contentRef:m})]})})})});Rj.displayName=Ba;var Mj="AlertDialogTitle",Dj=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...o}=t,l=qr(s);return e.jsx(nf,{...l,...o,ref:r})});Dj.displayName=Mj;var Aj="AlertDialogDescription",_j=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...o}=t,l=qr(s);return e.jsx(rf,{...l,...o,ref:r})});_j.displayName=Aj;var l_="AlertDialogAction",Oj=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...o}=t,l=qr(s);return e.jsx(sf,{...l,...o,ref:r})});Oj.displayName=l_;var Ij="AlertDialogCancel",Fj=u.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...o}=t,{cancelRef:l}=o_(Ij,s),c=qr(s),m=Ye(r,l);return e.jsx(sf,{...c,...o,ref:m})});Fj.displayName=Ij;var c_=({contentRef:t})=>{const r=`\`${Ba}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ba}\` by passing a \`${Aj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ba}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},d_=Tj,u_=kj,$j=Pj,Lj=Rj,zj=Oj,Vj=Fj,Bj=Dj,Uj=_j;const m_=d_,f_=u_,Hj=u.forwardRef(({className:t,...r},s)=>e.jsx($j,{className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));Hj.displayName=$j.displayName;const Wj=u.forwardRef(({className:t,...r},s)=>e.jsxs(f_,{children:[e.jsx(Hj,{}),e.jsx(Lj,{ref:s,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));Wj.displayName=Lj.displayName;const qj=({className:t,...r})=>e.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",t),...r});qj.displayName="AlertDialogHeader";const Gj=({className:t,...r})=>e.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Gj.displayName="AlertDialogFooter";const Kj=u.forwardRef(({className:t,...r},s)=>e.jsx(Bj,{ref:s,className:Te("text-lg font-semibold",t),...r}));Kj.displayName=Bj.displayName;const Yj=u.forwardRef(({className:t,...r},s)=>e.jsx(Uj,{ref:s,className:Te("text-sm text-muted-foreground",t),...r}));Yj.displayName=Uj.displayName;const Qj=u.forwardRef(({className:t,...r},s)=>e.jsx(zj,{ref:s,className:Te(Km(),t),...r}));Qj.displayName=zj.displayName;const Jj=u.forwardRef(({className:t,...r},s)=>e.jsx(Vj,{ref:s,className:Te(Km({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));Jj.displayName=Vj.displayName;const h_=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function jg(t){return`${h_[t.getMonth()]}/${t.getFullYear()}`}function Rl(t,r){const s=r||ra,o="--------------------------------";return t==="monthly_payment"?`${o}
${s.name||"Nome da Empresa"}
${s.legalName||"Razo Social"}
CNPJ: ${s.cnpj||"00.000.000/0000-00"}
${s.address||"Endereo da Empresa"}
Tel: ${s.phone||"(00) 0000-0000"}
${o}

RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

CLIENTE: {{customerName}}
CPF/CNPJ: {{customerDocument}}
Telefone: {{customerPhone}}
Email: {{customerEmail}}

PLANO: {{planName}}
Referncia: {{reference}}
Contrato: {{contractNumber}}
Perodo: {{contractPeriod}}
Vaga: {{parkingSlot}}

Vencimento: {{dueDate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Data Pagamento: {{paymentDate}}
Operador: {{operator}}

${o}
Documento sem validade fiscal
${o}
Obrigado pela preferncia!
`:`${o}
${s.name||"Nome da Empresa"}
${s.legalName||"Razo Social"}
CNPJ: ${s.cnpj||"00.000.000/0000-00"}
${s.address||"Endereo da Empresa"}
Tel: ${s.phone||"(00) 0000-0000"}
${o}

RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

CLIENTE: {{customerName}}
CPF/CNPJ: {{customerDocument}}

Placa: {{plate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Operador: {{operator}}

Observaes:
{{notes}}

${o}
Documento sem validade fiscal
${o}
Obrigado pela preferncia!
`}function Ml(t){const r=t||ra,s="--------------------------------",o=`${s}
${r.name||"Nome da Empresa"}
${r.legalName||"Razo Social"}
CNPJ: ${r.cnpj||"00.000.000/0000-00"}
${r.address||"Endereo da Empresa"}
Tel: ${r.phone||"(00) 0000-0000"}
${s}

TICKET DE ENTRADA
RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}
Placa: {{plate}}
Tipo: {{vehicleType}}
Entrada: {{entryTime}}
Operador: {{operator}}

${s}
Documento sem validade fiscal
${s}
Obrigado pela preferncia!
`,l=`${s}
${r.name||"Nome da Empresa"}
${r.legalName||"Razo Social"}
CNPJ: ${r.cnpj||"00.000.000/0000-00"}
${r.address||"Endereo da Empresa"}
Tel: ${r.phone||"(00) 0000-0000"}
${s}

TICKET DE SADA
RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}
Placa: {{plate}}
Tipo: {{vehicleType}}

Entrada: {{entryTime}}
Sada: {{exitTime}}
Durao: {{duration}}

Tarifa: {{rate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Operador: {{operator}}

${s}
Documento sem validade fiscal
${s}
Obrigado pela preferncia!
`;return{entry:o,exit:l}}function p_(t,r,s){const o=s||ra,l=new Date;if(t==="monthly_payment"){const m=new Date(l);m.setDate(m.getDate()+20);const f=new Date(l);f.setMonth(f.getMonth()-1);const p=new Date(f);p.setMonth(p.getMonth()+1);const g={receiptNumber:"000321",issuedAt:l,customer:{name:"Joo Henrique Souza",document:"CPF 123.456.789-00",phone:"(11) 91234-5678",email:"joao.souza@email.com"},vehicle:{plate:"ABC-1D23",model:"SUV",color:"Prata"},plan:{name:"Mensalidade Premium 24h",description:"Acesso 24h, vaga coberta, 1 veculo cadastrado",reference:jg(l)},payment:{method:"Pix",amount:420.5,dueDate:m,paidAt:l,status:"Pago",transactionId:"PIX-9F3A2",receivedBy:"Maria Operadora"},contract:{start:f,end:p,number:"CN-2025-083"},slot:"Vaga 12 - Setor B",notes:"Tag 0152 liberada. Vaga exclusiva na rea coberta.",company:o,customFieldValues:{referenceMonth:jg(l),contractNumber:"CN-2025-083",contractStart:Ss(f),contractEnd:Ss(p),contractPeriod:`${Ss(f)} a ${Ss(p)}`,parkingSlot:"Vaga 12 - Setor B",customerName:"Joo Henrique Souza",customerDocument:"CPF 123.456.789-00",customerPhone:"(11) 91234-5678",customerEmail:"joao.souza@email.com",description:"Mensalidade do plano premium com vaga coberta e tag de acesso."}};return Array.isArray(r.customFields)&&r.customFields.forEach((v,x)=>{g.customFieldValues[v.name]||(g.customFieldValues[v.name]=v.defaultValue||`Valor de exemplo ${x+1}`)}),g}if(t==="parking_ticket"){const m=new Date(l);m.setHours(m.getHours()-2);const f=new Date(l),p={receiptNumber:"ENT-001",issuedAt:m,vehicle:{plate:"ABC-1234",vehicleType:"Carro",entryTime:m},payment:{method:"No aplicvel",amount:0,paidAt:m},operator:"Operador Exemplo",company:o,customFieldValues:{}},g={receiptNumber:"SAI-001",issuedAt:f,vehicle:{plate:"ABC-1234",vehicleType:"Carro",entryTime:m,exitTime:f,duration:"2h 15min"},payment:{method:"Dinheiro",amount:15,paidAt:f},operator:"Operador Exemplo",company:o,customFieldValues:{}};return Array.isArray(r.customFields)&&r.customFields.forEach((v,x)=>{p.customFieldValues[v.name]=v.defaultValue||`Valor de exemplo ${x+1}`,g.customFieldValues[v.name]=v.defaultValue||`Valor de exemplo ${x+1}`}),{entry:p,exit:g}}const c={receiptNumber:"000145",issuedAt:l,customer:{name:"Cliente Exemplo",document:"CPF 000.000.000-00"},vehicle:{plate:"XYZ-9A88"},payment:{method:"Dinheiro",amount:35.9,paidAt:l},notes:"Recibo gerado para demonstrao.",company:o,customFieldValues:{}};return Array.isArray(r.customFields)&&r.customFields.forEach((m,f)=>{c.customFieldValues[m.name]=m.defaultValue||`Valor de exemplo ${f+1}`}),c}function Oa({template:t,sample:r,company:s}){const o=t.primaryColor||"#000000",l=t.secondaryColor||"#666666",c=t.fontFamily||"Arial, sans-serif",m=s||ra,f=(t.customFields||[]).map(p=>({label:p.label||p.name,value:n0(p,r)})).filter(p=>p.value);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"mx-auto w-full max-w-[480px] rounded-lg border bg-white shadow",style:{fontFamily:c},children:[e.jsxs("div",{className:"border-b p-6 text-center",style:{borderColor:`${l}55`},children:[t.showLogo&&e.jsx("div",{className:"mb-3 flex justify-center",children:e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full border border-dashed border-muted-foreground/60 text-[10px] text-muted-foreground",children:"LOGO"})}),t.showCompanyName&&e.jsx("h2",{className:"text-xl font-bold",style:{color:o},children:m?.name||ra.name}),t.showCompanyDetails&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[m?.legalName&&e.jsx("p",{children:m.legalName}),m?.cnpj&&e.jsxs("p",{children:["CNPJ: ",m.cnpj]}),m?.address&&e.jsx("p",{children:m.address}),m?.phone&&e.jsxs("p",{children:["Tel: ",m.phone]})]}),t.headerText&&e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:t.headerText})]}),e.jsxs("div",{className:"space-y-6 p-6 text-sm text-slate-700",children:[e.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[t.showReceiptNumber&&r.receiptNumber&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Recibo"}),e.jsxs("p",{className:"font-medium",children:["#",r.receiptNumber]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Data de Emisso"}),e.jsx("p",{className:"font-medium",children:Ss(r.payment?.paidAt||r.issuedAt)}),t.showTime&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t0(r.payment?.paidAt||r.issuedAt)})]}),t.templateType==="monthly_payment"&&r.payment?.dueDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Vencimento"}),e.jsx("p",{className:"font-medium",children:Ss(r.payment.dueDate)})]}),t.showPaymentMethod&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Pagamento"}),e.jsx("p",{className:"font-medium",children:r.payment?.method})]}),t.showPlate&&r.vehicle?.plate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Placa"}),e.jsx("p",{className:"font-medium",children:r.vehicle.plate})]}),t.templateType==="monthly_payment"&&r.slot&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Vaga"}),e.jsx("p",{className:"font-medium",children:r.slot})]})]}),e.jsxs("section",{className:"rounded-lg border border-dashed border-muted-foreground/40 p-4",children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Resumo do Pagamento"}),e.jsx("p",{className:"text-2xl font-semibold",style:{color:o},children:df(r.payment?.amount)}),t.templateType==="monthly_payment"&&r.plan?.reference&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Referncia: ",r.plan.reference]}),t.templateType==="monthly_payment"&&r.plan?.name&&e.jsx("p",{className:"text-sm text-muted-foreground",children:r.plan.name}),t.showOperator&&r.payment?.receivedBy&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Recebido por: ",r.payment.receivedBy]}),r.payment?.transactionId&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Transao: ",r.payment.transactionId]})]}),e.jsxs("section",{className:"grid gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Cliente"}),e.jsx("p",{className:"font-medium",children:r.customer?.name}),r.customer?.document&&e.jsx("p",{className:"text-xs text-muted-foreground",children:r.customer.document}),r.customer?.phone&&e.jsx("p",{className:"text-xs text-muted-foreground",children:r.customer.phone})]}),t.customFields?.length>0&&f.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-xs uppercase text-muted-foreground",children:"Informaes"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:f.map(p=>e.jsxs("div",{className:"rounded bg-muted px-3 py-2 text-xs",children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:p.label}),e.jsx("p",{className:"text-slate-700",children:p.value})]},p.label))})]})]}),r.notes&&e.jsxs("section",{className:"rounded-lg bg-muted/60 p-3 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-slate-600",children:"Observaes"}),e.jsx("p",{children:r.notes})]}),t.termsAndConditions&&e.jsxs("section",{className:"rounded-lg border border-dashed border-muted-foreground/60 p-3 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-slate-600",children:"Termos e Condies"}),e.jsx("p",{children:t.termsAndConditions})]}),(t.showQrCode||t.showBarcode)&&e.jsxs("section",{className:"flex flex-col items-center gap-4",children:[t.showQrCode&&e.jsx("div",{className:"flex h-28 w-28 items-center justify-center rounded border border-dashed border-muted-foreground/70 text-[10px] text-muted-foreground",children:"QR CODE"}),t.showBarcode&&e.jsxs("div",{className:"flex h-16 w-full max-w-[320px] items-center justify-center rounded border border-dashed border-muted-foreground/70 text-[10px] text-muted-foreground",children:["BARRAS (",t.barcodeType||"CODE128",")"]})]}),t.showSignatureLine&&e.jsx("section",{className:"pt-6",children:e.jsx("div",{className:"border-t border-dashed border-muted-foreground/60 pt-3 text-center text-xs text-muted-foreground",children:"Assinatura do Responsvel"})})]}),t.footerText&&e.jsx("div",{className:"px-6 pb-6 text-center text-xs text-muted-foreground",children:t.footerText})]}),e.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Este preview representa o modelo em PDF enviado por e-mail/WhatsApp ao cliente."})]})}function x_(){const{toast:t}=Tt(),[r,s]=u.useState([]),[o,l]=u.useState("all"),[c,m]=u.useState(!1),[f,p]=u.useState(!1),[g,v]=u.useState(!1),[x,b]=u.useState(null),[j,P]=u.useState(null),[N,w]=u.useState(!1),[S,C]=u.useState(null),[E,O]=u.useState(null),[D,U]=u.useState(""),[V,se]=u.useState(""),[ue,ie]=u.useState(""),[te,L]=u.useState(null),[re,Q]=u.useState("thermal"),[F,G]=u.useState({templateName:"",templateType:"general_receipt",description:"",isActive:!0,isDefault:!1,showLogo:!0,showCompanyName:!0,showCompanyDetails:!0,showReceiptNumber:!0,showDate:!0,showTime:!0,showPlate:!0,showValue:!0,showPaymentMethod:!0,showSignatureLine:!0,showVehicleType:!1,showEntryTime:!1,showExitTime:!1,showDuration:!1,showRate:!1,showOperator:!1,showQrCode:!1,showBarcode:!1,barcodeType:"CODE128",primaryColor:"#000000",secondaryColor:"#666666",fontFamily:"Arial",customFields:[]});u.useEffect(()=>{Y()},[o]),u.useEffect(()=>{(async()=>{try{const fe=await Se.getCompanyConfig();L(fe)}catch(fe){console.error("Erro ao carregar configurao da empresa:",fe)}})()},[]),u.useEffect(()=>{if(!S){O(null),U(""),se(""),ie("");return}const M=p_(S.templateType,S,te);O(M),S.templateType==="parking_ticket"&&M&&typeof M=="object"&&"entry"in M&&"exit"in M?(se(Fl(S,M.entry,te)),ie(Fl(S,M.exit,te)),U("")):(U(Fl(S,M,te)),se(""),ie(""))},[S,te]);const Y=async()=>{try{const M=await Se.getReceiptTemplates(o),fe=Array.isArray(M)?M:[];s(fe),C(be=>{if(!fe.length)return null;if(be){const pe=fe.find(Fe=>Fe.id===be.id);if(pe)return pe}return fe.find(pe=>pe.templateType!=="parking_ticket")||fe[0]})}catch(M){console.error("Error fetching templates:",M),s([]),C(null),t({variant:"destructive",title:"Erro",description:"Erro ao carregar modelos de recibo"})}},R=M=>{C(M),Q("thermal"),p(!0)},A=M=>{if(!M){C(null);return}const be=(Array.isArray(r)?r:[]).find(ke=>ke.id===M)||null;C(be)},W=()=>{b(null);const M="general_receipt",fe=Rl(M,te);G({templateName:"",templateType:M,description:"",isActive:!0,isDefault:!1,showLogo:!0,showCompanyName:!0,showCompanyDetails:!0,showReceiptNumber:!0,showDate:!0,showTime:!0,showPlate:!0,showValue:!0,showPaymentMethod:!0,showSignatureLine:!0,showVehicleType:!1,showEntryTime:!1,showExitTime:!1,showDuration:!1,showRate:!1,showOperator:!1,showQrCode:!1,showBarcode:!1,barcodeType:"CODE128",primaryColor:"#000000",secondaryColor:"#666666",fontFamily:"Arial",customFields:[],customTemplateText:fe}),m(!0)},T=M=>{b(M);const fe={...M};if(M.templateType==="parking_ticket"){if(!fe.customTemplateTextEntry||!fe.customTemplateTextExit){const be=Ml(te);fe.customTemplateTextEntry=fe.customTemplateTextEntry||be.entry,fe.customTemplateTextExit=fe.customTemplateTextExit||be.exit}}else fe.customTemplateText||(fe.customTemplateText=Rl(M.templateType,te));G(fe),m(!0)},I=async()=>{if(!F.templateName||!F.templateType){t({title:"Erro",description:"Nome e tipo so obrigatrios",variant:"destructive"});return}w(!0);try{x?await Se.updateReceiptTemplate(x.id,F):await Se.createReceiptTemplate(F),t({title:"Sucesso",description:x?"Template atualizado":"Template criado"}),m(!1),Y()}catch(M){t({title:"Erro",description:M.message||"No foi possvel salvar o template",variant:"destructive"})}finally{w(!1)}},$=async()=>{if(j){w(!0);try{await Se.deleteReceiptTemplate(j.id),t({title:"Template excludo",description:"O template foi removido com sucesso"}),v(!1),P(null),Y()}catch(M){t({title:"Erro",description:M.message||"No foi possvel excluir o template",variant:"destructive"})}finally{w(!1)}}},oe=async M=>{try{await Se.setDefaultReceiptTemplate(M.id),t({title:"Template padro definido",description:`"${M.templateName}" agora  o template padro`}),Y()}catch(fe){t({title:"Erro",description:fe.message||"No foi possvel definir como padro",variant:"destructive"})}},ce=async M=>{try{await Se.cloneReceiptTemplate(M.id),t({title:"Template duplicado",description:"Uma cpia do template foi criada"}),Y()}catch(fe){t({title:"Erro",description:fe.message||"No foi possvel duplicar o template",variant:"destructive"})}},ee=M=>({parking_ticket:"Ticket de Estacionamento",monthly_payment:"Mensalista",general_receipt:"Recibo Geral"})[M]||M,J=Array.isArray(r)?r:[];return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Modelos de Recibos"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie templates personalizados para diferentes tipos de recibos"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Ze,{value:o,onValueChange:l,children:[e.jsx(Je,{className:"w-64",children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"all",children:"Todos os Tipos"}),e.jsx(we,{value:"parking_ticket",children:"Ticket de Estacionamento"}),e.jsx(we,{value:"monthly_payment",children:"Mensalista"}),e.jsx(we,{value:"general_receipt",children:"Recibo Geral"})]})]}),e.jsxs(K,{onClick:W,children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Novo Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum template encontrado. Crie seu primeiro template!"}),e.jsxs(K,{onClick:W,children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Template"]})]}):J.map(M=>e.jsxs("div",{className:`bg-card border rounded-lg p-6 hover:shadow-md transition-shadow ${M.id===S?.id?"border-primary ring-1 ring-primary/30":M.isDefault?"border-primary":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:M.templateName}),M.isDefault&&e.jsx(xx,{className:"h-4 w-4 text-primary fill-primary"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ee(M.templateType)})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${M.isActive?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:M.isActive?"Ativo":"Inativo"})]}),M.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:M.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground mb-4",children:[M.showQrCode&&e.jsx("span",{className:"bg-muted px-2 py-1 rounded",children:"QR Code"}),M.showBarcode&&e.jsx("span",{className:"bg-muted px-2 py-1 rounded",children:"Cdigo de Barras"}),M.customFields?.length>0&&e.jsxs("span",{className:"bg-muted px-2 py-1 rounded",children:[M.customFields.length," campos extras"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(K,{variant:"outline",size:"sm",onClick:()=>R(M),className:"flex-1",children:[e.jsx(Fa,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),e.jsxs(K,{variant:"outline",size:"sm",onClick:()=>T(M),className:"flex-1",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Editar"]}),e.jsx(K,{variant:"outline",size:"sm",onClick:()=>ce(M),children:e.jsx(r1,{className:"h-3 w-3"})}),!M.isDefault&&e.jsx(K,{variant:"outline",size:"sm",onClick:()=>oe(M),children:e.jsx(xx,{className:"h-3 w-3"})}),e.jsx(K,{variant:"outline",size:"sm",onClick:()=>{P(M),v(!0)},disabled:M.isDefault,children:e.jsx(lr,{className:"h-3 w-3"})})]})]},M.id))}),J.length>0&&e.jsxs("section",{className:"mt-12 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Pr-visualizao Rpida"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja como o comprovante  renderizado antes de aplicar alteraes nos modelos."})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(Ze,{value:S?.id,onValueChange:A,children:[e.jsx(Je,{className:"min-w-[240px]",children:e.jsx(et,{placeholder:"Selecione um template"})}),e.jsx(Xe,{children:J.map(M=>e.jsxs(we,{value:M.id,children:[M.templateName,"  ",ee(M.templateType)]},M.id))})]}),e.jsxs(K,{variant:"outline",onClick:()=>S&&R(S),disabled:!S,children:[e.jsx(d1,{className:"h-4 w-4 mr-2"}),"Abrir em modal"]})]})]}),S&&E?e.jsxs(zr,{value:re,onValueChange:M=>Q(M),className:"space-y-4",children:[e.jsxs(Nr,{className:"grid w-full max-w-[320px] grid-cols-2",children:[e.jsx(ct,{value:"thermal",children:"Impressora Trmica"}),e.jsx(ct,{value:"pdf",children:"Modelo PDF (completo)"})]}),e.jsx(dt,{value:"thermal",className:"space-y-3",children:S.templateType==="parking_ticket"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:V||"Preview indisponvel para este template."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:ue||"Preview indisponvel para este template."})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:D||"Preview indisponvel para este template."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulao textual de um cupom de 58 mm com dados fictcios."})]})}),e.jsx(dt,{value:"pdf",className:"pt-4",children:S.templateType==="parking_ticket"&&E&&typeof E=="object"&&"entry"in E&&"exit"in E?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx(Oa,{template:S,sample:E.entry,company:te})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx(Oa,{template:S,sample:E.exit,company:te})]})]}):e.jsx(Oa,{template:S,sample:E,company:te})})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione um template para visualizar o recibo em tempo real."})]}),e.jsx(xt,{open:c,onOpenChange:m,children:e.jsxs(ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:x?"Editar Template":"Novo Template"}),e.jsx(ur,{children:"Configure os campos e estilos do recibo"})]}),e.jsxs(zr,{defaultValue:"basic",children:[e.jsxs(Nr,{className:"grid w-full grid-cols-5",children:[e.jsx(ct,{value:"basic",children:"Bsico"}),e.jsx(ct,{value:"fields",children:"Campos"}),e.jsx(ct,{value:"footer",children:"Rodap"}),e.jsx(ct,{value:"template",children:"Template Livre"}),e.jsx(ct,{value:"email",children:"Email/WhatsApp"})]}),e.jsxs(dt,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Nome do Template *"}),e.jsx(le,{value:F.templateName,onChange:M=>G({...F,templateName:M.target.value}),placeholder:"Ex: Recibo Padro Vermelho"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Tipo *"}),e.jsxs(Ze,{value:F.templateType,onValueChange:M=>{const fe=M;if(fe==="parking_ticket"){const be=Ml(te);G({...F,templateType:fe,customTemplateText:void 0,customTemplateTextEntry:F.customTemplateTextEntry||be.entry,customTemplateTextExit:F.customTemplateTextExit||be.exit})}else{const ke=!F.customTemplateText||F.customTemplateText.trim()===""?Rl(fe,te):F.customTemplateText;G({...F,templateType:fe,customTemplateText:ke,customTemplateTextEntry:void 0,customTemplateTextExit:void 0})}},children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"parking_ticket",children:"Ticket de Estacionamento"}),e.jsx(we,{value:"monthly_payment",children:"Mensalista"}),e.jsx(we,{value:"general_receipt",children:"Recibo Geral"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Descrio"}),e.jsx(wn,{value:F.description,onChange:M=>G({...F,description:M.target.value}),placeholder:"Descreva o propsito deste template",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Template Ativo"}),e.jsx(Oe,{checked:F.isActive,onCheckedChange:M=>G({...F,isActive:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Template Padro"}),e.jsx(Oe,{checked:F.isDefault,onCheckedChange:M=>G({...F,isDefault:M})})]})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4",children:[e.jsx("h4",{className:"font-medium",children:"Cabealho"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Mostrar Logo"}),e.jsx(Oe,{checked:F.showLogo,onCheckedChange:M=>G({...F,showLogo:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Mostrar Nome da Empresa"}),e.jsx(Oe,{checked:F.showCompanyName,onCheckedChange:M=>G({...F,showCompanyName:M})})]}),e.jsxs("div",{className:"flex items-center justify-between col-span-2",children:[e.jsx(H,{className:"text-sm",children:"Mostrar Detalhes da Empresa"}),e.jsx(Oe,{checked:F.showCompanyDetails,onCheckedChange:M=>G({...F,showCompanyDetails:M})})]})]})]})]}),e.jsxs(dt,{value:"fields",className:"space-y-6",children:[F.templateType==="parking_ticket"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Ticket de Entrada"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure quais campos aparecero no ticket impresso quando um veculo entra no estacionamento."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Nmero do Recibo"}),e.jsx(Oe,{checked:F.showReceiptNumber,onCheckedChange:M=>G({...F,showReceiptNumber:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Data"}),e.jsx(Oe,{checked:F.showDate,onCheckedChange:M=>G({...F,showDate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio"}),e.jsx(Oe,{checked:F.showTime,onCheckedChange:M=>G({...F,showTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Placa"}),e.jsx(Oe,{checked:F.showPlate,onCheckedChange:M=>G({...F,showPlate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Tipo de Veculo"}),e.jsx(Oe,{checked:F.showVehicleType,onCheckedChange:M=>G({...F,showVehicleType:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio de Entrada"}),e.jsx(Oe,{checked:F.showEntryTime,onCheckedChange:M=>G({...F,showEntryTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Operador"}),e.jsx(Oe,{checked:F.showOperator,onCheckedChange:M=>G({...F,showOperator:M})})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Ticket de Sada"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure quais campos aparecero no ticket impresso quando um veculo sai do estacionamento."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Nmero do Recibo"}),e.jsx(Oe,{checked:F.showReceiptNumber,onCheckedChange:M=>G({...F,showReceiptNumber:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Data"}),e.jsx(Oe,{checked:F.showDate,onCheckedChange:M=>G({...F,showDate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio"}),e.jsx(Oe,{checked:F.showTime,onCheckedChange:M=>G({...F,showTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Placa"}),e.jsx(Oe,{checked:F.showPlate,onCheckedChange:M=>G({...F,showPlate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Tipo de Veculo"}),e.jsx(Oe,{checked:F.showVehicleType,onCheckedChange:M=>G({...F,showVehicleType:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio de Entrada"}),e.jsx(Oe,{checked:F.showEntryTime,onCheckedChange:M=>G({...F,showEntryTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio de Sada"}),e.jsx(Oe,{checked:F.showExitTime,onCheckedChange:M=>G({...F,showExitTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Durao"}),e.jsx(Oe,{checked:F.showDuration,onCheckedChange:M=>G({...F,showDuration:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Tarifa"}),e.jsx(Oe,{checked:F.showRate,onCheckedChange:M=>G({...F,showRate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Valor"}),e.jsx(Oe,{checked:F.showValue,onCheckedChange:M=>G({...F,showValue:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Forma de Pagamento"}),e.jsx(Oe,{checked:F.showPaymentMethod,onCheckedChange:M=>G({...F,showPaymentMethod:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Operador"}),e.jsx(Oe,{checked:F.showOperator,onCheckedChange:M=>G({...F,showOperator:M})})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"font-medium",children:"Campos do Recibo"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Nmero do Recibo"}),e.jsx(Oe,{checked:F.showReceiptNumber,onCheckedChange:M=>G({...F,showReceiptNumber:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Data"}),e.jsx(Oe,{checked:F.showDate,onCheckedChange:M=>G({...F,showDate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio"}),e.jsx(Oe,{checked:F.showTime,onCheckedChange:M=>G({...F,showTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Placa"}),e.jsx(Oe,{checked:F.showPlate,onCheckedChange:M=>G({...F,showPlate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Tipo de Veculo"}),e.jsx(Oe,{checked:F.showVehicleType,onCheckedChange:M=>G({...F,showVehicleType:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio de Entrada"}),e.jsx(Oe,{checked:F.showEntryTime,onCheckedChange:M=>G({...F,showEntryTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Horrio de Sada"}),e.jsx(Oe,{checked:F.showExitTime,onCheckedChange:M=>G({...F,showExitTime:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Durao"}),e.jsx(Oe,{checked:F.showDuration,onCheckedChange:M=>G({...F,showDuration:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Tarifa"}),e.jsx(Oe,{checked:F.showRate,onCheckedChange:M=>G({...F,showRate:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Valor"}),e.jsx(Oe,{checked:F.showValue,onCheckedChange:M=>G({...F,showValue:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Forma de Pagamento"}),e.jsx(Oe,{checked:F.showPaymentMethod,onCheckedChange:M=>G({...F,showPaymentMethod:M})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"Operador"}),e.jsx(Oe,{checked:F.showOperator,onCheckedChange:M=>G({...F,showOperator:M})})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Estilo"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-sm",children:"Cor Primria"}),e.jsx(le,{type:"color",value:F.primaryColor,onChange:M=>G({...F,primaryColor:M.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm",children:"Cor Secundria"}),e.jsx(le,{type:"color",value:F.secondaryColor,onChange:M=>G({...F,secondaryColor:M.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm",children:"Fonte"}),e.jsxs(Ze,{value:F.fontFamily,onValueChange:M=>G({...F,fontFamily:M}),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"Arial",children:"Arial"}),e.jsx(we,{value:"Helvetica",children:"Helvetica"}),e.jsx(we,{value:"Times New Roman",children:"Times New Roman"}),e.jsx(we,{value:"Courier",children:"Courier"})]})]})]})]})]})]}),e.jsxs(dt,{value:"footer",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"QR Code"}),e.jsx(Oe,{checked:F.showQrCode,onCheckedChange:M=>G({...F,showQrCode:M})})]}),F.showQrCode&&e.jsxs("div",{className:"col-span-2",children:[e.jsx(H,{className:"text-sm",children:"Dados do QR Code (use variveis)"}),e.jsx(le,{value:F.qrCodeData||"",onChange:M=>G({...F,qrCodeData:M.target.value}),placeholder:"{{receiptNumber}}|{{plate}}|{{value}}"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Cdigo de Barras"}),e.jsx(Oe,{checked:F.showBarcode,onCheckedChange:M=>G({...F,showBarcode:M})})]}),F.showBarcode&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(H,{className:"text-sm",children:"Dados do Cdigo de Barras"}),e.jsx(le,{value:F.barcodeData||"",onChange:M=>G({...F,barcodeData:M.target.value}),placeholder:"{{receiptNumber}}"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(H,{className:"text-sm",children:"Tipo"}),e.jsxs(Ze,{value:F.barcodeType,onValueChange:M=>G({...F,barcodeType:M}),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"CODE128",children:"CODE128"}),e.jsx(we,{value:"EAN13",children:"EAN13"}),e.jsx(we,{value:"CODE39",children:"CODE39"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Termos e Condies"}),e.jsx(wn,{value:F.termsAndConditions||"",onChange:M=>G({...F,termsAndConditions:M.target.value}),rows:3,placeholder:"Documento sem validade fiscal..."})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Texto do Rodap"}),e.jsx(wn,{value:F.footerText||"",onChange:M=>G({...F,footerText:M.target.value}),rows:2,placeholder:"Obrigado pela preferncia!"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Linha de Assinatura"}),e.jsx(Oe,{checked:F.showSignatureLine,onCheckedChange:M=>G({...F,showSignatureLine:M})})]})]}),e.jsx(dt,{value:"template",className:"space-y-4",children:F.templateType==="parking_ticket"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-base font-semibold",children:"Template de Entrada"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{const M=Ml(te);G({...F,customTemplateTextEntry:M.entry})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso para o ticket de entrada. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{operator}}"]}),e.jsx(wn,{value:F.customTemplateTextEntry||"",onChange:M=>G({...F,customTemplateTextEntry:M.target.value}),placeholder:"Digite ou edite o template de entrada...",rows:15,className:"font-mono text-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-base font-semibold",children:"Template de Sada"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{const M=Ml(te);G({...F,customTemplateTextExit:M.exit})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso para o ticket de sada. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}"]}),e.jsx(wn,{value:F.customTemplateTextExit||"",onChange:M=>G({...F,customTemplateTextExit:M.target.value}),placeholder:"Digite ou edite o template de sada...",rows:15,className:"font-mono text-xs"})]}),e.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[e.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),e.jsx("p",{className:"text-muted-foreground",children:"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Template de Impresso (Texto Livre)"}),e.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{const M=Rl(F.templateType||"general_receipt",te);G({...F,customTemplateText:M})},children:"Restaurar Padro"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{value}}, etc."]}),e.jsx(wn,{value:F.customTemplateText||"",onChange:M=>G({...F,customTemplateText:M.target.value}),placeholder:"Digite ou edite o template de impresso...",rows:20,className:"font-mono text-xs"}),e.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[e.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),e.jsxs("p",{className:"text-muted-foreground",children:[F.templateType==="monthly_payment"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{customerName}}, {{customerDocument}}, {{customerPhone}}, {{customerEmail}}, {{planName}}, {{reference}}, {{contractNumber}}, {{contractPeriod}}, {{parkingSlot}}, {{dueDate}}, {{value}}, {{paymentMethod}}, {{paymentDate}}, {{operator}}"}),F.templateType==="general_receipt"&&e.jsx(e.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{customerName}}, {{customerDocument}}, {{plate}}, {{value}}, {{paymentMethod}}, {{operator}}, {{notes}}"})]})]})]})}),e.jsxs(dt,{value:"email",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Assunto do Email"}),e.jsx(le,{value:F.emailSubject||"",onChange:M=>G({...F,emailSubject:M.target.value}),placeholder:"Recibo #{{receiptNumber}} - {{companyName}}"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Corpo do Email (HTML)"}),e.jsx(wn,{value:F.emailBodyHtml||"",onChange:M=>G({...F,emailBodyHtml:M.target.value}),rows:6,placeholder:"<html><body>...</body></html>",className:"font-mono text-xs"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Mensagem WhatsApp"}),e.jsx(wn,{value:F.whatsappMessage||"",onChange:M=>G({...F,whatsappMessage:M.target.value}),rows:4,placeholder:"RECIBO #{{receiptNumber}}\\nPlaca: {{plate}}\\nValor: R$ {{value}}"})]}),e.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[e.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),e.jsx("p",{className:"text-muted-foreground",children:"{{receiptNumber}}, {{date}}, {{plate}}, {{value}}, {{paymentMethod}}, {{companyName}}, etc."})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(K,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),e.jsx(K,{onClick:I,disabled:N,children:N?"Salvando...":x?"Atualizar":"Criar"})]})]})}),e.jsx(xt,{open:f,onOpenChange:p,children:e.jsxs(ft,{className:"max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:"Preview do Template"}),e.jsx(ur,{children:S?`Visualizando "${S.templateName}".`:"Selecione um template para visualizar."})]}),S&&E?e.jsxs(zr,{value:re,onValueChange:M=>Q(M),children:[e.jsxs(Nr,{className:"grid w-full grid-cols-2",children:[e.jsx(ct,{value:"thermal",children:"Impressora Trmica"}),e.jsx(ct,{value:"pdf",children:"Modelo PDF (completo)"})]}),e.jsx(dt,{value:"thermal",className:"space-y-3",children:S.templateType==="parking_ticket"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:V||"Preview indisponvel para este template."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:ue||"Preview indisponvel para este template."})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:D||"Preview indisponvel para este template."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulao em texto monoespaado de um cupom de 58 mm com dados fictcios de mensalista."})]})}),e.jsx(dt,{value:"pdf",className:"pt-4",children:S.templateType==="parking_ticket"&&E&&typeof E=="object"&&"entry"in E&&"exit"in E?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),e.jsx(Oa,{template:S,sample:E.entry,company:te})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),e.jsx(Oa,{template:S,sample:E.exit,company:te})]})]}):e.jsx(Oa,{template:S,sample:E,company:te})})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum template selecionado para visualizao."})]})}),e.jsx(m_,{open:g,onOpenChange:v,children:e.jsxs(Wj,{children:[e.jsxs(qj,{children:[e.jsx(Kj,{children:"Confirmar Excluso"}),e.jsxs(Yj,{children:['Tem certeza que deseja excluir o template "',j?.templateName,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(Gj,{children:[e.jsx(Jj,{children:"Cancelar"}),e.jsx(Qj,{onClick:$,disabled:N,children:N?"Excluindo...":"Excluir"})]})]})})]})})}const Ua=u.forwardRef(({className:t,...r},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Te("w-full caption-bottom text-sm",t),...r})}));Ua.displayName="Table";const Ha=u.forwardRef(({className:t,...r},s)=>e.jsx("thead",{ref:s,className:Te("[&_tr]:border-b",t),...r}));Ha.displayName="TableHeader";const Wa=u.forwardRef(({className:t,...r},s)=>e.jsx("tbody",{ref:s,className:Te("[&_tr:last-child]:border-0",t),...r}));Wa.displayName="TableBody";const g_=u.forwardRef(({className:t,...r},s)=>e.jsx("tfoot",{ref:s,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));g_.displayName="TableFooter";const ir=u.forwardRef(({className:t,...r},s)=>e.jsx("tr",{ref:s,className:Te("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...r}));ir.displayName="TableRow";const jt=u.forwardRef(({className:t,...r},s)=>e.jsx("th",{ref:s,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));jt.displayName="TableHead";const bt=u.forwardRef(({className:t,...r},s)=>e.jsx("td",{ref:s,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));bt.displayName="TableCell";const v_=u.forwardRef(({className:t,...r},s)=>e.jsx("caption",{ref:s,className:Te("mt-4 text-sm text-muted-foreground",t),...r}));v_.displayName="TableCaption";const Hn="https://theproparking-backend-1rxk.onrender.com",ys=()=>localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token"),bg=t=>["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"][t]||"Desconhecido";function y_(){const{toast:t}=Tt(),[r,s]=u.useState("horarios"),[o,l]=u.useState([]),[c,m]=u.useState(null),[f,p]=u.useState(!1),[g,v]=u.useState([]),[x,b]=u.useState(null),[j,P]=u.useState(!1),[N,w]=u.useState([]),[S,C]=u.useState(null),[E,O]=u.useState(!1);u.useEffect(()=>{console.log("[DEBUG] Component mounted"),console.log("[DEBUG] API_BASE_URL:",Hn),console.log("[DEBUG] import.meta.env.VITE_API_URL:","https://theproparking-backend-1rxk.onrender.com")},[]),u.useEffect(()=>{console.log("[DEBUG] businessHours state updated, count:",o.length),o.length>0&&console.log("[DEBUG] First business hour:",o[0])},[o]),u.useEffect(()=>{D(),U(),V()},[]);const D=async()=>{try{const R=ys();if(console.log("[DEBUG] Fetching business hours from:",`${Hn}/business-hours`),console.log("[DEBUG] Token exists:",!!R),console.log("[DEBUG] Token value (first 20 chars):",R?.substring(0,20)),!R){console.error("[DEBUG] No authentication token found!"),t({title:"Erro",description:"Voc no est autenticado. Faa login novamente.",variant:"destructive"});return}const A=await fetch(`${Hn}/business-hours`,{headers:{Authorization:`Bearer ${R}`}});console.log("[DEBUG] Response status:",A.status);const W=await A.json();console.log("[DEBUG] Business hours data received:",W),W.success?(console.log("[DEBUG] Setting business hours, count:",W.data?.length),l(W.data)):(console.error("[DEBUG] API returned success=false:",W.error),t({title:"Erro",description:W.error||"Falha ao carregar horrios",variant:"destructive"}))}catch(R){console.error("[DEBUG] Error fetching business hours:",R),t({title:"Erro",description:"Falha ao carregar horrios",variant:"destructive"})}},U=async()=>{try{const R=ys(),W=await(await fetch(`${Hn}/holidays`,{headers:{Authorization:`Bearer ${R}`}})).json();W.success&&v(W.data)}catch(R){console.error("Error:",R),t({title:"Erro",description:"Falha ao carregar feriados",variant:"destructive"})}},V=async()=>{try{const R=ys(),W=await(await fetch(`${Hn}/special-events`,{headers:{Authorization:`Bearer ${R}`}})).json();W.success&&w(W.data)}catch(R){console.error("Error:",R),t({title:"Erro",description:"Falha ao carregar eventos",variant:"destructive"})}},se=R=>{m(R),p(!0)},ue=async R=>{try{const A=ys();(await(await fetch(`${Hn}/business-hours/${R.id}`,{method:"PUT",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).json()).success&&(t({title:"Sucesso",description:"Horrio atualizado"}),D(),p(!1))}catch{t({title:"Erro",description:"Falha ao salvar horrio",variant:"destructive"})}},ie=R=>{b(R),P(!0)},te=()=>{b(null),P(!0)},L=async R=>{try{const A=ys(),W=R.id?`${Hn}/holidays/${R.id}`:`${Hn}/holidays`,T=R.id?"PUT":"POST";(await(await fetch(W,{method:T,headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).json()).success&&(t({title:"Sucesso",description:"Feriado salvo"}),U(),P(!1))}catch{t({title:"Erro",description:"Falha ao salvar feriado",variant:"destructive"})}},re=async R=>{if(confirm("Excluir feriado?"))try{const A=ys();(await(await fetch(`${Hn}/holidays/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${A}`}})).json()).success&&(t({title:"Sucesso",description:"Feriado excludo"}),U())}catch{t({title:"Erro",description:"Falha ao excluir",variant:"destructive"})}},Q=R=>{C(R),O(!0)},F=()=>{C(null),O(!0)},G=async R=>{try{const A=ys(),W=R.id?`${Hn}/special-events/${R.id}`:`${Hn}/special-events`,T=R.id?"PUT":"POST";(await(await fetch(W,{method:T,headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).json()).success&&(t({title:"Sucesso",description:"Evento salvo"}),V(),O(!1))}catch{t({title:"Erro",description:"Falha ao salvar evento",variant:"destructive"})}},Y=async R=>{if(confirm("Excluir evento?"))try{const A=ys();(await(await fetch(`${Hn}/special-events/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${A}`}})).json()).success&&(t({title:"Sucesso",description:"Evento excludo"}),V())}catch{t({title:"Erro",description:"Falha ao excluir",variant:"destructive"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Horrios e Feriados"}),e.jsxs(zr,{value:r,onValueChange:s,children:[e.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[e.jsxs(ct,{value:"horarios",children:[e.jsx(Em,{className:"w-4 h-4 mr-2"}),"Horrios"]}),e.jsxs(ct,{value:"feriados",children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Feriados"]}),e.jsxs(ct,{value:"eventos",children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Eventos"]})]}),e.jsx(dt,{value:"horarios",children:e.jsxs(tt,{children:[e.jsx(Ot,{children:e.jsx(It,{children:"Horrios de Funcionamento"})}),e.jsx(nt,{children:o.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum horrio configurado. Verifique o console para detalhes."}):o.map(R=>{console.log("[DEBUG] Rendering hour:",R);const A=bg(R.day_of_week);return e.jsxs("div",{className:"flex justify-between p-4 border rounded mb-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:A}),":"," ",R.is_open?`${R.open_time} - ${R.close_time}`:"Fechado"]}),e.jsx(K,{size:"icon",variant:"ghost",onClick:()=>se(R),children:e.jsx(Es,{className:"w-4 h-4"})})]},R.id)})})]})}),e.jsxs(dt,{value:"feriados",children:[e.jsxs(K,{onClick:te,className:"mb-4",children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:e.jsxs(Ua,{children:[e.jsx(Ha,{children:e.jsxs(ir,{children:[e.jsx(jt,{children:"Nome"}),e.jsx(jt,{children:"Data"}),e.jsx(jt,{children:"Aes"})]})}),e.jsx(Wa,{children:g.map(R=>e.jsxs(ir,{children:[e.jsx(bt,{children:R.name}),e.jsx(bt,{children:new Date(R.date).toLocaleDateString("pt-BR")}),e.jsxs(bt,{children:[e.jsx(K,{size:"icon",variant:"ghost",onClick:()=>ie(R),children:e.jsx(Es,{className:"w-4 h-4"})}),e.jsx(K,{size:"icon",variant:"ghost",onClick:()=>re(R.id),children:e.jsx(lr,{className:"w-4 h-4"})})]})]},R.id))})]})})})]}),e.jsxs(dt,{value:"eventos",children:[e.jsxs(K,{onClick:F,className:"mb-4",children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:e.jsxs(Ua,{children:[e.jsx(Ha,{children:e.jsxs(ir,{children:[e.jsx(jt,{children:"Nome"}),e.jsx(jt,{children:"Perodo"}),e.jsx(jt,{children:"Multiplicador"}),e.jsx(jt,{children:"Aes"})]})}),e.jsx(Wa,{children:N.map(R=>e.jsxs(ir,{children:[e.jsx(bt,{children:R.name}),e.jsxs(bt,{children:[new Date(R.start_date).toLocaleDateString("pt-BR")," -"," ",new Date(R.end_date).toLocaleDateString("pt-BR")]}),e.jsxs(bt,{children:[R.price_multiplier,"x"]}),e.jsxs(bt,{children:[e.jsx(K,{size:"icon",variant:"ghost",onClick:()=>Q(R),children:e.jsx(Es,{className:"w-4 h-4"})}),e.jsx(K,{size:"icon",variant:"ghost",onClick:()=>Y(R.id),children:e.jsx(lr,{className:"w-4 h-4"})})]})]},R.id))})]})})})]})]}),e.jsx(xt,{open:f,onOpenChange:p,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsxs(pt,{children:["Editar - ",c?bg(c.day_of_week):""]})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{checked:c.is_open,onCheckedChange:R=>m({...c,is_open:R})}),e.jsx(H,{children:"Aberto"})]}),c.is_open&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Abertura"}),e.jsx(le,{type:"time",value:c.open_time||"",onChange:R=>m({...c,open_time:R.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Fechamento"}),e.jsx(le,{type:"time",value:c.close_time||"",onChange:R=>m({...c,close_time:R.target.value})})]})]}),e.jsx(K,{onClick:()=>ue(c),children:"Salvar"})]})]})}),e.jsx(xt,{open:j,onOpenChange:P,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsxs(pt,{children:[x?.id?"Editar":"Adicionar"," Feriado"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Nome"}),e.jsx(le,{value:x?.name||"",onChange:R=>b({...x,name:R.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Data"}),e.jsx(le,{type:"date",value:x?.date||"",onChange:R=>b({...x,date:R.target.value})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{checked:x?.is_recurring||!1,onCheckedChange:R=>b({...x,is_recurring:R})}),e.jsx(H,{children:"Recorrente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{checked:x?.is_closed||!1,onCheckedChange:R=>b({...x,is_closed:R})}),e.jsx(H,{children:"Fechado"})]}),e.jsx(K,{onClick:()=>L(x||{}),children:"Salvar"})]})]})}),e.jsx(xt,{open:E,onOpenChange:O,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsxs(pt,{children:[S?.id?"Editar":"Adicionar"," Evento"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Nome"}),e.jsx(le,{value:S?.name||"",onChange:R=>C({...S,name:R.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Data Incio"}),e.jsx(le,{type:"date",value:S?.start_date||"",onChange:R=>C({...S,start_date:R.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Data Fim"}),e.jsx(le,{type:"date",value:S?.end_date||"",onChange:R=>C({...S,end_date:R.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Multiplicador"}),e.jsx(le,{type:"number",step:"0.1",value:S?.price_multiplier||1,onChange:R=>C({...S,price_multiplier:parseFloat(R.target.value)})})]}),e.jsx(K,{onClick:()=>G(S||{}),children:"Salvar"})]})]})})]})}const ws="https://theproparking-backend-1rxk.onrender.com",js=()=>localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token");function w_(){const{toast:t}=Tt(),[r,s]=u.useState("settings"),[o,l]=u.useState(null),[c,m]=u.useState(!0),[f,p]=u.useState([]),[g,v]=u.useState(!1),[x,b]=u.useState(null),[j,P]=u.useState([]),[N,w]=u.useState(!1),[S,C]=u.useState(null),[E,O]=u.useState([]),[D,U]=u.useState(!1),[V,se]=u.useState(null);u.useEffect(()=>{ue(),te(),F(),A()},[]);const ue=async()=>{try{const $=js(),ce=await(await fetch(`${ws}/dashboard-settings`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&l(ce.data)}catch($){console.error("Error fetching settings:",$),t({title:"Erro",description:"Falha ao carregar configuraes",variant:"destructive"})}finally{m(!1)}},ie=async()=>{if(o)try{const $=js(),ce=await(await fetch(`${ws}/dashboard-settings`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(o)})).json();ce.success&&(t({title:"Sucesso",description:"Configuraes salvas"}),l(ce.data))}catch{t({title:"Erro",description:"Falha ao salvar configuraes",variant:"destructive"})}},te=async()=>{try{const $=js(),ce=await(await fetch(`${ws}/dashboard-widgets`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&p(ce.data)}catch($){console.error("Error fetching widgets:",$)}},L=()=>{b(null),v(!0)},re=$=>{b($),v(!0)},Q=async $=>{if(confirm("Excluir widget?"))try{const oe=js();(await(await fetch(`${ws}/dashboard-widgets/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}})).json()).success&&(t({title:"Sucesso",description:"Widget excludo"}),te())}catch{t({title:"Erro",description:"Falha ao excluir widget",variant:"destructive"})}},F=async()=>{try{const $=js(),ce=await(await fetch(`${ws}/kpi-thresholds`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&P(ce.data)}catch($){console.error("Error fetching thresholds:",$)}},G=()=>{C(null),w(!0)},Y=$=>{C($),w(!0)},R=async $=>{if(confirm("Excluir alerta?"))try{const oe=js();(await(await fetch(`${ws}/kpi-thresholds/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}})).json()).success&&(t({title:"Sucesso",description:"Alerta excludo"}),F())}catch{t({title:"Erro",description:"Falha ao excluir alerta",variant:"destructive"})}},A=async()=>{try{const $=js(),ce=await(await fetch(`${ws}/report-schedules`,{headers:{Authorization:`Bearer ${$}`}})).json();ce.success&&O(ce.data)}catch($){console.error("Error fetching schedules:",$)}},W=()=>{se(null),U(!0)},T=$=>{se($),U(!0)},I=async $=>{if(confirm("Excluir agendamento?"))try{const oe=js();(await(await fetch(`${ws}/report-schedules/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}})).json()).success&&(t({title:"Sucesso",description:"Agendamento excludo"}),A())}catch{t({title:"Erro",description:"Falha ao excluir agendamento",variant:"destructive"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Configuraes do Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Personalize sua experincia de anlise e relatrios"})]}),e.jsxs(zr,{value:r,onValueChange:s,children:[e.jsxs(Nr,{className:"grid w-full grid-cols-4",children:[e.jsxs(ct,{value:"settings",children:[e.jsx(Tm,{className:"w-4 h-4 mr-2"}),"Preferncias"]}),e.jsxs(ct,{value:"widgets",children:[e.jsx(i1,{className:"w-4 h-4 mr-2"}),"Widgets"]}),e.jsxs(ct,{value:"thresholds",children:[e.jsx(ZC,{className:"w-4 h-4 mr-2"}),"Alertas KPI"]}),e.jsxs(ct,{value:"schedules",children:[e.jsx(lv,{className:"w-4 h-4 mr-2"}),"Relatrios"]})]}),e.jsx(dt,{value:"settings",className:"space-y-4",children:c?e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:"Carregando..."})}):o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Atualizao e Exibio"}),e.jsx(zt,{children:"Configure como o dashboard  exibido e atualizado"})]}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Intervalo de Atualizao (segundos)"}),e.jsx(le,{type:"number",value:o.refresh_interval,onChange:$=>l({...o,refresh_interval:parseInt($.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Perodo Padro"}),e.jsxs(Ze,{value:o.default_date_range,onValueChange:$=>l({...o,default_date_range:$}),children:[e.jsx(Je,{children:e.jsx(et,{})}),e.jsxs(Xe,{children:[e.jsx(we,{value:"last_7_days",children:"ltimos 7 dias"}),e.jsx(we,{value:"last_30_days",children:"ltimos 30 dias"}),e.jsx(we,{value:"this_month",children:"Este ms"}),e.jsx(we,{value:"custom",children:"Personalizado"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Mostrar Tendncias"}),e.jsx(Oe,{checked:o.show_trends,onCheckedChange:$=>l({...o,show_trends:$})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Mostrar Comparaes"}),e.jsx(Oe,{checked:o.show_comparisons,onCheckedChange:$=>l({...o,show_comparisons:$})})]})]})]}),e.jsxs(tt,{children:[e.jsxs(Ot,{children:[e.jsx(It,{children:"Reteno de Dados"}),e.jsx(zt,{children:"Gerencie o armazenamento de dados histricos"})]}),e.jsxs(nt,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Manter dados por (meses)"}),e.jsx(le,{type:"number",min:"1",max:"60",value:o.data_retention_months,onChange:$=>l({...o,data_retention_months:parseInt($.target.value)})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados mais antigos sero arquivados ou excludos automaticamente"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(H,{children:"Arquivar dados antigos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Em vez de excluir, mova para arquivo"})]}),e.jsx(Oe,{checked:o.archive_old_data,onCheckedChange:$=>l({...o,archive_old_data:$})})]})]})]}),e.jsx(K,{onClick:ie,children:"Salvar Configuraes"})]})}),e.jsxs(dt,{value:"widgets",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(K,{onClick:L,children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),"Adicionar Widget"]})}),e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:e.jsxs(Ua,{children:[e.jsx(Ha,{children:e.jsxs(ir,{children:[e.jsx(jt,{children:"Posio"}),e.jsx(jt,{children:"Ttulo"}),e.jsx(jt,{children:"Tipo"}),e.jsx(jt,{children:"Tamanho"}),e.jsx(jt,{children:"Visvel"}),e.jsx(jt,{className:"text-right",children:"Aes"})]})}),e.jsx(Wa,{children:f.map($=>e.jsxs(ir,{children:[e.jsx(bt,{children:$.position}),e.jsx(bt,{className:"font-medium",children:$.title}),e.jsx(bt,{children:$.widget_type}),e.jsx(bt,{children:$.size}),e.jsx(bt,{children:$.is_visible?"Sim":"No"}),e.jsx(bt,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>re($),children:e.jsx(Es,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>Q($.id),children:e.jsx(lr,{className:"w-4 h-4"})})]})})]},$.id))})]})})})]}),e.jsxs(dt,{value:"thresholds",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(K,{onClick:G,children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),"Adicionar Alerta"]})}),e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:e.jsxs(Ua,{children:[e.jsx(Ha,{children:e.jsxs(ir,{children:[e.jsx(jt,{children:"Nome"}),e.jsx(jt,{children:"Tipo"}),e.jsx(jt,{children:"Limite"}),e.jsx(jt,{children:"Mtodo"}),e.jsx(jt,{children:"Status"}),e.jsx(jt,{className:"text-right",children:"Aes"})]})}),e.jsx(Wa,{children:j.map($=>e.jsxs(ir,{children:[e.jsx(bt,{className:"font-medium",children:$.kpi_name}),e.jsx(bt,{children:$.kpi_type}),e.jsxs(bt,{children:[$.threshold_type==="minimum"&&` ${$.min_value}`,$.threshold_type==="maximum"&&` ${$.max_value}`,$.threshold_type==="range"&&`${$.min_value} - ${$.max_value}`]}),e.jsx(bt,{children:$.alert_method}),e.jsx(bt,{children:e.jsx("span",{className:$.is_active?"text-green-600":"text-gray-400",children:$.is_active?"Ativo":"Inativo"})}),e.jsx(bt,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>Y($),children:e.jsx(Es,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>R($.id),children:e.jsx(lr,{className:"w-4 h-4"})})]})})]},$.id))})]})})})]}),e.jsxs(dt,{value:"schedules",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(K,{onClick:W,children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),"Agendar Relatrio"]})}),e.jsx(tt,{children:e.jsx(nt,{className:"pt-6",children:e.jsxs(Ua,{children:[e.jsx(Ha,{children:e.jsxs(ir,{children:[e.jsx(jt,{children:"Nome"}),e.jsx(jt,{children:"Frequncia"}),e.jsx(jt,{children:"Horrio"}),e.jsx(jt,{children:"Mtodo"}),e.jsx(jt,{children:"Status"}),e.jsx(jt,{className:"text-right",children:"Aes"})]})}),e.jsx(Wa,{children:E.map($=>e.jsxs(ir,{children:[e.jsx(bt,{className:"font-medium",children:$.report_name}),e.jsx(bt,{children:$.frequency}),e.jsx(bt,{children:$.schedule_time}),e.jsx(bt,{children:$.delivery_method}),e.jsx(bt,{children:e.jsx("span",{className:$.is_active?"text-green-600":"text-gray-400",children:$.is_active?"Ativo":"Inativo"})}),e.jsx(bt,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>T($),children:e.jsx(Es,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>I($.id),children:e.jsx(lr,{className:"w-4 h-4"})})]})})]},$.id))})]})})})]})]}),e.jsx(xt,{open:g,onOpenChange:v,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsxs(pt,{children:[x?"Editar":"Adicionar"," Widget"]})}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade de widgets em desenvolvimento. Use a API diretamente por enquanto."})}),e.jsx(Ut,{children:e.jsx(K,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"})})]})}),e.jsx(xt,{open:N,onOpenChange:w,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsxs(pt,{children:[S?"Editar":"Adicionar"," Alerta KPI"]})}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Formulrio de alertas em desenvolvimento. Use a API diretamente por enquanto."})}),e.jsx(Ut,{children:e.jsx(K,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"})})]})}),e.jsx(xt,{open:D,onOpenChange:U,children:e.jsxs(ft,{children:[e.jsx(ht,{children:e.jsxs(pt,{children:[V?"Editar":"Agendar"," Relatrio"]})}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Formulrio de agendamento em desenvolvimento. Use a API diretamente por enquanto."})}),e.jsx(Ut,{children:e.jsx(K,{variant:"outline",onClick:()=>U(!1),children:"Cancelar"})})]})})]})}const j_=()=>{const t=jn();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),e.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},b_=({open:t,onOpenChange:r,isFirstLogin:s=!1,onSuccess:o})=>{const{toast:l}=Tt(),[c,m]=u.useState(!1),[f,p]=u.useState(""),[g,v]=u.useState(""),[x,b]=u.useState(""),[j,P]=u.useState(!1),[N,w]=u.useState(!1),[S,C]=u.useState(!1),[E,O]=u.useState(null),[D,U]=u.useState(null);u.useEffect(()=>{t?V():(p(""),v(""),b(""),O(null))},[t]),u.useEffect(()=>{if(g.length>0){const L=setTimeout(()=>{se(g)},300);return()=>clearTimeout(L)}else O(null)},[g]);const V=async()=>{try{const L=await Se.getPasswordRequirements();U({minLength:L.minLength,requireUppercase:L.requireUppercase,requireLowercase:L.requireLowercase,requireDigit:L.requireNumbers??!1,requireSpecialChar:L.requireSpecialChars??!1,passwordHistoryLimit:5})}catch(L){const re=L instanceof Error?L.message:String(L);console.error("Error fetching password requirements:",re)}},se=async L=>{try{const re=await Se.validatePasswordStrength(L);O(re)}catch(re){const Q=re instanceof Error?re.message:String(re);console.error("Error validating password:",Q)}},ue=async L=>{if(L.preventDefault(),g!==x){l({variant:"destructive",title:"Erro",description:"As senhas no coincidem"});return}if(E&&!E.valid){l({variant:"destructive",title:"Senha fraca",description:"A senha no atende aos requisitos de segurana"});return}if(!s&&!f){l({variant:"destructive",title:"Erro",description:"Informe a senha atual"});return}m(!0);try{await Se.changePassword({currentPassword:s?void 0:f,newPassword:g}),l({title:"Sucesso",description:"Senha alterada com sucesso"}),r(!1),o&&o()}catch(re){const Q=re instanceof Error?re.message:String(re);console.error("Error changing password:",Q),l({variant:"destructive",title:"Erro",description:Q||"Erro ao alterar senha"})}finally{m(!1)}},ie=L=>L===0?"bg-red-500":L===1?"bg-orange-500":L===2?"bg-yellow-500":L===3?"bg-lime-500":"bg-green-500",te=L=>L===0?"Muito fraca":L===1?"Fraca":L===2?"Razovel":L===3?"Boa":"Forte";return e.jsx(xt,{open:t,onOpenChange:s?void 0:r,children:e.jsxs(ft,{className:"sm:max-w-[500px]",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:s?"Primeiro Acesso - Altere sua Senha":"Alterar Senha"}),e.jsx(ur,{children:s?"Por segurana, voc precisa alterar sua senha no primeiro acesso.":"Crie uma senha forte para proteger sua conta."})]}),e.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[!s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"currentPassword",children:"Senha Atual *"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{id:"currentPassword",type:j?"text":"password",value:f,onChange:L=>p(L.target.value),required:!s,disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>P(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:j?e.jsx(gu,{size:18}):e.jsx(Fa,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"newPassword",children:"Nova Senha *"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{id:"newPassword",type:N?"text":"password",value:g,onChange:L=>v(L.target.value),required:!0,disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>w(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:N?e.jsx(gu,{size:18}):e.jsx(Fa,{size:18})})]}),E&&g.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Fora da senha:"}),e.jsx("span",{className:`font-medium ${E.valid?"text-green-600":"text-orange-600"}`,children:E.strength&&te(E.strength.score)})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${E.strength&&ie(E.strength.score)}`,style:{width:`${E.strength?(E.strength.score+1)*20:0}%`}})})]}),E&&E.errors.length>0&&e.jsxs(Fr,{variant:"destructive",className:"py-2",children:[e.jsx(nv,{className:"h-4 w-4"}),e.jsx($r,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:E.errors.map((L,re)=>e.jsx("li",{children:L},re))})})]}),E&&E.valid&&e.jsxs(Fr,{className:"py-2 border-green-200 bg-green-50",children:[e.jsx(rv,{className:"h-4 w-4 text-green-600"}),e.jsx($r,{className:"text-green-700 text-sm",children:"Senha forte e segura!"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha *"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{id:"confirmPassword",type:S?"text":"password",value:x,onChange:L=>b(L.target.value),required:!0,disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>C(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:S?e.jsx(gu,{size:18}):e.jsx(Fa,{size:18})})]}),x&&g!==x&&e.jsx("p",{className:"text-sm text-red-600",children:"As senhas no coincidem"})]}),D&&e.jsx(Fr,{className:"py-2",children:e.jsxs($r,{className:"text-sm",children:[e.jsx("strong",{children:"Requisitos de Senha:"}),e.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.jsxs("li",{children:["Mnimo ",D.minLength," caracteres"]}),D.requireUppercase&&e.jsx("li",{children:"Pelo menos 1 letra maiscula"}),D.requireLowercase&&e.jsx("li",{children:"Pelo menos 1 letra minscula"}),D.requireDigit&&e.jsx("li",{children:"Pelo menos 1 nmero"}),D.requireSpecialChar&&e.jsx("li",{children:"Pelo menos 1 caractere especial"}),e.jsxs("li",{children:["No pode ser uma das ltimas ",D.passwordHistoryLimit," senhas"]})]})]})}),e.jsxs(Ut,{children:[!s&&e.jsx(K,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:c,children:"Cancelar"}),e.jsx(K,{type:"submit",disabled:c||E&&!E.valid||g!==x,children:c?"Alterando...":"Alterar Senha"})]})]})]})})},N_=()=>{const{login:t,loading:r,isAuthenticated:s,mustChangePassword:o,isFirstLogin:l,clearPasswordChangeFlags:c}=bn(),m=Wr(),f=jn(),[p,g]=u.useState(""),[v,x]=u.useState(""),[b,j]=u.useState(!0),[P,N]=u.useState(null),[w,S]=u.useState(!1),[C,E]=u.useState(!1);Ne.useEffect(()=>{if(s&&!r&&!o){const U=f.state?.from?.pathname||"/";m(U,{replace:!0})}},[s,r,o,m,f.state]),Ne.useEffect(()=>{s&&o&&E(!0)},[s,o]);const O=async U=>{U.preventDefault(),N(null),S(!0);try{await t(p,v,b)}catch(V){N(V.message||"Falha no login")}finally{S(!1)}},D=()=>{c(),E(!1);const U=f.state?.from?.pathname||"/";m(U,{replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-0 w-full h-1 bg-yellow-400/20 animate-pulse"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-yellow-400/20 animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-3/4 left-0 w-full h-1 bg-yellow-400/20 animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-20 left-10 text-white/10 animate-float",children:e.jsx(Ia,{size:80})}),e.jsx("div",{className:"absolute bottom-20 right-10 text-white/10 animate-float",style:{animationDelay:"2s"},children:e.jsx(Ia,{size:100})}),e.jsx("div",{className:"absolute top-1/2 right-20 text-white/10 animate-float",style:{animationDelay:"4s"},children:e.jsx(Ia,{size:60})}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),e.jsx("div",{className:"relative z-10 flex min-h-screen w-full items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(Ia,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"PROPARKING"}),e.jsx("p",{className:"text-sm font-medium text-blue-300",children:"APP"})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-lg font-semibold text-white/90",children:"2025"}),e.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Sistema de Gesto de Estacionamento"})]})]}),e.jsxs(tt,{className:"backdrop-blur-md bg-white/95 shadow-2xl border-white/20",children:[e.jsxs(Ot,{className:"space-y-1 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(p1,{className:"h-5 w-5 text-primary"}),e.jsx(It,{className:"text-2xl font-bold",children:"Acesso Seguro"})]}),e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Entre com suas credenciais para continuar"})]}),e.jsx(nt,{children:e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"login",className:"text-sm font-medium",children:"Usurio"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{id:"login",value:p,onChange:U=>g(U.target.value),autoComplete:"username",required:!0,className:"pl-10 h-11",placeholder:"Digite seu usurio"}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"password",className:"text-sm font-medium",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{id:"password",type:"password",value:v,onChange:U=>x(U.target.value),autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"Digite sua senha"}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:e.jsx(l1,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ai,{id:"remember",checked:b,onCheckedChange:U=>j(!!U)}),e.jsx(H,{htmlFor:"remember",className:"cursor-pointer select-none text-sm",children:"Lembrar-me"})]}),e.jsx(Ja,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Esqueceu a senha?"})]}),P&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-3",children:e.jsx("p",{className:"text-sm text-destructive font-medium",children:P})}),e.jsx(K,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:w||r,children:w?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Entrando..."]}):"Entrar"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-white/60",children:" 2025 ProParking App. Todos os direitos reservados."})})]})})]}),e.jsx(b_,{open:C,onOpenChange:E,isFirstLogin:l,onSuccess:D})]})},C_="https://theproparking-backend-1rxk.onrender.com";function S_(){const[t,r]=u.useState(""),[s,o]=u.useState(!1),[l,c]=u.useState(""),[m,f]=u.useState(!1),p=async g=>{g.preventDefault(),o(!0),c("");try{const v=await fetch(`${C_}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),x=await v.json();if(!v.ok)throw new Error(x.error||"Erro ao enviar email");f(!0),x._dev?.resetUrl&&console.log(" Link de recuperao:",x._dev.resetUrl)}catch(v){c(v.message)}finally{o(!1)}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email enviado!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Se o email ",e.jsx("strong",{children:t})," estiver cadastrado, voc receber instrues para redefinir sua senha."]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Verifique sua caixa de entrada e tambm a pasta de spam."}),e.jsx(Ja,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:" Voltar para o login"})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Esqueceu a senha?"}),e.jsx("p",{className:"text-gray-600",children:"Digite seu email para receber instrues de recuperao"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[l&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:g=>r(g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:s?"Enviando...":"Enviar instrues"}),e.jsx("div",{className:"text-center",children:e.jsx(Ja,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-900 underline decoration-dotted",children:"Voltar para o login"})})]})]})})}const Ng="https://theproparking-backend-1rxk.onrender.com";function E_(){const[t]=JT(),r=Wr(),s=t.get("token"),o=t.get("email"),[l,c]=u.useState(""),[m,f]=u.useState(""),[p,g]=u.useState(!1),[v,x]=u.useState(!0),[b,j]=u.useState(""),[P,N]=u.useState(!1),[w,S]=u.useState(!1);u.useEffect(()=>{if(!s||!o){j("Link invlido"),x(!1);return}fetch(`${Ng}/auth/validate-reset-token/${s}?email=${encodeURIComponent(o)}`).then(E=>E.json()).then(E=>{E.valid?S(!0):j(E.error||"Token invlido ou expirado")}).catch(()=>{j("Erro ao validar token")}).finally(()=>{x(!1)})},[s,o]);const C=async E=>{if(E.preventDefault(),j(""),l!==m){j("As senhas no coincidem");return}if(l.length<8){j("A senha deve ter no mnimo 8 caracteres");return}g(!0);try{const O=await fetch(`${Ng}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,token:s,newPassword:l})}),D=await O.json();if(!O.ok)throw new Error(D.error||"Erro ao redefinir senha");N(!0),setTimeout(()=>{r("/login")},3e3)}catch(O){j(O.message)}finally{g(!1)}};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Validando link..."})]})}):!w&&b?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link invlido"}),e.jsx("p",{className:"text-gray-600 mb-6",children:b}),e.jsx(Ja,{to:"/forgot-password",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Solicitar novo link"})]})}):P?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Senha redefinida!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para o login..."}),e.jsx(Ja,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:"Ir para o login agora "})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Redefinir senha"}),e.jsx("p",{className:"text-gray-600",children:"Digite sua nova senha"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova senha"}),e.jsx("input",{id:"newPassword",type:"password",required:!0,value:l,onChange:E=>c(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mnimo 8 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar senha"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:m,onChange:E=>f(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite novamente"})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:p?"Redefinindo...":"Redefinir senha"})]})]})})}const T_="https://theproparking-backend-1rxk.onrender.com";function k_(){const[t,r]=u.useState(1),[s,o]=u.useState(!1);Wr();const{toast:l}=Tt(),[c,m]=u.useState({companyName:"",cnpj:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",adminName:"",adminEmail:"",adminLogin:"",adminPassword:"",adminPasswordConfirm:""}),[f,p]=u.useState({}),g=(S,C)=>{m(E=>({...E,[S]:C})),f[S]&&p(E=>({...E,[S]:""}))},v=S=>{const C={};return S===2&&(c.companyName.trim()||(C.companyName="Nome da empresa  obrigatrio"),c.cnpj&&!/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(c.cnpj)&&(C.cnpj="CNPJ invlido (use formato: 00.000.000/0000-00)")),S===3&&(c.adminLogin.trim()||(C.adminLogin="Login  obrigatrio"),c.adminPassword?c.adminPassword.length<6&&(C.adminPassword="Senha deve ter no mnimo 6 caracteres"):C.adminPassword="Senha  obrigatria",c.adminPassword!==c.adminPasswordConfirm&&(C.adminPasswordConfirm="As senhas no coincidem")),p(C),Object.keys(C).length===0},x=()=>{v(t)&&r(S=>S+1)},b=()=>{r(S=>S-1)},j=async()=>{if(v(t)){o(!0);try{const S=await fetch(`${T_}/setup/initialize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),C=await S.json();if(!S.ok)throw new Error(C.error||"Erro ao inicializar o sistema");r(4),setTimeout(()=>{window.location.href="/login"},2e3)}catch(S){l({variant:"destructive",title:"Erro",description:S.message||"Falha ao configurar o sistema"})}finally{o(!1)}}},P=S=>{const C=S.replace(/\D/g,"");return C.length<=14?C.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2"):S},N=S=>S.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").slice(0,9),w=S=>{const C=S.replace(/\D/g,"");return C.length<=11?C.replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2"):S};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs(tt,{className:"w-full max-w-2xl shadow-2xl",children:[e.jsxs(Ot,{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(zu,{className:"w-8 h-8 text-white"})})}),e.jsx(It,{className:"text-3xl font-bold text-gray-800",children:"Bem-vindo ao TheProParkingApp"}),e.jsx(zt,{className:"text-lg",children:"Vamos configurar seu sistema de estacionamento"})]}),e.jsxs(nt,{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center items-center mb-8 gap-2",children:[1,2,3].map(S=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${t>=S?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:S}),S<3&&e.jsx("div",{className:`h-1 w-12 md:w-24 ${t>S?"bg-blue-600":"bg-gray-200"}`})]},S))}),t===1&&e.jsxs("div",{className:"text-center space-y-6 py-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Primeira Execuo"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Este assistente ir gui-lo na configurao inicial do sistema."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx(zu,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Dados da Empresa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Informaes bsicas"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx(cv,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Usurio Admin"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Criar acesso inicial"})]})]}),e.jsx(K,{onClick:x,size:"lg",className:"mt-8",children:"Comear Configurao"})]}),t===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Informaes da Empresa"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"companyName",children:["Nome da Empresa ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"companyName",value:c.companyName,onChange:S=>g("companyName",S.target.value),placeholder:"Estacionamento XYZ",className:f.companyName?"border-red-500":""}),f.companyName&&e.jsx("p",{className:"text-sm text-red-500",children:f.companyName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"cnpj",children:"CNPJ"}),e.jsx(le,{id:"cnpj",value:c.cnpj,onChange:S=>g("cnpj",P(S.target.value)),placeholder:"00.000.000/0000-00",maxLength:18,className:f.cnpj?"border-red-500":""}),f.cnpj&&e.jsx("p",{className:"text-sm text-red-500",children:f.cnpj})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"phone",children:"Telefone"}),e.jsx(le,{id:"phone",value:c.phone,onChange:S=>g("phone",w(S.target.value)),placeholder:"(00) 00000-0000",maxLength:15})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"E-mail"}),e.jsx(le,{id:"email",type:"email",value:c.email,onChange:S=>g("email",S.target.value),placeholder:"contato@empresa.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"address",children:"Endereo"}),e.jsx(le,{id:"address",value:c.address,onChange:S=>g("address",S.target.value),placeholder:"Rua, nmero"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 md:col-span-1",children:[e.jsx(H,{htmlFor:"city",children:"Cidade"}),e.jsx(le,{id:"city",value:c.city,onChange:S=>g("city",S.target.value),placeholder:"So Paulo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"state",children:"Estado"}),e.jsx(le,{id:"state",value:c.state,onChange:S=>g("state",S.target.value.toUpperCase()),placeholder:"SP",maxLength:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"zipCode",children:"CEP"}),e.jsx(le,{id:"zipCode",value:c.zipCode,onChange:S=>g("zipCode",N(S.target.value)),placeholder:"00000-000",maxLength:9})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(K,{onClick:b,variant:"outline",children:"Voltar"}),e.jsx(K,{onClick:x,children:"Prximo"})]})]}),t===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Criar Usurio Administrador"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"adminName",children:"Nome Completo"}),e.jsx(le,{id:"adminName",value:c.adminName,onChange:S=>g("adminName",S.target.value),placeholder:"Joo Silva"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"adminEmail",children:"E-mail"}),e.jsx(le,{id:"adminEmail",type:"email",value:c.adminEmail,onChange:S=>g("adminEmail",S.target.value),placeholder:"admin@empresa.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"adminLogin",children:["Login ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"adminLogin",value:c.adminLogin,onChange:S=>g("adminLogin",S.target.value),placeholder:"admin",className:f.adminLogin?"border-red-500":""}),f.adminLogin&&e.jsx("p",{className:"text-sm text-red-500",children:f.adminLogin})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"adminPassword",children:["Senha ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"adminPassword",type:"password",value:c.adminPassword,onChange:S=>g("adminPassword",S.target.value),placeholder:"Mnimo 6 caracteres",className:f.adminPassword?"border-red-500":""}),f.adminPassword&&e.jsx("p",{className:"text-sm text-red-500",children:f.adminPassword}),c.adminPassword&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${c.adminPassword.length<6?"bg-red-500 w-1/3":c.adminPassword.length<8?"bg-yellow-500 w-2/3":"bg-green-500 w-full"}`})}),e.jsx("p",{className:"text-xs text-gray-600",children:c.adminPassword.length<6?"Senha fraca":c.adminPassword.length<8?"Senha mdia":"Senha forte"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"adminPasswordConfirm",children:["Confirmar Senha ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{id:"adminPasswordConfirm",type:"password",value:c.adminPasswordConfirm,onChange:S=>g("adminPasswordConfirm",S.target.value),placeholder:"Digite a senha novamente",className:f.adminPasswordConfirm?"border-red-500":c.adminPasswordConfirm&&c.adminPassword===c.adminPasswordConfirm?"border-green-500":""}),f.adminPasswordConfirm&&e.jsx("p",{className:"text-sm text-red-500",children:f.adminPasswordConfirm}),c.adminPasswordConfirm&&c.adminPassword===c.adminPasswordConfirm&&e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(Vu,{className:"w-4 h-4"}),"As senhas coincidem"]}),c.adminPasswordConfirm&&c.adminPassword!==c.adminPasswordConfirm&&e.jsx("p",{className:"text-sm text-red-500",children:"As senhas no coincidem"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(K,{onClick:b,variant:"outline",children:"Voltar"}),e.jsx(K,{onClick:j,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(iv,{className:"mr-2 h-4 w-4 animate-spin"}),"Configurando..."]}):"Finalizar Configurao"})]})]}),t===4&&e.jsxs("div",{className:"text-center space-y-6 py-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Vu,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configurao Concluda!"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Seu sistema est pronto para uso."}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:["Use o login ",e.jsx("strong",{children:c.adminLogin})," para acessar o sistema."]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando para a tela de login..."})]})]})]})})}const P_=({open:t,onOpenChange:r})=>{const s=Wr(),o=jn(),l=()=>{o.pathname!=="/financeiro"&&s("/financeiro")};return e.jsx(xt,{open:t,onOpenChange:r,children:e.jsxs(ft,{hideClose:!0,className:"sm:max-w-md","aria-describedby":"cash-register-closed-description",children:[e.jsxs(ht,{children:[e.jsx(pt,{children:"Caixa Fechado"}),e.jsx(ur,{id:"cash-register-closed-description",children:"O caixa est fechado no momento. Abra o caixa para continuar utilizando o sistema."})]}),e.jsx(Ut,{className:"flex justify-end gap-2",children:e.jsx(K,{onClick:l,children:"Abrir Caixa"})})]})})},R_=new W2;let Mn="https://theproparking-backend-1rxk.onrender.com";Mn.endsWith("/")&&(Mn=Mn.slice(0,-1));if(Mn.startsWith("http://")||Mn.startsWith("https://"))try{const t=new URL(Mn);Mn=`${t.protocol}//${t.host}`}catch{const r=Mn.match(/^(https?:\/\/[^\/]+)/);r&&(Mn=r[1])}Mn.endsWith("/api")||(Mn=`${Mn}/api`);const M_=Mn,D_=({children:t})=>{const[r,s]=u.useState(!0),[o,l]=u.useState(!1),c=jn();return u.useEffect(()=>{if(c.pathname==="/setup"){s(!1);return}(async()=>{const f=setTimeout(()=>{l(!1),s(!1)},15e3);try{const p=new AbortController,g=setTimeout(()=>p.abort(),12e3),v=`${M_}/setup/check-first-run`,x=await fetch(v,{signal:p.signal});clearTimeout(g),clearTimeout(f);const b=x.headers.get("content-type");if(!b||!b.includes("application/json")){const P=await x.text();throw console.warn("[SetupGuard] Non-JSON response - backend may be hibernating"),new Error("Server returned non-JSON response")}const j=await x.json();l(j.needsSetup||!1)}catch(p){clearTimeout(f),p.name==="AbortError"||p.message?.includes("aborted")||p.message?.includes("CORS")||p.message?.includes("NetworkError")||p.message?.includes("Failed to fetch")||console.warn("[SetupGuard] Setup check failed, proceeding anyway:",p.message||p),l(!1)}finally{s(!1)}})()},[c.pathname]),r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Verificando configurao..."})]})}):o&&c.pathname!=="/setup"?e.jsx(rm,{to:"/setup",replace:!0}):e.jsx(e.Fragment,{children:t})},sr=({children:t,required:r})=>{const{cashIsOpen:s}=qn(),{isAuthenticated:o,loading:l,hasPermission:c}=bn(),m=jn();if(l)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!o)return e.jsx(rm,{to:"/login",replace:!0,state:{from:m}});if(r&&!(Array.isArray(r)?r:[r]).every(b=>c(b)))return e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no possui as permisses necessrias."})]})});const f=m.pathname==="/financeiro",p=m.pathname==="/relatorios-mensais",g=!s&&!f&&!p;return e.jsxs(e.Fragment,{children:[e.jsx(P_,{open:g}),g?e.jsx(rm,{to:"/financeiro",replace:!0}):e.jsx(e.Fragment,{children:t})]})},A_=()=>e.jsx(G2,{client:R_,children:e.jsx(nk,{children:e.jsx(rk,{children:e.jsxs(y2,{children:[e.jsx(tS,{}),e.jsx(AS,{}),e.jsx(WT,{children:e.jsx(D_,{children:e.jsx(O_,{children:e.jsxs(IT,{children:[e.jsx(Qt,{path:"/setup",element:e.jsx(k_,{})}),e.jsx(Qt,{path:"/login",element:e.jsx(N_,{})}),e.jsx(Qt,{path:"/forgot-password",element:e.jsx(S_,{})}),e.jsx(Qt,{path:"/reset-password",element:e.jsx(E_,{})}),e.jsx(Qt,{path:"/",element:e.jsx(sr,{required:["openCloseCash"],children:e.jsx(qM,{})})}),e.jsx(Qt,{path:"/mensalistas",element:e.jsx(sr,{required:["manageMonthlyCustomers"],children:e.jsx(hA,{})})}),e.jsx(Qt,{path:"/financeiro",element:e.jsx(sr,{required:["viewReports"],children:e.jsx(TA,{})})}),e.jsx(Qt,{path:"/relatorios-mensais",element:e.jsx(sr,{required:["viewReports"],children:e.jsx(PA,{})})}),e.jsx(Qt,{path:"/users",element:e.jsx(sr,{required:["manageUsers"],children:e.jsx(MA,{})})}),e.jsx(Qt,{path:"/tarifas",element:e.jsx(sr,{required:["manageRates"],children:e.jsx(XA,{})})}),e.jsx(Qt,{path:"/integracoes",element:e.jsx(sr,{children:e.jsx(ZA,{})})}),e.jsx(Qt,{path:"/modelos-recibos",element:e.jsx(sr,{children:e.jsx(x_,{})})}),e.jsx(Qt,{path:"/horarios-feriados",element:e.jsx(sr,{required:["manageCompanyConfig"],children:e.jsx(y_,{})})}),e.jsx(Qt,{path:"/configuracoes-dashboard",element:e.jsx(sr,{required:["viewReports"],children:e.jsx(w_,{})})}),e.jsx(Qt,{path:"/configuracoes",element:e.jsx(sr,{children:e.jsx(UA,{})})}),e.jsx(Qt,{path:"*",element:e.jsx(j_,{})})]})})})})]})})})}),__=()=>{const t=jn();return t.pathname==="/login"||t.pathname==="/setup"||t.pathname==="/forgot-password"||t.pathname==="/reset-password"?null:e.jsx(sk,{})},O_=({children:t})=>{const r=jn();return r.pathname==="/login"||r.pathname==="/setup"||r.pathname==="/forgot-password"||r.pathname==="/reset-password"?e.jsx(e.Fragment,{children:t}):e.jsxs("div",{className:"flex min-h-screen w-full",children:[e.jsx(__,{}),t]})};ZN.createRoot(document.getElementById("root")).render(e.jsx(A_,{}));
