function b_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ww(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kg={exports:{}},yh={},Eg={exports:{}},Cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function j_(){if(W1)return Cr;W1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),d=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(D,T,I){this.props=D,this.context=T,this.refs=j,this.updater=I||p}N.prototype.isReactComponent={},N.prototype.setState=function(D,T){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,T,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=N.prototype;function k(D,T,I){this.props=D,this.context=T,this.refs=j,this.updater=I||p}var E=k.prototype=new P;E.constructor=k,S(E,N.prototype),E.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,ae={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function te(D,T,I){var G,J={},ce=null,se=null;if(T!=null)for(G in T.ref!==void 0&&(se=T.ref),T.key!==void 0&&(ce=""+T.key),T)B.call(T,G)&&!W.hasOwnProperty(G)&&(J[G]=T[G]);var pe=arguments.length-2;if(pe===1)J.children=I;else if(1<pe){for(var le=Array(pe),be=0;be<pe;be++)le[be]=arguments[be+2];J.children=le}if(D&&D.defaultProps)for(G in pe=D.defaultProps,pe)J[G]===void 0&&(J[G]=pe[G]);return{$$typeof:e,type:D,key:ce,ref:se,props:J,_owner:ae.current}}function K(D,T){return{$$typeof:e,type:D.type,key:T,ref:D.ref,props:D.props,_owner:D._owner}}function oe(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function L(D){var T={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(I){return T[I]})}var F=/\/+/g;function z(D,T){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):T.toString(36)}function q(D,T,I,G,J){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var se=!1;if(D===null)se=!0;else switch(ce){case"string":case"number":se=!0;break;case"object":switch(D.$$typeof){case e:case t:se=!0}}if(se)return se=D,J=J(se),D=G===""?"."+z(se,0):G,O(J)?(I="",D!=null&&(I=D.replace(F,"$&/")+"/"),q(J,T,I,"",function(be){return be})):J!=null&&(oe(J)&&(J=K(J,I+(!J.key||se&&se.key===J.key?"":(""+J.key).replace(F,"$&/")+"/")+D)),T.push(J)),1;if(se=0,G=G===""?".":G+":",O(D))for(var pe=0;pe<D.length;pe++){ce=D[pe];var le=G+z(ce,pe);se+=q(ce,T,I,le,J)}else if(le=w(D),typeof le=="function")for(D=le.call(D),pe=0;!(ce=D.next()).done;)ce=ce.value,le=G+z(ce,pe++),se+=q(ce,T,I,le,J);else if(ce==="object")throw T=String(D),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return se}function ge(D,T,I){if(D==null)return D;var G=[],J=0;return q(D,G,"","",function(ce){return T.call(I,ce,J++)}),G}function fe(D){if(D._status===-1){var T=D._result;T=T(),T.then(function(I){(D._status===0||D._status===-1)&&(D._status=1,D._result=I)},function(I){(D._status===0||D._status===-1)&&(D._status=2,D._result=I)}),D._status===-1&&(D._status=0,D._result=T)}if(D._status===1)return D._result.default;throw D._result}var ye={current:null},U={transition:null},$={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:U,ReactCurrentOwner:ae};function H(){throw Error("act(...) is not supported in production builds of React.")}return Cr.Children={map:ge,forEach:function(D,T,I){ge(D,function(){T.apply(this,arguments)},I)},count:function(D){var T=0;return ge(D,function(){T++}),T},toArray:function(D){return ge(D,function(T){return T})||[]},only:function(D){if(!oe(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Cr.Component=N,Cr.Fragment=n,Cr.Profiler=s,Cr.PureComponent=k,Cr.StrictMode=a,Cr.Suspense=u,Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Cr.act=H,Cr.cloneElement=function(D,T,I){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var G=S({},D.props),J=D.key,ce=D.ref,se=D._owner;if(T!=null){if(T.ref!==void 0&&(ce=T.ref,se=ae.current),T.key!==void 0&&(J=""+T.key),D.type&&D.type.defaultProps)var pe=D.type.defaultProps;for(le in T)B.call(T,le)&&!W.hasOwnProperty(le)&&(G[le]=T[le]===void 0&&pe!==void 0?pe[le]:T[le])}var le=arguments.length-2;if(le===1)G.children=I;else if(1<le){pe=Array(le);for(var be=0;be<le;be++)pe[be]=arguments[be+2];G.children=pe}return{$$typeof:e,type:D.type,key:J,ref:ce,props:G,_owner:se}},Cr.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:i,_context:D},D.Consumer=D},Cr.createElement=te,Cr.createFactory=function(D){var T=te.bind(null,D);return T.type=D,T},Cr.createRef=function(){return{current:null}},Cr.forwardRef=function(D){return{$$typeof:c,render:D}},Cr.isValidElement=oe,Cr.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:fe}},Cr.memo=function(D,T){return{$$typeof:h,type:D,compare:T===void 0?null:T}},Cr.startTransition=function(D){var T=U.transition;U.transition={};try{D()}finally{U.transition=T}},Cr.unstable_act=H,Cr.useCallback=function(D,T){return ye.current.useCallback(D,T)},Cr.useContext=function(D){return ye.current.useContext(D)},Cr.useDebugValue=function(){},Cr.useDeferredValue=function(D){return ye.current.useDeferredValue(D)},Cr.useEffect=function(D,T){return ye.current.useEffect(D,T)},Cr.useId=function(){return ye.current.useId()},Cr.useImperativeHandle=function(D,T,I){return ye.current.useImperativeHandle(D,T,I)},Cr.useInsertionEffect=function(D,T){return ye.current.useInsertionEffect(D,T)},Cr.useLayoutEffect=function(D,T){return ye.current.useLayoutEffect(D,T)},Cr.useMemo=function(D,T){return ye.current.useMemo(D,T)},Cr.useReducer=function(D,T,I){return ye.current.useReducer(D,T,I)},Cr.useRef=function(D){return ye.current.useRef(D)},Cr.useState=function(D){return ye.current.useState(D)},Cr.useSyncExternalStore=function(D,T,I){return ye.current.useSyncExternalStore(D,T,I)},Cr.useTransition=function(){return ye.current.useTransition()},Cr.version="18.3.1",Cr}var G1;function Av(){return G1||(G1=1,Eg.exports=j_()),Eg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function N_(){if(Y1)return yh;Y1=1;var e=Av(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(c,u,h){var m,g={},w=null,p=null;h!==void 0&&(w=""+h),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(p=u.ref);for(m in u)a.call(u,m)&&!i.hasOwnProperty(m)&&(g[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)g[m]===void 0&&(g[m]=u[m]);return{$$typeof:t,type:c,key:w,ref:p,props:g,_owner:s.current}}return yh.Fragment=n,yh.jsx=d,yh.jsxs=d,yh}var K1;function S_(){return K1||(K1=1,kg.exports=N_()),kg.exports}var r=S_(),qf={},Ag={exports:{}},ws={},Tg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function C_(){return J1||(J1=1,(function(e){function t(U,$){var H=U.length;U.push($);e:for(;0<H;){var D=H-1>>>1,T=U[D];if(0<s(T,$))U[D]=$,U[H]=T,H=D;else break e}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var $=U[0],H=U.pop();if(H!==$){U[0]=H;e:for(var D=0,T=U.length,I=T>>>1;D<I;){var G=2*(D+1)-1,J=U[G],ce=G+1,se=U[ce];if(0>s(J,H))ce<T&&0>s(se,J)?(U[D]=se,U[ce]=H,D=ce):(U[D]=J,U[G]=H,D=G);else if(ce<T&&0>s(se,H))U[D]=se,U[ce]=H,D=ce;else break e}}return $}function s(U,$){var H=U.sortIndex-$.sortIndex;return H!==0?H:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var d=Date,c=d.now();e.unstable_now=function(){return d.now()-c}}var u=[],h=[],m=1,g=null,w=3,p=!1,S=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var $=n(h);$!==null;){if($.callback===null)a(h);else if($.startTime<=U)a(h),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(h)}}function O(U){if(j=!1,E(U),!S)if(n(u)!==null)S=!0,fe(B);else{var $=n(h);$!==null&&ye(O,$.startTime-U)}}function B(U,$){S=!1,j&&(j=!1,P(te),te=-1),p=!0;var H=w;try{for(E($),g=n(u);g!==null&&(!(g.expirationTime>$)||U&&!L());){var D=g.callback;if(typeof D=="function"){g.callback=null,w=g.priorityLevel;var T=D(g.expirationTime<=$);$=e.unstable_now(),typeof T=="function"?g.callback=T:g===n(u)&&a(u),E($)}else a(u);g=n(u)}if(g!==null)var I=!0;else{var G=n(h);G!==null&&ye(O,G.startTime-$),I=!1}return I}finally{g=null,w=H,p=!1}}var ae=!1,W=null,te=-1,K=5,oe=-1;function L(){return!(e.unstable_now()-oe<K)}function F(){if(W!==null){var U=e.unstable_now();oe=U;var $=!0;try{$=W(!0,U)}finally{$?z():(ae=!1,W=null)}}else ae=!1}var z;if(typeof k=="function")z=function(){k(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ge=q.port2;q.port1.onmessage=F,z=function(){ge.postMessage(null)}}else z=function(){N(F,0)};function fe(U){W=U,ae||(ae=!0,z())}function ye(U,$){te=N(function(){U(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){S||p||(S=!0,fe(B))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(U){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var H=w;w=$;try{return U()}finally{w=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=w;w=U;try{return $()}finally{w=H}},e.unstable_scheduleCallback=function(U,$,H){var D=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=H+T,U={id:m++,callback:$,priorityLevel:U,startTime:H,expirationTime:T,sortIndex:-1},H>D?(U.sortIndex=H,t(h,U),n(u)===null&&U===n(h)&&(j?(P(te),te=-1):j=!0,ye(O,H-D))):(U.sortIndex=T,t(u,U),S||p||(S=!0,fe(B))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var $=w;return function(){var H=w;w=$;try{return U.apply(this,arguments)}finally{w=H}}}})(Rg)),Rg}var X1;function __(){return X1||(X1=1,Tg.exports=C_()),Tg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function P_(){if(Q1)return ws;Q1=1;var e=Av(),t=__();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,l){d(o,l),d(o+"Capture",l)}function d(o,l){for(s[o]=l,o=0;o<l.length;o++)a.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(o){return u.call(g,o)?!0:u.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function p(o,l,f,y){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,l,f,y){if(l===null||typeof l>"u"||p(o,l,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function j(o,l,f,y,_,R,X){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=R,this.removeEmptyString=X}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new j(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];N[l]=new j(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new j(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new j(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new j(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new j(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new j(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new j(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new j(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(P,k);N[l]=new j(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(P,k);N[l]=new j(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(P,k);N[l]=new j(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new j(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new j(o,1,!1,o.toLowerCase(),null,!0,!0)});function E(o,l,f,y){var _=N.hasOwnProperty(l)?N[l]:null;(_!==null?_.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,f,_,y)&&(f=null),y||_===null?w(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):_.mustUseProperty?o[_.propertyName]=f===null?_.type===3?!1:"":f:(l=_.attributeName,y=_.attributeNamespace,f===null?o.removeAttribute(l):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,y?o.setAttributeNS(y,l,f):o.setAttribute(l,f))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),ae=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),U=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=U&&o[U]||o["@@iterator"],typeof o=="function"?o:null)}var H=Object.assign,D;function T(o){if(D===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);D=l&&l[1]||""}return`
`+D+o}var I=!1;function G(o,l){if(!o||I)return"";I=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Be){var y=Be}Reflect.construct(o,[],l)}else{try{l.call()}catch(Be){y=Be}o.call(l.prototype)}else{try{throw Error()}catch(Be){y=Be}o()}}catch(Be){if(Be&&y&&typeof Be.stack=="string"){for(var _=Be.stack.split(`
`),R=y.stack.split(`
`),X=_.length-1,ve=R.length-1;1<=X&&0<=ve&&_[X]!==R[ve];)ve--;for(;1<=X&&0<=ve;X--,ve--)if(_[X]!==R[ve]){if(X!==1||ve!==1)do if(X--,ve--,0>ve||_[X]!==R[ve]){var _e=`
`+_[X].replace(" at new "," at ");return o.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",o.displayName)),_e}while(1<=X&&0<=ve);break}}}finally{I=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?T(o):""}function J(o){switch(o.tag){case 5:return T(o.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return o=G(o.type,!1),o;case 11:return o=G(o.type.render,!1),o;case 1:return o=G(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case W:return"Fragment";case ae:return"Portal";case K:return"Profiler";case te:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case oe:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ge:return l=o.displayName||null,l!==null?l:ce(o.type)||"Memo";case fe:l=o._payload,o=o._init;try{return ce(o(l))}catch{}}return null}function se(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(l);case 8:return l===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function pe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function le(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function be(o){var l=le(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,R=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(X){y=""+X,R.call(this,X)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(X){y=""+X},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ee(o){o._valueTracker||(o._valueTracker=be(o))}function Q(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=le(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function Te(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ve(o,l){var f=l.checked;return H({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function re(o,l){var f=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;f=pe(l.value!=null?l.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function we(o,l){l=l.checked,l!=null&&E(o,"checked",l,!1)}function Xe(o,l){we(o,l);var f=pe(l.value),y=l.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?qe(o,l.type,f):l.hasOwnProperty("defaultValue")&&qe(o,l.type,pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function lt(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function qe(o,l,f){(l!=="number"||Te(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var st=Array.isArray;function Ze(o,l,f,y){if(o=o.options,l){l={};for(var _=0;_<f.length;_++)l["$"+f[_]]=!0;for(f=0;f<o.length;f++)_=l.hasOwnProperty("$"+o[f].value),o[f].selected!==_&&(o[f].selected=_),_&&y&&(o[f].defaultSelected=!0)}else{for(f=""+pe(f),l=null,_=0;_<o.length;_++){if(o[_].value===f){o[_].selected=!0,y&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function pt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ct(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(st(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:pe(f)}}function zt(o,l){var f=pe(l.value),y=pe(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function Se(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function me(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?me(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ze,Ye=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,y,_){MSApp.execUnsafeLocalFunction(function(){return o(l,f,y,_)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ze.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ht(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yt=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(o){Yt.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),dt[l]=dt[o]})});function Vt(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||dt.hasOwnProperty(o)&&dt[o]?(""+l).trim():l+"px"}function Wt(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var y=f.indexOf("--")===0,_=Vt(f,l[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,_):o[f]=_}}var Gt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(o,l){if(l){if(Gt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function kt(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function $t(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vt=null,pr=null,Xt=null;function Et(o){if(o=Ql(o)){if(typeof vt!="function")throw Error(n(280));var l=o.stateNode;l&&(l=td(l),vt(o.stateNode,o.type,l))}}function Re(o){pr?Xt?Xt.push(o):Xt=[o]:pr=o}function et(){if(pr){var o=pr,l=Xt;if(Xt=pr=null,Et(o),l)for(o=0;o<l.length;o++)Et(l[o])}}function gt(o,l){return o(l)}function Qt(){}var Nr=!1;function yt(o,l,f){if(Nr)return o(l,f);Nr=!0;try{return gt(o,l,f)}finally{Nr=!1,(pr!==null||Xt!==null)&&(Qt(),et())}}function Pr(o,l){var f=o.stateNode;if(f===null)return null;var y=td(f);if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var Zr=!1;if(c)try{var br={};Object.defineProperty(br,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Zr=!1}function Wr(o,l,f,y,_,R,X,ve,_e){var Be=Array.prototype.slice.call(arguments,3);try{l.apply(f,Be)}catch(at){this.onError(at)}}var Rr=!1,on=null,xn=!1,bo=null,ni={onError:function(o){Rr=!0,on=o}};function _s(o,l,f,y,_,R,X,ve,_e){Rr=!1,on=null,Wr.apply(ni,arguments)}function Ks(o,l,f,y,_,R,X,ve,_e){if(_s.apply(this,arguments),Rr){if(Rr){var Be=on;Rr=!1,on=null}else throw Error(n(198));xn||(xn=!0,bo=Be)}}function ta(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function os(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function qa(o){if(ta(o)!==o)throw Error(n(188))}function Fi(o){var l=o.alternate;if(!l){if(l=ta(o),l===null)throw Error(n(188));return l!==o?null:o}for(var f=o,y=l;;){var _=f.return;if(_===null)break;var R=_.alternate;if(R===null){if(y=_.return,y!==null){f=y;continue}break}if(_.child===R.child){for(R=_.child;R;){if(R===f)return qa(_),o;if(R===y)return qa(_),l;R=R.sibling}throw Error(n(188))}if(f.return!==y.return)f=_,y=R;else{for(var X=!1,ve=_.child;ve;){if(ve===f){X=!0,f=_,y=R;break}if(ve===y){X=!0,y=_,f=R;break}ve=ve.sibling}if(!X){for(ve=R.child;ve;){if(ve===f){X=!0,f=R,y=_;break}if(ve===y){X=!0,y=R,f=_;break}ve=ve.sibling}if(!X)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:l}function Ps(o){return o=Fi(o),o!==null?ai(o):null}function ai(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ai(o);if(l!==null)return l;o=o.sibling}return null}var Oi=t.unstable_scheduleCallback,Ii=t.unstable_cancelCallback,Al=t.unstable_shouldYield,Wu=t.unstable_requestPaint,rn=t.unstable_now,Td=t.unstable_getCurrentPriorityLevel,Tl=t.unstable_ImmediatePriority,Va=t.unstable_UserBlockingPriority,si=t.unstable_NormalPriority,Rd=t.unstable_LowPriority,Rl=t.unstable_IdlePriority,$i=null,Ha=null;function Dd(o){if(Ha&&typeof Ha.onCommitFiberRoot=="function")try{Ha.onCommitFiberRoot($i,o,void 0,(o.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:Dn,Dl=Math.log,Gu=Math.LN2;function Dn(o){return o>>>=0,o===0?32:31-(Dl(o)/Gu|0)|0}var Bi=64,Wa=4194304;function Js(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function zi(o,l){var f=o.pendingLanes;if(f===0)return 0;var y=0,_=o.suspendedLanes,R=o.pingedLanes,X=f&268435455;if(X!==0){var ve=X&~_;ve!==0?y=Js(ve):(R&=X,R!==0&&(y=Js(R)))}else X=f&~_,X!==0?y=Js(X):R!==0&&(y=Js(R));if(y===0)return 0;if(l!==0&&l!==y&&(l&_)===0&&(_=y&-y,R=l&-l,_>=R||_===16&&(R&4194240)!==0))return l;if((y&4)!==0&&(y|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)f=31-Rn(l),_=1<<f,y|=o[f],l&=~_;return y}function is(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,_=o.expirationTimes,R=o.pendingLanes;0<R;){var X=31-Rn(R),ve=1<<X,_e=_[X];_e===-1?((ve&f)===0||(ve&y)!==0)&&(_[X]=is(ve,l)):_e<=l&&(o.expiredLanes|=ve),R&=~ve}}function ks(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Oc(){var o=Bi;return Bi<<=1,(Bi&4194240)===0&&(Bi=64),o}function Ic(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Ui(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Rn(l),o[l]=f}function Xs(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var _=31-Rn(f),R=1<<_;l[_]=0,y[_]=-1,o[_]=-1,f&=~R}}function Ll(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-Rn(f),_=1<<y;_&l|o[y]&l&&(o[y]|=l),f&=~_}}var Dr=0;function qi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var oi,$c,Ld,Md,Ml,Fl=!1,_a=[],Qs=null,Pa=null,ls=null,Vi=new Map,Zt=new Map,Zs=[],Yu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(o,l){switch(o){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Vi.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zt.delete(l.pointerId)}}function Ga(o,l,f,y,_,R){return o===null||o.nativeEvent!==R?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:R,targetContainers:[_]},l!==null&&(l=Ql(l),l!==null&&$c(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function jo(o,l,f,y,_){switch(l){case"focusin":return Qs=Ga(Qs,o,l,f,y,_),!0;case"dragenter":return Pa=Ga(Pa,o,l,f,y,_),!0;case"mouseover":return ls=Ga(ls,o,l,f,y,_),!0;case"pointerover":var R=_.pointerId;return Vi.set(R,Ga(Vi.get(R)||null,o,l,f,y,_)),!0;case"gotpointercapture":return R=_.pointerId,Zt.set(R,Ga(Zt.get(R)||null,o,l,f,y,_)),!0}return!1}function Od(o){var l=xi(o.target);if(l!==null){var f=ta(l);if(f!==null){if(l=f.tag,l===13){if(l=os(f),l!==null){o.blockedOn=l,Ml(o.priority,function(){Ld(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ol(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Gi(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);_r=y,f.target.dispatchEvent(y),_r=null}else return l=Ql(f),l!==null&&$c(l),o.blockedOn=f,!1;l.shift()}return!0}function Hi(o,l,f){Ol(o)&&f.delete(l)}function Bc(){Fl=!1,Qs!==null&&Ol(Qs)&&(Qs=null),Pa!==null&&Ol(Pa)&&(Pa=null),ls!==null&&Ol(ls)&&(ls=null),Vi.forEach(Hi),Zt.forEach(Hi)}function Es(o,l){o.blockedOn===l&&(o.blockedOn=null,Fl||(Fl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Bc)))}function Wi(o){function l(_){return Es(_,o)}if(0<_a.length){Es(_a[0],o);for(var f=1;f<_a.length;f++){var y=_a[f];y.blockedOn===o&&(y.blockedOn=null)}}for(Qs!==null&&Es(Qs,o),Pa!==null&&Es(Pa,o),ls!==null&&Es(ls,o),Vi.forEach(l),Zt.forEach(l),f=0;f<Zs.length;f++)y=Zs[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<Zs.length&&(f=Zs[0],f.blockedOn===null);)Od(f),f.blockedOn===null&&Zs.shift()}var ka=O.ReactCurrentBatchConfig,Il=!0;function zc(o,l,f,y){var _=Dr,R=ka.transition;ka.transition=null;try{Dr=1,$l(o,l,f,y)}finally{Dr=_,ka.transition=R}}function Uc(o,l,f,y){var _=Dr,R=ka.transition;ka.transition=null;try{Dr=4,$l(o,l,f,y)}finally{Dr=_,ka.transition=R}}function $l(o,l,f,y){if(Il){var _=Gi(o,l,f,y);if(_===null)Qc(o,l,y,cs,f),Fd(o,y);else if(jo(_,o,l,f,y))y.stopPropagation();else if(Fd(o,y),l&4&&-1<Yu.indexOf(o)){for(;_!==null;){var R=Ql(_);if(R!==null&&oi(R),R=Gi(o,l,f,y),R===null&&Qc(o,l,y,cs,f),R===_)break;_=R}_!==null&&y.stopPropagation()}else Qc(o,l,y,null,f)}}var cs=null;function Gi(o,l,f,y){if(cs=null,o=$t(y),o=xi(o),o!==null)if(l=ta(o),l===null)o=null;else if(f=l.tag,f===13){if(o=os(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return cs=o,null}function Yi(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Td()){case Tl:return 1;case Va:return 4;case si:case Rd:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var ds=null,No=null,ii=null;function qc(){if(ii)return ii;var o,l=No,f=l.length,y,_="value"in ds?ds.value:ds.textContent,R=_.length;for(o=0;o<f&&l[o]===_[o];o++);var X=f-o;for(y=1;y<=X&&l[f-y]===_[R-y];y++);return ii=_.slice(o,1<y?1-y:void 0)}function Ki(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function us(){return!0}function eo(){return!1}function la(o){function l(f,y,_,R,X){this._reactName=f,this._targetInst=_,this.type=y,this.nativeEvent=R,this.target=X,this.currentTarget=null;for(var ve in o)o.hasOwnProperty(ve)&&(f=o[ve],this[ve]=f?f(R):R[ve]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?us:eo,this.isPropagationStopped=eo,this}return H(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),l}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=la(hs),C=H({},hs,{view:0,detail:0}),Y=la(C),he,je,Ae,Ge=H({},C,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ae&&(Ae&&o.type==="mousemove"?(he=o.screenX-Ae.screenX,je=o.screenY-Ae.screenY):je=he=0,Ae=o),he)},movementY:function(o){return"movementY"in o?o.movementY:je}}),tt=la(Ge),_t=H({},Ge,{dataTransfer:0}),Ot=la(_t),tr=H({},C,{relatedTarget:0}),sr=la(tr),Tr=H({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),hn=la(Tr),Ln=H({},hs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),en=la(Ln),qn=H({},hs,{data:0}),Sn=la(qn),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},As={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=As[o])?!!l[o]:!1}function Ji(){return Co}var zl=H({},C,{key:function(o){if(o.key){var l=ra[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ki(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?So[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(o){return o.type==="keypress"?Ki(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ki(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),li=la(zl),Xi=H({},Ge,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ci=la(Xi),di=H({},C,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),na=la(di),Qi=H({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zi=la(Qi),Vc=H({},Ge,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Hc=la(Vc),ya=[9,13,27,32],Ts=c&&"CompositionEvent"in window,to=null;c&&"documentMode"in document&&(to=document.documentMode);var Id=c&&"TextEvent"in window&&!to,Ya=c&&(!Ts||to&&8<to&&11>=to),ui=" ",Ul=!1;function ql(o,l){switch(o){case"keyup":return ya.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fs=!1;function Ka(o,l){switch(o){case"compositionend":return _o(l);case"keypress":return l.which!==32?null:(Ul=!0,ui);case"textInput":return o=l.data,o===ui&&Ul?null:o;default:return null}}function Ja(o,l){if(fs)return o==="compositionend"||!Ts&&ql(o,l)?(o=qc(),ii=No=ds=null,fs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ya&&l.locale!=="ko"?null:l.data;default:return null}}var hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ro(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!hi[o.type]:l==="textarea"}function Po(o,l,f,y){Re(y),l=qd(l,"onChange"),0<l.length&&(f=new Bl("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var ko=null,no=null;function Cn(o){Jc(o,0)}function el(o){var l=dl(o);if(Q(l))return o}function ao(o,l){if(o==="change")return l}var Rs=!1;if(c){var tl;if(c){var rl="oninput"in document;if(!rl){var Vl=document.createElement("div");Vl.setAttribute("oninput","return;"),rl=typeof Vl.oninput=="function"}tl=rl}else tl=!1;Rs=tl&&(!document.documentMode||9<document.documentMode)}function Hl(){ko&&(ko.detachEvent("onpropertychange",Eo),no=ko=null)}function Eo(o){if(o.propertyName==="value"&&el(no)){var l=[];Po(l,no,o,$t(o)),yt(Cn,l)}}function fi(o,l,f){o==="focusin"?(Hl(),ko=l,no=f,ko.attachEvent("onpropertychange",Eo)):o==="focusout"&&Hl()}function mi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return el(no)}function nl(o,l){if(o==="click")return el(l)}function pi(o,l){if(o==="input"||o==="change")return el(l)}function al(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var vn=typeof Object.is=="function"?Object.is:al;function Ea(o,l){if(vn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var _=f[y];if(!u.call(l,_)||!vn(o[_],l[_]))return!1}return!0}function Mr(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ur(o,l){var f=Mr(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Mr(f)}}function yn(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?yn(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Mn(){for(var o=window,l=Te();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Te(o.document)}return l}function Ds(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Wc(o){var l=Mn(),f=o.focusedElem,y=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&yn(f.ownerDocument.documentElement,f)){if(y!==null&&Ds(f)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=f.textContent.length,R=Math.min(y.start,_);y=y.end===void 0?R:Math.min(y.end,_),!o.extend&&R>y&&(_=y,y=R,R=_),_=Ur(f,R);var X=Ur(f,y);_&&X&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==X.node||o.focusOffset!==X.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),R>y?(o.addRange(l),o.extend(X.node,X.offset)):(l.setEnd(X.node,X.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Wl=c&&"documentMode"in document&&11>=document.documentMode,Ao=null,$d=null,Gl=null,Bd=!1;function Ku(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Bd||Ao==null||Ao!==Te(y)||(y=Ao,"selectionStart"in y&&Ds(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Gl&&Ea(Gl,y)||(Gl=y,y=qd($d,"onSelect"),0<y.length&&(l=new Bl("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=Ao)))}function Gc(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var sl={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},ol={},Ju={};c&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Yc(o){if(ol[o])return ol[o];if(!sl[o])return o;var l=sl[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in Ju)return ol[o]=l[f];return o}var Xu=Yc("animationend"),Qu=Yc("animationiteration"),Zu=Yc("animationstart"),eh=Yc("transitionend"),th=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(o,l){th.set(o,l),i(l,[o])}for(var Yl=0;Yl<rh.length;Yl++){var wa=rh[Yl],ms=wa.toLowerCase(),zd=wa[0].toUpperCase()+wa.slice(1);so(ms,"on"+zd)}so(Xu,"onAnimationEnd"),so(Qu,"onAnimationIteration"),so(Zu,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(eh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cf=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function Kc(o,l,f){var y=o.type||"unknown-event";o.currentTarget=f,Ks(y,l,void 0,o),o.currentTarget=null}function Jc(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],_=y.event;y=y.listeners;e:{var R=void 0;if(l)for(var X=y.length-1;0<=X;X--){var ve=y[X],_e=ve.instance,Be=ve.currentTarget;if(ve=ve.listener,_e!==R&&_.isPropagationStopped())break e;Kc(_,ve,Be),R=_e}else for(X=0;X<y.length;X++){if(ve=y[X],_e=ve.instance,Be=ve.currentTarget,ve=ve.listener,_e!==R&&_.isPropagationStopped())break e;Kc(_,ve,Be),R=_e}}}if(xn)throw o=bo,xn=!1,bo=null,o}function Gr(o,l){var f=l[Ta];f===void 0&&(f=l[Ta]=new Set);var y=o+"__bubble";f.has(y)||(Xc(l,o,2,!1),f.add(y))}function Ud(o,l,f){var y=0;l&&(y|=4),Xc(f,o,y,l)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function il(o){if(!o[Kl]){o[Kl]=!0,a.forEach(function(f){f!=="selectionchange"&&(cf.has(f)||Ud(f,!1,o),Ud(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Kl]||(l[Kl]=!0,Ud("selectionchange",!1,l))}}function Xc(o,l,f,y){switch(Yi(l)){case 1:var _=zc;break;case 4:_=Uc;break;default:_=$l}f=_.bind(null,l,f,o),_=void 0,!Zr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),y?_!==void 0?o.addEventListener(l,f,{capture:!0,passive:_}):o.addEventListener(l,f,!0):_!==void 0?o.addEventListener(l,f,{passive:_}):o.addEventListener(l,f,!1)}function Qc(o,l,f,y,_){var R=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var X=y.tag;if(X===3||X===4){var ve=y.stateNode.containerInfo;if(ve===_||ve.nodeType===8&&ve.parentNode===_)break;if(X===4)for(X=y.return;X!==null;){var _e=X.tag;if((_e===3||_e===4)&&(_e=X.stateNode.containerInfo,_e===_||_e.nodeType===8&&_e.parentNode===_))return;X=X.return}for(;ve!==null;){if(X=xi(ve),X===null)return;if(_e=X.tag,_e===5||_e===6){y=R=X;continue e}ve=ve.parentNode}}y=y.return}yt(function(){var Be=R,at=$t(f),it=[];e:{var nt=th.get(o);if(nt!==void 0){var bt=Bl,At=o;switch(o){case"keypress":if(Ki(f)===0)break e;case"keydown":case"keyup":bt=li;break;case"focusin":At="focus",bt=sr;break;case"focusout":At="blur",bt=sr;break;case"beforeblur":case"afterblur":bt=sr;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Ot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=na;break;case Xu:case Qu:case Zu:bt=hn;break;case eh:bt=Zi;break;case"scroll":bt=Y;break;case"wheel":bt=Hc;break;case"copy":case"cut":case"paste":bt=en;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=ci}var Ft=(l&4)!==0,Wn=!Ft&&o==="scroll",Oe=Ft?nt!==null?nt+"Capture":null:nt;Ft=[];for(var ke=Be,$e;ke!==null;){$e=ke;var ut=$e.stateNode;if($e.tag===5&&ut!==null&&($e=ut,Oe!==null&&(ut=Pr(ke,Oe),ut!=null&&Ft.push(Zc(ke,ut,$e)))),Wn)break;ke=ke.return}0<Ft.length&&(nt=new bt(nt,At,null,f,at),it.push({event:nt,listeners:Ft}))}}if((l&7)===0){e:{if(nt=o==="mouseover"||o==="pointerover",bt=o==="mouseout"||o==="pointerout",nt&&f!==_r&&(At=f.relatedTarget||f.fromElement)&&(xi(At)||At[ca]))break e;if((bt||nt)&&(nt=at.window===at?at:(nt=at.ownerDocument)?nt.defaultView||nt.parentWindow:window,bt?(At=f.relatedTarget||f.toElement,bt=Be,At=At?xi(At):null,At!==null&&(Wn=ta(At),At!==Wn||At.tag!==5&&At.tag!==6)&&(At=null)):(bt=null,At=Be),bt!==At)){if(Ft=tt,ut="onMouseLeave",Oe="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(Ft=ci,ut="onPointerLeave",Oe="onPointerEnter",ke="pointer"),Wn=bt==null?nt:dl(bt),$e=At==null?nt:dl(At),nt=new Ft(ut,ke+"leave",bt,f,at),nt.target=Wn,nt.relatedTarget=$e,ut=null,xi(at)===Be&&(Ft=new Ft(Oe,ke+"enter",At,f,at),Ft.target=$e,Ft.relatedTarget=Wn,ut=Ft),Wn=ut,bt&&At)t:{for(Ft=bt,Oe=At,ke=0,$e=Ft;$e;$e=ll($e))ke++;for($e=0,ut=Oe;ut;ut=ll(ut))$e++;for(;0<ke-$e;)Ft=ll(Ft),ke--;for(;0<$e-ke;)Oe=ll(Oe),$e--;for(;ke--;){if(Ft===Oe||Oe!==null&&Ft===Oe.alternate)break t;Ft=ll(Ft),Oe=ll(Oe)}Ft=null}else Ft=null;bt!==null&&df(it,nt,bt,Ft,!1),At!==null&&Wn!==null&&df(it,Wn,At,Ft,!0)}}e:{if(nt=Be?dl(Be):window,bt=nt.nodeName&&nt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&nt.type==="file")var Bt=ao;else if(ro(nt))if(Rs)Bt=pi;else{Bt=mi;var Kt=fi}else(bt=nt.nodeName)&&bt.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(Bt=nl);if(Bt&&(Bt=Bt(o,Be))){Po(it,Bt,f,at);break e}Kt&&Kt(o,nt,Be),o==="focusout"&&(Kt=nt._wrapperState)&&Kt.controlled&&nt.type==="number"&&qe(nt,"number",nt.value)}switch(Kt=Be?dl(Be):window,o){case"focusin":(ro(Kt)||Kt.contentEditable==="true")&&(Ao=Kt,$d=Be,Gl=null);break;case"focusout":Gl=$d=Ao=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,Ku(it,f,at);break;case"selectionchange":if(Wl)break;case"keydown":case"keyup":Ku(it,f,at)}var Jt;if(Ts)e:{switch(o){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else fs?ql(o,f)&&(nr="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(nr="onCompositionStart");nr&&(Ya&&f.locale!=="ko"&&(fs||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&fs&&(Jt=qc()):(ds=at,No="value"in ds?ds.value:ds.textContent,fs=!0)),Kt=qd(Be,nr),0<Kt.length&&(nr=new Sn(nr,o,null,f,at),it.push({event:nr,listeners:Kt}),Jt?nr.data=Jt:(Jt=_o(f),Jt!==null&&(nr.data=Jt)))),(Jt=Id?Ka(o,f):Ja(o,f))&&(Be=qd(Be,"onBeforeInput"),0<Be.length&&(at=new Sn("onBeforeInput","beforeinput",null,f,at),it.push({event:at,listeners:Be}),at.data=Jt))}Jc(it,l)})}function Zc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function qd(o,l){for(var f=l+"Capture",y=[];o!==null;){var _=o,R=_.stateNode;_.tag===5&&R!==null&&(_=R,R=Pr(o,f),R!=null&&y.unshift(Zc(o,R,_)),R=Pr(o,l),R!=null&&y.push(Zc(o,R,_))),o=o.return}return y}function ll(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function df(o,l,f,y,_){for(var R=l._reactName,X=[];f!==null&&f!==y;){var ve=f,_e=ve.alternate,Be=ve.stateNode;if(_e!==null&&_e===y)break;ve.tag===5&&Be!==null&&(ve=Be,_?(_e=Pr(f,R),_e!=null&&X.unshift(Zc(f,_e,ve))):_||(_e=Pr(f,R),_e!=null&&X.push(Zc(f,_e,ve)))),f=f.return}X.length!==0&&o.push({event:l,listeners:X})}var Up=/\r\n?/g,qp=/\u0000|\uFFFD/g;function uf(o){return(typeof o=="string"?o:""+o).replace(Up,`
`).replace(qp,"")}function Vd(o,l,f){if(l=uf(l),uf(o)!==l&&f)throw Error(n(425))}function Jl(){}var ed=null,cl=null;function nh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,hf=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(o){return ff.resolve(null).then(o).catch(Hp)}:ah;function Hp(o){setTimeout(function(){throw o})}function sh(o,l){var f=l,y=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(y===0){o.removeChild(_),Wi(l);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=_}while(f);Wi(l)}function ba(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function ps(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),oo="__reactFiber$"+Aa,Xl="__reactProps$"+Aa,ca="__reactContainer$"+Aa,Ta="__reactEvents$"+Aa,Wp="__reactListeners$"+Aa,Gp="__reactHandles$"+Aa;function xi(o){var l=o[oo];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ca]||f[oo]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=ps(o);o!==null;){if(f=o[oo])return f;o=ps(o)}return l}o=f,f=o.parentNode}return null}function Ql(o){return o=o[oo]||o[ca],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function dl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function td(o){return o[Xl]||null}var oh=[],To=-1;function Ls(o){return{current:o}}function zr(o){0>To||(o.current=oh[To],oh[To]=null,To--)}function qr(o,l){To++,oh[To]=o.current,o.current=l}var vi={},aa=Ls(vi),Ra=Ls(!1),ul=vi;function Zl(o,l){var f=o.type.contextTypes;if(!f)return vi;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var _={},R;for(R in f)_[R]=l[R];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function Da(o){return o=o.childContextTypes,o!=null}function Hd(){zr(Ra),zr(aa)}function mf(o,l,f){if(aa.current!==vi)throw Error(n(168));qr(aa,l),qr(Ra,f)}function ih(o,l,f){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var _ in y)if(!(_ in l))throw Error(n(108,se(o)||"Unknown",_));return H({},f,y)}function hl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||vi,ul=aa.current,qr(aa,o),qr(Ra,Ra.current),!0}function pf(o,l,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=ih(o,l,ul),y.__reactInternalMemoizedMergedChildContext=o,zr(Ra),zr(aa),qr(aa,o)):zr(Ra),qr(Ra,f)}var Ro=null,rd=!1,x=!1;function b(o){Ro===null?Ro=[o]:Ro.push(o)}function A(o){rd=!0,b(o)}function M(){if(!x&&Ro!==null){x=!0;var o=0,l=Dr;try{var f=Ro;for(Dr=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Ro=null,rd=!1}catch(_){throw Ro!==null&&(Ro=Ro.slice(o+1)),Oi(Tl,M),_}finally{Dr=l,x=!1}}return null}var V=[],Z=0,ee=null,ne=0,ie=[],de=0,Ce=null,Le=1,ue="";function Pe(o,l){V[Z++]=ne,V[Z++]=ee,ee=o,ne=l}function De(o,l,f){ie[de++]=Le,ie[de++]=ue,ie[de++]=Ce,Ce=o;var y=Le;o=ue;var _=32-Rn(y)-1;y&=~(1<<_),f+=1;var R=32-Rn(l)+_;if(30<R){var X=_-_%5;R=(y&(1<<X)-1).toString(32),y>>=X,_-=X,Le=1<<32-Rn(l)+_|f<<_|y,ue=R+o}else Le=1<<R|f<<_|y,ue=o}function We(o){o.return!==null&&(Pe(o,1),De(o,1,0))}function Ie(o){for(;o===ee;)ee=V[--Z],V[Z]=null,ne=V[--Z],V[Z]=null;for(;o===Ce;)Ce=ie[--de],ie[de]=null,ue=ie[--de],ie[de]=null,Le=ie[--de],ie[de]=null}var Ue=null,He=null,Ke=!1,Je=null;function It(o,l){var f=ho(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function jt(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Ue=o,He=ba(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Ue=o,He=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Ce!==null?{id:Le,overflow:ue}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=ho(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,Ue=o,He=null,!0):!1;default:return!1}}function lr(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Pt(o){if(Ke){var l=He;if(l){var f=l;if(!jt(o,l)){if(lr(o))throw Error(n(418));l=ba(f.nextSibling);var y=Ue;l&&jt(o,l)?It(y,f):(o.flags=o.flags&-4097|2,Ke=!1,Ue=o)}}else{if(lr(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ke=!1,Ue=o}}}function Sr(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ue=o}function wn(o){if(o!==Ue)return!1;if(!Ke)return Sr(o),Ke=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!nh(o.type,o.memoizedProps)),l&&(l=He)){if(lr(o))throw cr(),Error(n(418));for(;l;)It(o,l),l=ba(l.nextSibling)}if(Sr(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){He=ba(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}He=null}}else He=Ue?ba(o.stateNode.nextSibling):null;return!0}function cr(){for(var o=He;o;)o=ba(o.nextSibling)}function Nt(){He=Ue=null,Ke=!1}function mt(o){Je===null?Je=[o]:Je.push(o)}var _n=O.ReactCurrentBatchConfig;function er(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var _=y,R=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===R?l.ref:(l=function(X){var ve=_.refs;X===null?delete ve[R]:ve[R]=X},l._stringRef=R,l)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function jr(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function tn(o){var l=o._init;return l(o._payload)}function Jn(o){function l(Oe,ke){if(o){var $e=Oe.deletions;$e===null?(Oe.deletions=[ke],Oe.flags|=16):$e.push(ke)}}function f(Oe,ke){if(!o)return null;for(;ke!==null;)l(Oe,ke),ke=ke.sibling;return null}function y(Oe,ke){for(Oe=new Map;ke!==null;)ke.key!==null?Oe.set(ke.key,ke):Oe.set(ke.index,ke),ke=ke.sibling;return Oe}function _(Oe,ke){return Oe=cc(Oe,ke),Oe.index=0,Oe.sibling=null,Oe}function R(Oe,ke,$e){return Oe.index=$e,o?($e=Oe.alternate,$e!==null?($e=$e.index,$e<ke?(Oe.flags|=2,ke):$e):(Oe.flags|=2,ke)):(Oe.flags|=1048576,ke)}function X(Oe){return o&&Oe.alternate===null&&(Oe.flags|=2),Oe}function ve(Oe,ke,$e,ut){return ke===null||ke.tag!==6?(ke=jg($e,Oe.mode,ut),ke.return=Oe,ke):(ke=_(ke,$e),ke.return=Oe,ke)}function _e(Oe,ke,$e,ut){var Bt=$e.type;return Bt===W?at(Oe,ke,$e.props.children,ut,$e.key):ke!==null&&(ke.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===fe&&tn(Bt)===ke.type)?(ut=_(ke,$e.props),ut.ref=er(Oe,ke,$e),ut.return=Oe,ut):(ut=Mf($e.type,$e.key,$e.props,null,Oe.mode,ut),ut.ref=er(Oe,ke,$e),ut.return=Oe,ut)}function Be(Oe,ke,$e,ut){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==$e.containerInfo||ke.stateNode.implementation!==$e.implementation?(ke=Ng($e,Oe.mode,ut),ke.return=Oe,ke):(ke=_(ke,$e.children||[]),ke.return=Oe,ke)}function at(Oe,ke,$e,ut,Bt){return ke===null||ke.tag!==7?(ke=dd($e,Oe.mode,ut,Bt),ke.return=Oe,ke):(ke=_(ke,$e),ke.return=Oe,ke)}function it(Oe,ke,$e){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=jg(""+ke,Oe.mode,$e),ke.return=Oe,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case B:return $e=Mf(ke.type,ke.key,ke.props,null,Oe.mode,$e),$e.ref=er(Oe,null,ke),$e.return=Oe,$e;case ae:return ke=Ng(ke,Oe.mode,$e),ke.return=Oe,ke;case fe:var ut=ke._init;return it(Oe,ut(ke._payload),$e)}if(st(ke)||$(ke))return ke=dd(ke,Oe.mode,$e,null),ke.return=Oe,ke;jr(Oe,ke)}return null}function nt(Oe,ke,$e,ut){var Bt=ke!==null?ke.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Bt!==null?null:ve(Oe,ke,""+$e,ut);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case B:return $e.key===Bt?_e(Oe,ke,$e,ut):null;case ae:return $e.key===Bt?Be(Oe,ke,$e,ut):null;case fe:return Bt=$e._init,nt(Oe,ke,Bt($e._payload),ut)}if(st($e)||$($e))return Bt!==null?null:at(Oe,ke,$e,ut,null);jr(Oe,$e)}return null}function bt(Oe,ke,$e,ut,Bt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return Oe=Oe.get($e)||null,ve(ke,Oe,""+ut,Bt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case B:return Oe=Oe.get(ut.key===null?$e:ut.key)||null,_e(ke,Oe,ut,Bt);case ae:return Oe=Oe.get(ut.key===null?$e:ut.key)||null,Be(ke,Oe,ut,Bt);case fe:var Kt=ut._init;return bt(Oe,ke,$e,Kt(ut._payload),Bt)}if(st(ut)||$(ut))return Oe=Oe.get($e)||null,at(ke,Oe,ut,Bt,null);jr(ke,ut)}return null}function At(Oe,ke,$e,ut){for(var Bt=null,Kt=null,Jt=ke,nr=ke=0,ma=null;Jt!==null&&nr<$e.length;nr++){Jt.index>nr?(ma=Jt,Jt=null):ma=Jt.sibling;var Br=nt(Oe,Jt,$e[nr],ut);if(Br===null){Jt===null&&(Jt=ma);break}o&&Jt&&Br.alternate===null&&l(Oe,Jt),ke=R(Br,ke,nr),Kt===null?Bt=Br:Kt.sibling=Br,Kt=Br,Jt=ma}if(nr===$e.length)return f(Oe,Jt),Ke&&Pe(Oe,nr),Bt;if(Jt===null){for(;nr<$e.length;nr++)Jt=it(Oe,$e[nr],ut),Jt!==null&&(ke=R(Jt,ke,nr),Kt===null?Bt=Jt:Kt.sibling=Jt,Kt=Jt);return Ke&&Pe(Oe,nr),Bt}for(Jt=y(Oe,Jt);nr<$e.length;nr++)ma=bt(Jt,Oe,nr,$e[nr],ut),ma!==null&&(o&&ma.alternate!==null&&Jt.delete(ma.key===null?nr:ma.key),ke=R(ma,ke,nr),Kt===null?Bt=ma:Kt.sibling=ma,Kt=ma);return o&&Jt.forEach(function(dc){return l(Oe,dc)}),Ke&&Pe(Oe,nr),Bt}function Ft(Oe,ke,$e,ut){var Bt=$($e);if(typeof Bt!="function")throw Error(n(150));if($e=Bt.call($e),$e==null)throw Error(n(151));for(var Kt=Bt=null,Jt=ke,nr=ke=0,ma=null,Br=$e.next();Jt!==null&&!Br.done;nr++,Br=$e.next()){Jt.index>nr?(ma=Jt,Jt=null):ma=Jt.sibling;var dc=nt(Oe,Jt,Br.value,ut);if(dc===null){Jt===null&&(Jt=ma);break}o&&Jt&&dc.alternate===null&&l(Oe,Jt),ke=R(dc,ke,nr),Kt===null?Bt=dc:Kt.sibling=dc,Kt=dc,Jt=ma}if(Br.done)return f(Oe,Jt),Ke&&Pe(Oe,nr),Bt;if(Jt===null){for(;!Br.done;nr++,Br=$e.next())Br=it(Oe,Br.value,ut),Br!==null&&(ke=R(Br,ke,nr),Kt===null?Bt=Br:Kt.sibling=Br,Kt=Br);return Ke&&Pe(Oe,nr),Bt}for(Jt=y(Oe,Jt);!Br.done;nr++,Br=$e.next())Br=bt(Jt,Oe,nr,Br.value,ut),Br!==null&&(o&&Br.alternate!==null&&Jt.delete(Br.key===null?nr:Br.key),ke=R(Br,ke,nr),Kt===null?Bt=Br:Kt.sibling=Br,Kt=Br);return o&&Jt.forEach(function(w_){return l(Oe,w_)}),Ke&&Pe(Oe,nr),Bt}function Wn(Oe,ke,$e,ut){if(typeof $e=="object"&&$e!==null&&$e.type===W&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case B:e:{for(var Bt=$e.key,Kt=ke;Kt!==null;){if(Kt.key===Bt){if(Bt=$e.type,Bt===W){if(Kt.tag===7){f(Oe,Kt.sibling),ke=_(Kt,$e.props.children),ke.return=Oe,Oe=ke;break e}}else if(Kt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===fe&&tn(Bt)===Kt.type){f(Oe,Kt.sibling),ke=_(Kt,$e.props),ke.ref=er(Oe,Kt,$e),ke.return=Oe,Oe=ke;break e}f(Oe,Kt);break}else l(Oe,Kt);Kt=Kt.sibling}$e.type===W?(ke=dd($e.props.children,Oe.mode,ut,$e.key),ke.return=Oe,Oe=ke):(ut=Mf($e.type,$e.key,$e.props,null,Oe.mode,ut),ut.ref=er(Oe,ke,$e),ut.return=Oe,Oe=ut)}return X(Oe);case ae:e:{for(Kt=$e.key;ke!==null;){if(ke.key===Kt)if(ke.tag===4&&ke.stateNode.containerInfo===$e.containerInfo&&ke.stateNode.implementation===$e.implementation){f(Oe,ke.sibling),ke=_(ke,$e.children||[]),ke.return=Oe,Oe=ke;break e}else{f(Oe,ke);break}else l(Oe,ke);ke=ke.sibling}ke=Ng($e,Oe.mode,ut),ke.return=Oe,Oe=ke}return X(Oe);case fe:return Kt=$e._init,Wn(Oe,ke,Kt($e._payload),ut)}if(st($e))return At(Oe,ke,$e,ut);if($($e))return Ft(Oe,ke,$e,ut);jr(Oe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,ke!==null&&ke.tag===6?(f(Oe,ke.sibling),ke=_(ke,$e),ke.return=Oe,Oe=ke):(f(Oe,ke),ke=jg($e,Oe.mode,ut),ke.return=Oe,Oe=ke),X(Oe)):f(Oe,ke)}return Wn}var Fn=Jn(!0),fn=Jn(!1),Vn=Ls(null),Xn=null,ln=null,kr=null;function Fr(){kr=ln=Xn=null}function cn(o){var l=Vn.current;zr(Vn),o._currentValue=l}function Or(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function bn(o,l){Xn=o,kr=ln=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(xs=!0),o.firstContext=null)}function jn(o){var l=o._currentValue;if(kr!==o)if(o={context:o,memoizedValue:l,next:null},ln===null){if(Xn===null)throw Error(n(308));ln=o,Xn.dependencies={lanes:0,firstContext:o}}else ln=ln.next=o;return l}var Yr=null;function da(o){Yr===null?Yr=[o]:Yr.push(o)}function Vr(o,l,f,y){var _=l.interleaved;return _===null?(f.next=f,da(l)):(f.next=_.next,_.next=f),l.interleaved=f,Kr(o,y)}function Kr(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var On=!1;function sa(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Pn(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function kn(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ir&2)!==0){var _=y.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),y.pending=l,Kr(o,f)}return _=y.interleaved,_===null?(l.next=l,da(y)):(l.next=_.next,_.next=l),y.interleaved=l,Kr(o,f)}function ua(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,Ll(o,f)}}function Jr(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var _=null,R=null;if(f=f.firstBaseUpdate,f!==null){do{var X={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};R===null?_=R=X:R=R.next=X,f=f.next}while(f!==null);R===null?_=R=l:R=R.next=l}else _=R=l;f={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:R,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function ha(o,l,f,y){var _=o.updateQueue;On=!1;var R=_.firstBaseUpdate,X=_.lastBaseUpdate,ve=_.shared.pending;if(ve!==null){_.shared.pending=null;var _e=ve,Be=_e.next;_e.next=null,X===null?R=Be:X.next=Be,X=_e;var at=o.alternate;at!==null&&(at=at.updateQueue,ve=at.lastBaseUpdate,ve!==X&&(ve===null?at.firstBaseUpdate=Be:ve.next=Be,at.lastBaseUpdate=_e))}if(R!==null){var it=_.baseState;X=0,at=Be=_e=null,ve=R;do{var nt=ve.lane,bt=ve.eventTime;if((y&nt)===nt){at!==null&&(at=at.next={eventTime:bt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var At=o,Ft=ve;switch(nt=l,bt=f,Ft.tag){case 1:if(At=Ft.payload,typeof At=="function"){it=At.call(bt,it,nt);break e}it=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Ft.payload,nt=typeof At=="function"?At.call(bt,it,nt):At,nt==null)break e;it=H({},it,nt);break e;case 2:On=!0}}ve.callback!==null&&ve.lane!==0&&(o.flags|=64,nt=_.effects,nt===null?_.effects=[ve]:nt.push(ve))}else bt={eventTime:bt,lane:nt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},at===null?(Be=at=bt,_e=it):at=at.next=bt,X|=nt;if(ve=ve.next,ve===null){if(ve=_.shared.pending,ve===null)break;nt=ve,ve=nt.next,nt.next=null,_.lastBaseUpdate=nt,_.shared.pending=null}}while(!0);if(at===null&&(_e=it),_.baseState=_e,_.firstBaseUpdate=Be,_.lastBaseUpdate=at,l=_.shared.interleaved,l!==null){_=l;do X|=_.lane,_=_.next;while(_!==l)}else R===null&&(_.shared.lanes=0);od|=X,o.lanes=X,o.memoizedState=it}}function gs(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],_=y.callback;if(_!==null){if(y.callback=null,y=f,typeof _!="function")throw Error(n(191,_));_.call(y)}}}var Ms={},Qn=Ls(Ms),En=Ls(Ms),yi=Ls(Ms);function Do(o){if(o===Ms)throw Error(n(174));return o}function ec(o,l){switch(qr(yi,l),qr(En,o),qr(Qn,Ms),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Me(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Me(l,o)}zr(Qn),qr(Qn,l)}function io(){zr(Qn),zr(En),zr(yi)}function gf(o){Do(yi.current);var l=Do(Qn.current),f=Me(l,o.type);l!==f&&(qr(En,o),qr(Qn,f))}function lh(o){En.current===o&&(zr(Qn),zr(En))}var nn=Ls(0);function Fs(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ch=[];function dh(){for(var o=0;o<ch.length;o++)ch[o]._workInProgressVersionPrimary=null;ch.length=0}var Wd=O.ReactCurrentDispatcher,Gd=O.ReactCurrentBatchConfig,lo=0,dn=null,In=null,An=null,tc=!1,Lo=!1,rc=0,Yp=0;function Hn(){throw Error(n(321))}function Yd(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!vn(o[f],l[f]))return!1;return!0}function nd(o,l,f,y,_,R){if(lo=R,dn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wd.current=o===null||o.memoizedState===null?W3:G3,o=f(y,_),Lo){R=0;do{if(Lo=!1,rc=0,25<=R)throw Error(n(301));R+=1,An=In=null,l.updateQueue=null,Wd.current=Y3,o=f(y,_)}while(Lo)}if(Wd.current=bf,l=In!==null&&In.next!==null,lo=0,An=In=dn=null,tc=!1,l)throw Error(n(300));return o}function co(){var o=rc!==0;return rc=0,o}function Os(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?dn.memoizedState=An=o:An=An.next=o,An}function Xa(){if(In===null){var o=dn.alternate;o=o!==null?o.memoizedState:null}else o=In.next;var l=An===null?dn.memoizedState:An.next;if(l!==null)An=l,In=o;else{if(o===null)throw Error(n(310));In=o,o={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},An===null?dn.memoizedState=An=o:An=An.next=o}return An}function ad(o,l){return typeof l=="function"?l(o):l}function Kd(o){var l=Xa(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=In,_=y.baseQueue,R=f.pending;if(R!==null){if(_!==null){var X=_.next;_.next=R.next,R.next=X}y.baseQueue=_=R,f.pending=null}if(_!==null){R=_.next,y=y.baseState;var ve=X=null,_e=null,Be=R;do{var at=Be.lane;if((lo&at)===at)_e!==null&&(_e=_e.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),y=Be.hasEagerState?Be.eagerState:o(y,Be.action);else{var it={lane:at,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};_e===null?(ve=_e=it,X=y):_e=_e.next=it,dn.lanes|=at,od|=at}Be=Be.next}while(Be!==null&&Be!==R);_e===null?X=y:_e.next=ve,vn(y,l.memoizedState)||(xs=!0),l.memoizedState=y,l.baseState=X,l.baseQueue=_e,f.lastRenderedState=y}if(o=f.interleaved,o!==null){_=o;do R=_.lane,dn.lanes|=R,od|=R,_=_.next;while(_!==o)}else _===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function wi(o){var l=Xa(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,_=f.pending,R=l.memoizedState;if(_!==null){f.pending=null;var X=_=_.next;do R=o(R,X.action),X=X.next;while(X!==_);vn(R,l.memoizedState)||(xs=!0),l.memoizedState=R,l.baseQueue===null&&(l.baseState=R),f.lastRenderedState=R}return[R,y]}function xf(){}function uh(o,l){var f=dn,y=Xa(),_=l(),R=!vn(y.memoizedState,_);if(R&&(y.memoizedState=_,xs=!0),y=y.queue,Qd(yf.bind(null,f,y,o),[o]),y.getSnapshot!==l||R||An!==null&&An.memoizedState.tag&1){if(f.flags|=2048,Qa(9,hh.bind(null,f,y,_,l),void 0,null),fa===null)throw Error(n(349));(lo&30)!==0||vf(f,l,_)}return _}function vf(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=dn.updateQueue,l===null?(l={lastEffect:null,stores:null},dn.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function hh(o,l,f,y){l.value=f,l.getSnapshot=y,nc(l)&&Jd(o)}function yf(o,l,f){return f(function(){nc(l)&&Jd(o)})}function nc(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!vn(o,f)}catch{return!0}}function Jd(o){var l=Kr(o,1);l!==null&&$o(l,o,1,-1)}function sd(o){var l=Os();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:o},l.queue=o,o=o.dispatch=H3.bind(null,dn,o),[l.memoizedState,o]}function Qa(o,l,f,y){return o={tag:o,create:l,destroy:f,deps:y,next:null},l=dn.updateQueue,l===null?(l={lastEffect:null,stores:null},dn.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o)),o}function Mo(){return Xa().memoizedState}function Is(o,l,f,y){var _=Os();dn.flags|=o,_.memoizedState=Qa(1|l,f,void 0,y===void 0?null:y)}function fl(o,l,f,y){var _=Xa();y=y===void 0?null:y;var R=void 0;if(In!==null){var X=In.memoizedState;if(R=X.destroy,y!==null&&Yd(y,X.deps)){_.memoizedState=Qa(l,f,R,y);return}}dn.flags|=o,_.memoizedState=Qa(1|l,f,R,y)}function Xd(o,l){return Is(8390656,8,o,l)}function Qd(o,l){return fl(2048,8,o,l)}function wf(o,l){return fl(4,2,o,l)}function Zd(o,l){return fl(4,4,o,l)}function eu(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function V0(o,l,f){return f=f!=null?f.concat([o]):null,fl(4,4,eu.bind(null,l,o),f)}function Kp(){}function H0(o,l){var f=Xa();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&Yd(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function W0(o,l){var f=Xa();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&Yd(l,y[1])?y[0]:(o=o(),f.memoizedState=[o,l],o)}function G0(o,l,f){return(lo&21)===0?(o.baseState&&(o.baseState=!1,xs=!0),o.memoizedState=f):(vn(f,l)||(f=Oc(),dn.lanes|=f,od|=f,o.baseState=!0),l)}function q3(o,l){var f=Dr;Dr=f!==0&&4>f?f:4,o(!0);var y=Gd.transition;Gd.transition={};try{o(!1),l()}finally{Dr=f,Gd.transition=y}}function Y0(){return Xa().memoizedState}function V3(o,l,f){var y=ic(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},K0(o))J0(l,f);else if(f=Vr(o,l,f,y),f!==null){var _=es();$o(f,o,y,_),X0(f,l,y)}}function H3(o,l,f){var y=ic(o),_={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(K0(o))J0(l,_);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=l.lastRenderedReducer,R!==null))try{var X=l.lastRenderedState,ve=R(X,f);if(_.hasEagerState=!0,_.eagerState=ve,vn(ve,X)){var _e=l.interleaved;_e===null?(_.next=_,da(l)):(_.next=_e.next,_e.next=_),l.interleaved=_;return}}catch{}finally{}f=Vr(o,l,_,y),f!==null&&(_=es(),$o(f,o,y,_),X0(f,l,y))}}function K0(o){var l=o.alternate;return o===dn||l!==null&&l===dn}function J0(o,l){Lo=tc=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function X0(o,l,f){if((f&4194240)!==0){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,Ll(o,f)}}var bf={readContext:jn,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},W3={readContext:jn,useCallback:function(o,l){return Os().memoizedState=[o,l===void 0?null:l],o},useContext:jn,useEffect:Xd,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Is(4194308,4,eu.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Is(4194308,4,o,l)},useInsertionEffect:function(o,l){return Is(4,2,o,l)},useMemo:function(o,l){var f=Os();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var y=Os();return l=f!==void 0?f(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=V3.bind(null,dn,o),[y.memoizedState,o]},useRef:function(o){var l=Os();return o={current:o},l.memoizedState=o},useState:sd,useDebugValue:Kp,useDeferredValue:function(o){return Os().memoizedState=o},useTransition:function(){var o=sd(!1),l=o[0];return o=q3.bind(null,o[1]),Os().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var y=dn,_=Os();if(Ke){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),fa===null)throw Error(n(349));(lo&30)!==0||vf(y,l,f)}_.memoizedState=f;var R={value:f,getSnapshot:l};return _.queue=R,Xd(yf.bind(null,y,R,o),[o]),y.flags|=2048,Qa(9,hh.bind(null,y,R,f,l),void 0,null),f},useId:function(){var o=Os(),l=fa.identifierPrefix;if(Ke){var f=ue,y=Le;f=(y&~(1<<32-Rn(y)-1)).toString(32)+f,l=":"+l+"R"+f,f=rc++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Yp++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},G3={readContext:jn,useCallback:H0,useContext:jn,useEffect:Qd,useImperativeHandle:V0,useInsertionEffect:wf,useLayoutEffect:Zd,useMemo:W0,useReducer:Kd,useRef:Mo,useState:function(){return Kd(ad)},useDebugValue:Kp,useDeferredValue:function(o){var l=Xa();return G0(l,In.memoizedState,o)},useTransition:function(){var o=Kd(ad)[0],l=Xa().memoizedState;return[o,l]},useMutableSource:xf,useSyncExternalStore:uh,useId:Y0,unstable_isNewReconciler:!1},Y3={readContext:jn,useCallback:H0,useContext:jn,useEffect:Qd,useImperativeHandle:V0,useInsertionEffect:wf,useLayoutEffect:Zd,useMemo:W0,useReducer:wi,useRef:Mo,useState:function(){return wi(ad)},useDebugValue:Kp,useDeferredValue:function(o){var l=Xa();return In===null?l.memoizedState=o:G0(l,In.memoizedState,o)},useTransition:function(){var o=wi(ad)[0],l=Xa().memoizedState;return[o,l]},useMutableSource:xf,useSyncExternalStore:uh,useId:Y0,unstable_isNewReconciler:!1};function Fo(o,l){if(o&&o.defaultProps){l=H({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function Jp(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:H({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var jf={isMounted:function(o){return(o=o._reactInternals)?ta(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var y=es(),_=ic(o),R=Pn(y,_);R.payload=l,f!=null&&(R.callback=f),l=kn(o,R,_),l!==null&&($o(l,o,_,y),ua(l,o,_))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=es(),_=ic(o),R=Pn(y,_);R.tag=1,R.payload=l,f!=null&&(R.callback=f),l=kn(o,R,_),l!==null&&($o(l,o,_,y),ua(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=es(),y=ic(o),_=Pn(f,y);_.tag=2,l!=null&&(_.callback=l),l=kn(o,_,y),l!==null&&($o(l,o,y,f),ua(l,o,y))}};function Q0(o,l,f,y,_,R,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,R,X):l.prototype&&l.prototype.isPureReactComponent?!Ea(f,y)||!Ea(_,R):!0}function Z0(o,l,f){var y=!1,_=vi,R=l.contextType;return typeof R=="object"&&R!==null?R=jn(R):(_=Da(l)?ul:aa.current,y=l.contextTypes,R=(y=y!=null)?Zl(o,_):vi),l=new l(f,R),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=jf,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=R),l}function e1(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&jf.enqueueReplaceState(l,l.state,null)}function Xp(o,l,f,y){var _=o.stateNode;_.props=f,_.state=o.memoizedState,_.refs={},sa(o);var R=l.contextType;typeof R=="object"&&R!==null?_.context=jn(R):(R=Da(l)?ul:aa.current,_.context=Zl(o,R)),_.state=o.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Jp(o,l,R,f),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&jf.enqueueReplaceState(_,_.state,null),ha(o,f,_,y),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function tu(o,l){try{var f="",y=l;do f+=J(y),y=y.return;while(y);var _=f}catch(R){_=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:l,stack:_,digest:null}}function Qp(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function Zp(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var K3=typeof WeakMap=="function"?WeakMap:Map;function t1(o,l,f){f=Pn(-1,f),f.tag=3,f.payload={element:null};var y=l.value;return f.callback=function(){Ef||(Ef=!0,mg=y),Zp(o,l)},f}function r1(o,l,f){f=Pn(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var _=l.value;f.payload=function(){return y(_)},f.callback=function(){Zp(o,l)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(f.callback=function(){Zp(o,l),typeof y!="function"&&(sc===null?sc=new Set([this]):sc.add(this));var X=l.stack;this.componentDidCatch(l.value,{componentStack:X!==null?X:""})}),f}function n1(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new K3;var _=new Set;y.set(l,_)}else _=y.get(l),_===void 0&&(_=new Set,y.set(l,_));_.has(f)||(_.add(f),o=c_.bind(null,o,l,f),l.then(o,o))}function a1(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function s1(o,l,f,y,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Pn(-1,1),l.tag=2,kn(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var J3=O.ReactCurrentOwner,xs=!1;function Za(o,l,f,y){l.child=o===null?fn(l,null,f,y):Fn(l,o.child,f,y)}function o1(o,l,f,y,_){f=f.render;var R=l.ref;return bn(l,_),y=nd(o,l,f,y,R,_),f=co(),o!==null&&!xs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ml(o,l,_)):(Ke&&f&&We(l),l.flags|=1,Za(o,l,y,_),l.child)}function i1(o,l,f,y,_){if(o===null){var R=f.type;return typeof R=="function"&&!bg(R)&&R.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=R,l1(o,l,R,y,_)):(o=Mf(f.type,null,y,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(R=o.child,(o.lanes&_)===0){var X=R.memoizedProps;if(f=f.compare,f=f!==null?f:Ea,f(X,y)&&o.ref===l.ref)return ml(o,l,_)}return l.flags|=1,o=cc(R,y),o.ref=l.ref,o.return=l,l.child=o}function l1(o,l,f,y,_){if(o!==null){var R=o.memoizedProps;if(Ea(R,y)&&o.ref===l.ref)if(xs=!1,l.pendingProps=y=R,(o.lanes&_)!==0)(o.flags&131072)!==0&&(xs=!0);else return l.lanes=o.lanes,ml(o,l,_)}return eg(o,l,f,y,_)}function c1(o,l,f){var y=l.pendingProps,_=y.children,R=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},qr(nu,$s),$s|=f;else{if((f&1073741824)===0)return o=R!==null?R.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,qr(nu,$s),$s|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=R!==null?R.baseLanes:f,qr(nu,$s),$s|=y}else R!==null?(y=R.baseLanes|f,l.memoizedState=null):y=f,qr(nu,$s),$s|=y;return Za(o,l,_,f),l.child}function d1(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function eg(o,l,f,y,_){var R=Da(f)?ul:aa.current;return R=Zl(l,R),bn(l,_),f=nd(o,l,f,y,R,_),y=co(),o!==null&&!xs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ml(o,l,_)):(Ke&&y&&We(l),l.flags|=1,Za(o,l,f,_),l.child)}function u1(o,l,f,y,_){if(Da(f)){var R=!0;hl(l)}else R=!1;if(bn(l,_),l.stateNode===null)Sf(o,l),Z0(l,f,y),Xp(l,f,y,_),y=!0;else if(o===null){var X=l.stateNode,ve=l.memoizedProps;X.props=ve;var _e=X.context,Be=f.contextType;typeof Be=="object"&&Be!==null?Be=jn(Be):(Be=Da(f)?ul:aa.current,Be=Zl(l,Be));var at=f.getDerivedStateFromProps,it=typeof at=="function"||typeof X.getSnapshotBeforeUpdate=="function";it||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ve!==y||_e!==Be)&&e1(l,X,y,Be),On=!1;var nt=l.memoizedState;X.state=nt,ha(l,y,X,_),_e=l.memoizedState,ve!==y||nt!==_e||Ra.current||On?(typeof at=="function"&&(Jp(l,f,at,y),_e=l.memoizedState),(ve=On||Q0(l,f,ve,y,nt,_e,Be))?(it||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(l.flags|=4194308)):(typeof X.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=_e),X.props=y,X.state=_e,X.context=Be,y=ve):(typeof X.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{X=l.stateNode,La(o,l),ve=l.memoizedProps,Be=l.type===l.elementType?ve:Fo(l.type,ve),X.props=Be,it=l.pendingProps,nt=X.context,_e=f.contextType,typeof _e=="object"&&_e!==null?_e=jn(_e):(_e=Da(f)?ul:aa.current,_e=Zl(l,_e));var bt=f.getDerivedStateFromProps;(at=typeof bt=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ve!==it||nt!==_e)&&e1(l,X,y,_e),On=!1,nt=l.memoizedState,X.state=nt,ha(l,y,X,_);var At=l.memoizedState;ve!==it||nt!==At||Ra.current||On?(typeof bt=="function"&&(Jp(l,f,bt,y),At=l.memoizedState),(Be=On||Q0(l,f,Be,y,nt,At,_e)||!1)?(at||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(y,At,_e),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(y,At,_e)),typeof X.componentDidUpdate=="function"&&(l.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof X.componentDidUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=At),X.props=y,X.state=At,X.context=_e,y=Be):(typeof X.componentDidUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=1024),y=!1)}return tg(o,l,f,y,R,_)}function tg(o,l,f,y,_,R){d1(o,l);var X=(l.flags&128)!==0;if(!y&&!X)return _&&pf(l,f,!1),ml(o,l,R);y=l.stateNode,J3.current=l;var ve=X&&typeof f.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&X?(l.child=Fn(l,o.child,null,R),l.child=Fn(l,null,ve,R)):Za(o,l,ve,R),l.memoizedState=y.state,_&&pf(l,f,!0),l.child}function h1(o){var l=o.stateNode;l.pendingContext?mf(o,l.pendingContext,l.pendingContext!==l.context):l.context&&mf(o,l.context,!1),ec(o,l.containerInfo)}function f1(o,l,f,y,_){return Nt(),mt(_),l.flags|=256,Za(o,l,f,y),l.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ng(o){return{baseLanes:o,cachePool:null,transitions:null}}function m1(o,l,f){var y=l.pendingProps,_=nn.current,R=!1,X=(l.flags&128)!==0,ve;if((ve=X)||(ve=o!==null&&o.memoizedState===null?!1:(_&2)!==0),ve?(R=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),qr(nn,_&1),o===null)return Pt(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(X=y.children,o=y.fallback,R?(y=l.mode,R=l.child,X={mode:"hidden",children:X},(y&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=X):R=Ff(X,y,0,null),o=dd(o,y,f,null),R.return=l,o.return=l,R.sibling=o,l.child=R,l.child.memoizedState=ng(f),l.memoizedState=rg,o):ag(l,X));if(_=o.memoizedState,_!==null&&(ve=_.dehydrated,ve!==null))return X3(o,l,X,y,ve,_,f);if(R){R=y.fallback,X=l.mode,_=o.child,ve=_.sibling;var _e={mode:"hidden",children:y.children};return(X&1)===0&&l.child!==_?(y=l.child,y.childLanes=0,y.pendingProps=_e,l.deletions=null):(y=cc(_,_e),y.subtreeFlags=_.subtreeFlags&14680064),ve!==null?R=cc(ve,R):(R=dd(R,X,f,null),R.flags|=2),R.return=l,y.return=l,y.sibling=R,l.child=y,y=R,R=l.child,X=o.child.memoizedState,X=X===null?ng(f):{baseLanes:X.baseLanes|f,cachePool:null,transitions:X.transitions},R.memoizedState=X,R.childLanes=o.childLanes&~f,l.memoizedState=rg,y}return R=o.child,o=R.sibling,y=cc(R,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=f),y.return=l,y.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=y,l.memoizedState=null,y}function ag(o,l){return l=Ff({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Nf(o,l,f,y){return y!==null&&mt(y),Fn(l,o.child,null,f),o=ag(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function X3(o,l,f,y,_,R,X){if(f)return l.flags&256?(l.flags&=-257,y=Qp(Error(n(422))),Nf(o,l,X,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(R=y.fallback,_=l.mode,y=Ff({mode:"visible",children:y.children},_,0,null),R=dd(R,_,X,null),R.flags|=2,y.return=l,R.return=l,y.sibling=R,l.child=y,(l.mode&1)!==0&&Fn(l,o.child,null,X),l.child.memoizedState=ng(X),l.memoizedState=rg,R);if((l.mode&1)===0)return Nf(o,l,X,null);if(_.data==="$!"){if(y=_.nextSibling&&_.nextSibling.dataset,y)var ve=y.dgst;return y=ve,R=Error(n(419)),y=Qp(R,y,void 0),Nf(o,l,X,y)}if(ve=(X&o.childLanes)!==0,xs||ve){if(y=fa,y!==null){switch(X&-X){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(y.suspendedLanes|X))!==0?0:_,_!==0&&_!==R.retryLane&&(R.retryLane=_,Kr(o,_),$o(y,o,_,-1))}return wg(),y=Qp(Error(n(421))),Nf(o,l,X,y)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=d_.bind(null,o),_._reactRetry=l,null):(o=R.treeContext,He=ba(_.nextSibling),Ue=l,Ke=!0,Je=null,o!==null&&(ie[de++]=Le,ie[de++]=ue,ie[de++]=Ce,Le=o.id,ue=o.overflow,Ce=l),l=ag(l,y.children),l.flags|=4096,l)}function p1(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),Or(o.return,l,f)}function sg(o,l,f,y,_){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:_}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=f,R.tailMode=_)}function g1(o,l,f){var y=l.pendingProps,_=y.revealOrder,R=y.tail;if(Za(o,l,y.children,f),y=nn.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&p1(o,f,l);else if(o.tag===19)p1(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(qr(nn,y),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(f=l.child,_=null;f!==null;)o=f.alternate,o!==null&&Fs(o)===null&&(_=f),f=f.sibling;f=_,f===null?(_=l.child,l.child=null):(_=f.sibling,f.sibling=null),sg(l,!1,_,f,R);break;case"backwards":for(f=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Fs(o)===null){l.child=_;break}o=_.sibling,_.sibling=f,f=_,_=o}sg(l,!0,f,null,R);break;case"together":sg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Sf(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ml(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),od|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,f=cc(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=cc(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function Q3(o,l,f){switch(l.tag){case 3:h1(l),Nt();break;case 5:gf(l);break;case 1:Da(l.type)&&hl(l);break;case 4:ec(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,_=l.memoizedProps.value;qr(Vn,y._currentValue),y._currentValue=_;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(qr(nn,nn.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?m1(o,l,f):(qr(nn,nn.current&1),o=ml(o,l,f),o!==null?o.sibling:null);qr(nn,nn.current&1);break;case 19:if(y=(f&l.childLanes)!==0,(o.flags&128)!==0){if(y)return g1(o,l,f);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),qr(nn,nn.current),y)break;return null;case 22:case 23:return l.lanes=0,c1(o,l,f)}return ml(o,l,f)}var x1,og,v1,y1;x1=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},og=function(){},v1=function(o,l,f,y){var _=o.memoizedProps;if(_!==y){o=l.stateNode,Do(Qn.current);var R=null;switch(f){case"input":_=Ve(o,_),y=Ve(o,y),R=[];break;case"select":_=H({},_,{value:void 0}),y=H({},y,{value:void 0}),R=[];break;case"textarea":_=pt(o,_),y=pt(o,y),R=[];break;default:typeof _.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Jl)}hr(f,y);var X;f=null;for(Be in _)if(!y.hasOwnProperty(Be)&&_.hasOwnProperty(Be)&&_[Be]!=null)if(Be==="style"){var ve=_[Be];for(X in ve)ve.hasOwnProperty(X)&&(f||(f={}),f[X]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(s.hasOwnProperty(Be)?R||(R=[]):(R=R||[]).push(Be,null));for(Be in y){var _e=y[Be];if(ve=_?.[Be],y.hasOwnProperty(Be)&&_e!==ve&&(_e!=null||ve!=null))if(Be==="style")if(ve){for(X in ve)!ve.hasOwnProperty(X)||_e&&_e.hasOwnProperty(X)||(f||(f={}),f[X]="");for(X in _e)_e.hasOwnProperty(X)&&ve[X]!==_e[X]&&(f||(f={}),f[X]=_e[X])}else f||(R||(R=[]),R.push(Be,f)),f=_e;else Be==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,ve=ve?ve.__html:void 0,_e!=null&&ve!==_e&&(R=R||[]).push(Be,_e)):Be==="children"?typeof _e!="string"&&typeof _e!="number"||(R=R||[]).push(Be,""+_e):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(s.hasOwnProperty(Be)?(_e!=null&&Be==="onScroll"&&Gr("scroll",o),R||ve===_e||(R=[])):(R=R||[]).push(Be,_e))}f&&(R=R||[]).push("style",f);var Be=R;(l.updateQueue=Be)&&(l.flags|=4)}},y1=function(o,l,f,y){f!==y&&(l.flags|=4)};function fh(o,l){if(!Ke)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ma(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var _=o.child;_!==null;)f|=_.lanes|_.childLanes,y|=_.subtreeFlags&14680064,y|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)f|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function Z3(o,l,f){var y=l.pendingProps;switch(Ie(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ma(l),null;case 1:return Da(l.type)&&Hd(),Ma(l),null;case 3:return y=l.stateNode,io(),zr(Ra),zr(aa),dh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(wn(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Je!==null&&(xg(Je),Je=null))),og(o,l),Ma(l),null;case 5:lh(l);var _=Do(yi.current);if(f=l.type,o!==null&&l.stateNode!=null)v1(o,l,f,y,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(n(166));return Ma(l),null}if(o=Do(Qn.current),wn(l)){y=l.stateNode,f=l.type;var R=l.memoizedProps;switch(y[oo]=l,y[Xl]=R,o=(l.mode&1)!==0,f){case"dialog":Gr("cancel",y),Gr("close",y);break;case"iframe":case"object":case"embed":Gr("load",y);break;case"video":case"audio":for(_=0;_<gi.length;_++)Gr(gi[_],y);break;case"source":Gr("error",y);break;case"img":case"image":case"link":Gr("error",y),Gr("load",y);break;case"details":Gr("toggle",y);break;case"input":re(y,R),Gr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!R.multiple},Gr("invalid",y);break;case"textarea":ct(y,R),Gr("invalid",y)}hr(f,R),_=null;for(var X in R)if(R.hasOwnProperty(X)){var ve=R[X];X==="children"?typeof ve=="string"?y.textContent!==ve&&(R.suppressHydrationWarning!==!0&&Vd(y.textContent,ve,o),_=["children",ve]):typeof ve=="number"&&y.textContent!==""+ve&&(R.suppressHydrationWarning!==!0&&Vd(y.textContent,ve,o),_=["children",""+ve]):s.hasOwnProperty(X)&&ve!=null&&X==="onScroll"&&Gr("scroll",y)}switch(f){case"input":Ee(y),lt(y,R,!0);break;case"textarea":Ee(y),Se(y);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(y.onclick=Jl)}y=_,l.updateQueue=y,y!==null&&(l.flags|=4)}else{X=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=me(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=X.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=X.createElement(f,{is:y.is}):(o=X.createElement(f),f==="select"&&(X=o,y.multiple?X.multiple=!0:y.size&&(X.size=y.size))):o=X.createElementNS(o,f),o[oo]=l,o[Xl]=y,x1(o,l,!1,!1),l.stateNode=o;e:{switch(X=kt(f,y),f){case"dialog":Gr("cancel",o),Gr("close",o),_=y;break;case"iframe":case"object":case"embed":Gr("load",o),_=y;break;case"video":case"audio":for(_=0;_<gi.length;_++)Gr(gi[_],o);_=y;break;case"source":Gr("error",o),_=y;break;case"img":case"image":case"link":Gr("error",o),Gr("load",o),_=y;break;case"details":Gr("toggle",o),_=y;break;case"input":re(o,y),_=Ve(o,y),Gr("invalid",o);break;case"option":_=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},_=H({},y,{value:void 0}),Gr("invalid",o);break;case"textarea":ct(o,y),_=pt(o,y),Gr("invalid",o);break;default:_=y}hr(f,_),ve=_;for(R in ve)if(ve.hasOwnProperty(R)){var _e=ve[R];R==="style"?Wt(o,_e):R==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&Ye(o,_e)):R==="children"?typeof _e=="string"?(f!=="textarea"||_e!=="")&&ht(o,_e):typeof _e=="number"&&ht(o,""+_e):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(s.hasOwnProperty(R)?_e!=null&&R==="onScroll"&&Gr("scroll",o):_e!=null&&E(o,R,_e,X))}switch(f){case"input":Ee(o),lt(o,y,!1);break;case"textarea":Ee(o),Se(o);break;case"option":y.value!=null&&o.setAttribute("value",""+pe(y.value));break;case"select":o.multiple=!!y.multiple,R=y.value,R!=null?Ze(o,!!y.multiple,R,!1):y.defaultValue!=null&&Ze(o,!!y.multiple,y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=Jl)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ma(l),null;case 6:if(o&&l.stateNode!=null)y1(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(n(166));if(f=Do(yi.current),Do(Qn.current),wn(l)){if(y=l.stateNode,f=l.memoizedProps,y[oo]=l,(R=y.nodeValue!==f)&&(o=Ue,o!==null))switch(o.tag){case 3:Vd(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Vd(y.nodeValue,f,(o.mode&1)!==0)}R&&(l.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[oo]=l,l.stateNode=y}return Ma(l),null;case 13:if(zr(nn),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ke&&He!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cr(),Nt(),l.flags|=98560,R=!1;else if(R=wn(l),y!==null&&y.dehydrated!==null){if(o===null){if(!R)throw Error(n(318));if(R=l.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[oo]=l}else Nt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ma(l),R=!1}else Je!==null&&(xg(Je),Je=null),R=!0;if(!R)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(nn.current&1)!==0?oa===0&&(oa=3):wg())),l.updateQueue!==null&&(l.flags|=4),Ma(l),null);case 4:return io(),og(o,l),o===null&&il(l.stateNode.containerInfo),Ma(l),null;case 10:return cn(l.type._context),Ma(l),null;case 17:return Da(l.type)&&Hd(),Ma(l),null;case 19:if(zr(nn),R=l.memoizedState,R===null)return Ma(l),null;if(y=(l.flags&128)!==0,X=R.rendering,X===null)if(y)fh(R,!1);else{if(oa!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(X=Fs(o),X!==null){for(l.flags|=128,fh(R,!1),y=X.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=f,f=l.child;f!==null;)R=f,o=y,R.flags&=14680066,X=R.alternate,X===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=X.childLanes,R.lanes=X.lanes,R.child=X.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=X.memoizedProps,R.memoizedState=X.memoizedState,R.updateQueue=X.updateQueue,R.type=X.type,o=X.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return qr(nn,nn.current&1|2),l.child}o=o.sibling}R.tail!==null&&rn()>au&&(l.flags|=128,y=!0,fh(R,!1),l.lanes=4194304)}else{if(!y)if(o=Fs(X),o!==null){if(l.flags|=128,y=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),fh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!X.alternate&&!Ke)return Ma(l),null}else 2*rn()-R.renderingStartTime>au&&f!==1073741824&&(l.flags|=128,y=!0,fh(R,!1),l.lanes=4194304);R.isBackwards?(X.sibling=l.child,l.child=X):(f=R.last,f!==null?f.sibling=X:l.child=X,R.last=X)}return R.tail!==null?(l=R.tail,R.rendering=l,R.tail=l.sibling,R.renderingStartTime=rn(),l.sibling=null,f=nn.current,qr(nn,y?f&1|2:f&1),l):(Ma(l),null);case 22:case 23:return yg(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?($s&1073741824)!==0&&(Ma(l),l.subtreeFlags&6&&(l.flags|=8192)):Ma(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function e_(o,l){switch(Ie(l),l.tag){case 1:return Da(l.type)&&Hd(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return io(),zr(Ra),zr(aa),dh(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return lh(l),null;case 13:if(zr(nn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Nt()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return zr(nn),null;case 4:return io(),null;case 10:return cn(l.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var Cf=!1,Fa=!1,t_=typeof WeakSet=="function"?WeakSet:Set,St=null;function ru(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){$n(o,l,y)}else f.current=null}function ig(o,l,f){try{f()}catch(y){$n(o,l,y)}}var w1=!1;function r_(o,l){if(ed=Il,o=Mn(),Ds(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var _=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{f.nodeType,R.nodeType}catch{f=null;break e}var X=0,ve=-1,_e=-1,Be=0,at=0,it=o,nt=null;t:for(;;){for(var bt;it!==f||_!==0&&it.nodeType!==3||(ve=X+_),it!==R||y!==0&&it.nodeType!==3||(_e=X+y),it.nodeType===3&&(X+=it.nodeValue.length),(bt=it.firstChild)!==null;)nt=it,it=bt;for(;;){if(it===o)break t;if(nt===f&&++Be===_&&(ve=X),nt===R&&++at===y&&(_e=X),(bt=it.nextSibling)!==null)break;it=nt,nt=it.parentNode}it=bt}f=ve===-1||_e===-1?null:{start:ve,end:_e}}else f=null}f=f||{start:0,end:0}}else f=null;for(cl={focusedElem:o,selectionRange:f},Il=!1,St=l;St!==null;)if(l=St,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,St=o;else for(;St!==null;){l=St;try{var At=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Ft=At.memoizedProps,Wn=At.memoizedState,Oe=l.stateNode,ke=Oe.getSnapshotBeforeUpdate(l.elementType===l.type?Ft:Fo(l.type,Ft),Wn);Oe.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var $e=l.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ut){$n(l,l.return,ut)}if(o=l.sibling,o!==null){o.return=l.return,St=o;break}St=l.return}return At=w1,w1=!1,At}function mh(o,l,f){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&o)===o){var R=_.destroy;_.destroy=void 0,R!==void 0&&ig(l,f,R)}_=_.next}while(_!==y)}}function _f(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==l)}}function lg(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function b1(o){var l=o.alternate;l!==null&&(o.alternate=null,b1(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[oo],delete l[Xl],delete l[Ta],delete l[Wp],delete l[Gp])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function j1(o){return o.tag===5||o.tag===3||o.tag===4}function N1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||j1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cg(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Jl));else if(y!==4&&(o=o.child,o!==null))for(cg(o,l,f),o=o.sibling;o!==null;)cg(o,l,f),o=o.sibling}function dg(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(dg(o,l,f),o=o.sibling;o!==null;)dg(o,l,f),o=o.sibling}var ja=null,Oo=!1;function ac(o,l,f){for(f=f.child;f!==null;)S1(o,l,f),f=f.sibling}function S1(o,l,f){if(Ha&&typeof Ha.onCommitFiberUnmount=="function")try{Ha.onCommitFiberUnmount($i,f)}catch{}switch(f.tag){case 5:Fa||ru(f,l);case 6:var y=ja,_=Oo;ja=null,ac(o,l,f),ja=y,Oo=_,ja!==null&&(Oo?(o=ja,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):ja.removeChild(f.stateNode));break;case 18:ja!==null&&(Oo?(o=ja,f=f.stateNode,o.nodeType===8?sh(o.parentNode,f):o.nodeType===1&&sh(o,f),Wi(o)):sh(ja,f.stateNode));break;case 4:y=ja,_=Oo,ja=f.stateNode.containerInfo,Oo=!0,ac(o,l,f),ja=y,Oo=_;break;case 0:case 11:case 14:case 15:if(!Fa&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){_=y=y.next;do{var R=_,X=R.destroy;R=R.tag,X!==void 0&&((R&2)!==0||(R&4)!==0)&&ig(f,l,X),_=_.next}while(_!==y)}ac(o,l,f);break;case 1:if(!Fa&&(ru(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(ve){$n(f,l,ve)}ac(o,l,f);break;case 21:ac(o,l,f);break;case 22:f.mode&1?(Fa=(y=Fa)||f.memoizedState!==null,ac(o,l,f),Fa=y):ac(o,l,f);break;default:ac(o,l,f)}}function C1(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new t_),l.forEach(function(y){var _=u_.bind(null,o,y);f.has(y)||(f.add(y),y.then(_,_))})}}function Io(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var _=f[y];try{var R=o,X=l,ve=X;e:for(;ve!==null;){switch(ve.tag){case 5:ja=ve.stateNode,Oo=!1;break e;case 3:ja=ve.stateNode.containerInfo,Oo=!0;break e;case 4:ja=ve.stateNode.containerInfo,Oo=!0;break e}ve=ve.return}if(ja===null)throw Error(n(160));S1(R,X,_),ja=null,Oo=!1;var _e=_.alternate;_e!==null&&(_e.return=null),_.return=null}catch(Be){$n(_,l,Be)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)_1(l,o),l=l.sibling}function _1(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Io(l,o),bi(o),y&4){try{mh(3,o,o.return),_f(3,o)}catch(Ft){$n(o,o.return,Ft)}try{mh(5,o,o.return)}catch(Ft){$n(o,o.return,Ft)}}break;case 1:Io(l,o),bi(o),y&512&&f!==null&&ru(f,f.return);break;case 5:if(Io(l,o),bi(o),y&512&&f!==null&&ru(f,f.return),o.flags&32){var _=o.stateNode;try{ht(_,"")}catch(Ft){$n(o,o.return,Ft)}}if(y&4&&(_=o.stateNode,_!=null)){var R=o.memoizedProps,X=f!==null?f.memoizedProps:R,ve=o.type,_e=o.updateQueue;if(o.updateQueue=null,_e!==null)try{ve==="input"&&R.type==="radio"&&R.name!=null&&we(_,R),kt(ve,X);var Be=kt(ve,R);for(X=0;X<_e.length;X+=2){var at=_e[X],it=_e[X+1];at==="style"?Wt(_,it):at==="dangerouslySetInnerHTML"?Ye(_,it):at==="children"?ht(_,it):E(_,at,it,Be)}switch(ve){case"input":Xe(_,R);break;case"textarea":zt(_,R);break;case"select":var nt=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!R.multiple;var bt=R.value;bt!=null?Ze(_,!!R.multiple,bt,!1):nt!==!!R.multiple&&(R.defaultValue!=null?Ze(_,!!R.multiple,R.defaultValue,!0):Ze(_,!!R.multiple,R.multiple?[]:"",!1))}_[Xl]=R}catch(Ft){$n(o,o.return,Ft)}}break;case 6:if(Io(l,o),bi(o),y&4){if(o.stateNode===null)throw Error(n(162));_=o.stateNode,R=o.memoizedProps;try{_.nodeValue=R}catch(Ft){$n(o,o.return,Ft)}}break;case 3:if(Io(l,o),bi(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Wi(l.containerInfo)}catch(Ft){$n(o,o.return,Ft)}break;case 4:Io(l,o),bi(o);break;case 13:Io(l,o),bi(o),_=o.child,_.flags&8192&&(R=_.memoizedState!==null,_.stateNode.isHidden=R,!R||_.alternate!==null&&_.alternate.memoizedState!==null||(fg=rn())),y&4&&C1(o);break;case 22:if(at=f!==null&&f.memoizedState!==null,o.mode&1?(Fa=(Be=Fa)||at,Io(l,o),Fa=Be):Io(l,o),bi(o),y&8192){if(Be=o.memoizedState!==null,(o.stateNode.isHidden=Be)&&!at&&(o.mode&1)!==0)for(St=o,at=o.child;at!==null;){for(it=St=at;St!==null;){switch(nt=St,bt=nt.child,nt.tag){case 0:case 11:case 14:case 15:mh(4,nt,nt.return);break;case 1:ru(nt,nt.return);var At=nt.stateNode;if(typeof At.componentWillUnmount=="function"){y=nt,f=nt.return;try{l=y,At.props=l.memoizedProps,At.state=l.memoizedState,At.componentWillUnmount()}catch(Ft){$n(y,f,Ft)}}break;case 5:ru(nt,nt.return);break;case 22:if(nt.memoizedState!==null){E1(it);continue}}bt!==null?(bt.return=nt,St=bt):E1(it)}at=at.sibling}e:for(at=null,it=o;;){if(it.tag===5){if(at===null){at=it;try{_=it.stateNode,Be?(R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(ve=it.stateNode,_e=it.memoizedProps.style,X=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,ve.style.display=Vt("display",X))}catch(Ft){$n(o,o.return,Ft)}}}else if(it.tag===6){if(at===null)try{it.stateNode.nodeValue=Be?"":it.memoizedProps}catch(Ft){$n(o,o.return,Ft)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===o)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===o)break e;for(;it.sibling===null;){if(it.return===null||it.return===o)break e;at===it&&(at=null),it=it.return}at===it&&(at=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:Io(l,o),bi(o),y&4&&C1(o);break;case 21:break;default:Io(l,o),bi(o)}}function bi(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(j1(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var _=y.stateNode;y.flags&32&&(ht(_,""),y.flags&=-33);var R=N1(o);dg(o,R,_);break;case 3:case 4:var X=y.stateNode.containerInfo,ve=N1(o);cg(o,ve,X);break;default:throw Error(n(161))}}catch(_e){$n(o,o.return,_e)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function n_(o,l,f){St=o,P1(o)}function P1(o,l,f){for(var y=(o.mode&1)!==0;St!==null;){var _=St,R=_.child;if(_.tag===22&&y){var X=_.memoizedState!==null||Cf;if(!X){var ve=_.alternate,_e=ve!==null&&ve.memoizedState!==null||Fa;ve=Cf;var Be=Fa;if(Cf=X,(Fa=_e)&&!Be)for(St=_;St!==null;)X=St,_e=X.child,X.tag===22&&X.memoizedState!==null?A1(_):_e!==null?(_e.return=X,St=_e):A1(_);for(;R!==null;)St=R,P1(R),R=R.sibling;St=_,Cf=ve,Fa=Be}k1(o)}else(_.subtreeFlags&8772)!==0&&R!==null?(R.return=_,St=R):k1(o)}}function k1(o){for(;St!==null;){var l=St;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Fa||_f(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Fa)if(f===null)y.componentDidMount();else{var _=l.elementType===l.type?f.memoizedProps:Fo(l.type,f.memoizedProps);y.componentDidUpdate(_,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var R=l.updateQueue;R!==null&&gs(l,R,y);break;case 3:var X=l.updateQueue;if(X!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}gs(l,X,f)}break;case 5:var ve=l.stateNode;if(f===null&&l.flags&4){f=ve;var _e=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&f.focus();break;case"img":_e.src&&(f.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Be=l.alternate;if(Be!==null){var at=Be.memoizedState;if(at!==null){var it=at.dehydrated;it!==null&&Wi(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fa||l.flags&512&&lg(l)}catch(nt){$n(l,l.return,nt)}}if(l===o){St=null;break}if(f=l.sibling,f!==null){f.return=l.return,St=f;break}St=l.return}}function E1(o){for(;St!==null;){var l=St;if(l===o){St=null;break}var f=l.sibling;if(f!==null){f.return=l.return,St=f;break}St=l.return}}function A1(o){for(;St!==null;){var l=St;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{_f(4,l)}catch(_e){$n(l,f,_e)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var _=l.return;try{y.componentDidMount()}catch(_e){$n(l,_,_e)}}var R=l.return;try{lg(l)}catch(_e){$n(l,R,_e)}break;case 5:var X=l.return;try{lg(l)}catch(_e){$n(l,X,_e)}}}catch(_e){$n(l,l.return,_e)}if(l===o){St=null;break}var ve=l.sibling;if(ve!==null){ve.return=l.return,St=ve;break}St=l.return}}var a_=Math.ceil,Pf=O.ReactCurrentDispatcher,ug=O.ReactCurrentOwner,uo=O.ReactCurrentBatchConfig,Ir=0,fa=null,Zn=null,Na=0,$s=0,nu=Ls(0),oa=0,ph=null,od=0,kf=0,hg=0,gh=null,vs=null,fg=0,au=1/0,pl=null,Ef=!1,mg=null,sc=null,Af=!1,oc=null,Tf=0,xh=0,pg=null,Rf=-1,Df=0;function es(){return(Ir&6)!==0?rn():Rf!==-1?Rf:Rf=rn()}function ic(o){return(o.mode&1)===0?1:(Ir&2)!==0&&Na!==0?Na&-Na:_n.transition!==null?(Df===0&&(Df=Oc()),Df):(o=Dr,o!==0||(o=window.event,o=o===void 0?16:Yi(o.type)),o)}function $o(o,l,f,y){if(50<xh)throw xh=0,pg=null,Error(n(185));Ui(o,f,y),((Ir&2)===0||o!==fa)&&(o===fa&&((Ir&2)===0&&(kf|=f),oa===4&&lc(o,Na)),ys(o,y),f===1&&Ir===0&&(l.mode&1)===0&&(au=rn()+500,rd&&M()))}function ys(o,l){var f=o.callbackNode;Un(o,l);var y=zi(o,o===fa?Na:0);if(y===0)f!==null&&Ii(f),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(f!=null&&Ii(f),l===1)o.tag===0?A(R1.bind(null,o)):b(R1.bind(null,o)),Vp(function(){(Ir&6)===0&&M()}),f=null;else{switch(qi(y)){case 1:f=Tl;break;case 4:f=Va;break;case 16:f=si;break;case 536870912:f=Rl;break;default:f=si}f=B1(f,T1.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function T1(o,l){if(Rf=-1,Df=0,(Ir&6)!==0)throw Error(n(327));var f=o.callbackNode;if(su()&&o.callbackNode!==f)return null;var y=zi(o,o===fa?Na:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||l)l=Lf(o,y);else{l=y;var _=Ir;Ir|=2;var R=L1();(fa!==o||Na!==l)&&(pl=null,au=rn()+500,ld(o,l));do try{i_();break}catch(ve){D1(o,ve)}while(!0);Fr(),Pf.current=R,Ir=_,Zn!==null?l=0:(fa=null,Na=0,l=oa)}if(l!==0){if(l===2&&(_=ks(o),_!==0&&(y=_,l=gg(o,_))),l===1)throw f=ph,ld(o,0),lc(o,y),ys(o,rn()),f;if(l===6)lc(o,y);else{if(_=o.current.alternate,(y&30)===0&&!s_(_)&&(l=Lf(o,y),l===2&&(R=ks(o),R!==0&&(y=R,l=gg(o,R))),l===1))throw f=ph,ld(o,0),lc(o,y),ys(o,rn()),f;switch(o.finishedWork=_,o.finishedLanes=y,l){case 0:case 1:throw Error(n(345));case 2:cd(o,vs,pl);break;case 3:if(lc(o,y),(y&130023424)===y&&(l=fg+500-rn(),10<l)){if(zi(o,0)!==0)break;if(_=o.suspendedLanes,(_&y)!==y){es(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=ah(cd.bind(null,o,vs,pl),l);break}cd(o,vs,pl);break;case 4:if(lc(o,y),(y&4194240)===y)break;for(l=o.eventTimes,_=-1;0<y;){var X=31-Rn(y);R=1<<X,X=l[X],X>_&&(_=X),y&=~R}if(y=_,y=rn()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*a_(y/1960))-y,10<y){o.timeoutHandle=ah(cd.bind(null,o,vs,pl),y);break}cd(o,vs,pl);break;case 5:cd(o,vs,pl);break;default:throw Error(n(329))}}}return ys(o,rn()),o.callbackNode===f?T1.bind(null,o):null}function gg(o,l){var f=gh;return o.current.memoizedState.isDehydrated&&(ld(o,l).flags|=256),o=Lf(o,l),o!==2&&(l=vs,vs=f,l!==null&&xg(l)),o}function xg(o){vs===null?vs=o:vs.push.apply(vs,o)}function s_(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var _=f[y],R=_.getSnapshot;_=_.value;try{if(!vn(R(),_))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function lc(o,l){for(l&=~hg,l&=~kf,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Rn(l),y=1<<f;o[f]=-1,l&=~y}}function R1(o){if((Ir&6)!==0)throw Error(n(327));su();var l=zi(o,0);if((l&1)===0)return ys(o,rn()),null;var f=Lf(o,l);if(o.tag!==0&&f===2){var y=ks(o);y!==0&&(l=y,f=gg(o,y))}if(f===1)throw f=ph,ld(o,0),lc(o,l),ys(o,rn()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,cd(o,vs,pl),ys(o,rn()),null}function vg(o,l){var f=Ir;Ir|=1;try{return o(l)}finally{Ir=f,Ir===0&&(au=rn()+500,rd&&M())}}function id(o){oc!==null&&oc.tag===0&&(Ir&6)===0&&su();var l=Ir;Ir|=1;var f=uo.transition,y=Dr;try{if(uo.transition=null,Dr=1,o)return o()}finally{Dr=y,uo.transition=f,Ir=l,(Ir&6)===0&&M()}}function yg(){$s=nu.current,zr(nu)}function ld(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,hf(f)),Zn!==null)for(f=Zn.return;f!==null;){var y=f;switch(Ie(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Hd();break;case 3:io(),zr(Ra),zr(aa),dh();break;case 5:lh(y);break;case 4:io();break;case 13:zr(nn);break;case 19:zr(nn);break;case 10:cn(y.type._context);break;case 22:case 23:yg()}f=f.return}if(fa=o,Zn=o=cc(o.current,null),Na=$s=l,oa=0,ph=null,hg=kf=od=0,vs=gh=null,Yr!==null){for(l=0;l<Yr.length;l++)if(f=Yr[l],y=f.interleaved,y!==null){f.interleaved=null;var _=y.next,R=f.pending;if(R!==null){var X=R.next;R.next=_,y.next=X}f.pending=y}Yr=null}return o}function D1(o,l){do{var f=Zn;try{if(Fr(),Wd.current=bf,tc){for(var y=dn.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}tc=!1}if(lo=0,An=In=dn=null,Lo=!1,rc=0,ug.current=null,f===null||f.return===null){oa=1,ph=l,Zn=null;break}e:{var R=o,X=f.return,ve=f,_e=l;if(l=Na,ve.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Be=_e,at=ve,it=at.tag;if((at.mode&1)===0&&(it===0||it===11||it===15)){var nt=at.alternate;nt?(at.updateQueue=nt.updateQueue,at.memoizedState=nt.memoizedState,at.lanes=nt.lanes):(at.updateQueue=null,at.memoizedState=null)}var bt=a1(X);if(bt!==null){bt.flags&=-257,s1(bt,X,ve,R,l),bt.mode&1&&n1(R,Be,l),l=bt,_e=Be;var At=l.updateQueue;if(At===null){var Ft=new Set;Ft.add(_e),l.updateQueue=Ft}else At.add(_e);break e}else{if((l&1)===0){n1(R,Be,l),wg();break e}_e=Error(n(426))}}else if(Ke&&ve.mode&1){var Wn=a1(X);if(Wn!==null){(Wn.flags&65536)===0&&(Wn.flags|=256),s1(Wn,X,ve,R,l),mt(tu(_e,ve));break e}}R=_e=tu(_e,ve),oa!==4&&(oa=2),gh===null?gh=[R]:gh.push(R),R=X;do{switch(R.tag){case 3:R.flags|=65536,l&=-l,R.lanes|=l;var Oe=t1(R,_e,l);Jr(R,Oe);break e;case 1:ve=_e;var ke=R.type,$e=R.stateNode;if((R.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(sc===null||!sc.has($e)))){R.flags|=65536,l&=-l,R.lanes|=l;var ut=r1(R,ve,l);Jr(R,ut);break e}}R=R.return}while(R!==null)}F1(f)}catch(Bt){l=Bt,Zn===f&&f!==null&&(Zn=f=f.return);continue}break}while(!0)}function L1(){var o=Pf.current;return Pf.current=bf,o===null?bf:o}function wg(){(oa===0||oa===3||oa===2)&&(oa=4),fa===null||(od&268435455)===0&&(kf&268435455)===0||lc(fa,Na)}function Lf(o,l){var f=Ir;Ir|=2;var y=L1();(fa!==o||Na!==l)&&(pl=null,ld(o,l));do try{o_();break}catch(_){D1(o,_)}while(!0);if(Fr(),Ir=f,Pf.current=y,Zn!==null)throw Error(n(261));return fa=null,Na=0,oa}function o_(){for(;Zn!==null;)M1(Zn)}function i_(){for(;Zn!==null&&!Al();)M1(Zn)}function M1(o){var l=$1(o.alternate,o,$s);o.memoizedProps=o.pendingProps,l===null?F1(o):Zn=l,ug.current=null}function F1(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=Z3(f,l,$s),f!==null){Zn=f;return}}else{if(f=e_(f,l),f!==null){f.flags&=32767,Zn=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{oa=6,Zn=null;return}}if(l=l.sibling,l!==null){Zn=l;return}Zn=l=o}while(l!==null);oa===0&&(oa=5)}function cd(o,l,f){var y=Dr,_=uo.transition;try{uo.transition=null,Dr=1,l_(o,l,f,y)}finally{uo.transition=_,Dr=y}return null}function l_(o,l,f,y){do su();while(oc!==null);if((Ir&6)!==0)throw Error(n(327));f=o.finishedWork;var _=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var R=f.lanes|f.childLanes;if(Xs(o,R),o===fa&&(Zn=fa=null,Na=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Af||(Af=!0,B1(si,function(){return su(),null})),R=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||R){R=uo.transition,uo.transition=null;var X=Dr;Dr=1;var ve=Ir;Ir|=4,ug.current=null,r_(o,f),_1(f,o),Wc(cl),Il=!!ed,cl=ed=null,o.current=f,n_(f),Wu(),Ir=ve,Dr=X,uo.transition=R}else o.current=f;if(Af&&(Af=!1,oc=o,Tf=_),R=o.pendingLanes,R===0&&(sc=null),Dd(f.stateNode),ys(o,rn()),l!==null)for(y=o.onRecoverableError,f=0;f<l.length;f++)_=l[f],y(_.value,{componentStack:_.stack,digest:_.digest});if(Ef)throw Ef=!1,o=mg,mg=null,o;return(Tf&1)!==0&&o.tag!==0&&su(),R=o.pendingLanes,(R&1)!==0?o===pg?xh++:(xh=0,pg=o):xh=0,M(),null}function su(){if(oc!==null){var o=qi(Tf),l=uo.transition,f=Dr;try{if(uo.transition=null,Dr=16>o?16:o,oc===null)var y=!1;else{if(o=oc,oc=null,Tf=0,(Ir&6)!==0)throw Error(n(331));var _=Ir;for(Ir|=4,St=o.current;St!==null;){var R=St,X=R.child;if((St.flags&16)!==0){var ve=R.deletions;if(ve!==null){for(var _e=0;_e<ve.length;_e++){var Be=ve[_e];for(St=Be;St!==null;){var at=St;switch(at.tag){case 0:case 11:case 15:mh(8,at,R)}var it=at.child;if(it!==null)it.return=at,St=it;else for(;St!==null;){at=St;var nt=at.sibling,bt=at.return;if(b1(at),at===Be){St=null;break}if(nt!==null){nt.return=bt,St=nt;break}St=bt}}}var At=R.alternate;if(At!==null){var Ft=At.child;if(Ft!==null){At.child=null;do{var Wn=Ft.sibling;Ft.sibling=null,Ft=Wn}while(Ft!==null)}}St=R}}if((R.subtreeFlags&2064)!==0&&X!==null)X.return=R,St=X;else e:for(;St!==null;){if(R=St,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:mh(9,R,R.return)}var Oe=R.sibling;if(Oe!==null){Oe.return=R.return,St=Oe;break e}St=R.return}}var ke=o.current;for(St=ke;St!==null;){X=St;var $e=X.child;if((X.subtreeFlags&2064)!==0&&$e!==null)$e.return=X,St=$e;else e:for(X=ke;St!==null;){if(ve=St,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:_f(9,ve)}}catch(Bt){$n(ve,ve.return,Bt)}if(ve===X){St=null;break e}var ut=ve.sibling;if(ut!==null){ut.return=ve.return,St=ut;break e}St=ve.return}}if(Ir=_,M(),Ha&&typeof Ha.onPostCommitFiberRoot=="function")try{Ha.onPostCommitFiberRoot($i,o)}catch{}y=!0}return y}finally{Dr=f,uo.transition=l}}return!1}function O1(o,l,f){l=tu(f,l),l=t1(o,l,1),o=kn(o,l,1),l=es(),o!==null&&(Ui(o,1,l),ys(o,l))}function $n(o,l,f){if(o.tag===3)O1(o,o,f);else for(;l!==null;){if(l.tag===3){O1(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(sc===null||!sc.has(y))){o=tu(f,o),o=r1(l,o,1),l=kn(l,o,1),o=es(),l!==null&&(Ui(l,1,o),ys(l,o));break}}l=l.return}}function c_(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),l=es(),o.pingedLanes|=o.suspendedLanes&f,fa===o&&(Na&f)===f&&(oa===4||oa===3&&(Na&130023424)===Na&&500>rn()-fg?ld(o,0):hg|=f),ys(o,l)}function I1(o,l){l===0&&((o.mode&1)===0?l=1:(l=Wa,Wa<<=1,(Wa&130023424)===0&&(Wa=4194304)));var f=es();o=Kr(o,l),o!==null&&(Ui(o,l,f),ys(o,f))}function d_(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),I1(o,f)}function u_(o,l){var f=0;switch(o.tag){case 13:var y=o.stateNode,_=o.memoizedState;_!==null&&(f=_.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(l),I1(o,f)}var $1;$1=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||Ra.current)xs=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return xs=!1,Q3(o,l,f);xs=(o.flags&131072)!==0}else xs=!1,Ke&&(l.flags&1048576)!==0&&De(l,ne,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Sf(o,l),o=l.pendingProps;var _=Zl(l,aa.current);bn(l,f),_=nd(null,l,y,o,_,f);var R=co();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Da(y)?(R=!0,hl(l)):R=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,sa(l),_.updater=jf,l.stateNode=_,_._reactInternals=l,Xp(l,y,o,f),l=tg(null,l,y,!0,R,f)):(l.tag=0,Ke&&R&&We(l),Za(null,l,_,f),l=l.child),l;case 16:y=l.elementType;e:{switch(Sf(o,l),o=l.pendingProps,_=y._init,y=_(y._payload),l.type=y,_=l.tag=f_(y),o=Fo(y,o),_){case 0:l=eg(null,l,y,o,f);break e;case 1:l=u1(null,l,y,o,f);break e;case 11:l=o1(null,l,y,o,f);break e;case 14:l=i1(null,l,y,Fo(y.type,o),f);break e}throw Error(n(306,y,""))}return l;case 0:return y=l.type,_=l.pendingProps,_=l.elementType===y?_:Fo(y,_),eg(o,l,y,_,f);case 1:return y=l.type,_=l.pendingProps,_=l.elementType===y?_:Fo(y,_),u1(o,l,y,_,f);case 3:e:{if(h1(l),o===null)throw Error(n(387));y=l.pendingProps,R=l.memoizedState,_=R.element,La(o,l),ha(l,y,null,f);var X=l.memoizedState;if(y=X.element,R.isDehydrated)if(R={element:y,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},l.updateQueue.baseState=R,l.memoizedState=R,l.flags&256){_=tu(Error(n(423)),l),l=f1(o,l,y,f,_);break e}else if(y!==_){_=tu(Error(n(424)),l),l=f1(o,l,y,f,_);break e}else for(He=ba(l.stateNode.containerInfo.firstChild),Ue=l,Ke=!0,Je=null,f=fn(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Nt(),y===_){l=ml(o,l,f);break e}Za(o,l,y,f)}l=l.child}return l;case 5:return gf(l),o===null&&Pt(l),y=l.type,_=l.pendingProps,R=o!==null?o.memoizedProps:null,X=_.children,nh(y,_)?X=null:R!==null&&nh(y,R)&&(l.flags|=32),d1(o,l),Za(o,l,X,f),l.child;case 6:return o===null&&Pt(l),null;case 13:return m1(o,l,f);case 4:return ec(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=Fn(l,null,y,f):Za(o,l,y,f),l.child;case 11:return y=l.type,_=l.pendingProps,_=l.elementType===y?_:Fo(y,_),o1(o,l,y,_,f);case 7:return Za(o,l,l.pendingProps,f),l.child;case 8:return Za(o,l,l.pendingProps.children,f),l.child;case 12:return Za(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(y=l.type._context,_=l.pendingProps,R=l.memoizedProps,X=_.value,qr(Vn,y._currentValue),y._currentValue=X,R!==null)if(vn(R.value,X)){if(R.children===_.children&&!Ra.current){l=ml(o,l,f);break e}}else for(R=l.child,R!==null&&(R.return=l);R!==null;){var ve=R.dependencies;if(ve!==null){X=R.child;for(var _e=ve.firstContext;_e!==null;){if(_e.context===y){if(R.tag===1){_e=Pn(-1,f&-f),_e.tag=2;var Be=R.updateQueue;if(Be!==null){Be=Be.shared;var at=Be.pending;at===null?_e.next=_e:(_e.next=at.next,at.next=_e),Be.pending=_e}}R.lanes|=f,_e=R.alternate,_e!==null&&(_e.lanes|=f),Or(R.return,f,l),ve.lanes|=f;break}_e=_e.next}}else if(R.tag===10)X=R.type===l.type?null:R.child;else if(R.tag===18){if(X=R.return,X===null)throw Error(n(341));X.lanes|=f,ve=X.alternate,ve!==null&&(ve.lanes|=f),Or(X,f,l),X=R.sibling}else X=R.child;if(X!==null)X.return=R;else for(X=R;X!==null;){if(X===l){X=null;break}if(R=X.sibling,R!==null){R.return=X.return,X=R;break}X=X.return}R=X}Za(o,l,_.children,f),l=l.child}return l;case 9:return _=l.type,y=l.pendingProps.children,bn(l,f),_=jn(_),y=y(_),l.flags|=1,Za(o,l,y,f),l.child;case 14:return y=l.type,_=Fo(y,l.pendingProps),_=Fo(y.type,_),i1(o,l,y,_,f);case 15:return l1(o,l,l.type,l.pendingProps,f);case 17:return y=l.type,_=l.pendingProps,_=l.elementType===y?_:Fo(y,_),Sf(o,l),l.tag=1,Da(y)?(o=!0,hl(l)):o=!1,bn(l,f),Z0(l,y,_),Xp(l,y,_,f),tg(null,l,y,!0,o,f);case 19:return g1(o,l,f);case 22:return c1(o,l,f)}throw Error(n(156,l.tag))};function B1(o,l){return Oi(o,l)}function h_(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(o,l,f,y){return new h_(o,l,f,y)}function bg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function f_(o){if(typeof o=="function")return bg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===ge)return 14}return 2}function cc(o,l){var f=o.alternate;return f===null?(f=ho(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Mf(o,l,f,y,_,R){var X=2;if(y=o,typeof o=="function")bg(o)&&(X=1);else if(typeof o=="string")X=5;else e:switch(o){case W:return dd(f.children,_,R,l);case te:X=8,_|=8;break;case K:return o=ho(12,f,l,_|2),o.elementType=K,o.lanes=R,o;case z:return o=ho(13,f,l,_),o.elementType=z,o.lanes=R,o;case q:return o=ho(19,f,l,_),o.elementType=q,o.lanes=R,o;case ye:return Ff(f,_,R,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case oe:X=10;break e;case L:X=9;break e;case F:X=11;break e;case ge:X=14;break e;case fe:X=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=ho(X,f,l,_),l.elementType=o,l.type=y,l.lanes=R,l}function dd(o,l,f,y){return o=ho(7,o,y,l),o.lanes=f,o}function Ff(o,l,f,y){return o=ho(22,o,y,l),o.elementType=ye,o.lanes=f,o.stateNode={isHidden:!1},o}function jg(o,l,f){return o=ho(6,o,null,l),o.lanes=f,o}function Ng(o,l,f){return l=ho(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function m_(o,l,f,y,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ic(0),this.expirationTimes=Ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.identifierPrefix=y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Sg(o,l,f,y,_,R,X,ve,_e){return o=new m_(o,l,f,ve,_e),l===1?(l=1,R===!0&&(l|=8)):l=0,R=ho(3,null,null,l),o.current=R,R.stateNode=o,R.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},sa(R),o}function p_(o,l,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:y==null?null:""+y,children:o,containerInfo:l,implementation:f}}function z1(o){if(!o)return vi;o=o._reactInternals;e:{if(ta(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Da(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(Da(f))return ih(o,f,l)}return l}function U1(o,l,f,y,_,R,X,ve,_e){return o=Sg(f,y,!0,o,_,R,X,ve,_e),o.context=z1(null),f=o.current,y=es(),_=ic(f),R=Pn(y,_),R.callback=l??null,kn(f,R,_),o.current.lanes=_,Ui(o,_,y),ys(o,y),o}function Of(o,l,f,y){var _=l.current,R=es(),X=ic(_);return f=z1(f),l.context===null?l.context=f:l.pendingContext=f,l=Pn(R,X),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=kn(_,l,X),o!==null&&($o(o,_,X,R),ua(o,_,X)),X}function If(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function q1(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Cg(o,l){q1(o,l),(o=o.alternate)&&q1(o,l)}function g_(){return null}var V1=typeof reportError=="function"?reportError:function(o){console.error(o)};function _g(o){this._internalRoot=o}$f.prototype.render=_g.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Of(o,l,null,null)},$f.prototype.unmount=_g.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;id(function(){Of(null,o,null,null)}),l[ca]=null}};function $f(o){this._internalRoot=o}$f.prototype.unstable_scheduleHydration=function(o){if(o){var l=Md();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Zs.length&&l!==0&&l<Zs[f].priority;f++);Zs.splice(f,0,o),f===0&&Od(o)}};function Pg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Bf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function H1(){}function x_(o,l,f,y,_){if(_){if(typeof y=="function"){var R=y;y=function(){var Be=If(X);R.call(Be)}}var X=U1(l,y,o,0,null,!1,!1,"",H1);return o._reactRootContainer=X,o[ca]=X.current,il(o.nodeType===8?o.parentNode:o),id(),X}for(;_=o.lastChild;)o.removeChild(_);if(typeof y=="function"){var ve=y;y=function(){var Be=If(_e);ve.call(Be)}}var _e=Sg(o,0,!1,null,null,!1,!1,"",H1);return o._reactRootContainer=_e,o[ca]=_e.current,il(o.nodeType===8?o.parentNode:o),id(function(){Of(l,_e,f,y)}),_e}function zf(o,l,f,y,_){var R=f._reactRootContainer;if(R){var X=R;if(typeof _=="function"){var ve=_;_=function(){var _e=If(X);ve.call(_e)}}Of(l,X,o,_)}else X=x_(f,l,o,_,y);return If(X)}oi=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=Js(l.pendingLanes);f!==0&&(Ll(l,f|1),ys(l,rn()),(Ir&6)===0&&(au=rn()+500,M()))}break;case 13:id(function(){var y=Kr(o,1);if(y!==null){var _=es();$o(y,o,1,_)}}),Cg(o,1)}},$c=function(o){if(o.tag===13){var l=Kr(o,134217728);if(l!==null){var f=es();$o(l,o,134217728,f)}Cg(o,134217728)}},Ld=function(o){if(o.tag===13){var l=ic(o),f=Kr(o,l);if(f!==null){var y=es();$o(f,o,l,y)}Cg(o,l)}},Md=function(){return Dr},Ml=function(o,l){var f=Dr;try{return Dr=o,l()}finally{Dr=f}},vt=function(o,l,f){switch(l){case"input":if(Xe(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var _=td(y);if(!_)throw Error(n(90));Q(y),Xe(y,_)}}}break;case"textarea":zt(o,f);break;case"select":l=f.value,l!=null&&Ze(o,!!f.multiple,l,!1)}},gt=vg,Qt=id;var v_={usingClientEntryPoint:!1,Events:[Ql,dl,td,Re,et,vg]},vh={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y_={bundleType:vh.bundleType,version:vh.version,rendererPackageName:vh.rendererPackageName,rendererConfig:vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ps(o),o===null?null:o.stateNode},findFiberByHostInstance:vh.findFiberByHostInstance||g_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{$i=Uf.inject(y_),Ha=Uf}catch{}}return ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_,ws.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pg(l))throw Error(n(200));return p_(o,l,null,f)},ws.createRoot=function(o,l){if(!Pg(o))throw Error(n(299));var f=!1,y="",_=V1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=Sg(o,1,!1,null,null,f,!1,y,_),o[ca]=l.current,il(o.nodeType===8?o.parentNode:o),new _g(l)},ws.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Ps(l),o=o===null?null:o.stateNode,o},ws.flushSync=function(o){return id(o)},ws.hydrate=function(o,l,f){if(!Bf(l))throw Error(n(200));return zf(null,o,l,!0,f)},ws.hydrateRoot=function(o,l,f){if(!Pg(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,_=!1,R="",X=V1;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(R=f.identifierPrefix),f.onRecoverableError!==void 0&&(X=f.onRecoverableError)),l=U1(l,null,o,1,f??null,_,!1,R,X),o[ca]=l.current,il(o),y)for(o=0;o<y.length;o++)f=y[o],_=f._getVersion,_=_(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,_]:l.mutableSourceEagerHydrationData.push(f,_);return new $f(l)},ws.render=function(o,l,f){if(!Bf(l))throw Error(n(200));return zf(null,o,l,!1,f)},ws.unmountComponentAtNode=function(o){if(!Bf(o))throw Error(n(40));return o._reactRootContainer?(id(function(){zf(null,null,o,!1,function(){o._reactRootContainer=null,o[ca]=null})}),!0):!1},ws.unstable_batchedUpdates=vg,ws.unstable_renderSubtreeIntoContainer=function(o,l,f,y){if(!Bf(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return zf(o,l,f,!1,y)},ws.version="18.3.1-next-f1338f8080-20240426",ws}var Z1;function Gw(){if(Z1)return Ag.exports;Z1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=P_(),Ag.exports}var ey;function k_(){if(ey)return qf;ey=1;var e=Gw();return qf.createRoot=e.createRoot,qf.hydrateRoot=e.hydrateRoot,qf}var E_=k_(),v=Av();const ft=Ww(v),Tv=b_({__proto__:null,default:ft},[v]),A_=1,T_=1e6;let Dg=0;function R_(){return Dg=(Dg+1)%Number.MAX_SAFE_INTEGER,Dg.toString()}const Lg=new Map,ty=e=>{if(Lg.has(e))return;const t=setTimeout(()=>{Lg.delete(e),Th({type:"REMOVE_TOAST",toastId:e})},T_);Lg.set(e,t)},D_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,A_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ty(n):e.toasts.forEach(a=>{ty(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},hm=[];let fm={toasts:[]};function Th(e){fm=D_(fm,e),hm.forEach(t=>{t(fm)})}function L_({...e}){const t=R_(),n=s=>Th({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>Th({type:"DISMISS_TOAST",toastId:t});return Th({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:n}}function Hr(){const[e,t]=v.useState(fm);return v.useEffect(()=>(hm.push(t),()=>{const n=hm.indexOf(t);n>-1&&hm.splice(n,1)}),[e]),{...e,toast:L_,dismiss:n=>Th({type:"DISMISS_TOAST",toastId:n})}}var Mu=Gw();const Yw=Ww(Mu);function ot(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function ry(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gm(...e){return t=>{let n=!1;const a=e.map(s=>{const i=ry(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():ry(e[s],null)}}}}function rr(...e){return v.useCallback(Gm(...e),e)}function M_(e,t){const n=v.createContext(t),a=i=>{const{children:d,...c}=i,u=v.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:u,children:d})};a.displayName=e+"Provider";function s(i){const d=v.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function va(e,t=[]){let n=[];function a(i,d){const c=v.createContext(d),u=n.length;n=[...n,d];const h=g=>{const{scope:w,children:p,...S}=g,j=w?.[e]?.[u]||c,N=v.useMemo(()=>S,Object.values(S));return r.jsx(j.Provider,{value:N,children:p})};h.displayName=i+"Provider";function m(g,w){const p=w?.[e]?.[u]||c,S=v.useContext(p);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,m]}const s=()=>{const i=n.map(d=>v.createContext(d));return function(c){const u=c?.[e]||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,F_(s,...t)]}function F_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const d=a.reduce((c,{useScope:u,scopeName:h})=>{const g=u(i)[`__scope${h}`];return{...c,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function _c(e){const t=I_(e),n=v.forwardRef((a,s)=>{const{children:i,...d}=a,c=v.Children.toArray(i),u=c.find($_);if(u){const h=u.props.children,m=c.map(g=>g===u?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return r.jsx(t,{...d,ref:s,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return r.jsx(t,{...d,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var O_=_c("Slot");function I_(e){const t=v.forwardRef((n,a)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const d=z_(s),c=B_(i,s.props);return s.type!==v.Fragment&&(c.ref=a?Gm(a,d):d),v.cloneElement(s,c)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kw=Symbol("radix.slottable");function Jw(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Kw,t}function $_(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kw}function B_(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function z_(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ym(e){const t=e+"CollectionProvider",[n,a]=va(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=j=>{const{scope:N,children:P}=j,k=ft.useRef(null),E=ft.useRef(new Map).current;return r.jsx(s,{scope:N,itemMap:E,collectionRef:k,children:P})};d.displayName=t;const c=e+"CollectionSlot",u=_c(c),h=ft.forwardRef((j,N)=>{const{scope:P,children:k}=j,E=i(c,P),O=rr(N,E.collectionRef);return r.jsx(u,{ref:O,children:k})});h.displayName=c;const m=e+"CollectionItemSlot",g="data-radix-collection-item",w=_c(m),p=ft.forwardRef((j,N)=>{const{scope:P,children:k,...E}=j,O=ft.useRef(null),B=rr(N,O),ae=i(m,P);return ft.useEffect(()=>(ae.itemMap.set(O,{ref:O,...E}),()=>void ae.itemMap.delete(O))),r.jsx(w,{[g]:"",ref:B,children:k})});p.displayName=m;function S(j){const N=i(e+"CollectionConsumer",j);return ft.useCallback(()=>{const k=N.collectionRef.current;if(!k)return[];const E=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((ae,W)=>E.indexOf(ae.ref.current)-E.indexOf(W.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:d,Slot:h,ItemSlot:p},S,a]}var U_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=U_.reduce((e,t)=>{const n=_c(`Primitive.${t}`),a=v.forwardRef((s,i)=>{const{asChild:d,...c}=s,u=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...c,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Rv(e,t){e&&Mu.flushSync(()=>e.dispatchEvent(t))}function zn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>t.current?.(...n),[])}function q_(e,t=globalThis?.document){const n=zn(e);v.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var V_="DismissableLayer",Ax="dismissableLayer.update",H_="dismissableLayer.pointerDownOutside",W_="dismissableLayer.focusOutside",ny,Xw=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_d=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:d,onDismiss:c,...u}=e,h=v.useContext(Xw),[m,g]=v.useState(null),w=m?.ownerDocument??globalThis?.document,[,p]=v.useState({}),S=rr(t,W=>g(W)),j=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=j.indexOf(N),k=m?j.indexOf(m):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,O=k>=P,B=Y_(W=>{const te=W.target,K=[...h.branches].some(oe=>oe.contains(te));!O||K||(s?.(W),d?.(W),W.defaultPrevented||c?.())},w),ae=K_(W=>{const te=W.target;[...h.branches].some(oe=>oe.contains(te))||(i?.(W),d?.(W),W.defaultPrevented||c?.())},w);return q_(W=>{k===h.layers.size-1&&(a?.(W),!W.defaultPrevented&&c&&(W.preventDefault(),c()))},w),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(ny=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),ay(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=ny)}},[m,w,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),ay())},[m,h]),v.useEffect(()=>{const W=()=>p({});return document.addEventListener(Ax,W),()=>document.removeEventListener(Ax,W)},[]),r.jsx(Lt.div,{...u,ref:S,style:{pointerEvents:E?O?"auto":"none":void 0,...e.style},onFocusCapture:ot(e.onFocusCapture,ae.onFocusCapture),onBlurCapture:ot(e.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:ot(e.onPointerDownCapture,B.onPointerDownCapture)})});_d.displayName=V_;var G_="DismissableLayerBranch",Qw=v.forwardRef((e,t)=>{const n=v.useContext(Xw),a=v.useRef(null),s=rr(t,a);return v.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Lt.div,{...e,ref:s})});Qw.displayName=G_;function Y_(e,t=globalThis?.document){const n=zn(e),a=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!a.current){let u=function(){Zw(H_,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);a.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function K_(e,t=globalThis?.document){const n=zn(e),a=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!a.current&&Zw(W_,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ay(){const e=new CustomEvent(Ax);document.dispatchEvent(e)}function Zw(e,t,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Rv(s,i):s.dispatchEvent(i)}var J_=_d,X_=Qw,xa=globalThis?.document?v.useLayoutEffect:()=>{},Q_="Portal",Fu=v.forwardRef((e,t)=>{const{container:n,...a}=e,[s,i]=v.useState(!1);xa(()=>i(!0),[]);const d=n||s&&globalThis?.document?.body;return d?Yw.createPortal(r.jsx(Lt.div,{...a,ref:t}),d):null});Fu.displayName=Q_;function Z_(e,t){return v.useReducer((n,a)=>t[n][a]??n,e)}var ia=e=>{const{present:t,children:n}=e,a=eP(t),s=typeof n=="function"?n({present:a.isPresent}):v.Children.only(n),i=rr(a.ref,tP(s));return typeof n=="function"||a.isPresent?v.cloneElement(s,{ref:i}):null};ia.displayName="Presence";function eP(e){const[t,n]=v.useState(),a=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),d=e?"mounted":"unmounted",[c,u]=Z_(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Vf(a.current);i.current=c==="mounted"?h:"none"},[c]),xa(()=>{const h=a.current,m=s.current;if(m!==e){const w=i.current,p=Vf(h);e?u("MOUNT"):p==="none"||h?.display==="none"?u("UNMOUNT"):u(m&&w!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),xa(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=p=>{const j=Vf(a.current).includes(CSS.escape(p.animationName));if(p.target===t&&j&&(u("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},w=p=>{p.target===t&&(i.current=Vf(a.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{a.current=h?getComputedStyle(h):null,n(h)},[])}}function Vf(e){return e?.animationName||"none"}function tP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rP=Tv[" useInsertionEffect ".trim().toString()]||xa;function vo({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[s,i,d]=nP({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:s;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,a])}const h=v.useCallback(m=>{if(c){const g=aP(m)?m(e):m;g!==e&&d.current?.(g)}else i(m)},[c,e,i,d]);return[u,h]}function nP({defaultProp:e,onChange:t}){const[n,a]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return rP(()=>{i.current=t},[t]),v.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,a,i]}function aP(e){return typeof e=="function"}var eb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sP="VisuallyHidden",Km=v.forwardRef((e,t)=>r.jsx(Lt.span,{...e,ref:t,style:{...eb,...e.style}}));Km.displayName=sP;var oP=Km,Dv="ToastProvider",[Lv,iP,lP]=Ym("Toast"),[tb]=va("Toast",[lP]),[cP,Jm]=tb(Dv),rb=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:d}=e,[c,u]=v.useState(null),[h,m]=v.useState(0),g=v.useRef(!1),w=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dv}\`. Expected non-empty \`string\`.`),r.jsx(Lv.Provider,{scope:t,children:r.jsx(cP,{scope:t,label:n,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:v.useCallback(()=>m(p=>p+1),[]),onToastRemove:v.useCallback(()=>m(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:w,children:d})})};rb.displayName=Dv;var nb="ToastViewport",dP=["F8"],Tx="toast.viewportPause",Rx="toast.viewportResume",ab=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:a=dP,label:s="Notifications ({hotkey})",...i}=e,d=Jm(nb,n),c=iP(n),u=v.useRef(null),h=v.useRef(null),m=v.useRef(null),g=v.useRef(null),w=rr(t,g,d.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=d.toastCount>0;v.useEffect(()=>{const N=P=>{a.length!==0&&a.every(E=>P[E]||P.code===E)&&g.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[a]),v.useEffect(()=>{const N=u.current,P=g.current;if(S&&N&&P){const k=()=>{if(!d.isClosePausedRef.current){const ae=new CustomEvent(Tx);P.dispatchEvent(ae),d.isClosePausedRef.current=!0}},E=()=>{if(d.isClosePausedRef.current){const ae=new CustomEvent(Rx);P.dispatchEvent(ae),d.isClosePausedRef.current=!1}},O=ae=>{!N.contains(ae.relatedTarget)&&E()},B=()=>{N.contains(document.activeElement)||E()};return N.addEventListener("focusin",k),N.addEventListener("focusout",O),N.addEventListener("pointermove",k),N.addEventListener("pointerleave",B),window.addEventListener("blur",k),window.addEventListener("focus",E),()=>{N.removeEventListener("focusin",k),N.removeEventListener("focusout",O),N.removeEventListener("pointermove",k),N.removeEventListener("pointerleave",B),window.removeEventListener("blur",k),window.removeEventListener("focus",E)}}},[S,d.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:N})=>{const k=c().map(E=>{const O=E.ref.current,B=[O,...NP(O)];return N==="forwards"?B:B.reverse()});return(N==="forwards"?k.reverse():k).flat()},[c]);return v.useEffect(()=>{const N=g.current;if(N){const P=k=>{const E=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!E){const B=document.activeElement,ae=k.shiftKey;if(k.target===N&&ae){h.current?.focus();return}const K=j({tabbingDirection:ae?"backwards":"forwards"}),oe=K.findIndex(L=>L===B);Mg(K.slice(oe+1))?k.preventDefault():ae?h.current?.focus():m.current?.focus()}};return N.addEventListener("keydown",P),()=>N.removeEventListener("keydown",P)}},[c,j]),r.jsxs(X_,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&r.jsx(Dx,{ref:h,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"forwards"});Mg(N)}}),r.jsx(Lv.Slot,{scope:n,children:r.jsx(Lt.ol,{tabIndex:-1,...i,ref:w})}),S&&r.jsx(Dx,{ref:m,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"backwards"});Mg(N)}})]})});ab.displayName=nb;var sb="ToastFocusProxy",Dx=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...s}=e,i=Jm(sb,n);return r.jsx(Km,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:d=>{const c=d.relatedTarget;!i.viewport?.contains(c)&&a()}})});Dx.displayName=sb;var Jh="Toast",uP="toast.swipeStart",hP="toast.swipeMove",fP="toast.swipeCancel",mP="toast.swipeEnd",ob=v.forwardRef((e,t)=>{const{forceMount:n,open:a,defaultOpen:s,onOpenChange:i,...d}=e,[c,u]=vo({prop:a,defaultProp:s??!0,onChange:i,caller:Jh});return r.jsx(ia,{present:n||c,children:r.jsx(xP,{open:c,...d,ref:t,onClose:()=>u(!1),onPause:zn(e.onPause),onResume:zn(e.onResume),onSwipeStart:ot(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ot(e.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ot(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ot(e.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});ob.displayName=Jh;var[pP,gP]=tb(Jh,{onClose(){}}),xP=v.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:i,onClose:d,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:w,onSwipeEnd:p,...S}=e,j=Jm(Jh,n),[N,P]=v.useState(null),k=rr(t,q=>P(q)),E=v.useRef(null),O=v.useRef(null),B=s||j.duration,ae=v.useRef(0),W=v.useRef(B),te=v.useRef(0),{onToastAdd:K,onToastRemove:oe}=j,L=zn(()=>{N?.contains(document.activeElement)&&j.viewport?.focus(),d()}),F=v.useCallback(q=>{!q||q===1/0||(window.clearTimeout(te.current),ae.current=new Date().getTime(),te.current=window.setTimeout(L,q))},[L]);v.useEffect(()=>{const q=j.viewport;if(q){const ge=()=>{F(W.current),h?.()},fe=()=>{const ye=new Date().getTime()-ae.current;W.current=W.current-ye,window.clearTimeout(te.current),u?.()};return q.addEventListener(Tx,fe),q.addEventListener(Rx,ge),()=>{q.removeEventListener(Tx,fe),q.removeEventListener(Rx,ge)}}},[j.viewport,B,u,h,F]),v.useEffect(()=>{i&&!j.isClosePausedRef.current&&F(B)},[i,B,j.isClosePausedRef,F]),v.useEffect(()=>(K(),()=>oe()),[K,oe]);const z=v.useMemo(()=>N?fb(N):null,[N]);return j.viewport?r.jsxs(r.Fragment,{children:[z&&r.jsx(vP,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:z}),r.jsx(pP,{scope:n,onClose:L,children:Mu.createPortal(r.jsx(Lv.ItemSlot,{scope:n,children:r.jsx(J_,{asChild:!0,onEscapeKeyDown:ot(c,()=>{j.isFocusedToastEscapeKeyDownRef.current||L(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Lt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":j.swipeDirection,...S,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ot(e.onKeyDown,q=>{q.key==="Escape"&&(c?.(q.nativeEvent),q.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ot(e.onPointerDown,q=>{q.button===0&&(E.current={x:q.clientX,y:q.clientY})}),onPointerMove:ot(e.onPointerMove,q=>{if(!E.current)return;const ge=q.clientX-E.current.x,fe=q.clientY-E.current.y,ye=!!O.current,U=["left","right"].includes(j.swipeDirection),$=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,H=U?$(0,ge):0,D=U?0:$(0,fe),T=q.pointerType==="touch"?10:2,I={x:H,y:D},G={originalEvent:q,delta:I};ye?(O.current=I,Hf(hP,g,G,{discrete:!1})):sy(I,j.swipeDirection,T)?(O.current=I,Hf(uP,m,G,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ge)>T||Math.abs(fe)>T)&&(E.current=null)}),onPointerUp:ot(e.onPointerUp,q=>{const ge=O.current,fe=q.target;if(fe.hasPointerCapture(q.pointerId)&&fe.releasePointerCapture(q.pointerId),O.current=null,E.current=null,ge){const ye=q.currentTarget,U={originalEvent:q,delta:ge};sy(ge,j.swipeDirection,j.swipeThreshold)?Hf(mP,p,U,{discrete:!0}):Hf(fP,w,U,{discrete:!0}),ye.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),vP=e=>{const{__scopeToast:t,children:n,...a}=e,s=Jm(Jh,t),[i,d]=v.useState(!1),[c,u]=v.useState(!1);return bP(()=>d(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:r.jsx(Fu,{asChild:!0,children:r.jsx(Km,{...a,children:i&&r.jsxs(r.Fragment,{children:[s.label," ",n]})})})},yP="ToastTitle",ib=v.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return r.jsx(Lt.div,{...a,ref:t})});ib.displayName=yP;var wP="ToastDescription",lb=v.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return r.jsx(Lt.div,{...a,ref:t})});lb.displayName=wP;var cb="ToastAction",db=v.forwardRef((e,t)=>{const{altText:n,...a}=e;return n.trim()?r.jsx(hb,{altText:n,asChild:!0,children:r.jsx(Mv,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cb}\`. Expected non-empty \`string\`.`),null)});db.displayName=cb;var ub="ToastClose",Mv=v.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e,s=gP(ub,n);return r.jsx(hb,{asChild:!0,children:r.jsx(Lt.button,{type:"button",...a,ref:t,onClick:ot(e.onClick,s.onClose)})})});Mv.displayName=ub;var hb=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:a,...s}=e;return r.jsx(Lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function fb(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),jP(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const d=a.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...fb(a))}}),t}function Hf(e,t,n,{discrete:a}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Rv(s,i):s.dispatchEvent(i)}var sy=(e,t,n=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return t==="left"||t==="right"?i&&a>n:!i&&s>n};function bP(e=()=>{}){const t=zn(e);xa(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function jP(e){return e.nodeType===e.ELEMENT_NODE}function NP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var SP=rb,mb=ab,pb=ob,gb=ib,xb=lb,vb=db,yb=Mv;function wb(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=wb(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function bb(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=wb(e))&&(a&&(a+=" "),a+=t);return a}const oy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iy=bb,Xh=(e,t)=>n=>{var a;if(t?.variants==null)return iy(e,n?.class,n?.className);const{variants:s,defaultVariants:i}=t,d=Object.keys(s).map(h=>{const m=n?.[h],g=i?.[h];if(m===null)return null;const w=oy(m)||oy(g);return s[h][w]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,w]=m;return w===void 0||(h[g]=w),h},{}),u=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((h,m)=>{let{class:g,className:w,...p}=m;return Object.entries(p).every(S=>{let[j,N]=S;return Array.isArray(N)?N.includes({...i,...c}[j]):{...i,...c}[j]===N})?[...h,g,w]:h},[]);return iy(e,d,u,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jb=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:d,...c},u)=>v.createElement("svg",{ref:u,..._P,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:jb("lucide",s),...c},[...d.map(([h,m])=>v.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(e,t)=>{const n=v.forwardRef(({className:a,...s},i)=>v.createElement(PP,{ref:i,iconNode:t,className:jb(`lucide-${CP(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Ct("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Ct("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Ct("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ct("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Ct("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Ct("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Ct("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ct("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Ct("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Ct("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Ct("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Ct("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Ct("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ct("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ct("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Ct("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Ct("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Ct("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ct("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ct("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Ct("SquareParking",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ct("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ct("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Ct("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Ct("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Ct("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Ct("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qv="-",WP=e=>{const t=YP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const c=d.split(qv);return c[0]===""&&c.length!==1&&c.shift(),Rb(c,t)||GP(d)},getConflictingClassGroupIds:(d,c)=>{const u=n[d]||[];return c&&a[d]?[...u,...a[d]]:u}}},Rb=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),s=a?Rb(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(qv);return t.validators.find(({validator:d})=>d(i))?.classGroupId},hy=/^\[(.+)\]$/,GP=e=>{if(hy.test(e)){const t=hy.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YP=e=>{const{theme:t,prefix:n}=e,a={nextPart:new Map,validators:[]};return JP(Object.entries(e.classGroups),n).forEach(([i,d])=>{$x(d,a,i,t)}),a},$x=(e,t,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:fy(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(KP(s)){$x(s(a),t,n,a);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,d])=>{$x(d,fy(t,i),n,a)})})},fy=(e,t)=>{let n=e;return t.split(qv).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},KP=e=>e.isThemeGetter,JP=(e,t)=>t?e.map(([n,a])=>{const s=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([d,c])=>[t+d,c])):i);return[n,s]}):e,XP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const s=(i,d)=>{n.set(i,d),t++,t>e&&(t=0,a=n,n=new Map)};return{get(i){let d=n.get(i);if(d!==void 0)return d;if((d=a.get(i))!==void 0)return s(i,d),d},set(i,d){n.has(i)?n.set(i,d):s(i,d)}}},Db="!",QP=e=>{const{separator:t,experimentalParseClassName:n}=e,a=t.length===1,s=t[0],i=t.length,d=c=>{const u=[];let h=0,m=0,g;for(let N=0;N<c.length;N++){let P=c[N];if(h===0){if(P===s&&(a||c.slice(N,N+i)===t)){u.push(c.slice(m,N)),m=N+i;continue}if(P==="/"){g=N;continue}}P==="["?h++:P==="]"&&h--}const w=u.length===0?c:c.substring(m),p=w.startsWith(Db),S=p?w.substring(1):w,j=g&&g>m?g-m:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:j}};return n?c=>n({className:c,parseClassName:d}):d},ZP=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(a=>{a[0]==="["?(t.push(...n.sort(),a),n=[]):n.push(a)}),t.push(...n.sort()),t},ek=e=>({cache:XP(e.cacheSize),parseClassName:QP(e),...WP(e)}),tk=/\s+/,rk=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=t,i=[],d=e.trim().split(tk);let c="";for(let u=d.length-1;u>=0;u-=1){const h=d[u],{modifiers:m,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:p}=n(h);let S=!!p,j=a(S?w.substring(0,p):w);if(!j){if(!S){c=h+(c.length>0?" "+c:c);continue}if(j=a(w),!j){c=h+(c.length>0?" "+c:c);continue}S=!1}const N=ZP(m).join(":"),P=g?N+Db:N,k=P+j;if(i.includes(k))continue;i.push(k);const E=s(j,S);for(let O=0;O<E.length;++O){const B=E[O];i.push(P+B)}c=h+(c.length>0?" "+c:c)}return c};function nk(){let e=0,t,n,a="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Lb(t))&&(a&&(a+=" "),a+=n);return a}const Lb=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=Lb(e[a]))&&(n&&(n+=" "),n+=t);return n};function ak(e,...t){let n,a,s,i=d;function d(u){const h=t.reduce((m,g)=>g(m),e());return n=ek(h),a=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const h=a(u);if(h)return h;const m=rk(u,n);return s(u,m),m}return function(){return i(nk.apply(null,arguments))}}const mn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Mb=/^\[(?:([a-z-]+):)?(.+)\]$/i,sk=/^\d+\/\d+$/,ok=new Set(["px","full","screen"]),ik=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ck=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gl=e=>yu(e)||ok.has(e)||sk.test(e),uc=e=>Ou(e,"length",yk),yu=e=>!!e&&!Number.isNaN(Number(e)),Ig=e=>Ou(e,"number",yu),wh=e=>!!e&&Number.isInteger(Number(e)),hk=e=>e.endsWith("%")&&yu(e.slice(0,-1)),wr=e=>Mb.test(e),hc=e=>ik.test(e),fk=new Set(["length","size","percentage"]),mk=e=>Ou(e,fk,Fb),pk=e=>Ou(e,"position",Fb),gk=new Set(["image","url"]),xk=e=>Ou(e,gk,bk),vk=e=>Ou(e,"",wk),bh=()=>!0,Ou=(e,t,n)=>{const a=Mb.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):n(a[2]):!1},yk=e=>lk.test(e)&&!ck.test(e),Fb=()=>!1,wk=e=>dk.test(e),bk=e=>uk.test(e),jk=()=>{const e=mn("colors"),t=mn("spacing"),n=mn("blur"),a=mn("brightness"),s=mn("borderColor"),i=mn("borderRadius"),d=mn("borderSpacing"),c=mn("borderWidth"),u=mn("contrast"),h=mn("grayscale"),m=mn("hueRotate"),g=mn("invert"),w=mn("gap"),p=mn("gradientColorStops"),S=mn("gradientColorStopPositions"),j=mn("inset"),N=mn("margin"),P=mn("opacity"),k=mn("padding"),E=mn("saturate"),O=mn("scale"),B=mn("sepia"),ae=mn("skew"),W=mn("space"),te=mn("translate"),K=()=>["auto","contain","none"],oe=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",wr,t],F=()=>[wr,t],z=()=>["",gl,uc],q=()=>["auto",yu,wr],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",wr],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[yu,wr];return{cacheSize:500,separator:":",theme:{colors:[bh],spacing:[gl,uc],blur:["none","",hc,wr],brightness:D(),borderColor:[e],borderRadius:["none","","full",hc,wr],borderSpacing:F(),borderWidth:z(),contrast:D(),grayscale:$(),hueRotate:D(),invert:$(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[hk,uc],inset:L(),margin:L(),opacity:D(),padding:F(),saturate:D(),scale:D(),sepia:$(),skew:D(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",wr]}],container:["container"],columns:[{columns:[hc]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),wr]}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wh,wr]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wr]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",wh,wr]}],"grid-cols":[{"grid-cols":[bh]}],"col-start-end":[{col:["auto",{span:["full",wh,wr]},wr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[bh]}],"row-start-end":[{row:["auto",{span:[wh,wr]},wr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wr]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wr,t]}],"min-w":[{"min-w":[wr,t,"min","max","fit"]}],"max-w":[{"max-w":[wr,t,"none","full","min","max","fit","prose",{screen:[hc]},hc]}],h:[{h:[wr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hc,uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ig]}],"font-family":[{font:[bh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wr]}],"line-clamp":[{"line-clamp":["none",yu,Ig]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gl,wr]}],"list-image":[{"list-image":["none",wr]}],"list-style-type":[{list:["none","disc","decimal",wr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gl,uc]}],"underline-offset":[{"underline-offset":["auto",gl,wr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),pk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:fe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[gl,wr]}],"outline-w":[{outline:[gl,uc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[gl,uc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hc,vk]}],"shadow-color":[{shadow:[bh]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",hc,wr]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[E]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wr]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",wr]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",wr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[wh,wr]}],"translate-x":[{"translate-x":[te]}],"translate-y":[{"translate-y":[te]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gl,uc,Ig]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nk=ak(jk);function xt(...e){return Nk(bb(e))}const Sk=SP,Ob=v.forwardRef(({className:e,...t},n)=>r.jsx(mb,{ref:n,className:xt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ob.displayName=mb.displayName;const Ck=Xh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ib=v.forwardRef(({className:e,variant:t,...n},a)=>r.jsx(pb,{ref:a,className:xt(Ck({variant:t}),e),...n}));Ib.displayName=pb.displayName;const _k=v.forwardRef(({className:e,...t},n)=>r.jsx(vb,{ref:n,className:xt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));_k.displayName=vb.displayName;const $b=v.forwardRef(({className:e,...t},n)=>r.jsx(yb,{ref:n,className:xt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(tp,{className:"h-4 w-4"})}));$b.displayName=yb.displayName;const Bb=v.forwardRef(({className:e,...t},n)=>r.jsx(gb,{ref:n,className:xt("text-sm font-semibold",e),...t}));Bb.displayName=gb.displayName;const zb=v.forwardRef(({className:e,...t},n)=>r.jsx(xb,{ref:n,className:xt("text-sm opacity-90",e),...t}));zb.displayName=xb.displayName;function Pk(){const{toasts:e}=Hr();return r.jsxs(Sk,{children:[e.map(function({id:t,title:n,description:a,action:s,...i}){return r.jsxs(Ib,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(Bb,{children:n}),a&&r.jsx(zb,{children:a})]}),s,r.jsx($b,{})]},t)}),r.jsx(Ob,{})]})}var my=["light","dark"],kk="(prefers-color-scheme: dark)",Ek=v.createContext(void 0),Ak={setTheme:e=>{},themes:[]},Tk=()=>{var e;return(e=v.useContext(Ek))!=null?e:Ak};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:d,attrs:c,nonce:u})=>{let h=i==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=s?my.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(S,j=!1,N=!0)=>{let P=d?d[S]:S,k=j?S+"|| ''":`'${P}'`,E="";return s&&N&&!j&&my.includes(S)&&(E+=`d.style.colorScheme = '${S}';`),n==="class"?j||P?E+=`c.add(${k})`:E+="null":P&&(E+=`d[s](n,${k})`),E},p=e?`!function(){${m}${w(e)}}()`:a?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${kk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${w(d?"x[e]":"e",!0)}}${h?"":"else{"+w(i,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${w(d?"x[e]":"e",!0)}}else{${w(i,!1,!1)};}${g}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var Rk=e=>{switch(e){case"success":return Mk;case"info":return Ok;case"warning":return Fk;case"error":return Ik;default:return null}},Dk=Array(12).fill(0),Lk=({visible:e,className:t})=>ft.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ft.createElement("div",{className:"sonner-spinner"},Dk.map((n,a)=>ft.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),Mk=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Fk=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ok=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ik=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$k=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ft.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ft.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Bk=()=>{let[e,t]=ft.useState(document.hidden);return ft.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Bx=1,zk=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:a,...s}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Bx++,d=this.toasts.find(u=>u.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),d?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:a}),{...u,...t,id:i,dismissible:c,title:a}):u):this.addToast({title:a,...s,dismissible:c,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=a!==void 0,d,c=s.then(async h=>{if(d=["resolve",h],ft.isValidElement(h))i=!1,this.create({id:a,type:"default",message:h});else if(qk(h)&&!h.ok){i=!1;let m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:a,type:"error",message:m,description:g})}else if(n.success!==void 0){i=!1;let m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:a,type:"success",message:m,description:g})}}).catch(async h=>{if(d=["reject",h],n.error!==void 0){i=!1;let m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:a,type:"error",message:m,description:g})}}).finally(()=>{var h;i&&(this.dismiss(a),a=void 0),(h=n.finally)==null||h.call(n)}),u=()=>new Promise((h,m)=>c.then(()=>d[0]==="reject"?m(d[1]):h(d[1])).catch(m));return typeof a!="string"&&typeof a!="number"?{unwrap:u}:Object.assign(a,{unwrap:u})},this.custom=(t,n)=>{let a=n?.id||Bx++;return this.create({jsx:t(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bs=new zk,Uk=(e,t)=>{let n=t?.id||Bx++;return bs.addToast({title:e,...t,id:n}),n},qk=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Vk=Uk,Hk=()=>bs.toasts,Wk=()=>bs.getActiveToasts();Object.assign(Vk,{success:bs.success,info:bs.info,warning:bs.warning,error:bs.error,custom:bs.custom,message:bs.message,promise:bs.promise,dismiss:bs.dismiss,loading:bs.loading},{getHistory:Hk,getToasts:Wk});function Gk(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}Gk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wf(e){return e.label!==void 0}var Yk=3,Kk="32px",Jk="16px",py=4e3,Xk=356,Qk=14,Zk=20,eE=200;function Bo(...e){return e.filter(Boolean).join(" ")}function tE(e){let[t,n]=e.split("-"),a=[];return t&&a.push(t),n&&a.push(n),a}var rE=e=>{var t,n,a,s,i,d,c,u,h,m,g;let{invert:w,toast:p,unstyled:S,interacting:j,setHeights:N,visibleToasts:P,heights:k,index:E,toasts:O,expanded:B,removeToast:ae,defaultRichColors:W,closeButton:te,style:K,cancelButtonStyle:oe,actionButtonStyle:L,className:F="",descriptionClassName:z="",duration:q,position:ge,gap:fe,loadingIcon:ye,expandByDefault:U,classNames:$,icons:H,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:T}=e,[I,G]=ft.useState(null),[J,ce]=ft.useState(null),[se,pe]=ft.useState(!1),[le,be]=ft.useState(!1),[Ee,Q]=ft.useState(!1),[Te,Ve]=ft.useState(!1),[re,we]=ft.useState(!1),[Xe,lt]=ft.useState(0),[qe,st]=ft.useState(0),Ze=ft.useRef(p.duration||q||py),pt=ft.useRef(null),ct=ft.useRef(null),zt=E===0,Se=E+1<=P,me=p.type,Me=p.dismissible!==!1,ze=p.className||"",Ye=p.descriptionClassName||"",ht=ft.useMemo(()=>k.findIndex(et=>et.toastId===p.id)||0,[k,p.id]),dt=ft.useMemo(()=>{var et;return(et=p.closeButton)!=null?et:te},[p.closeButton,te]),Yt=ft.useMemo(()=>p.duration||q||py,[p.duration,q]),Vt=ft.useRef(0),Wt=ft.useRef(0),Gt=ft.useRef(0),hr=ft.useRef(null),[kt,_r]=ge.split("-"),$t=ft.useMemo(()=>k.reduce((et,gt,Qt)=>Qt>=ht?et:et+gt.height,0),[k,ht]),vt=Bk(),pr=p.invert||w,Xt=me==="loading";Wt.current=ft.useMemo(()=>ht*fe+$t,[ht,$t]),ft.useEffect(()=>{Ze.current=Yt},[Yt]),ft.useEffect(()=>{pe(!0)},[]),ft.useEffect(()=>{let et=ct.current;if(et){let gt=et.getBoundingClientRect().height;return st(gt),N(Qt=>[{toastId:p.id,height:gt,position:p.position},...Qt]),()=>N(Qt=>Qt.filter(Nr=>Nr.toastId!==p.id))}},[N,p.id]),ft.useLayoutEffect(()=>{if(!se)return;let et=ct.current,gt=et.style.height;et.style.height="auto";let Qt=et.getBoundingClientRect().height;et.style.height=gt,st(Qt),N(Nr=>Nr.find(yt=>yt.toastId===p.id)?Nr.map(yt=>yt.toastId===p.id?{...yt,height:Qt}:yt):[{toastId:p.id,height:Qt,position:p.position},...Nr])},[se,p.title,p.description,N,p.id]);let Et=ft.useCallback(()=>{be(!0),lt(Wt.current),N(et=>et.filter(gt=>gt.toastId!==p.id)),setTimeout(()=>{ae(p)},eE)},[p,ae,N,Wt]);ft.useEffect(()=>{if(p.promise&&me==="loading"||p.duration===1/0||p.type==="loading")return;let et;return B||j||T&&vt?(()=>{if(Gt.current<Vt.current){let gt=new Date().getTime()-Vt.current;Ze.current=Ze.current-gt}Gt.current=new Date().getTime()})():Ze.current!==1/0&&(Vt.current=new Date().getTime(),et=setTimeout(()=>{var gt;(gt=p.onAutoClose)==null||gt.call(p,p),Et()},Ze.current)),()=>clearTimeout(et)},[B,j,p,me,T,vt,Et]),ft.useEffect(()=>{p.delete&&Et()},[Et,p.delete]);function Re(){var et,gt,Qt;return H!=null&&H.loading?ft.createElement("div",{className:Bo($?.loader,(et=p?.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":me==="loading"},H.loading):ye?ft.createElement("div",{className:Bo($?.loader,(gt=p?.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":me==="loading"},ye):ft.createElement(Lk,{className:Bo($?.loader,(Qt=p?.classNames)==null?void 0:Qt.loader),visible:me==="loading"})}return ft.createElement("li",{tabIndex:0,ref:ct,className:Bo(F,ze,$?.toast,(t=p?.classNames)==null?void 0:t.toast,$?.default,$?.[me],(n=p?.classNames)==null?void 0:n[me]),"data-sonner-toast":"","data-rich-colors":(a=p.richColors)!=null?a:W,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":se,"data-promise":!!p.promise,"data-swiped":re,"data-removed":le,"data-visible":Se,"data-y-position":kt,"data-x-position":_r,"data-index":E,"data-front":zt,"data-swiping":Ee,"data-dismissible":Me,"data-type":me,"data-invert":pr,"data-swipe-out":Te,"data-swipe-direction":J,"data-expanded":!!(B||U&&se),style:{"--index":E,"--toasts-before":E,"--z-index":O.length-E,"--offset":`${le?Xe:Wt.current}px`,"--initial-height":U?"auto":`${qe}px`,...K,...p.style},onDragEnd:()=>{Q(!1),G(null),hr.current=null},onPointerDown:et=>{Xt||!Me||(pt.current=new Date,lt(Wt.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(Q(!0),hr.current={x:et.clientX,y:et.clientY}))},onPointerUp:()=>{var et,gt,Qt,Nr;if(Te||!Me)return;hr.current=null;let yt=Number(((et=ct.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((gt=ct.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zr=new Date().getTime()-((Qt=pt.current)==null?void 0:Qt.getTime()),br=I==="x"?yt:Pr,Wr=Math.abs(br)/Zr;if(Math.abs(br)>=Zk||Wr>.11){lt(Wt.current),(Nr=p.onDismiss)==null||Nr.call(p,p),ce(I==="x"?yt>0?"right":"left":Pr>0?"down":"up"),Et(),Ve(!0),we(!1);return}Q(!1),G(null)},onPointerMove:et=>{var gt,Qt,Nr,yt;if(!hr.current||!Me||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;let Pr=et.clientY-hr.current.y,Zr=et.clientX-hr.current.x,br=(Qt=e.swipeDirections)!=null?Qt:tE(ge);!I&&(Math.abs(Zr)>1||Math.abs(Pr)>1)&&G(Math.abs(Zr)>Math.abs(Pr)?"x":"y");let Wr={x:0,y:0};I==="y"?(br.includes("top")||br.includes("bottom"))&&(br.includes("top")&&Pr<0||br.includes("bottom")&&Pr>0)&&(Wr.y=Pr):I==="x"&&(br.includes("left")||br.includes("right"))&&(br.includes("left")&&Zr<0||br.includes("right")&&Zr>0)&&(Wr.x=Zr),(Math.abs(Wr.x)>0||Math.abs(Wr.y)>0)&&we(!0),(Nr=ct.current)==null||Nr.style.setProperty("--swipe-amount-x",`${Wr.x}px`),(yt=ct.current)==null||yt.style.setProperty("--swipe-amount-y",`${Wr.y}px`)}},dt&&!p.jsx?ft.createElement("button",{"aria-label":D,"data-disabled":Xt,"data-close-button":!0,onClick:Xt||!Me?()=>{}:()=>{var et;Et(),(et=p.onDismiss)==null||et.call(p,p)},className:Bo($?.closeButton,(s=p?.classNames)==null?void 0:s.closeButton)},(i=H?.close)!=null?i:$k):null,p.jsx||v.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ft.createElement(ft.Fragment,null,me||p.icon||p.promise?ft.createElement("div",{"data-icon":"",className:Bo($?.icon,(d=p?.classNames)==null?void 0:d.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Re():null,p.type!=="loading"?p.icon||H?.[me]||Rk(me):null):null,ft.createElement("div",{"data-content":"",className:Bo($?.content,(c=p?.classNames)==null?void 0:c.content)},ft.createElement("div",{"data-title":"",className:Bo($?.title,(u=p?.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?ft.createElement("div",{"data-description":"",className:Bo(z,Ye,$?.description,(h=p?.classNames)==null?void 0:h.description)},typeof p.description=="function"?p.description():p.description):null),v.isValidElement(p.cancel)?p.cancel:p.cancel&&Wf(p.cancel)?ft.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||oe,onClick:et=>{var gt,Qt;Wf(p.cancel)&&Me&&((Qt=(gt=p.cancel).onClick)==null||Qt.call(gt,et),Et())},className:Bo($?.cancelButton,(m=p?.classNames)==null?void 0:m.cancelButton)},p.cancel.label):null,v.isValidElement(p.action)?p.action:p.action&&Wf(p.action)?ft.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:et=>{var gt,Qt;Wf(p.action)&&((Qt=(gt=p.action).onClick)==null||Qt.call(gt,et),!et.defaultPrevented&&Et())},className:Bo($?.actionButton,(g=p?.classNames)==null?void 0:g.actionButton)},p.action.label):null))};function gy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nE(e,t){let n={};return[e,t].forEach((a,s)=>{let i=s===1,d=i?"--mobile-offset":"--offset",c=i?Jk:Kk;function u(h){["top","right","bottom","left"].forEach(m=>{n[`${d}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof a=="number"||typeof a=="string"?u(a):typeof a=="object"?["top","right","bottom","left"].forEach(h=>{a[h]===void 0?n[`${d}-${h}`]=c:n[`${d}-${h}`]=typeof a[h]=="number"?`${a[h]}px`:a[h]}):u(c)}),n}var aE=v.forwardRef(function(e,t){let{invert:n,position:a="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:d,className:c,offset:u,mobileOffset:h,theme:m="light",richColors:g,duration:w,style:p,visibleToasts:S=Yk,toastOptions:j,dir:N=gy(),gap:P=Qk,loadingIcon:k,icons:E,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:B}=e,[ae,W]=ft.useState([]),te=ft.useMemo(()=>Array.from(new Set([a].concat(ae.filter(T=>T.position).map(T=>T.position)))),[ae,a]),[K,oe]=ft.useState([]),[L,F]=ft.useState(!1),[z,q]=ft.useState(!1),[ge,fe]=ft.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ye=ft.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=ft.useRef(null),H=ft.useRef(!1),D=ft.useCallback(T=>{W(I=>{var G;return(G=I.find(J=>J.id===T.id))!=null&&G.delete||bs.dismiss(T.id),I.filter(({id:J})=>J!==T.id)})},[]);return ft.useEffect(()=>bs.subscribe(T=>{if(T.dismiss){W(I=>I.map(G=>G.id===T.id?{...G,delete:!0}:G));return}setTimeout(()=>{Yw.flushSync(()=>{W(I=>{let G=I.findIndex(J=>J.id===T.id);return G!==-1?[...I.slice(0,G),{...I[G],...T},...I.slice(G+1)]:[T,...I]})})})}),[]),ft.useEffect(()=>{if(m!=="system"){fe(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:I})=>{fe(I?"dark":"light")})}catch{T.addListener(({matches:G})=>{try{fe(G?"dark":"light")}catch(J){console.error(J)}})}},[m]),ft.useEffect(()=>{ae.length<=1&&F(!1)},[ae]),ft.useEffect(()=>{let T=I=>{var G,J;s.every(ce=>I[ce]||I.code===ce)&&(F(!0),(G=ye.current)==null||G.focus()),I.code==="Escape"&&(document.activeElement===ye.current||(J=ye.current)!=null&&J.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[s]),ft.useEffect(()=>{if(ye.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,H.current=!1)}},[ye.current]),ft.createElement("section",{ref:t,"aria-label":`${O} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},te.map((T,I)=>{var G;let[J,ce]=T.split("-");return ae.length?ft.createElement("ol",{key:T,dir:N==="auto"?gy():N,tabIndex:-1,ref:ye,className:c,"data-sonner-toaster":!0,"data-theme":ge,"data-y-position":J,"data-lifted":L&&ae.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((G=K[0])==null?void 0:G.height)||0}px`,"--width":`${Xk}px`,"--gap":`${P}px`,...p,...nE(u,h)},onBlur:se=>{H.current&&!se.currentTarget.contains(se.relatedTarget)&&(H.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||H.current||(H.current=!0,$.current=se.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{z||F(!1)},onDragEnd:()=>F(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},ae.filter(se=>!se.position&&I===0||se.position===T).map((se,pe)=>{var le,be;return ft.createElement(rE,{key:se.id,icons:E,index:pe,toast:se,defaultRichColors:g,duration:(le=j?.duration)!=null?le:w,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:n,visibleToasts:S,closeButton:(be=j?.closeButton)!=null?be:d,interacting:z,position:T,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,removeToast:D,toasts:ae.filter(Ee=>Ee.position==se.position),heights:K.filter(Ee=>Ee.position==se.position),setHeights:oe,expandByDefault:i,gap:P,loadingIcon:k,expanded:L,pauseWhenPageIsHidden:B,swipeDirections:e.swipeDirections})})):null}))});const sE=({...e})=>{const{theme:t="system"}=Tk();return r.jsx(aE,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var oE=Tv[" useId ".trim().toString()]||(()=>{}),iE=0;function go(e){const[t,n]=v.useState(oE());return xa(()=>{n(a=>a??String(iE++))},[e]),t?`radix-${t}`:""}const lE=["top","right","bottom","left"],kc=Math.min,zs=Math.max,_m=Math.round,Gf=Math.floor,Ti=e=>({x:e,y:e}),cE={left:"right",right:"left",bottom:"top",top:"bottom"},dE={start:"end",end:"start"};function zx(e,t,n){return zs(e,kc(t,n))}function Sl(e,t){return typeof e=="function"?e(t):e}function Cl(e){return e.split("-")[0]}function Iu(e){return e.split("-")[1]}function Vv(e){return e==="x"?"y":"x"}function Hv(e){return e==="y"?"height":"width"}const uE=new Set(["top","bottom"]);function Pi(e){return uE.has(Cl(e))?"y":"x"}function Wv(e){return Vv(Pi(e))}function hE(e,t,n){n===void 0&&(n=!1);const a=Iu(e),s=Wv(e),i=Hv(s);let d=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(d=Pm(d)),[d,Pm(d)]}function fE(e){const t=Pm(e);return[Ux(e),t,Ux(t)]}function Ux(e){return e.replace(/start|end/g,t=>dE[t])}const xy=["left","right"],vy=["right","left"],mE=["top","bottom"],pE=["bottom","top"];function gE(e,t,n){switch(e){case"top":case"bottom":return n?t?vy:xy:t?xy:vy;case"left":case"right":return t?mE:pE;default:return[]}}function xE(e,t,n,a){const s=Iu(e);let i=gE(Cl(e),n==="start",a);return s&&(i=i.map(d=>d+"-"+s),t&&(i=i.concat(i.map(Ux)))),i}function Pm(e){return e.replace(/left|right|bottom|top/g,t=>cE[t])}function vE(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ub(e){return typeof e!="number"?vE(e):{top:e,right:e,bottom:e,left:e}}function km(e){const{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function yy(e,t,n){let{reference:a,floating:s}=e;const i=Pi(t),d=Wv(t),c=Hv(d),u=Cl(t),h=i==="y",m=a.x+a.width/2-s.width/2,g=a.y+a.height/2-s.height/2,w=a[c]/2-s[c]/2;let p;switch(u){case"top":p={x:m,y:a.y-s.height};break;case"bottom":p={x:m,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:g};break;case"left":p={x:a.x-s.width,y:g};break;default:p={x:a.x,y:a.y}}switch(Iu(t)){case"start":p[d]-=w*(n&&h?-1:1);break;case"end":p[d]+=w*(n&&h?-1:1);break}return p}const yE=async(e,t,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:d}=n,c=i.filter(Boolean),u=await(d.isRTL==null?void 0:d.isRTL(t));let h=await d.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:g}=yy(h,a,u),w=a,p={},S=0;for(let j=0;j<c.length;j++){const{name:N,fn:P}=c[j],{x:k,y:E,data:O,reset:B}=await P({x:m,y:g,initialPlacement:a,placement:w,strategy:s,middlewareData:p,rects:h,platform:d,elements:{reference:e,floating:t}});m=k??m,g=E??g,p={...p,[N]:{...p[N],...O}},B&&S<=50&&(S++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(h=B.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:s}):B.rects),{x:m,y:g}=yy(h,w,u)),j=-1)}return{x:m,y:g,placement:w,strategy:s,middlewareData:p}};async function Oh(e,t){var n;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:d,elements:c,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:w=!1,padding:p=0}=Sl(t,e),S=Ub(p),N=c[w?g==="floating"?"reference":"floating":g],P=km(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:u})),k=g==="floating"?{x:a,y:s,width:d.floating.width,height:d.floating.height}:d.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),O=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},B=km(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:E,strategy:u}):k);return{top:(P.top-B.top+S.top)/O.y,bottom:(B.bottom-P.bottom+S.bottom)/O.y,left:(P.left-B.left+S.left)/O.x,right:(B.right-P.right+S.right)/O.x}}const wE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:s,rects:i,platform:d,elements:c,middlewareData:u}=t,{element:h,padding:m=0}=Sl(e,t)||{};if(h==null)return{};const g=Ub(m),w={x:n,y:a},p=Wv(s),S=Hv(p),j=await d.getDimensions(h),N=p==="y",P=N?"top":"left",k=N?"bottom":"right",E=N?"clientHeight":"clientWidth",O=i.reference[S]+i.reference[p]-w[p]-i.floating[S],B=w[p]-i.reference[p],ae=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let W=ae?ae[E]:0;(!W||!await(d.isElement==null?void 0:d.isElement(ae)))&&(W=c.floating[E]||i.floating[S]);const te=O/2-B/2,K=W/2-j[S]/2-1,oe=kc(g[P],K),L=kc(g[k],K),F=oe,z=W-j[S]-L,q=W/2-j[S]/2+te,ge=zx(F,q,z),fe=!u.arrow&&Iu(s)!=null&&q!==ge&&i.reference[S]/2-(q<F?oe:L)-j[S]/2<0,ye=fe?q<F?q-F:q-z:0;return{[p]:w[p]+ye,data:{[p]:ge,centerOffset:q-ge-ye,...fe&&{alignmentOffset:ye}},reset:fe}}}),bE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:s,middlewareData:i,rects:d,initialPlacement:c,platform:u,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:j=!0,...N}=Sl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const P=Cl(s),k=Pi(c),E=Cl(c)===c,O=await(u.isRTL==null?void 0:u.isRTL(h.floating)),B=w||(E||!j?[Pm(c)]:fE(c)),ae=S!=="none";!w&&ae&&B.push(...xE(c,j,S,O));const W=[c,...B],te=await Oh(t,N),K=[];let oe=((a=i.flip)==null?void 0:a.overflows)||[];if(m&&K.push(te[P]),g){const q=hE(s,d,O);K.push(te[q[0]],te[q[1]])}if(oe=[...oe,{placement:s,overflows:K}],!K.every(q=>q<=0)){var L,F;const q=(((L=i.flip)==null?void 0:L.index)||0)+1,ge=W[q];if(ge&&(!(g==="alignment"?k!==Pi(ge):!1)||oe.every(U=>Pi(U.placement)===k?U.overflows[0]>0:!0)))return{data:{index:q,overflows:oe},reset:{placement:ge}};let fe=(F=oe.filter(ye=>ye.overflows[0]<=0).sort((ye,U)=>ye.overflows[1]-U.overflows[1])[0])==null?void 0:F.placement;if(!fe)switch(p){case"bestFit":{var z;const ye=(z=oe.filter(U=>{if(ae){const $=Pi(U.placement);return $===k||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:z[0];ye&&(fe=ye);break}case"initialPlacement":fe=c;break}if(s!==fe)return{reset:{placement:fe}}}return{}}}};function wy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function by(e){return lE.some(t=>e[t]>=0)}const jE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...s}=Sl(e,t);switch(a){case"referenceHidden":{const i=await Oh(t,{...s,elementContext:"reference"}),d=wy(i,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:by(d)}}}case"escaped":{const i=await Oh(t,{...s,altBoundary:!0}),d=wy(i,n.floating);return{data:{escapedOffsets:d,escaped:by(d)}}}default:return{}}}}},qb=new Set(["left","top"]);async function NE(e,t){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),d=Cl(n),c=Iu(n),u=Pi(n)==="y",h=qb.has(d)?-1:1,m=i&&u?-1:1,g=Sl(t,e);let{mainAxis:w,crossAxis:p,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(p=c==="end"?S*-1:S),u?{x:p*m,y:w*h}:{x:w*h,y:p*m}}const SE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:s,y:i,placement:d,middlewareData:c}=t,u=await NE(t,e);return d===((n=c.offset)==null?void 0:n.placement)&&(a=c.arrow)!=null&&a.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:d}}}}},CE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:d=!1,limiter:c={fn:N=>{let{x:P,y:k}=N;return{x:P,y:k}}},...u}=Sl(e,t),h={x:n,y:a},m=await Oh(t,u),g=Pi(Cl(s)),w=Vv(g);let p=h[w],S=h[g];if(i){const N=w==="y"?"top":"left",P=w==="y"?"bottom":"right",k=p+m[N],E=p-m[P];p=zx(k,p,E)}if(d){const N=g==="y"?"top":"left",P=g==="y"?"bottom":"right",k=S+m[N],E=S-m[P];S=zx(k,S,E)}const j=c.fn({...t,[w]:p,[g]:S});return{...j,data:{x:j.x-n,y:j.y-a,enabled:{[w]:i,[g]:d}}}}}},_E=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:s,rects:i,middlewareData:d}=t,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=Sl(e,t),m={x:n,y:a},g=Pi(s),w=Vv(g);let p=m[w],S=m[g];const j=Sl(c,t),N=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const E=w==="y"?"height":"width",O=i.reference[w]-i.floating[E]+N.mainAxis,B=i.reference[w]+i.reference[E]-N.mainAxis;p<O?p=O:p>B&&(p=B)}if(h){var P,k;const E=w==="y"?"width":"height",O=qb.has(Cl(s)),B=i.reference[g]-i.floating[E]+(O&&((P=d.offset)==null?void 0:P[g])||0)+(O?0:N.crossAxis),ae=i.reference[g]+i.reference[E]+(O?0:((k=d.offset)==null?void 0:k[g])||0)-(O?N.crossAxis:0);S<B?S=B:S>ae&&(S=ae)}return{[w]:p,[g]:S}}}},PE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:s,rects:i,platform:d,elements:c}=t,{apply:u=()=>{},...h}=Sl(e,t),m=await Oh(t,h),g=Cl(s),w=Iu(s),p=Pi(s)==="y",{width:S,height:j}=i.floating;let N,P;g==="top"||g==="bottom"?(N=g,P=w===(await(d.isRTL==null?void 0:d.isRTL(c.floating))?"start":"end")?"left":"right"):(P=g,N=w==="end"?"top":"bottom");const k=j-m.top-m.bottom,E=S-m.left-m.right,O=kc(j-m[N],k),B=kc(S-m[P],E),ae=!t.middlewareData.shift;let W=O,te=B;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(te=E),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(W=k),ae&&!w){const oe=zs(m.left,0),L=zs(m.right,0),F=zs(m.top,0),z=zs(m.bottom,0);p?te=S-2*(oe!==0||L!==0?oe+L:zs(m.left,m.right)):W=j-2*(F!==0||z!==0?F+z:zs(m.top,m.bottom))}await u({...t,availableWidth:te,availableHeight:W});const K=await d.getDimensions(c.floating);return S!==K.width||j!==K.height?{reset:{rects:!0}}:{}}}};function rp(){return typeof window<"u"}function $u(e){return Vb(e)?(e.nodeName||"").toLowerCase():"#document"}function Ys(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Di(e){var t;return(t=(Vb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vb(e){return rp()?e instanceof Node||e instanceof Ys(e).Node:!1}function Ko(e){return rp()?e instanceof Element||e instanceof Ys(e).Element:!1}function Ri(e){return rp()?e instanceof HTMLElement||e instanceof Ys(e).HTMLElement:!1}function jy(e){return!rp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ys(e).ShadowRoot}const kE=new Set(["inline","contents"]);function Zh(e){const{overflow:t,overflowX:n,overflowY:a,display:s}=Jo(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!kE.has(s)}const EE=new Set(["table","td","th"]);function AE(e){return EE.has($u(e))}const TE=[":popover-open",":modal"];function np(e){return TE.some(t=>{try{return e.matches(t)}catch{return!1}})}const RE=["transform","translate","scale","rotate","perspective"],DE=["transform","translate","scale","rotate","perspective","filter"],LE=["paint","layout","strict","content"];function Gv(e){const t=Yv(),n=Ko(e)?Jo(e):e;return RE.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||DE.some(a=>(n.willChange||"").includes(a))||LE.some(a=>(n.contain||"").includes(a))}function ME(e){let t=Ec(e);for(;Ri(t)&&!Eu(t);){if(Gv(t))return t;if(np(t))return null;t=Ec(t)}return null}function Yv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FE=new Set(["html","body","#document"]);function Eu(e){return FE.has($u(e))}function Jo(e){return Ys(e).getComputedStyle(e)}function ap(e){return Ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ec(e){if($u(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jy(e)&&e.host||Di(e);return jy(t)?t.host:t}function Hb(e){const t=Ec(e);return Eu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ri(t)&&Zh(t)?t:Hb(t)}function Ih(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Hb(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),d=Ys(s);if(i){const c=qx(d);return t.concat(d,d.visualViewport||[],Zh(s)?s:[],c&&n?Ih(c):[])}return t.concat(s,Ih(s,[],n))}function qx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wb(e){const t=Jo(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Ri(e),i=s?e.offsetWidth:n,d=s?e.offsetHeight:a,c=_m(n)!==i||_m(a)!==d;return c&&(n=i,a=d),{width:n,height:a,$:c}}function Kv(e){return Ko(e)?e:e.contextElement}function wu(e){const t=Kv(e);if(!Ri(t))return Ti(1);const n=t.getBoundingClientRect(),{width:a,height:s,$:i}=Wb(t);let d=(i?_m(n.width):n.width)/a,c=(i?_m(n.height):n.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!c||!Number.isFinite(c))&&(c=1),{x:d,y:c}}const OE=Ti(0);function Gb(e){const t=Ys(e);return!Yv()||!t.visualViewport?OE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ys(e)?!1:t}function vd(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Kv(e);let d=Ti(1);t&&(a?Ko(a)&&(d=wu(a)):d=wu(e));const c=IE(i,n,a)?Gb(i):Ti(0);let u=(s.left+c.x)/d.x,h=(s.top+c.y)/d.y,m=s.width/d.x,g=s.height/d.y;if(i){const w=Ys(i),p=a&&Ko(a)?Ys(a):a;let S=w,j=qx(S);for(;j&&a&&p!==S;){const N=wu(j),P=j.getBoundingClientRect(),k=Jo(j),E=P.left+(j.clientLeft+parseFloat(k.paddingLeft))*N.x,O=P.top+(j.clientTop+parseFloat(k.paddingTop))*N.y;u*=N.x,h*=N.y,m*=N.x,g*=N.y,u+=E,h+=O,S=Ys(j),j=qx(S)}}return km({width:m,height:g,x:u,y:h})}function sp(e,t){const n=ap(e).scrollLeft;return t?t.left+n:vd(Di(e)).left+n}function Yb(e,t){const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-sp(e,n),s=n.top+t.scrollTop;return{x:a,y:s}}function $E(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",d=Di(a),c=t?np(t.floating):!1;if(a===d||c&&i)return n;let u={scrollLeft:0,scrollTop:0},h=Ti(1);const m=Ti(0),g=Ri(a);if((g||!g&&!i)&&(($u(a)!=="body"||Zh(d))&&(u=ap(a)),Ri(a))){const p=vd(a);h=wu(a),m.x=p.x+a.clientLeft,m.y=p.y+a.clientTop}const w=d&&!g&&!i?Yb(d,u):Ti(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+m.x+w.x,y:n.y*h.y-u.scrollTop*h.y+m.y+w.y}}function BE(e){return Array.from(e.getClientRects())}function zE(e){const t=Di(e),n=ap(e),a=e.ownerDocument.body,s=zs(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=zs(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let d=-n.scrollLeft+sp(e);const c=-n.scrollTop;return Jo(a).direction==="rtl"&&(d+=zs(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:d,y:c}}const Ny=25;function UE(e,t){const n=Ys(e),a=Di(e),s=n.visualViewport;let i=a.clientWidth,d=a.clientHeight,c=0,u=0;if(s){i=s.width,d=s.height;const m=Yv();(!m||m&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const h=sp(a);if(h<=0){const m=a.ownerDocument,g=m.body,w=getComputedStyle(g),p=m.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,S=Math.abs(a.clientWidth-g.clientWidth-p);S<=Ny&&(i-=S)}else h<=Ny&&(i+=h);return{width:i,height:d,x:c,y:u}}const qE=new Set(["absolute","fixed"]);function VE(e,t){const n=vd(e,!0,t==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ri(e)?wu(e):Ti(1),d=e.clientWidth*i.x,c=e.clientHeight*i.y,u=s*i.x,h=a*i.y;return{width:d,height:c,x:u,y:h}}function Sy(e,t,n){let a;if(t==="viewport")a=UE(e,n);else if(t==="document")a=zE(Di(e));else if(Ko(t))a=VE(t,n);else{const s=Gb(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return km(a)}function Kb(e,t){const n=Ec(e);return n===t||!Ko(n)||Eu(n)?!1:Jo(n).position==="fixed"||Kb(n,t)}function HE(e,t){const n=t.get(e);if(n)return n;let a=Ih(e,[],!1).filter(c=>Ko(c)&&$u(c)!=="body"),s=null;const i=Jo(e).position==="fixed";let d=i?Ec(e):e;for(;Ko(d)&&!Eu(d);){const c=Jo(d),u=Gv(d);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&qE.has(s.position)||Zh(d)&&!u&&Kb(e,d))?a=a.filter(m=>m!==d):s=c,d=Ec(d)}return t.set(e,a),a}function WE(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e;const d=[...n==="clippingAncestors"?np(t)?[]:HE(t,this._c):[].concat(n),a],c=d[0],u=d.reduce((h,m)=>{const g=Sy(t,m,s);return h.top=zs(g.top,h.top),h.right=kc(g.right,h.right),h.bottom=kc(g.bottom,h.bottom),h.left=zs(g.left,h.left),h},Sy(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function GE(e){const{width:t,height:n}=Wb(e);return{width:t,height:n}}function YE(e,t,n){const a=Ri(t),s=Di(t),i=n==="fixed",d=vd(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=Ti(0);function h(){u.x=sp(s)}if(a||!a&&!i)if(($u(t)!=="body"||Zh(s))&&(c=ap(t)),a){const p=vd(t,!0,i,t);u.x=p.x+t.clientLeft,u.y=p.y+t.clientTop}else s&&h();i&&!a&&s&&h();const m=s&&!a&&!i?Yb(s,c):Ti(0),g=d.left+c.scrollLeft-u.x-m.x,w=d.top+c.scrollTop-u.y-m.y;return{x:g,y:w,width:d.width,height:d.height}}function $g(e){return Jo(e).position==="static"}function Cy(e,t){if(!Ri(e)||Jo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Di(e)===n&&(n=n.ownerDocument.body),n}function Jb(e,t){const n=Ys(e);if(np(e))return n;if(!Ri(e)){let s=Ec(e);for(;s&&!Eu(s);){if(Ko(s)&&!$g(s))return s;s=Ec(s)}return n}let a=Cy(e,t);for(;a&&AE(a)&&$g(a);)a=Cy(a,t);return a&&Eu(a)&&$g(a)&&!Gv(a)?n:a||ME(e)||n}const KE=async function(e){const t=this.getOffsetParent||Jb,n=this.getDimensions,a=await n(e.floating);return{reference:YE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function JE(e){return Jo(e).direction==="rtl"}const XE={convertOffsetParentRelativeRectToViewportRelativeRect:$E,getDocumentElement:Di,getClippingRect:WE,getOffsetParent:Jb,getElementRects:KE,getClientRects:BE,getDimensions:GE,getScale:wu,isElement:Ko,isRTL:JE};function Xb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QE(e,t){let n=null,a;const s=Di(e);function i(){var c;clearTimeout(a),(c=n)==null||c.disconnect(),n=null}function d(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const h=e.getBoundingClientRect(),{left:m,top:g,width:w,height:p}=h;if(c||t(),!w||!p)return;const S=Gf(g),j=Gf(s.clientWidth-(m+w)),N=Gf(s.clientHeight-(g+p)),P=Gf(m),E={rootMargin:-S+"px "+-j+"px "+-N+"px "+-P+"px",threshold:zs(0,kc(1,u))||1};let O=!0;function B(ae){const W=ae[0].intersectionRatio;if(W!==u){if(!O)return d();W?d(!1,W):a=setTimeout(()=>{d(!1,1e-7)},1e3)}W===1&&!Xb(h,e.getBoundingClientRect())&&d(),O=!1}try{n=new IntersectionObserver(B,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,E)}n.observe(e)}return d(!0),i}function ZE(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=a,h=Kv(e),m=s||i?[...h?Ih(h):[],...Ih(t)]:[];m.forEach(P=>{s&&P.addEventListener("scroll",n,{passive:!0}),i&&P.addEventListener("resize",n)});const g=h&&c?QE(h,n):null;let w=-1,p=null;d&&(p=new ResizeObserver(P=>{let[k]=P;k&&k.target===h&&p&&(p.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(t)})),n()}),h&&!u&&p.observe(h),p.observe(t));let S,j=u?vd(e):null;u&&N();function N(){const P=vd(e);j&&!Xb(j,P)&&n(),j=P,S=requestAnimationFrame(N)}return n(),()=>{var P;m.forEach(k=>{s&&k.removeEventListener("scroll",n),i&&k.removeEventListener("resize",n)}),g?.(),(P=p)==null||P.disconnect(),p=null,u&&cancelAnimationFrame(S)}}const eA=SE,tA=CE,rA=bE,nA=PE,aA=jE,_y=wE,sA=_E,oA=(e,t,n)=>{const a=new Map,s={platform:XE,...n},i={...s.platform,_c:a};return yE(e,t,{...s,platform:i})};var iA=typeof document<"u",lA=function(){},mm=iA?v.useLayoutEffect:lA;function Em(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Em(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Em(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Qb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Py(e,t){const n=Qb(e);return Math.round(t*n)/n}function Bg(e){const t=v.useRef(e);return mm(()=>{t.current=e}),t}function cA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:d}={},transform:c=!0,whileElementsMounted:u,open:h}=e,[m,g]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,p]=v.useState(a);Em(w,a)||p(a);const[S,j]=v.useState(null),[N,P]=v.useState(null),k=v.useCallback(U=>{U!==ae.current&&(ae.current=U,j(U))},[]),E=v.useCallback(U=>{U!==W.current&&(W.current=U,P(U))},[]),O=i||S,B=d||N,ae=v.useRef(null),W=v.useRef(null),te=v.useRef(m),K=u!=null,oe=Bg(u),L=Bg(s),F=Bg(h),z=v.useCallback(()=>{if(!ae.current||!W.current)return;const U={placement:t,strategy:n,middleware:w};L.current&&(U.platform=L.current),oA(ae.current,W.current,U).then($=>{const H={...$,isPositioned:F.current!==!1};q.current&&!Em(te.current,H)&&(te.current=H,Mu.flushSync(()=>{g(H)}))})},[w,t,n,L,F]);mm(()=>{h===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[h]);const q=v.useRef(!1);mm(()=>(q.current=!0,()=>{q.current=!1}),[]),mm(()=>{if(O&&(ae.current=O),B&&(W.current=B),O&&B){if(oe.current)return oe.current(O,B,z);z()}},[O,B,z,oe,K]);const ge=v.useMemo(()=>({reference:ae,floating:W,setReference:k,setFloating:E}),[k,E]),fe=v.useMemo(()=>({reference:O,floating:B}),[O,B]),ye=v.useMemo(()=>{const U={position:n,left:0,top:0};if(!fe.floating)return U;const $=Py(fe.floating,m.x),H=Py(fe.floating,m.y);return c?{...U,transform:"translate("+$+"px, "+H+"px)",...Qb(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:H}},[n,c,fe.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:z,refs:ge,elements:fe,floatingStyles:ye}),[m,z,ge,fe,ye])}const dA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?_y({element:a.current,padding:s}).fn(n):{}:a?_y({element:a,padding:s}).fn(n):{}}}},uA=(e,t)=>({...eA(e),options:[e,t]}),hA=(e,t)=>({...tA(e),options:[e,t]}),fA=(e,t)=>({...sA(e),options:[e,t]}),mA=(e,t)=>({...rA(e),options:[e,t]}),pA=(e,t)=>({...nA(e),options:[e,t]}),gA=(e,t)=>({...aA(e),options:[e,t]}),xA=(e,t)=>({...dA(e),options:[e,t]});var vA="Arrow",Zb=v.forwardRef((e,t)=>{const{children:n,width:a=10,height:s=5,...i}=e;return r.jsx(Lt.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Zb.displayName=vA;var yA=Zb;function op(e){const[t,n]=v.useState(void 0);return xa(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let d,c;if("borderBoxSize"in i){const u=i.borderBoxSize,h=Array.isArray(u)?u[0]:u;d=h.inlineSize,c=h.blockSize}else d=e.offsetWidth,c=e.offsetHeight;n({width:d,height:c})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Jv="Popper",[e5,Rc]=va(Jv),[wA,t5]=e5(Jv),r5=e=>{const{__scopePopper:t,children:n}=e,[a,s]=v.useState(null);return r.jsx(wA,{scope:t,anchor:a,onAnchorChange:s,children:n})};r5.displayName=Jv;var n5="PopperAnchor",a5=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=t5(n5,n),d=v.useRef(null),c=rr(t,d),u=v.useRef(null);return v.useEffect(()=>{const h=u.current;u.current=a?.current||d.current,h!==u.current&&i.onAnchorChange(u.current)}),a?null:r.jsx(Lt.div,{...s,ref:c})});a5.displayName=n5;var Xv="PopperContent",[bA,jA]=e5(Xv),s5=v.forwardRef((e,t)=>{const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:d=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:p="optimized",onPlaced:S,...j}=e,N=t5(Xv,n),[P,k]=v.useState(null),E=rr(t,se=>k(se)),[O,B]=v.useState(null),ae=op(O),W=ae?.width??0,te=ae?.height??0,K=a+(i!=="center"?"-"+i:""),oe=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},L=Array.isArray(h)?h:[h],F=L.length>0,z={padding:oe,boundary:L.filter(SA),altBoundary:F},{refs:q,floatingStyles:ge,placement:fe,isPositioned:ye,middlewareData:U}=cA({strategy:"fixed",placement:K,whileElementsMounted:(...se)=>ZE(...se,{animationFrame:p==="always"}),elements:{reference:N.anchor},middleware:[uA({mainAxis:s+te,alignmentAxis:d}),u&&hA({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?fA():void 0,...z}),u&&mA({...z}),pA({...z,apply:({elements:se,rects:pe,availableWidth:le,availableHeight:be})=>{const{width:Ee,height:Q}=pe.reference,Te=se.floating.style;Te.setProperty("--radix-popper-available-width",`${le}px`),Te.setProperty("--radix-popper-available-height",`${be}px`),Te.setProperty("--radix-popper-anchor-width",`${Ee}px`),Te.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),O&&xA({element:O,padding:c}),CA({arrowWidth:W,arrowHeight:te}),w&&gA({strategy:"referenceHidden",...z})]}),[$,H]=l5(fe),D=zn(S);xa(()=>{ye&&D?.()},[ye,D]);const T=U.arrow?.x,I=U.arrow?.y,G=U.arrow?.centerOffset!==0,[J,ce]=v.useState();return xa(()=>{P&&ce(window.getComputedStyle(P).zIndex)},[P]),r.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:ye?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(bA,{scope:n,placedSide:$,onArrowChange:B,arrowX:T,arrowY:I,shouldHideArrow:G,children:r.jsx(Lt.div,{"data-side":$,"data-align":H,...j,ref:E,style:{...j.style,animation:ye?void 0:"none"}})})})});s5.displayName=Xv;var o5="PopperArrow",NA={top:"bottom",right:"left",bottom:"top",left:"right"},i5=v.forwardRef(function(t,n){const{__scopePopper:a,...s}=t,i=jA(o5,a),d=NA[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(yA,{...s,ref:n,style:{...s.style,display:"block"}})})});i5.displayName=o5;function SA(e){return e!==null}var CA=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:a,middlewareData:s}=t,d=s.arrow?.centerOffset!==0,c=d?0:e.arrowWidth,u=d?0:e.arrowHeight,[h,m]=l5(n),g={start:"0%",center:"50%",end:"100%"}[m],w=(s.arrow?.x??0)+c/2,p=(s.arrow?.y??0)+u/2;let S="",j="";return h==="bottom"?(S=d?g:`${w}px`,j=`${-u}px`):h==="top"?(S=d?g:`${w}px`,j=`${a.floating.height+u}px`):h==="right"?(S=`${-u}px`,j=d?g:`${p}px`):h==="left"&&(S=`${a.floating.width+u}px`,j=d?g:`${p}px`),{data:{x:S,y:j}}}});function l5(e){const[t,n="center"]=e.split("-");return[t,n]}var ip=r5,ef=a5,lp=s5,cp=i5,[dp]=va("Tooltip",[Rc]),up=Rc(),c5="TooltipProvider",_A=700,Vx="tooltip.open",[PA,Qv]=dp(c5),d5=e=>{const{__scopeTooltip:t,delayDuration:n=_A,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,d=v.useRef(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),r.jsx(PA,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),d.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};d5.displayName=c5;var $h="Tooltip",[kA,hp]=dp($h),u5=e=>{const{__scopeTooltip:t,children:n,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:d,delayDuration:c}=e,u=Qv($h,e.__scopeTooltip),h=up(t),[m,g]=v.useState(null),w=go(),p=v.useRef(0),S=d??u.disableHoverableContent,j=c??u.delayDuration,N=v.useRef(!1),[P,k]=vo({prop:a,defaultProp:s??!1,onChange:W=>{W?(u.onOpen(),document.dispatchEvent(new CustomEvent(Vx))):u.onClose(),i?.(W)},caller:$h}),E=v.useMemo(()=>P?N.current?"delayed-open":"instant-open":"closed",[P]),O=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N.current=!1,k(!0)},[k]),B=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,k(!1)},[k]),ae=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{N.current=!0,k(!0),p.current=0},j)},[j,k]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),r.jsx(ip,{...h,children:r.jsx(kA,{scope:t,contentId:w,open:P,stateAttribute:E,trigger:m,onTriggerChange:g,onTriggerEnter:v.useCallback(()=>{u.isOpenDelayedRef.current?ae():O()},[u.isOpenDelayedRef,ae,O]),onTriggerLeave:v.useCallback(()=>{S?B():(window.clearTimeout(p.current),p.current=0)},[B,S]),onOpen:O,onClose:B,disableHoverableContent:S,children:n})})};u5.displayName=$h;var Hx="TooltipTrigger",h5=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,s=hp(Hx,n),i=Qv(Hx,n),d=up(n),c=v.useRef(null),u=rr(t,c,s.onTriggerChange),h=v.useRef(!1),m=v.useRef(!1),g=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),r.jsx(ef,{asChild:!0,...d,children:r.jsx(Lt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:u,onPointerMove:ot(e.onPointerMove,w=>{w.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:ot(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:ot(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ot(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:ot(e.onBlur,s.onClose),onClick:ot(e.onClick,s.onClose)})})});h5.displayName=Hx;var EA="TooltipPortal",[aB,AA]=dp(EA,{forceMount:void 0}),Au="TooltipContent",f5=v.forwardRef((e,t)=>{const n=AA(Au,e.__scopeTooltip),{forceMount:a=n.forceMount,side:s="top",...i}=e,d=hp(Au,e.__scopeTooltip);return r.jsx(ia,{present:a||d.open,children:d.disableHoverableContent?r.jsx(m5,{side:s,...i,ref:t}):r.jsx(TA,{side:s,...i,ref:t})})}),TA=v.forwardRef((e,t)=>{const n=hp(Au,e.__scopeTooltip),a=Qv(Au,e.__scopeTooltip),s=v.useRef(null),i=rr(t,s),[d,c]=v.useState(null),{trigger:u,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=a,w=v.useCallback(()=>{c(null),g(!1)},[g]),p=v.useCallback((S,j)=>{const N=S.currentTarget,P={x:S.clientX,y:S.clientY},k=FA(P,N.getBoundingClientRect()),E=OA(P,k),O=IA(j.getBoundingClientRect()),B=BA([...E,...O]);c(B),g(!0)},[g]);return v.useEffect(()=>()=>w(),[w]),v.useEffect(()=>{if(u&&m){const S=N=>p(N,m),j=N=>p(N,u);return u.addEventListener("pointerleave",S),m.addEventListener("pointerleave",j),()=>{u.removeEventListener("pointerleave",S),m.removeEventListener("pointerleave",j)}}},[u,m,p,w]),v.useEffect(()=>{if(d){const S=j=>{const N=j.target,P={x:j.clientX,y:j.clientY},k=u?.contains(N)||m?.contains(N),E=!$A(P,d);k?w():E&&(w(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,m,d,h,w]),r.jsx(m5,{...e,ref:i})}),[RA,DA]=dp($h,{isInside:!1}),LA=Jw("TooltipContent"),m5=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:d,...c}=e,u=hp(Au,n),h=up(n),{onClose:m}=u;return v.useEffect(()=>(document.addEventListener(Vx,m),()=>document.removeEventListener(Vx,m)),[m]),v.useEffect(()=>{if(u.trigger){const g=w=>{w.target?.contains(u.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,m]),r.jsx(_d,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:r.jsxs(lp,{"data-state":u.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(LA,{children:a}),r.jsx(RA,{scope:n,isInside:!0,children:r.jsx(oP,{id:u.contentId,role:"tooltip",children:s||a})})]})})});f5.displayName=Au;var p5="TooltipArrow",MA=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,s=up(n);return DA(p5,n).isInside?null:r.jsx(cp,{...s,...a,ref:t})});MA.displayName=p5;function FA(e,t){const n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,a,s,i)){case i:return"left";case s:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function OA(e,t,n=5){const a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return a}function IA(e){const{top:t,right:n,bottom:a,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:a},{x:s,y:a}]}function $A(e,t){const{x:n,y:a}=e;let s=!1;for(let i=0,d=t.length-1;i<t.length;d=i++){const c=t[i],u=t[d],h=c.x,m=c.y,g=u.x,w=u.y;m>a!=w>a&&n<(g-h)*(a-m)/(w-m)+h&&(s=!s)}return s}function BA(e){const t=e.slice();return t.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),zA(t)}function zA(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],d=t[t.length-2];if((i.x-d.x)*(s.y-d.y)>=(i.y-d.y)*(s.x-d.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;n.length>=2;){const i=n[n.length-1],d=n[n.length-2];if((i.x-d.x)*(s.y-d.y)>=(i.y-d.y)*(s.x-d.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var UA=d5,qA=u5,VA=h5,g5=f5;const HA=UA,ky=qA,Ey=VA,Wx=v.forwardRef(({className:e,sideOffset:t=4,...n},a)=>r.jsx(g5,{ref:a,sideOffset:t,className:xt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Wx.displayName=g5.displayName;var fp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},GA=class{#e=WA;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Gx=new GA;function YA(e){setTimeout(e,0)}var mp=typeof window>"u"||"Deno"in globalThis;function qo(){}function KA(e,t){return typeof e=="function"?e(t):e}function JA(e){return typeof e=="number"&&e>=0&&e!==1/0}function XA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yx(e,t){return typeof e=="function"?e(t):e}function QA(e,t){return typeof e=="function"?e(t):e}function Ay(e,t){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:d,stale:c}=e;if(d){if(a){if(t.queryHash!==Zv(d,t.options))return!1}else if(!zh(t.queryKey,d))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ty(e,t){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Bh(t.options.mutationKey)!==Bh(i))return!1}else if(!zh(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function Zv(e,t){return(t?.queryKeyHashFn||Bh)(e)}function Bh(e){return JSON.stringify(e,(t,n)=>Kx(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function zh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zh(e[n],t[n])):!1}var ZA=Object.prototype.hasOwnProperty;function x5(e,t){if(e===t)return e;const n=Ry(e)&&Ry(t);if(!n&&!(Kx(e)&&Kx(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),d=i.length,c=n?new Array(d):{};let u=0;for(let h=0;h<d;h++){const m=n?h:i[h],g=e[m],w=t[m];if(g===w){c[m]=g,(n?h<s:ZA.call(e,m))&&u++;continue}if(g===null||w===null||typeof g!="object"||typeof w!="object"){c[m]=w;continue}const p=x5(g,w);c[m]=p,p===g&&u++}return s===d&&u===s?e:c}function Ry(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kx(e){if(!Dy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Dy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Dy(e){return Object.prototype.toString.call(e)==="[object Object]"}function e6(e){return new Promise(t=>{Gx.setTimeout(t,e)})}function t6(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?x5(e,t):t}function r6(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function n6(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var e0=Symbol();function v5(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===e0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var a6=class extends fp{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!mp&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},y5=new a6;function s6(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),t(s)},n}var o6=YA;function i6(){let e=[],t=0,n=c=>{c()},a=c=>{c()},s=o6;const i=c=>{t?e.push(c):s(()=>{n(c)})},d=()=>{const c=e;e=[],c.length&&s(()=>{a(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||d()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{s=c}}}var ts=i6(),l6=class extends fp{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!mp&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Am=new l6;function c6(e){return Math.min(1e3*2**e,3e4)}function w5(e){return(e??"online")==="online"?Am.isOnline():!0}var Jx=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function b5(e){let t=!1,n=0,a;const s=s6(),i=()=>s.status!=="pending",d=j=>{if(!i()){const N=new Jx(j);w(N),e.onCancel?.(N)}},c=()=>{t=!0},u=()=>{t=!1},h=()=>y5.isFocused()&&(e.networkMode==="always"||Am.isOnline())&&e.canRun(),m=()=>w5(e.networkMode)&&e.canRun(),g=j=>{i()||(a?.(),s.resolve(j))},w=j=>{i()||(a?.(),s.reject(j))},p=()=>new Promise(j=>{a=N=>{(i()||h())&&j(N)},e.onPause?.()}).then(()=>{a=void 0,i()||e.onContinue?.()}),S=()=>{if(i())return;let j;const N=n===0?e.initialPromise:void 0;try{j=N??e.fn()}catch(P){j=Promise.reject(P)}Promise.resolve(j).then(g).catch(P=>{if(i())return;const k=e.retry??(mp?0:3),E=e.retryDelay??c6,O=typeof E=="function"?E(n,P):E,B=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,P);if(t||!B){w(P);return}n++,e.onFail?.(n,P),e6(O).then(()=>h()?void 0:p()).then(()=>{t?w(P):S()})})};return{promise:s,status:()=>s.status,cancel:d,continue:()=>(a?.(),s),cancelRetry:c,continueRetry:u,canStart:m,start:()=>(m()?S():p().then(S),s)}}var j5=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JA(this.gcTime)&&(this.#e=Gx.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mp?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Gx.clearTimeout(this.#e),this.#e=void 0)}},d6=class extends j5{#e;#t;#r;#a;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ly(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ly(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=t6(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(qo).catch(qo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>QA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yx(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!XA(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,a=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},s=()=>{const c=v5(this.options,t),h=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(m),m})();return this.#i=!1,this.options.persister?this.options.persister(c,h,this):c(h)},d=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(c),c})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta}),this.#n=b5({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:c=>{c instanceof Jx&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const c=await this.#n.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Jx){if(c.silent)return this.#n.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#s({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...u6(n.data,this.options),fetchMeta:e.meta??null};case"success":const a={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),ts.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function u6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ly(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function My(e){return{onFetch:(t,n)=>{const a=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let m=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},w=v5(t.options,t.fetchOptions),p=async(S,j,N)=>{if(m)return Promise.reject();if(j==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const ae={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return g(ae),ae})(),E=await w(k),{maxPages:O}=t.options,B=N?n6:r6;return{pages:B(S.pages,E,O),pageParams:B(S.pageParams,j,O)}};if(s&&i.length){const S=s==="backward",j=S?h6:Fy,N={pages:i,pageParams:d},P=j(a,N);c=await p(N,P,S)}else{const S=e??i.length;do{const j=u===0?d[0]??a.initialPageParam:Fy(a,c);if(u>0&&j==null)break;c=await p(c,j),u++}while(u<S)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function Fy(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function h6(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var f6=class extends j5{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||m6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=b5({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,d)=>{this.#n({type:"failed",failureCount:i,error:d})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)t();else{this.#n({type:"pending",variables:e,isPaused:s}),await this.#r.config.onMutate?.(e,this,n);const d=await this.options.onMutate?.(e,n);d!==this.state.context&&this.#n({type:"pending",context:d,variables:e,isPaused:s})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,n),await this.options.onError?.(i,e,this.state.context,n),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,e,this.state.context,n),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ts.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function m6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var p6=class extends fp{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,n){const a=new f6({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){this.#e.add(e);const t=Yf(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Yf(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Yf(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Yf(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ts.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ty(t,n))}findAll(e={}){return this.getAll().filter(t=>Ty(e,t))}notify(e){ts.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ts.batch(()=>Promise.all(e.map(t=>t.continue().catch(qo))))}};function Yf(e){return e.options.scope?.id}var g6=class extends fp{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const a=t.queryKey,s=t.queryHash??Zv(a,t);let i=this.get(s);return i||(i=new d6({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ts.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ay(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Ay(e,n)):t}notify(e){ts.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ts.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ts.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},x6=class{#e;#t;#r;#a;#n;#o;#i;#s;constructor(e={}){this.#e=e.queryCache||new g6,this.#t=e.mutationCache||new p6,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=y5.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Am.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yx(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(a.queryHash)?.state.data,d=KA(t,i);if(d!==void 0)return this.#e.build(this,a).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return ts.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ts.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return ts.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=ts.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(qo).catch(qo)}invalidateQueries(e,t={}){return ts.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=ts.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qo)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(qo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Yx(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qo).catch(qo)}fetchInfiniteQuery(e){return e.behavior=My(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qo).catch(qo)}ensureInfiniteQueryData(e){return e.behavior=My(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Am.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Bh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(a=>{zh(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){this.#n.set(Bh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(a=>{zh(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===e0&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},v6=v.createContext(void 0),y6=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(v6.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Uh.apply(this,arguments)}var bc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bc||(bc={}));const Oy="popstate";function w6(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:d,hash:c}=a.location;return Xx("",{pathname:i,search:d,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Tm(s)}return j6(t,n,null,e)}function Tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b6(){return Math.random().toString(36).substr(2,8)}function Iy(e,t){return{usr:e.state,key:e.key,idx:t}}function Xx(e,t,n,a){return n===void 0&&(n=null),Uh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bu(t):t,{state:n,key:t&&t.key||a||b6()})}function Tm(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Bu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function j6(e,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,d=s.history,c=bc.Pop,u=null,h=m();h==null&&(h=0,d.replaceState(Uh({},d.state,{idx:h}),""));function m(){return(d.state||{idx:null}).idx}function g(){c=bc.Pop;let N=m(),P=N==null?null:N-h;h=N,u&&u({action:c,location:j.location,delta:P})}function w(N,P){c=bc.Push;let k=Xx(j.location,N,P);h=m()+1;let E=Iy(k,h),O=j.createHref(k);try{d.pushState(E,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(O)}i&&u&&u({action:c,location:j.location,delta:1})}function p(N,P){c=bc.Replace;let k=Xx(j.location,N,P);h=m();let E=Iy(k,h),O=j.createHref(k);d.replaceState(E,"",O),i&&u&&u({action:c,location:j.location,delta:0})}function S(N){let P=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof N=="string"?N:Tm(N);return k=k.replace(/ $/,"%20"),Tn(P,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,P)}let j={get action(){return c},get location(){return e(s,d)},listen(N){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Oy,g),u=N,()=>{s.removeEventListener(Oy,g),u=null}},createHref(N){return t(s,N)},createURL:S,encodeLocation(N){let P=S(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:p,go(N){return d.go(N)}};return j}var $y;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($y||($y={}));function N6(e,t,n){return n===void 0&&(n="/"),S6(e,t,n)}function S6(e,t,n,a){let s=typeof t=="string"?Bu(t):t,i=Tu(s.pathname||"/",n);if(i==null)return null;let d=S5(e);C6(d);let c=null;for(let u=0;c==null&&u<d.length;++u){let h=F6(i);c=L6(d[u],h)}return c}function S5(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,d,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:d,route:i};u.relativePath.startsWith("/")&&(Tn(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let h=Sc([a,u.relativePath]),m=n.concat(u);i.children&&i.children.length>0&&(Tn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),S5(i.children,t,m,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:R6(h,i.index),routesMeta:m})};return e.forEach((i,d)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,d);else for(let u of C5(i.path))s(i,d,u)}),t}function C5(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let d=C5(a.join("/")),c=[];return c.push(...d.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...d),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function C6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D6(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const _6=/^:[\w-]+$/,P6=3,k6=2,E6=1,A6=10,T6=-2,By=e=>e==="*";function R6(e,t){let n=e.split("/"),a=n.length;return n.some(By)&&(a+=T6),t&&(a+=k6),n.filter(s=>!By(s)).reduce((s,i)=>s+(_6.test(i)?P6:i===""?E6:A6),a)}function D6(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function L6(e,t,n){let{routesMeta:a}=e,s={},i="/",d=[];for(let c=0;c<a.length;++c){let u=a[c],h=c===a.length-1,m=i==="/"?t:t.slice(i.length)||"/",g=Qx({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),w=u.route;if(!g)return null;Object.assign(s,g.params),d.push({params:s,pathname:Sc([i,g.pathname]),pathnameBase:B6(Sc([i,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(i=Sc([i,g.pathnameBase]))}return d}function Qx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=M6(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],d=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((h,m,g)=>{let{paramName:w,isOptional:p}=m;if(w==="*"){let j=c[g]||"";d=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const S=c[g];return p&&!S?h[w]=void 0:h[w]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:d,pattern:e}}function M6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),N5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function F6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return N5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function O6(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Bu(e):e;return{pathname:n?n.startsWith("/")?n:I6(n,t):t,search:z6(a),hash:U6(s)}}function I6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zg(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t0(e,t){let n=$6(e);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function r0(e,t,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Bu(e):(s=Uh({},e),Tn(!s.pathname||!s.pathname.includes("?"),zg("?","pathname","search",s)),Tn(!s.pathname||!s.pathname.includes("#"),zg("#","pathname","hash",s)),Tn(!s.search||!s.search.includes("#"),zg("#","search","hash",s)));let i=e===""||s.pathname==="",d=i?"/":s.pathname,c;if(d==null)c=n;else{let g=t.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}c=g>=0?t[g]:"/"}let u=O6(s,c),h=d&&d!=="/"&&d.endsWith("/"),m=(i||d===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const Sc=e=>e.join("/").replace(/\/\/+/g,"/"),B6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _5=["post","put","patch","delete"];new Set(_5);const V6=["get",..._5];new Set(V6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qh.apply(this,arguments)}const pp=v.createContext(null),P5=v.createContext(null),kl=v.createContext(null),gp=v.createContext(null),Dc=v.createContext({outlet:null,matches:[],isDataRoute:!1}),k5=v.createContext(null);function H6(e,t){let{relative:n}=t===void 0?{}:t;zu()||Tn(!1);let{basename:a,navigator:s}=v.useContext(kl),{hash:i,pathname:d,search:c}=xp(e,{relative:n}),u=d;return a!=="/"&&(u=d==="/"?a:Sc([a,d])),s.createHref({pathname:u,search:c,hash:i})}function zu(){return v.useContext(gp)!=null}function Ns(){return zu()||Tn(!1),v.useContext(gp).location}function E5(e){v.useContext(kl).static||v.useLayoutEffect(e)}function Qo(){let{isDataRoute:e}=v.useContext(Dc);return e?aT():W6()}function W6(){zu()||Tn(!1);let e=v.useContext(pp),{basename:t,future:n,navigator:a}=v.useContext(kl),{matches:s}=v.useContext(Dc),{pathname:i}=Ns(),d=JSON.stringify(t0(s,n.v7_relativeSplatPath)),c=v.useRef(!1);return E5(()=>{c.current=!0}),v.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){a.go(h);return}let g=r0(h,JSON.parse(d),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Sc([t,g.pathname])),(m.replace?a.replace:a.push)(g,m.state,m)},[t,a,d,i,e])}function xp(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=v.useContext(kl),{matches:s}=v.useContext(Dc),{pathname:i}=Ns(),d=JSON.stringify(t0(s,a.v7_relativeSplatPath));return v.useMemo(()=>r0(e,JSON.parse(d),i,n==="path"),[e,d,i,n])}function G6(e,t){return Y6(e,t)}function Y6(e,t,n,a){zu()||Tn(!1);let{navigator:s}=v.useContext(kl),{matches:i}=v.useContext(Dc),d=i[i.length-1],c=d?d.params:{};d&&d.pathname;let u=d?d.pathnameBase:"/";d&&d.route;let h=Ns(),m;if(t){var g;let N=typeof t=="string"?Bu(t):t;u==="/"||(g=N.pathname)!=null&&g.startsWith(u)||Tn(!1),m=N}else m=h;let w=m.pathname||"/",p=w;if(u!=="/"){let N=u.replace(/^\//,"").split("/");p="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=N6(e,{pathname:p}),j=Z6(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Sc([u,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Sc([u,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,a);return t&&j?v.createElement(gp.Provider,{value:{location:qh({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:bc.Pop}},j):j}function K6(){let e=nT(),t=q6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const J6=v.createElement(K6,null);class X6 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Dc.Provider,{value:this.props.routeContext},v.createElement(k5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q6(e){let{routeContext:t,match:n,children:a}=e,s=v.useContext(pp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Dc.Provider,{value:t},a)}function Z6(e,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=d.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);m>=0||Tn(!1),d=d.slice(0,Math.min(d.length,m+1))}let u=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let m=0;m<d.length;m++){let g=d[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:w,errors:p}=n,S=g.route.loader&&w[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||S){u=!0,h>=0?d=d.slice(0,h+1):d=[d[0]];break}}}return d.reduceRight((m,g,w)=>{let p,S=!1,j=null,N=null;n&&(p=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||J6,u&&(h<0&&w===0?(sT("route-fallback"),S=!0,N=null):h===w&&(S=!0,N=g.route.hydrateFallbackElement||null)));let P=t.concat(d.slice(0,w+1)),k=()=>{let E;return p?E=j:S?E=N:g.route.Component?E=v.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=m,v.createElement(Q6,{match:g,routeContext:{outlet:m,matches:P,isDataRoute:n!=null},children:E})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?v.createElement(X6,{location:n.location,revalidation:n.revalidation,component:j,error:p,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}var A5=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(A5||{}),T5=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(T5||{});function eT(e){let t=v.useContext(pp);return t||Tn(!1),t}function tT(e){let t=v.useContext(P5);return t||Tn(!1),t}function rT(e){let t=v.useContext(Dc);return t||Tn(!1),t}function R5(e){let t=rT(),n=t.matches[t.matches.length-1];return n.route.id||Tn(!1),n.route.id}function nT(){var e;let t=v.useContext(k5),n=tT(),a=R5();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function aT(){let{router:e}=eT(A5.UseNavigateStable),t=R5(T5.UseNavigateStable),n=v.useRef(!1);return E5(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qh({fromRouteId:t},i)))},[e,t])}const zy={};function sT(e,t,n){zy[e]||(zy[e]=!0)}function oT(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Zx(e){let{to:t,replace:n,state:a,relative:s}=e;zu()||Tn(!1);let{future:i,static:d}=v.useContext(kl),{matches:c}=v.useContext(Dc),{pathname:u}=Ns(),h=Qo(),m=r0(t,t0(c,i.v7_relativeSplatPath),u,s==="path"),g=JSON.stringify(m);return v.useEffect(()=>h(JSON.parse(g),{replace:n,state:a,relative:s}),[h,g,s,n,a]),null}function pa(e){Tn(!1)}function iT(e){let{basename:t="/",children:n=null,location:a,navigationType:s=bc.Pop,navigator:i,static:d=!1,future:c}=e;zu()&&Tn(!1);let u=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:u,navigator:i,static:d,future:qh({v7_relativeSplatPath:!1},c)}),[u,c,i,d]);typeof a=="string"&&(a=Bu(a));let{pathname:m="/",search:g="",hash:w="",state:p=null,key:S="default"}=a,j=v.useMemo(()=>{let N=Tu(m,u);return N==null?null:{location:{pathname:N,search:g,hash:w,state:p,key:S},navigationType:s}},[u,m,g,w,p,S,s]);return j==null?null:v.createElement(kl.Provider,{value:h},v.createElement(gp.Provider,{children:n,value:j}))}function lT(e){let{children:t,location:n}=e;return G6(ev(t),n)}new Promise(()=>{});function ev(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(a,s)=>{if(!v.isValidElement(a))return;let i=[...t,s];if(a.type===v.Fragment){n.push.apply(n,ev(a.props.children,i));return}a.type!==pa&&Tn(!1),!a.props.index||!a.props.children||Tn(!1);let d={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=ev(a.props.children,i)),n.push(d)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rm.apply(this,arguments)}function D5(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function cT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dT(e,t){return e.button===0&&(!t||t==="_self")&&!cT(e)}function tv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function uT(e,t){let n=tv(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const hT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],mT="6";try{window.__reactRouterVersion=mT}catch{}const pT=v.createContext({isTransitioning:!1}),gT="startTransition",Uy=Tv[gT];function xT(e){let{basename:t,children:n,future:a,window:s}=e,i=v.useRef();i.current==null&&(i.current=w6({window:s,v5Compat:!0}));let d=i.current,[c,u]=v.useState({action:d.action,location:d.location}),{v7_startTransition:h}=a||{},m=v.useCallback(g=>{h&&Uy?Uy(()=>u(g)):u(g)},[u,h]);return v.useLayoutEffect(()=>d.listen(m),[d,m]),v.useEffect(()=>oT(a),[a]),v.createElement(iT,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:d,future:a})}const vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ru=v.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:d,state:c,target:u,to:h,preventScrollReset:m,viewTransition:g}=t,w=D5(t,hT),{basename:p}=v.useContext(kl),S,j=!1;if(typeof h=="string"&&yT.test(h)&&(S=h,vT))try{let E=new URL(window.location.href),O=h.startsWith("//")?new URL(E.protocol+h):new URL(h),B=Tu(O.pathname,p);O.origin===E.origin&&B!=null?h=B+O.search+O.hash:j=!0}catch{}let N=H6(h,{relative:s}),P=jT(h,{replace:d,state:c,target:u,preventScrollReset:m,relative:s,viewTransition:g});function k(E){a&&a(E),E.defaultPrevented||P(E)}return v.createElement("a",Rm({},w,{href:S||N,onClick:j||i?a:k,ref:n,target:u}))}),wT=v.forwardRef(function(t,n){let{"aria-current":a="page",caseSensitive:s=!1,className:i="",end:d=!1,style:c,to:u,viewTransition:h,children:m}=t,g=D5(t,fT),w=xp(u,{relative:g.relative}),p=Ns(),S=v.useContext(P5),{navigator:j,basename:N}=v.useContext(kl),P=S!=null&&ST(w)&&h===!0,k=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,E=p.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(E=E.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&N&&(O=Tu(O,N)||O);const B=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ae=E===k||!d&&E.startsWith(k)&&E.charAt(B)==="/",W=O!=null&&(O===k||!d&&O.startsWith(k)&&O.charAt(k.length)==="/"),te={isActive:ae,isPending:W,isTransitioning:P},K=ae?a:void 0,oe;typeof i=="function"?oe=i(te):oe=[i,ae?"active":null,W?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(te):c;return v.createElement(Ru,Rm({},g,{"aria-current":K,className:oe,ref:n,style:L,to:u,viewTransition:h}),typeof m=="function"?m(te):m)});var rv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rv||(rv={}));var qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));function bT(e){let t=v.useContext(pp);return t||Tn(!1),t}function jT(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:d,viewTransition:c}=t===void 0?{}:t,u=Qo(),h=Ns(),m=xp(e,{relative:d});return v.useCallback(g=>{if(dT(g,n)){g.preventDefault();let w=a!==void 0?a:Tm(h)===Tm(m);u(e,{replace:w,state:s,preventScrollReset:i,relative:d,viewTransition:c})}},[h,u,m,a,s,n,e,i,d,c])}function NT(e){let t=v.useRef(tv(e)),n=v.useRef(!1),a=Ns(),s=v.useMemo(()=>uT(a.search,n.current?null:t.current),[a.search]),i=Qo(),d=v.useCallback((c,u)=>{const h=tv(typeof c=="function"?c(s):c);n.current=!0,i("?"+h,u)},[i,s]);return[s,d]}function ST(e,t){t===void 0&&(t={});let n=v.useContext(pT);n==null&&Tn(!1);let{basename:a}=bT(rv.useViewTransitionState),s=xp(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Tu(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Tu(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Qx(s.pathname,d)!=null||Qx(s.pathname,i)!=null}let Us="https://theproparking-backend-1rxk.onrender.com";Us.endsWith("/")&&(Us=Us.slice(0,-1));if(Us.startsWith("http://")||Us.startsWith("https://"))try{const e=new URL(Us);Us=`${e.protocol}//${e.host}`}catch{const t=Us.match(/^(https?:\/\/[^\/]+)/);t&&(Us=t[1])}Us.endsWith("/api")||(Us=`${Us}/api`);const CT=Us;class _T{baseUrl;authToken=null;constructor(t){this.baseUrl=t}setAuthToken(t){this.authToken=t||null}async request(t,n){const a=`${this.baseUrl}${t}`,s={"Content-Type":"application/json",...n?.headers||{}};this.authToken&&(s.Authorization=`Bearer ${this.authToken}`);const i={...n,headers:s};try{const d=await fetch(a,i),u=(d.headers.get("content-type")||"").includes("application/json");if(!d.ok){if(!u){const S=await d.text();throw console.error(`Non-JSON error response from ${a}:`,S.substring(0,300)),new Error(`Server returned non-JSON response (${d.status}): ${d.statusText}`)}const h=d.clone();let m;try{m=await d.json()}catch{const j=await h.text().catch(()=>"Unable to read response");console.error(`Failed to parse error JSON from ${a}:`,j.substring(0,300)),m={error:"Unknown error"}}const g=m&&(m.error??m.message);let w;if(typeof g=="string")w=g;else if(g&&typeof g=="object"&&typeof g.message=="string")w=g.message;else if(m&&typeof m.details=="string")w=m.details;else if(m&&typeof m.hint=="string")w=m.hint;else{const S=JSON.stringify(m);w=S&&S.length<200?S:`HTTP ${d.status}: ${d.statusText}`}if(d.status===401)throw new Error(w||"Unauthorized");const p=new Error(w||`HTTP ${d.status}: ${d.statusText}`);throw p.status=d.status,p}if(d.status===204)return null;if(n?.responseType==="blob")return await d.blob();if(!u){const h=await d.text();throw console.error(`Non-JSON response from ${a}:`,h.substring(0,300)),new Error("Server returned non-JSON response")}return await d.json()}catch(d){throw console.error(`API Error [${t}]:`,d),d}}async get(t,n){const a={...n||{},method:"GET"};return this.request(t,a)}async post(t,n,a){const s={...a||{},method:"POST",body:n?JSON.stringify(n):void 0};return this.request(t,s)}async getRates(){return this.request("/rates")}async createRate(t){return this.request("/rates",{method:"POST",body:JSON.stringify(t)})}async updateRate(t,n){return this.request(`/rates/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteRate(t){return this.request(`/rates/${t}`,{method:"DELETE"})}async getMonthlyCustomers(){return this.request("/monthlyCustomers")}async createMonthlyCustomer(t){return this.request("/monthlyCustomers",{method:"POST",body:JSON.stringify(t)})}async updateMonthlyCustomer(t,n){return this.request(`/monthlyCustomers/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteMonthlyCustomer(t){return this.request(`/monthlyCustomers/${t}`,{method:"DELETE"})}async registerMonthlyPayment(t,n){return this.request(`/monthlyCustomers/${t}/pay`,{method:"POST",body:JSON.stringify(n)})}async createTicket(t){return this.request("/tickets",{method:"POST",body:JSON.stringify(t)})}async processTicketExit(t,n){return this.request(`/tickets/${t}/exit`,{method:"POST",body:JSON.stringify(n)})}async getTicket(t){return this.request(`/tickets/${t}`)}async getPayments(t){const n=new URLSearchParams;t?.start&&n.append("start",t.start),t?.end&&n.append("end",t.end);const a=n.toString();return this.request(`/payments${a?`?${a}`:""}`)}async createPayment(t){return this.request("/payments",{method:"POST",body:JSON.stringify(t)})}async getFinancialReport(t){const n=new URLSearchParams;t?.start&&n.append("start",t.start),t?.end&&n.append("end",t.end);const a=n.toString();return this.request(`/reports${a?`?${a}`:""}`)}async getCompanyConfig(){return this.request("/companyConfig")}async updateCompanyConfig(t){return this.request("/companyConfig",{method:"PUT",body:JSON.stringify(t)})}async resetToFirstRun(){return this.request("/setup/reset-to-first-run",{method:"POST"})}async getVehicles(){try{return await this.request("/vehicles")}catch{return console.warn("Vehicles endpoint not available, using tickets instead"),[]}}async createVehicle(t){try{return await this.request("/vehicles",{method:"POST",body:JSON.stringify(t)})}catch{return this.createTicket({vehicle_plate:t.plate,vehicle_type:t.vehicleType})}}async updateVehicle(t,n){return this.request(`/vehicles/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteVehicle(t){return this.request(`/vehicles/${t}`,{method:"DELETE"})}async getVehicleTypes(){return this.request("/vehicleTypes")}async createVehicleType(t){return this.request("/vehicleTypes",{method:"POST",body:JSON.stringify({name:t})})}async deleteVehicleType(t){return this.request(`/vehicleTypes/${t}`,{method:"DELETE"})}async login(t){return this.request("/auth/login",{method:"POST",body:JSON.stringify(t)})}async getCurrentUser(){return this.request("/auth/me")}async changePassword(t){return this.request("/auth/change-password",{method:"POST",body:JSON.stringify(t)})}async getUsers(){return this.request("/users")}async createUser(t){return this.request("/users",{method:"POST",body:JSON.stringify(t)})}async updateUser(t,n){return this.request(`/users/${t}`,{method:"PUT",body:JSON.stringify(n)})}async updateUserPassword(t,n){return this.request(`/users/${t}/password`,{method:"PUT",body:JSON.stringify({newPassword:n})})}async updateOwnPassword(t,n,a){return this.request(`/users/${t}/password`,{method:"PUT",body:JSON.stringify({oldPassword:n,newPassword:a})})}async validatePasswordStrength(t){return this.request("/auth/validate-password",{method:"POST",body:JSON.stringify({password:t})})}async getPasswordRequirements(){return this.request("/auth/password-requirements")}async deleteUser(t){return this.request(`/users/${t}`,{method:"DELETE"})}async createAuditEvent(t){return this.request("/audit/events",{method:"POST",body:JSON.stringify(t)})}async getAuditEvents(t){const n=new URLSearchParams;t?.start&&n.append("start",t.start),t?.end&&n.append("end",t.end),t?.action&&n.append("action",t.action),t?.actorId&&n.append("actorId",t.actorId);const a=n.toString();return this.request(`/audit/events${a?`?${a}`:""}`)}async createBackup(){return this.request("/backup",{method:"POST"})}async listBackups(){return this.request("/backup")}async downloadBackup(t){const n=`${this.baseUrl}/backup/${encodeURIComponent(t)}`,a={};this.authToken&&(a.Authorization=`Bearer ${this.authToken}`);const s=await fetch(n,{headers:a});if(!s.ok){const d=await s.json().catch(()=>({error:"Unknown error"}));throw new Error(d.error||`HTTP ${s.status}`)}return await s.blob()}async previewBackup(t){return this.request(`/backup/${encodeURIComponent(t)}/preview`)}async restoreBackup(t,n){return this.request(`/backup/${encodeURIComponent(t)}/restore`,{method:"POST",body:JSON.stringify({tables:n})})}async deleteBackup(t){return this.request(`/backup/${encodeURIComponent(t)}`,{method:"DELETE"})}async getBackupConfig(){return this.request("/backup-config")}async updateBackupConfig(t){return this.request("/backup-config",{method:"PUT",body:JSON.stringify(t)})}async triggerAutoBackup(){return this.request("/backup-config/trigger",{method:"POST"})}async generateMonthlyReport(t){return this.request("/reports/monthly",{method:"POST",body:JSON.stringify(t||{})})}async getMonthlyReports(t){const n=new URLSearchParams;t?.year&&n.append("year",t.year.toString()),t?.limit&&n.append("limit",t.limit.toString());const a=n.toString();return this.request(`/reports/monthly${a?`?${a}`:""}`)}async getMonthlyReportById(t){return this.request(`/reports/monthly/${t}`)}async deleteMonthlyReport(t){return this.request(`/reports/monthly/${t}`,{method:"DELETE"})}async getPricingRules(t){return this.request(`/pricing-rules/rate/${t}`)}async createPricingRule(t){return this.request("/pricing-rules",{method:"POST",body:JSON.stringify(t)})}async updatePricingRule(t,n){return this.request(`/pricing-rules/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deletePricingRule(t){return this.request(`/pricing-rules/${t}`,{method:"DELETE"})}async togglePricingRule(t,n){return this.request(`/pricing-rules/${t}/toggle`,{method:"PATCH",body:JSON.stringify({isActive:n})})}async getRateTimeWindows(t){return this.request(`/rates/${t}/windows`)}async createRateTimeWindow(t,n){return this.request(`/rates/${t}/windows`,{method:"POST",body:JSON.stringify(n)})}async updateRateTimeWindow(t,n){return this.request(`/rate-windows/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteRateTimeWindow(t){return this.request(`/rate-windows/${t}`,{method:"DELETE"})}async getRateThresholds(t){return this.request(`/rates/${t}/thresholds`)}async createRateThreshold(t,n){return this.request(`/rates/${t}/thresholds`,{method:"POST",body:JSON.stringify(n)})}async updateRateThreshold(t,n){return this.request(`/rate-thresholds/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteRateThreshold(t){return this.request(`/rate-thresholds/${t}`,{method:"DELETE"})}async getReceiptTemplates(t){const n=t&&t!=="all"?`?type=${t}`:"";return this.request(`/receipt-templates${n}`)}async createReceiptTemplate(t){return this.request("/receipt-templates",{method:"POST",body:JSON.stringify(t)})}async updateReceiptTemplate(t,n){return this.request(`/receipt-templates/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteReceiptTemplate(t){return this.request(`/receipt-templates/${t}`,{method:"DELETE"})}async setDefaultReceiptTemplate(t){return this.request(`/receipt-templates/${t}/set-default`,{method:"POST"})}async cloneReceiptTemplate(t){return this.request(`/receipt-templates/${t}/clone`,{method:"POST"})}async getBusinessHours(){return this.request("/business-hours")}async updateBusinessHours(t,n){return this.request(`/business-hours/${t}`,{method:"PUT",body:JSON.stringify(n)})}async getHolidays(t){const n=t?"?upcoming=true":"";return this.request(`/holidays${n}`)}async createHoliday(t){return this.request("/holidays",{method:"POST",body:JSON.stringify(t)})}async updateHoliday(t,n){return this.request(`/holidays/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteHoliday(t){return this.request(`/holidays/${t}`,{method:"DELETE"})}async getSpecialEvents(t){const n=t?"?active=true":"";return this.request(`/special-events${n}`)}async createSpecialEvent(t){return this.request("/special-events",{method:"POST",body:JSON.stringify(t)})}async updateSpecialEvent(t,n){return this.request(`/special-events/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSpecialEvent(t){return this.request(`/special-events/${t}`,{method:"DELETE"})}async getOperationalStatus(){return this.request("/operational-status")}async enqueuePrinterJob(t){return this.request("/printer-jobs",{method:"POST",body:JSON.stringify(t)})}async listPrinterJobs(t){const n=new URLSearchParams;t?.status&&(Array.isArray(t.status)?t.status:[t.status]).forEach(i=>n.append("status",i)),t?.jobType&&(Array.isArray(t.jobType)?t.jobType:[t.jobType]).forEach(i=>n.append("jobType",i)),typeof t?.limit=="number"&&n.set("limit",t.limit.toString()),t?.since&&n.set("since",t.since),t?.search&&n.set("search",t.search);const a=n.toString();return this.request(`/printer-jobs${a?`?${a}`:""}`)}async getPrinterJob(t){return this.request(`/printer-jobs/${t}`)}async cancelPrinterJob(t,n){return this.request(`/printer-jobs/${t}/cancel`,{method:"POST",body:JSON.stringify({reason:n})})}async getPrinterJobStatuses(){return this.request("/printer-jobs/statuses")}async getExpenses(t){const n=new URLSearchParams;t?.start&&n.set("start",t.start),t?.end&&n.set("end",t.end),t?.category&&n.set("category",t.category),t?.status&&n.set("status",t.status);const a=n.toString();return this.request(`/expenses${a?`?${a}`:""}`)}async getExpense(t){return this.request(`/expenses/${t}`)}async createExpense(t){return this.request("/expenses",{method:"POST",body:JSON.stringify(t)})}async updateExpense(t,n){return this.request(`/expenses/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteExpense(t){return this.request(`/expenses/${t}`,{method:"DELETE"})}async getManualRevenues(t){const n=new URLSearchParams;t?.start&&n.set("start",t.start),t?.end&&n.set("end",t.end),t?.category&&n.set("category",t.category);const a=n.toString();return this.request(`/manual-revenues${a?`?${a}`:""}`)}async getManualRevenue(t){return this.request(`/manual-revenues/${t}`)}async createManualRevenue(t){return this.request("/manual-revenues",{method:"POST",body:JSON.stringify(t)})}async updateManualRevenue(t,n){return this.request(`/manual-revenues/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteManualRevenue(t){return this.request(`/manual-revenues/${t}`,{method:"DELETE"})}async getConvenios(t){const n=new URLSearchParams;t?.status&&t.status!=="todos"&&n.set("status",t.status),t?.tipo&&t.tipo!=="todos"&&n.set("tipo",t.tipo),t?.categoria&&t.categoria!=="todos"&&n.set("categoria",t.categoria),t?.busca&&n.set("busca",t.busca);const a=n.toString();return this.request(`/convenios${a?`?${a}`:""}`)}async getConvenioById(t){return this.request(`/convenios/${t}`)}async getConvenioStats(){return this.request("/convenios/stats")}async getConveniosRanking(){return this.request("/convenios/relatorios/ocupacao")}async createConvenio(t){return this.request("/convenios",{method:"POST",body:JSON.stringify(t)})}async updateConvenio(t,n){return this.request(`/convenios/${t}`,{method:"PATCH",body:JSON.stringify(n)})}async deleteConvenio(t){return this.request(`/convenios/${t}`,{method:"DELETE"})}async getConveniosRelatoriosFaturas(t){const n=new URLSearchParams;t?.status&&n.set("status",t.status),t?.periodo&&n.set("periodo",t.periodo),t?.data_inicio&&n.set("data_inicio",t.data_inicio),t?.data_fim&&n.set("data_fim",t.data_fim);const a=n.toString();return this.request(`/convenios/relatorios/faturas${a?`?${a}`:""}`)}async getConvenioMovimentacoes(t,n){const a=new URLSearchParams;n?.data_inicio&&a.set("data_inicio",n.data_inicio),n?.data_fim&&a.set("data_fim",n.data_fim),n?.placa&&a.set("placa",n.placa),n?.faturado!==void 0&&a.set("faturado",String(n.faturado));const s=a.toString();return this.request(`/convenios/${t}/movimentacoes${s?`?${s}`:""}`)}async getConvenioDocumentos(t){return this.request(`/convenios/${t}/documentos`)}async addConvenioVeiculo(t,n){return this.request(`/convenios/${t}/veiculos`,{method:"POST",body:JSON.stringify(n)})}async uploadConvenioDocumento(t,n){return this.request(`/convenios/${t}/documentos`,{method:"POST",body:JSON.stringify(n)})}async deleteConvenioDocumento(t,n){return this.request(`/convenios/${t}/documentos/${n}`,{method:"DELETE"})}async updateConvenioPlano(t,n){return this.request(`/convenios/${t}/plano`,{method:"PUT",body:JSON.stringify(n)})}async getNotificacoes(t){const n=t?"?unreadOnly=true":"";return this.request(`/notificacoes${n}`)}async countNotificacoes(){return this.request("/notificacoes/count")}async markNotificacaoRead(t){return this.request(`/notificacoes/${t}/read`,{method:"PATCH"})}async markAllNotificacoesRead(){return this.request("/notificacoes/read-all",{method:"PATCH"})}async runConveniosJob(t){return this.request(`/convenios/jobs/${t}`,{method:"POST"})}async openCashRegister(t){return this.request("/cash-register/open",{method:"POST",body:JSON.stringify(t)})}async getCurrentCashRegisterSession(){return this.request("/cash-register/current")}async getCashRegisterHistory(){return this.request("/cash-register/history")}async closeCashRegister(t){return this.request("/cash-register/close",{method:"POST",body:JSON.stringify(t)})}async addCashTransaction(t){return this.request("/cash-register/transaction",{method:"POST",body:JSON.stringify(t)})}}const rt=new _T(CT),L5=v.createContext(void 0);function PT(){try{return localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token")}catch{return null}}const kT=({children:e})=>{const[t,n]=v.useState(null),[a,s]=v.useState(null),[i,d]=v.useState(!0),[c,u]=v.useState(!1),[h,m]=v.useState(!1);v.useEffect(()=>{const k=PT();k?s(k):d(!1)},[]),v.useEffect(()=>{if(!a){n(null),rt.setAuthToken(null),d(!1);return}(async()=>{d(!0),rt.setAuthToken(a);try{const E=await rt.getCurrentUser();n(E.user)}catch(E){console.warn("Token validation failed, clearing:",E),w(),s(null),n(null),rt.setAuthToken(null)}finally{d(!1)}})()},[a]);const g=(k,E)=>{try{E?(localStorage.setItem("auth:token",k),sessionStorage.removeItem("auth:token")):(sessionStorage.setItem("auth:token",k),localStorage.removeItem("auth:token"))}catch{}},w=()=>{try{localStorage.removeItem("auth:token"),sessionStorage.removeItem("auth:token")}catch{}},p=async(k,E,O)=>{const B=await rt.login({login:k,password:E});n(B.user),s(B.token),g(B.token,O),rt.setAuthToken(B.token),B.mustChangePassword!==void 0&&u(B.mustChangePassword),B.isFirstLogin!==void 0&&m(B.isFirstLogin)},S=()=>{n(null),s(null),u(!1),m(!1),w(),rt.setAuthToken(null)},j=()=>{u(!1),m(!1)},N=k=>t?t.role==="admin"?!0:!!(t.permissions||{})[k]:!1,P=v.useMemo(()=>({user:t,token:a,isAuthenticated:!!t,isAdmin:t?.role==="admin",hasPermission:N,loading:i,mustChangePassword:c,isFirstLogin:h,login:p,logout:S,clearPasswordChangeFlags:j}),[t,a,i,c,h]);return r.jsx(L5.Provider,{value:P,children:e})},Ss=()=>{const e=v.useContext(L5);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},M5=v.createContext(void 0),ET=({children:e})=>{const{token:t,loading:n}=Ss(),[a,s]=v.useState([]),[i,d]=v.useState([]),[c,u]=v.useState([]),[h,m]=v.useState({name:"Estacionamento",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#2563eb",receiptCounter:1}),[g,w]=v.useState(!1),[p,S]=v.useState(void 0),[j,N]=v.useState(0),[P,k]=v.useState(!0);v.useEffect(()=>{if(n)return;(async()=>{try{k(!0);const[D,T]=await Promise.all([rt.getVehicles().catch(I=>(console.error("Error loading vehicles:",I),[])),rt.getRates().catch(I=>(console.error("Error loading rates:",I),[]))]);if(s(D||[]),d(T||[]),t){const[I,G,J,ce]=await Promise.all([rt.getMonthlyCustomers().catch(se=>(console.error("Error loading monthly customers:",se),[])),rt.getCompanyConfig().catch(se=>(console.error("Error loading company config:",se),null)),rt.getCurrentCashRegisterSession().catch(se=>(console.error("Error loading cash register session:",se),{isOpen:!1,session:null})),rt.getCashRegisterHistory().catch(se=>(console.error("Error loading cash register history:",se),[]))]);if(u(I||[]),G&&m(G),J?.isOpen&&J?.session?(S({openedAt:J.session.openedAt||new Date().toISOString(),openingAmount:J.session.openingAmount||0,operatorName:J.session.operatorName||"Operador"}),w(!0)):(w(!1),S(void 0)),ce&&ce.length>0){const se=ce[0],pe=Number(se.actual_amount||se.closing_amount||0);N(pe)}}else u([]),m({name:"Estacionamento",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#2563eb",receiptCounter:1}),w(!1),S(void 0)}catch(D){console.error("Erro ao carregar dados:",D),s([]),d([]),u([])}finally{k(!1)}})()},[t,n]);const E=async(H,D)=>{if(typeof H!="number"||H<0)throw new Error("Valor de abertura invlido. Deve ser um nmero maior ou igual a zero.");if(!D||D.trim()==="")throw new Error("Nome do operador  obrigatrio");if(g)throw new Error("Caixa j est aberto");const T=new Date().toISOString(),I=D.trim();try{if(t){const G=await rt.openCashRegister({openingAmount:H,operatorName:I,openedAt:T});if(G?.session)S({openedAt:G.session.openedAt,openingAmount:G.session.openingAmount,operatorName:G.session.operatorName}),w(!0);else throw new Error("Resposta invlida do servidor ao abrir caixa")}else throw new Error("Usurio no autenticado. Impossvel abrir caixa.")}catch(G){throw console.error("Erro ao abrir caixa:",G),G}},O=async(H,D)=>{try{t&&await rt.closeCashRegister({actualAmount:H,notes:`Fechamento por ${D}`}),S(void 0),w(!1),N(H)}catch(T){throw console.error("Erro ao fechar caixa:",T),T}},B=(H,D,T,I)=>{const G=new Date(`${H.entryDate}T${H.entryTime}`),J=new Date(`${T}T${I}`),ce=Math.floor((J.getTime()-G.getTime())/6e4);if(D.rateType==="Hora/Frao"){const se=Math.floor(ce/60),pe=ce%60;let le=se;return pe>D.courtesyMinutes&&(le+=1),Math.max(le,1)*D.value}else{if(D.rateType==="Diria")return Math.ceil(ce/1440)*D.value;if(D.rateType==="Pernoite")return D.value;if(["Semanal","Quinzenal","Mensal"].includes(D.rateType)){const se=(H.contractedDays||30)*24*60;if(ce<=se)return D.value;const pe=i.find(le=>le.vehicleType===H.vehicleType&&le.rateType==="Hora/Frao");return pe?D.value+Math.ceil((ce-se)/60)*pe.value:D.value}}return D.value},ae=H=>{const D=H?.start?new Date(H.start):void 0,T=H?.end?new Date(H.end):void 0;return a.filter(I=>I.status==="Concludo").filter(I=>{if(!D&&!T)return!0;const G=I.exitDate?new Date(I.exitDate):void 0;if(!G||D&&G<D)return!1;if(T){const J=new Date(T);if(J.setHours(23,59,59,999),G>J)return!1}return!0}).reduce((I,G)=>I+(G.totalValue||0),0)},W=H=>{const D=H?.start?new Date(H.start):void 0,T=H?.end?new Date(H.end):void 0;return c.reduce((I,G)=>{const ce=(G.paymentHistory||[]).filter(se=>{const pe=se.date?new Date(se.date):void 0;if(!pe||D&&pe<D)return!1;if(T){const le=new Date(T);if(le.setHours(23,59,59,999),pe>le)return!1}return!0}).reduce((se,pe)=>se+(pe.value||0),0);return I+ce},0)},te=H=>ae(H)+W(H),K=async H=>{try{const D=await rt.createVehicle(H);s(T=>[...T,D])}catch(D){throw console.error("Erro ao adicionar veculo:",D),D}},oe=async(H,D)=>{try{const T=await rt.updateVehicle(H,D);s(I=>I.map(G=>G.id===H?T:G))}catch(T){throw console.error("Erro ao atualizar veculo:",T),T}},L=async H=>{try{await rt.deleteVehicle(H),s(D=>D.filter(T=>T.id!==H))}catch(D){throw console.error("Erro ao remover veculo:",D),D}},F=async H=>{try{const D=await rt.createRate(H);d(T=>[...T,D])}catch(D){throw console.error("Erro ao adicionar tarifa:",D),D}},z=async(H,D)=>{try{const T=await rt.updateRate(H,D);return d(I=>I.map(G=>G.id===H?T:G)),T}catch(T){throw console.error("Erro ao atualizar tarifa:",T),T}},q=async H=>{try{await rt.deleteRate(H),d(D=>D.filter(T=>T.id!==H))}catch(D){throw console.error("Erro ao remover tarifa:",D),D}},ge=async H=>{try{const D=await rt.createMonthlyCustomer(H);return u(T=>[...T,D]),D}catch(D){throw console.error("Erro ao adicionar cliente:",D),D}},fe=async(H,D)=>{try{const T=await rt.updateMonthlyCustomer(H,D);u(I=>I.map(G=>G.id===H?T:G))}catch(T){throw console.error("Erro ao atualizar cliente mensalista:",T),T}},ye=async H=>{try{await rt.deleteMonthlyCustomer(H),u(D=>D.filter(T=>T.id!==H))}catch(D){throw console.error("Erro ao remover cliente mensalista:",D),D}},U=async(H,D)=>{try{const T=await rt.registerMonthlyPayment(H,{value:D.value,method:D.method});return u(G=>G.map(J=>J.id===H?T.customer:J)),m(G=>({...G,receiptCounter:G.receiptCounter+1})),Number(T.payment?.id)||Date.now()}catch(T){throw console.error("Erro ao registrar pagamento:",T),T}},$=async H=>{try{const D=await rt.updateCompanyConfig(H);m(D)}catch(D){throw console.error("Erro ao atualizar configuraes:",D),D}};return r.jsx(M5.Provider,{value:{vehicles:a,rates:i,monthlyCustomers:c,companyConfig:h,cashIsOpen:g,cashSession:p,lastClosingAmount:j,cashLoading:P,openCashRegister:E,closeCashRegister:O,getAvulsoRevenue:ae,getMonthlyRevenue:W,getTotalRevenue:te,addVehicle:K,updateVehicle:oe,deleteVehicle:L,addRate:F,updateRate:z,deleteRate:q,addMonthlyCustomer:ge,updateMonthlyCustomer:fe,deleteMonthlyCustomer:ye,registerPayment:U,updateCompanyConfig:$,calculateRate:B},children:e})},Zo=()=>{const e=v.useContext(M5);if(!e)throw new Error("useParking deve ser usado dentro de um ParkingProvider");return e},n0=Xh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=v.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...s},i)=>{const d=a?O_:"button";return r.jsx(d,{className:xt(n0({variant:t,size:n,className:e})),ref:i,...s})});Ne.displayName="Button";var Ug=0;function vp(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vy()),document.body.insertAdjacentElement("beforeend",e[1]??Vy()),Ug++,()=>{Ug===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ug--}},[])}function Vy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qg="focusScope.autoFocusOnMount",Vg="focusScope.autoFocusOnUnmount",Hy={bubbles:!1,cancelable:!0},AT="FocusScope",tf=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...d}=e,[c,u]=v.useState(null),h=zn(s),m=zn(i),g=v.useRef(null),w=rr(t,j=>u(j)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let j=function(E){if(p.paused||!c)return;const O=E.target;c.contains(O)?g.current=O:yc(g.current,{select:!0})},N=function(E){if(p.paused||!c)return;const O=E.relatedTarget;O!==null&&(c.contains(O)||yc(g.current,{select:!0}))},P=function(E){if(document.activeElement===document.body)for(const B of E)B.removedNodes.length>0&&yc(c)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const k=new MutationObserver(P);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),k.disconnect()}}},[a,c,p.paused]),v.useEffect(()=>{if(c){Gy.add(p);const j=document.activeElement;if(!c.contains(j)){const P=new CustomEvent(qg,Hy);c.addEventListener(qg,h),c.dispatchEvent(P),P.defaultPrevented||(TT(FT(F5(c)),{select:!0}),document.activeElement===j&&yc(c))}return()=>{c.removeEventListener(qg,h),setTimeout(()=>{const P=new CustomEvent(Vg,Hy);c.addEventListener(Vg,m),c.dispatchEvent(P),P.defaultPrevented||yc(j??document.body,{select:!0}),c.removeEventListener(Vg,m),Gy.remove(p)},0)}}},[c,h,m,p]);const S=v.useCallback(j=>{if(!n&&!a||p.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,P=document.activeElement;if(N&&P){const k=j.currentTarget,[E,O]=RT(k);E&&O?!j.shiftKey&&P===O?(j.preventDefault(),n&&yc(E,{select:!0})):j.shiftKey&&P===E&&(j.preventDefault(),n&&yc(O,{select:!0})):P===k&&j.preventDefault()}},[n,a,p.paused]);return r.jsx(Lt.div,{tabIndex:-1,...d,ref:w,onKeyDown:S})});tf.displayName=AT;function TT(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(yc(a,{select:t}),document.activeElement!==n)return}function RT(e){const t=F5(e),n=Wy(t,e),a=Wy(t.reverse(),e);return[n,a]}function F5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wy(e,t){for(const n of e)if(!DT(n,{upTo:t}))return n}function DT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LT(e){return e instanceof HTMLInputElement&&"select"in e}function yc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&LT(e)&&t&&e.select()}}var Gy=MT();function MT(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Yy(e,t),e.unshift(t)},remove(t){e=Yy(e,t),e[0]?.resume()}}}function Yy(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function FT(e){return e.filter(t=>t.tagName!=="A")}var OT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ou=new WeakMap,Kf=new WeakMap,Jf={},Hg=0,O5=function(e){return e&&(e.host||O5(e.parentNode))},IT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=O5(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$T=function(e,t,n,a){var s=IT(t,Array.isArray(e)?e:[e]);Jf[n]||(Jf[n]=new WeakMap);var i=Jf[n],d=[],c=new Set,u=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(w){if(c.has(w))m(w);else try{var p=w.getAttribute(a),S=p!==null&&p!=="false",j=(ou.get(w)||0)+1,N=(i.get(w)||0)+1;ou.set(w,j),i.set(w,N),d.push(w),j===1&&S&&Kf.set(w,!0),N===1&&w.setAttribute(n,"true"),S||w.setAttribute(a,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return m(t),c.clear(),Hg++,function(){d.forEach(function(g){var w=ou.get(g)-1,p=i.get(g)-1;ou.set(g,w),i.set(g,p),w||(Kf.has(g)||g.removeAttribute(a),Kf.delete(g)),p||g.removeAttribute(n)}),Hg--,Hg||(ou=new WeakMap,ou=new WeakMap,Kf=new WeakMap,Jf={})}},yp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=OT(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),$T(a,s,n,"aria-hidden")):function(){return null}},Si=function(){return Si=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Si.apply(this,arguments)};function I5(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function BT(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var pm="right-scroll-bar-position",gm="width-before-scroll-bar",zT="with-scroll-bars-hidden",UT="--removed-body-scroll-bar-size";function Wg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qT(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var VT=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ky=new WeakMap;function HT(e,t){var n=qT(null,function(a){return e.forEach(function(s){return Wg(s,a)})});return VT(function(){var a=Ky.get(n);if(a){var s=new Set(a),i=new Set(e),d=n.current;s.forEach(function(c){i.has(c)||Wg(c,null)}),i.forEach(function(c){s.has(c)||Wg(c,d)})}Ky.set(n,e)},[e]),n}function WT(e){return e}function GT(e,t){t===void 0&&(t=WT);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var d=t(i,a);return n.push(d),function(){n=n.filter(function(c){return c!==d})}},assignSyncMedium:function(i){for(a=!0;n.length;){var d=n;n=[],d.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){a=!0;var d=[];if(n.length){var c=n;n=[],c.forEach(i),d=n}var u=function(){var m=d;d=[],m.forEach(i)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(m){d.push(m),h()},filter:function(m){return d=d.filter(m),n}}}};return s}function YT(e){e===void 0&&(e={});var t=GT(null);return t.options=Si({async:!0,ssr:!1},e),t}var $5=function(e){var t=e.sideCar,n=I5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,Si({},n))};$5.isSideCarExport=!0;function KT(e,t){return e.useMedium(t),$5}var B5=YT(),Gg=function(){},wp=v.forwardRef(function(e,t){var n=v.useRef(null),a=v.useState({onScrollCapture:Gg,onWheelCapture:Gg,onTouchMoveCapture:Gg}),s=a[0],i=a[1],d=e.forwardProps,c=e.children,u=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,w=e.sideCar,p=e.noRelative,S=e.noIsolation,j=e.inert,N=e.allowPinchZoom,P=e.as,k=P===void 0?"div":P,E=e.gapMode,O=I5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=w,ae=HT([n,t]),W=Si(Si({},O),s);return v.createElement(v.Fragment,null,m&&v.createElement(B,{sideCar:B5,removeScrollBar:h,shards:g,noRelative:p,noIsolation:S,inert:j,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:E}),d?v.cloneElement(v.Children.only(c),Si(Si({},W),{ref:ae})):v.createElement(k,Si({},W,{className:u,ref:ae}),c))});wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wp.classNames={fullWidth:gm,zeroRight:pm};var JT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JT();return t&&e.setAttribute("nonce",t),e}function QT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=XT())&&(QT(t,n),ZT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tR=function(){var e=eR();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},z5=function(){var e=tR(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},rR={left:0,top:0,right:0,gap:0},Yg=function(e){return parseInt(e||"",10)||0},nR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Yg(n),Yg(a),Yg(s)]},aR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rR;var t=nR(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},sR=z5(),bu="data-scroll-locked",oR=function(e,t,n,a){var s=e.left,i=e.top,d=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zT,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pm,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(gm,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(pm," .").concat(pm,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(UT,": ").concat(c,`px;
  }
`)},Jy=function(){var e=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(e)?e:0},iR=function(){v.useEffect(function(){return document.body.setAttribute(bu,(Jy()+1).toString()),function(){var e=Jy()-1;e<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,e.toString())}},[])},lR=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;iR();var i=v.useMemo(function(){return aR(s)},[s]);return v.createElement(sR,{styles:oR(i,!t,s,n?"":"!important")})},nv=!1;if(typeof window<"u")try{var Xf=Object.defineProperty({},"passive",{get:function(){return nv=!0,!0}});window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{nv=!1}var iu=nv?{passive:!1}:!1,cR=function(e){return e.tagName==="TEXTAREA"},U5=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!cR(e)&&n[t]==="visible")},dR=function(e){return U5(e,"overflowY")},uR=function(e){return U5(e,"overflowX")},Xy=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=q5(e,a);if(s){var i=V5(e,a),d=i[1],c=i[2];if(d>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},hR=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},fR=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},q5=function(e,t){return e==="v"?dR(t):uR(t)},V5=function(e,t){return e==="v"?hR(t):fR(t)},mR=function(e,t){return e==="h"&&t==="rtl"?-1:1},pR=function(e,t,n,a,s){var i=mR(e,window.getComputedStyle(t).direction),d=i*a,c=n.target,u=t.contains(c),h=!1,m=d>0,g=0,w=0;do{if(!c)break;var p=V5(e,c),S=p[0],j=p[1],N=p[2],P=j-N-i*S;(S||P)&&q5(e,c)&&(g+=P,w+=S);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(m&&Math.abs(g)<1||!m&&Math.abs(w)<1)&&(h=!0),h},Qf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qy=function(e){return[e.deltaX,e.deltaY]},Zy=function(e){return e&&"current"in e?e.current:e},gR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vR=0,lu=[];function yR(e){var t=v.useRef([]),n=v.useRef([0,0]),a=v.useRef(),s=v.useState(vR++)[0],i=v.useState(z5)[0],d=v.useRef(e);v.useEffect(function(){d.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var j=BT([e.lockRef.current],(e.shards||[]).map(Zy),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!d.current.allowPinchZoom;var P=Qf(j),k=n.current,E="deltaX"in j?j.deltaX:k[0]-P[0],O="deltaY"in j?j.deltaY:k[1]-P[1],B,ae=j.target,W=Math.abs(E)>Math.abs(O)?"h":"v";if("touches"in j&&W==="h"&&ae.type==="range")return!1;var te=Xy(W,ae);if(!te)return!0;if(te?B=W:(B=W==="v"?"h":"v",te=Xy(W,ae)),!te)return!1;if(!a.current&&"changedTouches"in j&&(E||O)&&(a.current=B),!B)return!0;var K=a.current||B;return pR(K,N,j,K==="h"?E:O)},[]),u=v.useCallback(function(j){var N=j;if(!(!lu.length||lu[lu.length-1]!==i)){var P="deltaY"in N?Qy(N):Qf(N),k=t.current.filter(function(B){return B.name===N.type&&(B.target===N.target||N.target===B.shadowParent)&&gR(B.delta,P)})[0];if(k&&k.should){N.cancelable&&N.preventDefault();return}if(!k){var E=(d.current.shards||[]).map(Zy).filter(Boolean).filter(function(B){return B.contains(N.target)}),O=E.length>0?c(N,E[0]):!d.current.noIsolation;O&&N.cancelable&&N.preventDefault()}}},[]),h=v.useCallback(function(j,N,P,k){var E={name:j,delta:N,target:P,should:k,shadowParent:wR(P)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(O){return O!==E})},1)},[]),m=v.useCallback(function(j){n.current=Qf(j),a.current=void 0},[]),g=v.useCallback(function(j){h(j.type,Qy(j),j.target,c(j,e.lockRef.current))},[]),w=v.useCallback(function(j){h(j.type,Qf(j),j.target,c(j,e.lockRef.current))},[]);v.useEffect(function(){return lu.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",u,iu),document.addEventListener("touchmove",u,iu),document.addEventListener("touchstart",m,iu),function(){lu=lu.filter(function(j){return j!==i}),document.removeEventListener("wheel",u,iu),document.removeEventListener("touchmove",u,iu),document.removeEventListener("touchstart",m,iu)}},[]);var p=e.removeScrollBar,S=e.inert;return v.createElement(v.Fragment,null,S?v.createElement(i,{styles:xR(s)}):null,p?v.createElement(lR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bR=KT(B5,yR);var rf=v.forwardRef(function(e,t){return v.createElement(wp,Si({},e,{ref:t,sideCar:bR}))});rf.classNames=wp.classNames;var bp="Popover",[H5]=va(bp,[Rc]),nf=Rc(),[jR,Lc]=H5(bp),W5=e=>{const{__scopePopover:t,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:d=!1}=e,c=nf(t),u=v.useRef(null),[h,m]=v.useState(!1),[g,w]=vo({prop:a,defaultProp:s??!1,onChange:i,caller:bp});return r.jsx(ip,{...c,children:r.jsx(jR,{scope:t,contentId:go(),triggerRef:u,open:g,onOpenChange:w,onOpenToggle:v.useCallback(()=>w(p=>!p),[w]),hasCustomAnchor:h,onCustomAnchorAdd:v.useCallback(()=>m(!0),[]),onCustomAnchorRemove:v.useCallback(()=>m(!1),[]),modal:d,children:n})})};W5.displayName=bp;var G5="PopoverAnchor",NR=v.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,s=Lc(G5,n),i=nf(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:c}=s;return v.useEffect(()=>(d(),()=>c()),[d,c]),r.jsx(ef,{...i,...a,ref:t})});NR.displayName=G5;var Y5="PopoverTrigger",K5=v.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,s=Lc(Y5,n),i=nf(n),d=rr(t,s.triggerRef),c=r.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ej(s.open),...a,ref:d,onClick:ot(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:r.jsx(ef,{asChild:!0,...i,children:c})});K5.displayName=Y5;var a0="PopoverPortal",[SR,CR]=H5(a0,{forceMount:void 0}),J5=e=>{const{__scopePopover:t,forceMount:n,children:a,container:s}=e,i=Lc(a0,t);return r.jsx(SR,{scope:t,forceMount:n,children:r.jsx(ia,{present:n||i.open,children:r.jsx(Fu,{asChild:!0,container:s,children:a})})})};J5.displayName=a0;var Du="PopoverContent",X5=v.forwardRef((e,t)=>{const n=CR(Du,e.__scopePopover),{forceMount:a=n.forceMount,...s}=e,i=Lc(Du,e.__scopePopover);return r.jsx(ia,{present:a||i.open,children:i.modal?r.jsx(PR,{...s,ref:t}):r.jsx(kR,{...s,ref:t})})});X5.displayName=Du;var _R=_c("PopoverContent.RemoveScroll"),PR=v.forwardRef((e,t)=>{const n=Lc(Du,e.__scopePopover),a=v.useRef(null),s=rr(t,a),i=v.useRef(!1);return v.useEffect(()=>{const d=a.current;if(d)return yp(d)},[]),r.jsx(rf,{as:_R,allowPinchZoom:!0,children:r.jsx(Q5,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(e.onCloseAutoFocus,d=>{d.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ot(e.onPointerDownOutside,d=>{const c=d.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ot(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),kR=v.forwardRef((e,t)=>{const n=Lc(Du,e.__scopePopover),a=v.useRef(!1),s=v.useRef(!1);return r.jsx(Q5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||n.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=i.target;n.triggerRef.current?.contains(d)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Q5=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,...g}=e,w=Lc(Du,n),p=nf(n);return vp(),r.jsx(tf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:r.jsx(_d,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:r.jsx(lp,{"data-state":ej(w.open),role:"dialog",id:w.contentId,...p,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Z5="PopoverClose",ER=v.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,s=Lc(Z5,n);return r.jsx(Lt.button,{type:"button",...a,ref:t,onClick:ot(e.onClick,()=>s.onOpenChange(!1))})});ER.displayName=Z5;var AR="PopoverArrow",TR=v.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,s=nf(n);return r.jsx(cp,{...s,...a,ref:t})});TR.displayName=AR;function ej(e){return e?"open":"closed"}var RR=W5,DR=K5,LR=J5,tj=X5;const MR=RR,FR=DR,rj=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...a},s)=>r.jsx(LR,{children:r.jsx(tj,{ref:s,align:t,sideOffset:n,className:xt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));rj.displayName=tj.displayName;var OR=v.createContext(void 0);function Uu(e){const t=v.useContext(OR);return e||t||"ltr"}function av(e,[t,n]){return Math.min(n,Math.max(t,e))}function IR(e,t){return v.useReducer((n,a)=>t[n][a]??n,e)}var s0="ScrollArea",[nj]=va(s0),[$R,wo]=nj(s0),aj=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...d}=e,[c,u]=v.useState(null),[h,m]=v.useState(null),[g,w]=v.useState(null),[p,S]=v.useState(null),[j,N]=v.useState(null),[P,k]=v.useState(0),[E,O]=v.useState(0),[B,ae]=v.useState(!1),[W,te]=v.useState(!1),K=rr(t,L=>u(L)),oe=Uu(s);return r.jsx($R,{scope:n,type:a,dir:oe,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:m,content:g,onContentChange:w,scrollbarX:p,onScrollbarXChange:S,scrollbarXEnabled:B,onScrollbarXEnabledChange:ae,scrollbarY:j,onScrollbarYChange:N,scrollbarYEnabled:W,onScrollbarYEnabledChange:te,onCornerWidthChange:k,onCornerHeightChange:O,children:r.jsx(Lt.div,{dir:oe,...d,ref:K,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});aj.displayName=s0;var sj="ScrollAreaViewport",oj=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:a,nonce:s,...i}=e,d=wo(sj,n),c=v.useRef(null),u=rr(t,c,d.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Lt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});oj.displayName=sj;var Li="ScrollAreaScrollbar",o0=v.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=wo(Li,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:d}=s,c=e.orientation==="horizontal";return v.useEffect(()=>(c?i(!0):d(!0),()=>{c?i(!1):d(!1)}),[c,i,d]),s.type==="hover"?r.jsx(BR,{...a,ref:t,forceMount:n}):s.type==="scroll"?r.jsx(zR,{...a,ref:t,forceMount:n}):s.type==="auto"?r.jsx(ij,{...a,ref:t,forceMount:n}):s.type==="always"?r.jsx(i0,{...a,ref:t}):null});o0.displayName=Li;var BR=v.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=wo(Li,e.__scopeScrollArea),[i,d]=v.useState(!1);return v.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const h=()=>{window.clearTimeout(u),d(!0)},m=()=>{u=window.setTimeout(()=>d(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(ia,{present:n||i,children:r.jsx(ij,{"data-state":i?"visible":"hidden",...a,ref:t})})}),zR=v.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=wo(Li,e.__scopeScrollArea),i=e.orientation==="horizontal",d=Np(()=>u("SCROLL_END"),100),[c,u]=IR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,u]),v.useEffect(()=>{const h=s.viewport,m=i?"scrollLeft":"scrollTop";if(h){let g=h[m];const w=()=>{const p=h[m];g!==p&&(u("SCROLL"),d()),g=p};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[s.viewport,i,u,d]),r.jsx(ia,{present:n||c!=="hidden",children:r.jsx(i0,{"data-state":c==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ot(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ot(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),ij=v.forwardRef((e,t)=>{const n=wo(Li,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,d]=v.useState(!1),c=e.orientation==="horizontal",u=Np(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;d(c?h:m)}},10);return Lu(n.viewport,u),Lu(n.content,u),r.jsx(ia,{present:a||i,children:r.jsx(i0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),i0=v.forwardRef((e,t)=>{const{orientation:n="vertical",...a}=e,s=wo(Li,e.__scopeScrollArea),i=v.useRef(null),d=v.useRef(0),[c,u]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=hj(c.viewport,c.content),m={...a,sizes:c,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:w=>d.current=w};function g(w,p){return GR(w,d.current,c,p)}return n==="horizontal"?r.jsx(UR,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,p=e2(w,c,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=g(w,s.dir))}}):n==="vertical"?r.jsx(qR,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,p=e2(w,c);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=g(w))}}):null}),UR=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:a,...s}=e,i=wo(Li,e.__scopeScrollArea),[d,c]=v.useState(),u=v.useRef(null),h=rr(t,u,i.onScrollbarXChange);return v.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),r.jsx(cj,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jp(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(i.viewport){const w=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(w),mj(w,g)&&m.preventDefault()}},onResize:()=>{u.current&&i.viewport&&d&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Lm(d.paddingLeft),paddingEnd:Lm(d.paddingRight)}})}})}),qR=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:a,...s}=e,i=wo(Li,e.__scopeScrollArea),[d,c]=v.useState(),u=v.useRef(null),h=rr(t,u,i.onScrollbarYChange);return v.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),r.jsx(cj,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jp(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(i.viewport){const w=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(w),mj(w,g)&&m.preventDefault()}},onResize:()=>{u.current&&i.viewport&&d&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Lm(d.paddingTop),paddingEnd:Lm(d.paddingBottom)}})}})}),[VR,lj]=nj(Li),cj=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:d,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:m,onResize:g,...w}=e,p=wo(Li,n),[S,j]=v.useState(null),N=rr(t,K=>j(K)),P=v.useRef(null),k=v.useRef(""),E=p.viewport,O=a.content-a.viewport,B=zn(m),ae=zn(u),W=Np(g,10);function te(K){if(P.current){const oe=K.clientX-P.current.left,L=K.clientY-P.current.top;h({x:oe,y:L})}}return v.useEffect(()=>{const K=oe=>{const L=oe.target;S?.contains(L)&&B(oe,O)};return document.addEventListener("wheel",K,{passive:!1}),()=>document.removeEventListener("wheel",K,{passive:!1})},[E,S,O,B]),v.useEffect(ae,[a,ae]),Lu(S,W),Lu(p.content,W),r.jsx(VR,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:zn(i),onThumbPointerUp:zn(d),onThumbPositionChange:ae,onThumbPointerDown:zn(c),children:r.jsx(Lt.div,{...w,ref:N,style:{position:"absolute",...w.style},onPointerDown:ot(e.onPointerDown,K=>{K.button===0&&(K.target.setPointerCapture(K.pointerId),P.current=S.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),te(K))}),onPointerMove:ot(e.onPointerMove,te),onPointerUp:ot(e.onPointerUp,K=>{const oe=K.target;oe.hasPointerCapture(K.pointerId)&&oe.releasePointerCapture(K.pointerId),document.body.style.webkitUserSelect=k.current,p.viewport&&(p.viewport.style.scrollBehavior=""),P.current=null})})})}),Dm="ScrollAreaThumb",dj=v.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=lj(Dm,e.__scopeScrollArea);return r.jsx(ia,{present:n||s.hasThumb,children:r.jsx(HR,{ref:t,...a})})}),HR=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:a,...s}=e,i=wo(Dm,n),d=lj(Dm,n),{onThumbPositionChange:c}=d,u=rr(t,g=>d.onThumbChange(g)),h=v.useRef(void 0),m=Np(()=>{h.current&&(h.current(),h.current=void 0)},100);return v.useEffect(()=>{const g=i.viewport;if(g){const w=()=>{if(m(),!h.current){const p=YR(g,c);h.current=p,c()}};return c(),g.addEventListener("scroll",w),()=>g.removeEventListener("scroll",w)}},[i.viewport,m,c]),r.jsx(Lt.div,{"data-state":d.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ot(e.onPointerDownCapture,g=>{const p=g.target.getBoundingClientRect(),S=g.clientX-p.left,j=g.clientY-p.top;d.onThumbPointerDown({x:S,y:j})}),onPointerUp:ot(e.onPointerUp,d.onThumbPointerUp)})});dj.displayName=Dm;var l0="ScrollAreaCorner",uj=v.forwardRef((e,t)=>{const n=wo(l0,e.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?r.jsx(WR,{...e,ref:t}):null});uj.displayName=l0;var WR=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...a}=e,s=wo(l0,n),[i,d]=v.useState(0),[c,u]=v.useState(0),h=!!(i&&c);return Lu(s.scrollbarX,()=>{const m=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(m),u(m)}),Lu(s.scrollbarY,()=>{const m=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(m),d(m)}),h?r.jsx(Lt.div,{...a,ref:t,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Lm(e){return e?parseInt(e,10):0}function hj(e,t){const n=e/t;return isNaN(n)?0:n}function jp(e){const t=hj(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*t;return Math.max(a,18)}function GR(e,t,n,a="ltr"){const s=jp(n),i=s/2,d=t||i,c=s-d,u=n.scrollbar.paddingStart+d,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,g=a==="ltr"?[0,m]:[m*-1,0];return fj([u,h],g)(e)}function e2(e,t,n="ltr"){const a=jp(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,d=t.content-t.viewport,c=i-a,u=n==="ltr"?[0,d]:[d*-1,0],h=av(e,u);return fj([0,d],[0,c])(h)}function fj(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(n-e[0])}}function mj(e,t){return e>0&&e<t}var YR=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},d=n.left!==i.left,c=n.top!==i.top;(d||c)&&t(),n=i,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function Np(e,t){const n=zn(e),a=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),v.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,t)},[n,t])}function Lu(e,t){const n=zn(t);xa(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,n])}var pj=aj,KR=oj,JR=uj;const gj=v.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(pj,{ref:a,className:xt("relative overflow-hidden",e),...n,children:[r.jsx(KR,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(xj,{}),r.jsx(JR,{})]}));gj.displayName=pj.displayName;const xj=v.forwardRef(({className:e,orientation:t="vertical",...n},a)=>r.jsx(o0,{ref:a,orientation:t,className:xt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(dj,{className:"relative flex-1 rounded-full bg-border"})}));xj.displayName=o0.displayName;function XR(){const[e,t]=v.useState([]),[n,a]=v.useState(0),[s,i]=v.useState(!1),d=Qo();v.useEffect(()=>{c();const w=setInterval(c,6e4);return()=>clearInterval(w)},[]);const c=async()=>{try{const w=await rt.getNotificacoes();t(w||[]),a(w?.filter(p=>!p.lida).length||0)}catch(w){console.error("Erro ao buscar notificaes:",w)}},u=async w=>{try{await rt.markNotificacaoRead(w),t(p=>p.map(S=>S.id===w?{...S,lida:!0}:S)),a(p=>Math.max(0,p-1))}catch(p){console.error("Erro ao marcar como lida:",p)}},h=async()=>{try{await rt.markAllNotificacoesRead(),t(w=>w.map(p=>({...p,lida:!0}))),a(0)}catch(w){console.error("Erro ao marcar todas como lidas:",w)}},m=async w=>{w.lida||u(w.id),w.acao_url&&(i(!1),d(w.acao_url))},g=w=>{switch(w){case"erro":return r.jsx(md,{className:"h-4 w-4 text-red-500"});case"alerta":return r.jsx(Zm,{className:"h-4 w-4 text-yellow-500"});case"sucesso":return r.jsx(Iv,{className:"h-4 w-4 text-green-500"});default:return r.jsx(Ox,{className:"h-4 w-4 text-blue-500"})}};return r.jsxs(MR,{open:s,onOpenChange:i,children:[r.jsx(FR,{asChild:!0,children:r.jsxs(Ne,{variant:"ghost",size:"icon",className:"relative",children:[r.jsx(Lx,{className:"h-5 w-5"}),n>0&&r.jsx("span",{className:"absolute top-1 right-1 h-3 w-3 rounded-full bg-red-600 border-2 border-background"})]})}),r.jsxs(rj,{className:"w-80 p-0",align:"end",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h4",{className:"font-semibold",children:"Notificaes"}),n>0&&r.jsx(Ne,{variant:"ghost",size:"sm",className:"text-xs h-8 text-muted-foreground",onClick:h,children:"Marcar lidas"})]}),r.jsx(gj,{className:"h-[300px]",children:e.length>0?r.jsx("div",{className:"flex flex-col",children:e.map(w=>r.jsxs("button",{className:`flex items-start gap-3 p-4 text-left hover:bg-muted/50 transition-colors border-b last:border-0 ${w.lida?"":"bg-muted/20"}`,onClick:()=>m(w),children:[r.jsx("div",{className:"mt-1",children:g(w.tipo)}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsx("p",{className:`text-sm font-medium leading-none ${w.lida?"":"text-primary"}`,children:w.titulo}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:w.mensagem}),r.jsx("p",{className:"text-[10px] text-muted-foreground",children:new Date(w.data_criacao).toLocaleString("pt-BR")})]}),!w.lida&&r.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600 mt-2"})]},w.id))}):r.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Lx,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]})})]})]})}const QR=()=>{const{cashIsOpen:e}=Zo(),{user:t,logout:n,hasPermission:a,isAdmin:s}=Ss(),{toast:i}=Hr(),d=Qo(),c=[{to:"/",icon:Ho,label:"Operacional",perm:"openCloseCash"},{to:"/mensalistas",icon:uy,label:"Mensalistas",perm:"manageMonthlyCustomers"},{to:"/convenios",icon:gd,label:"Convnios",perm:"manageMonthlyCustomers"},{to:"/financeiro",icon:xu,label:"Financeiro",perm:"viewReports"},{to:"/relatorios-mensais",icon:rs,label:"Relatrios Mensais",perm:"viewReports"},{to:"/users",icon:uy,label:"Usurios",perm:"manageUsers"},{to:"/tarifas",icon:zv,label:"Gerenciar Tarifas",perm:"manageRates"},{to:"/horarios-feriados",icon:Ca,label:"Horrios e Feriados",perm:"manageCompanyConfig"},{to:"/configuracoes-dashboard",icon:EP,label:"Dashboard Analytics",perm:"viewReports"},{to:"/configuracoes",icon:Uv,label:"Configuraes",perm:"manageCompanyConfig"}].filter(u=>a(u.perm));return s&&(c.push({to:"/integracoes",icon:IP,label:"Integraes",perm:""}),c.push({to:"/modelos-recibos",icon:DP,label:"Modelos de Recibos",perm:""})),r.jsxs("aside",{className:"w-64 bg-sidebar-background text-sidebar-foreground flex flex-col border-r border-sidebar-border",children:[r.jsxs("div",{className:"p-6 border-b border-sidebar-border flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-sidebar-primary",children:"ProParking"}),r.jsx("p",{className:"text-sm text-sidebar-foreground/70 mt-1",children:"Gesto 2025"})]}),r.jsx(XR,{})]}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:c.map(u=>{const h=u.to==="/financeiro",m=u.to==="/relatorios-mensais",g=!e&&!h&&!m;return r.jsxs(wT,{to:u.to,end:u.to==="/",className:({isActive:w})=>xt("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",g?"opacity-50 pointer-events-none":"",w?"bg-sidebar-primary text-sidebar-primary-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[r.jsx(u.icon,{className:"h-5 w-5"}),r.jsx("span",{children:u.label})]},u.to)})}),r.jsx("div",{className:"p-4 border-t border-sidebar-border",children:r.jsxs("div",{className:"flex flex-col items-start gap-2",children:[r.jsxs("div",{className:"w-full flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:t?.name||""}),r.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:t?.role||""})]}),r.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{n(),i({title:"Sesso encerrada"}),d("/login")},children:"Sair"})]}),r.jsx("p",{className:"text-xs text-sidebar-foreground/60 text-center w-full",children:" 2024 Estacionamento"})]})})]})};var Sp="Dialog",[vj,yj]=va(Sp),[ZR,ei]=vj(Sp),wj=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:d=!0}=e,c=v.useRef(null),u=v.useRef(null),[h,m]=vo({prop:a,defaultProp:s??!1,onChange:i,caller:Sp});return r.jsx(ZR,{scope:t,triggerRef:c,contentRef:u,contentId:go(),titleId:go(),descriptionId:go(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:d,children:n})};wj.displayName=Sp;var bj="DialogTrigger",jj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=ei(bj,n),i=rr(t,s.triggerRef);return r.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":u0(s.open),...a,ref:i,onClick:ot(e.onClick,s.onOpenToggle)})});jj.displayName=bj;var c0="DialogPortal",[eD,Nj]=vj(c0,{forceMount:void 0}),Sj=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,i=ei(c0,t);return r.jsx(eD,{scope:t,forceMount:n,children:v.Children.map(a,d=>r.jsx(ia,{present:n||i.open,children:r.jsx(Fu,{asChild:!0,container:s,children:d})}))})};Sj.displayName=c0;var Mm="DialogOverlay",Cj=v.forwardRef((e,t)=>{const n=Nj(Mm,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=ei(Mm,e.__scopeDialog);return i.modal?r.jsx(ia,{present:a||i.open,children:r.jsx(rD,{...s,ref:t})}):null});Cj.displayName=Mm;var tD=_c("DialogOverlay.RemoveScroll"),rD=v.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=ei(Mm,n);return r.jsx(rf,{as:tD,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(Lt.div,{"data-state":u0(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),yd="DialogContent",_j=v.forwardRef((e,t)=>{const n=Nj(yd,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=ei(yd,e.__scopeDialog);return r.jsx(ia,{present:a||i.open,children:i.modal?r.jsx(nD,{...s,ref:t}):r.jsx(aD,{...s,ref:t})})});_j.displayName=yd;var nD=v.forwardRef((e,t)=>{const n=ei(yd,e.__scopeDialog),a=v.useRef(null),s=rr(t,n.contentRef,a);return v.useEffect(()=>{const i=a.current;if(i)return yp(i)},[]),r.jsx(Pj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ot(e.onPointerDownOutside,i=>{const d=i.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0;(d.button===2||c)&&i.preventDefault()}),onFocusOutside:ot(e.onFocusOutside,i=>i.preventDefault())})}),aD=v.forwardRef((e,t)=>{const n=ei(yd,e.__scopeDialog),a=v.useRef(!1),s=v.useRef(!1);return r.jsx(Pj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||n.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=i.target;n.triggerRef.current?.contains(d)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Pj=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...d}=e,c=ei(yd,n),u=v.useRef(null),h=rr(t,u);return vp(),r.jsxs(r.Fragment,{children:[r.jsx(tf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:r.jsx(_d,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":u0(c.open),...d,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(oD,{titleId:c.titleId}),r.jsx(lD,{contentRef:u,descriptionId:c.descriptionId})]})]})}),d0="DialogTitle",kj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=ei(d0,n);return r.jsx(Lt.h2,{id:s.titleId,...a,ref:t})});kj.displayName=d0;var Ej="DialogDescription",Aj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=ei(Ej,n);return r.jsx(Lt.p,{id:s.descriptionId,...a,ref:t})});Aj.displayName=Ej;var Tj="DialogClose",Rj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=ei(Tj,n);return r.jsx(Lt.button,{type:"button",...a,ref:t,onClick:ot(e.onClick,()=>s.onOpenChange(!1))})});Rj.displayName=Tj;function u0(e){return e?"open":"closed"}var Dj="DialogTitleWarning",[sD,Lj]=M_(Dj,{contentName:yd,titleName:d0,docsSlug:"dialog"}),oD=({titleId:e})=>{const t=Lj(Dj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},iD="DialogDescriptionWarning",lD=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lj(iD).contentName}}.`;return v.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Mj=wj,cD=jj,Fj=Sj,h0=Cj,f0=_j,m0=kj,p0=Aj,g0=Rj;const $r=Mj,dD=Fj,Oj=v.forwardRef(({className:e,...t},n)=>r.jsx(h0,{ref:n,className:xt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Oj.displayName=h0.displayName;const Lr=v.forwardRef(({className:e,children:t,hideClose:n,"aria-describedby":a,...s},i)=>r.jsxs(dD,{children:[r.jsx(Oj,{}),r.jsxs(f0,{ref:i,"aria-describedby":a??void 0,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,!n&&r.jsxs(g0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[r.jsx(tp,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lr.displayName=f0.displayName;const Er=({className:e,...t})=>r.jsx("div",{className:xt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Er.displayName="DialogHeader";const un=({className:e,...t})=>r.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});un.displayName="DialogFooter";const Ar=v.forwardRef(({className:e,...t},n)=>r.jsx(m0,{ref:n,className:xt("text-lg font-semibold leading-none tracking-tight",e),...t}));Ar.displayName=m0.displayName;const Ua=v.forwardRef(({className:e,...t},n)=>r.jsx(p0,{ref:n,className:xt("text-sm text-muted-foreground",e),...t}));Ua.displayName=p0.displayName;const Fe=v.forwardRef(({className:e,type:t,...n},a)=>r.jsx("input",{type:t,className:xt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));Fe.displayName="Input";var uD="Label",Ij=v.forwardRef((e,t)=>r.jsx(Lt.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ij.displayName=uD;var $j=Ij;const hD=Xh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=v.forwardRef(({className:e,...t},n)=>r.jsx($j,{ref:n,className:xt(hD(),e),...t}));xe.displayName=$j.displayName;function Cp(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fD=[" ","Enter","ArrowUp","ArrowDown"],mD=[" ","Enter"],wd="Select",[_p,Pp,pD]=Ym(wd),[qu]=va(wd,[pD,Rc]),kp=Rc(),[gD,Mc]=qu(wd),[xD,vD]=qu(wd),Bj=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:i,value:d,defaultValue:c,onValueChange:u,dir:h,name:m,autoComplete:g,disabled:w,required:p,form:S}=e,j=kp(t),[N,P]=v.useState(null),[k,E]=v.useState(null),[O,B]=v.useState(!1),ae=Uu(h),[W,te]=vo({prop:a,defaultProp:s??!1,onChange:i,caller:wd}),[K,oe]=vo({prop:d,defaultProp:c,onChange:u,caller:wd}),L=v.useRef(null),F=N?S||!!N.closest("form"):!0,[z,q]=v.useState(new Set),ge=Array.from(z).map(fe=>fe.props.value).join(";");return r.jsx(ip,{...j,children:r.jsxs(gD,{required:p,scope:t,trigger:N,onTriggerChange:P,valueNode:k,onValueNodeChange:E,valueNodeHasChildren:O,onValueNodeHasChildrenChange:B,contentId:go(),value:K,onValueChange:oe,open:W,onOpenChange:te,dir:ae,triggerPointerDownPosRef:L,disabled:w,children:[r.jsx(_p.Provider,{scope:t,children:r.jsx(xD,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(fe=>{q(ye=>new Set(ye).add(fe))},[]),onNativeOptionRemove:v.useCallback(fe=>{q(ye=>{const U=new Set(ye);return U.delete(fe),U})},[]),children:n})}),F?r.jsxs(dN,{"aria-hidden":!0,required:p,tabIndex:-1,name:m,autoComplete:g,value:K,onChange:fe=>oe(fe.target.value),disabled:w,form:S,children:[K===void 0?r.jsx("option",{value:""}):null,Array.from(z)]},ge):null]})})};Bj.displayName=wd;var zj="SelectTrigger",Uj=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=kp(n),d=Mc(zj,n),c=d.disabled||a,u=rr(t,d.onTriggerChange),h=Pp(n),m=v.useRef("touch"),[g,w,p]=hN(j=>{const N=h().filter(E=>!E.disabled),P=N.find(E=>E.value===d.value),k=fN(N,j,P);k!==void 0&&d.onValueChange(k.value)}),S=j=>{c||(d.onOpenChange(!0),p()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return r.jsx(ef,{asChild:!0,...i,children:r.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":uN(d.value)?"":void 0,...s,ref:u,onClick:ot(s.onClick,j=>{j.currentTarget.focus(),m.current!=="mouse"&&S(j)}),onPointerDown:ot(s.onPointerDown,j=>{m.current=j.pointerType;const N=j.target;N.hasPointerCapture(j.pointerId)&&N.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(S(j),j.preventDefault())}),onKeyDown:ot(s.onKeyDown,j=>{const N=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(N&&j.key===" ")&&fD.includes(j.key)&&(S(),j.preventDefault())})})})});Uj.displayName=zj;var qj="SelectValue",Vj=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:d="",...c}=e,u=Mc(qj,n),{onValueNodeHasChildrenChange:h}=u,m=i!==void 0,g=rr(t,u.onValueNodeChange);return xa(()=>{h(m)},[h,m]),r.jsx(Lt.span,{...c,ref:g,style:{pointerEvents:"none"},children:uN(u.value)?r.jsx(r.Fragment,{children:d}):i})});Vj.displayName=qj;var yD="SelectIcon",Hj=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return r.jsx(Lt.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});Hj.displayName=yD;var wD="SelectPortal",Wj=e=>r.jsx(Fu,{asChild:!0,...e});Wj.displayName=wD;var bd="SelectContent",Gj=v.forwardRef((e,t)=>{const n=Mc(bd,e.__scopeSelect),[a,s]=v.useState();if(xa(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?Mu.createPortal(r.jsx(Yj,{scope:e.__scopeSelect,children:r.jsx(_p.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Kj,{...e,ref:t})});Gj.displayName=bd;var Uo=10,[Yj,Fc]=qu(bd),bD="SelectContentImpl",jD=_c("SelectContent.RemoveScroll"),Kj=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:d,side:c,sideOffset:u,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:w,collisionPadding:p,sticky:S,hideWhenDetached:j,avoidCollisions:N,...P}=e,k=Mc(bd,n),[E,O]=v.useState(null),[B,ae]=v.useState(null),W=rr(t,se=>O(se)),[te,K]=v.useState(null),[oe,L]=v.useState(null),F=Pp(n),[z,q]=v.useState(!1),ge=v.useRef(!1);v.useEffect(()=>{if(E)return yp(E)},[E]),vp();const fe=v.useCallback(se=>{const[pe,...le]=F().map(Q=>Q.ref.current),[be]=le.slice(-1),Ee=document.activeElement;for(const Q of se)if(Q===Ee||(Q?.scrollIntoView({block:"nearest"}),Q===pe&&B&&(B.scrollTop=0),Q===be&&B&&(B.scrollTop=B.scrollHeight),Q?.focus(),document.activeElement!==Ee))return},[F,B]),ye=v.useCallback(()=>fe([te,E]),[fe,te,E]);v.useEffect(()=>{z&&ye()},[z,ye]);const{onOpenChange:U,triggerPointerDownPosRef:$}=k;v.useEffect(()=>{if(E){let se={x:0,y:0};const pe=be=>{se={x:Math.abs(Math.round(be.pageX)-($.current?.x??0)),y:Math.abs(Math.round(be.pageY)-($.current?.y??0))}},le=be=>{se.x<=10&&se.y<=10?be.preventDefault():E.contains(be.target)||U(!1),document.removeEventListener("pointermove",pe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",le,{capture:!0})}}},[E,U,$]),v.useEffect(()=>{const se=()=>U(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[U]);const[H,D]=hN(se=>{const pe=F().filter(Ee=>!Ee.disabled),le=pe.find(Ee=>Ee.ref.current===document.activeElement),be=fN(pe,se,le);be&&setTimeout(()=>be.ref.current.focus())}),T=v.useCallback((se,pe,le)=>{const be=!ge.current&&!le;(k.value!==void 0&&k.value===pe||be)&&(K(se),be&&(ge.current=!0))},[k.value]),I=v.useCallback(()=>E?.focus(),[E]),G=v.useCallback((se,pe,le)=>{const be=!ge.current&&!le;(k.value!==void 0&&k.value===pe||be)&&L(se)},[k.value]),J=a==="popper"?sv:Jj,ce=J===sv?{side:c,sideOffset:u,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:w,collisionPadding:p,sticky:S,hideWhenDetached:j,avoidCollisions:N}:{};return r.jsx(Yj,{scope:n,content:E,viewport:B,onViewportChange:ae,itemRefCallback:T,selectedItem:te,onItemLeave:I,itemTextRefCallback:G,focusSelectedItem:ye,selectedItemText:oe,position:a,isPositioned:z,searchRef:H,children:r.jsx(rf,{as:jD,allowPinchZoom:!0,children:r.jsx(tf,{asChild:!0,trapped:k.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:ot(s,se=>{k.trigger?.focus({preventScroll:!0}),se.preventDefault()}),children:r.jsx(_d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:r.jsx(J,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:se=>se.preventDefault(),...P,...ce,onPlaced:()=>q(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:ot(P.onKeyDown,se=>{const pe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!pe&&se.key.length===1&&D(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let be=F().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,Q=be.indexOf(Ee);be=be.slice(Q+1)}setTimeout(()=>fe(be)),se.preventDefault()}})})})})})})});Kj.displayName=bD;var ND="SelectItemAlignedPosition",Jj=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=Mc(bd,n),d=Fc(bd,n),[c,u]=v.useState(null),[h,m]=v.useState(null),g=rr(t,W=>m(W)),w=Pp(n),p=v.useRef(!1),S=v.useRef(!0),{viewport:j,selectedItem:N,selectedItemText:P,focusSelectedItem:k}=d,E=v.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&j&&N&&P){const W=i.trigger.getBoundingClientRect(),te=h.getBoundingClientRect(),K=i.valueNode.getBoundingClientRect(),oe=P.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=oe.left-te.left,Q=K.left-Ee,Te=W.left-Q,Ve=W.width+Te,re=Math.max(Ve,te.width),we=window.innerWidth-Uo,Xe=av(Q,[Uo,Math.max(Uo,we-re)]);c.style.minWidth=Ve+"px",c.style.left=Xe+"px"}else{const Ee=te.right-oe.right,Q=window.innerWidth-K.right-Ee,Te=window.innerWidth-W.right-Q,Ve=W.width+Te,re=Math.max(Ve,te.width),we=window.innerWidth-Uo,Xe=av(Q,[Uo,Math.max(Uo,we-re)]);c.style.minWidth=Ve+"px",c.style.right=Xe+"px"}const L=w(),F=window.innerHeight-Uo*2,z=j.scrollHeight,q=window.getComputedStyle(h),ge=parseInt(q.borderTopWidth,10),fe=parseInt(q.paddingTop,10),ye=parseInt(q.borderBottomWidth,10),U=parseInt(q.paddingBottom,10),$=ge+fe+z+U+ye,H=Math.min(N.offsetHeight*5,$),D=window.getComputedStyle(j),T=parseInt(D.paddingTop,10),I=parseInt(D.paddingBottom,10),G=W.top+W.height/2-Uo,J=F-G,ce=N.offsetHeight/2,se=N.offsetTop+ce,pe=ge+fe+se,le=$-pe;if(pe<=G){const Ee=L.length>0&&N===L[L.length-1].ref.current;c.style.bottom="0px";const Q=h.clientHeight-j.offsetTop-j.offsetHeight,Te=Math.max(J,ce+(Ee?I:0)+Q+ye),Ve=pe+Te;c.style.height=Ve+"px"}else{const Ee=L.length>0&&N===L[0].ref.current;c.style.top="0px";const Te=Math.max(G,ge+j.offsetTop+(Ee?T:0)+ce)+le;c.style.height=Te+"px",j.scrollTop=pe-G+j.offsetTop}c.style.margin=`${Uo}px 0`,c.style.minHeight=H+"px",c.style.maxHeight=F+"px",a?.(),requestAnimationFrame(()=>p.current=!0)}},[w,i.trigger,i.valueNode,c,h,j,N,P,i.dir,a]);xa(()=>E(),[E]);const[O,B]=v.useState();xa(()=>{h&&B(window.getComputedStyle(h).zIndex)},[h]);const ae=v.useCallback(W=>{W&&S.current===!0&&(E(),k?.(),S.current=!1)},[E,k]);return r.jsx(CD,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:ae,children:r.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:r.jsx(Lt.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Jj.displayName=ND;var SD="SelectPopperPosition",sv=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=Uo,...i}=e,d=kp(n);return r.jsx(lp,{...d,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sv.displayName=SD;var[CD,x0]=qu(bd,{}),ov="SelectViewport",Xj=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=Fc(ov,n),d=x0(ov,n),c=rr(t,i.onViewportChange),u=v.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(_p.Slot,{scope:n,children:r.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ot(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=d;if(w?.current&&g){const p=Math.abs(u.current-m.scrollTop);if(p>0){const S=window.innerHeight-Uo*2,j=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),P=Math.max(j,N);if(P<S){const k=P+p,E=Math.min(S,k),O=k-E;g.style.height=E+"px",g.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});Xj.displayName=ov;var Qj="SelectGroup",[_D,PD]=qu(Qj),kD=v.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=go();return r.jsx(_D,{scope:n,id:s,children:r.jsx(Lt.div,{role:"group","aria-labelledby":s,...a,ref:t})})});kD.displayName=Qj;var Zj="SelectLabel",eN=v.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=PD(Zj,n);return r.jsx(Lt.div,{id:s.id,...a,ref:t})});eN.displayName=Zj;var Fm="SelectItem",[ED,tN]=qu(Fm),rN=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...d}=e,c=Mc(Fm,n),u=Fc(Fm,n),h=c.value===a,[m,g]=v.useState(i??""),[w,p]=v.useState(!1),S=rr(t,k=>u.itemRefCallback?.(k,a,s)),j=go(),N=v.useRef("touch"),P=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(ED,{scope:n,value:a,disabled:s,textId:j,isSelected:h,onItemTextChange:v.useCallback(k=>{g(E=>E||(k?.textContent??"").trim())},[]),children:r.jsx(_p.ItemSlot,{scope:n,value:a,disabled:s,textValue:m,children:r.jsx(Lt.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...d,ref:S,onFocus:ot(d.onFocus,()=>p(!0)),onBlur:ot(d.onBlur,()=>p(!1)),onClick:ot(d.onClick,()=>{N.current!=="mouse"&&P()}),onPointerUp:ot(d.onPointerUp,()=>{N.current==="mouse"&&P()}),onPointerDown:ot(d.onPointerDown,k=>{N.current=k.pointerType}),onPointerMove:ot(d.onPointerMove,k=>{N.current=k.pointerType,s?u.onItemLeave?.():N.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(d.onPointerLeave,k=>{k.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ot(d.onKeyDown,k=>{u.searchRef?.current!==""&&k.key===" "||(mD.includes(k.key)&&P(),k.key===" "&&k.preventDefault())})})})})});rN.displayName=Fm;var Eh="SelectItemText",nN=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,d=Mc(Eh,n),c=Fc(Eh,n),u=tN(Eh,n),h=vD(Eh,n),[m,g]=v.useState(null),w=rr(t,P=>g(P),u.onItemTextChange,P=>c.itemTextRefCallback?.(P,u.value,u.disabled)),p=m?.textContent,S=v.useMemo(()=>r.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:j,onNativeOptionRemove:N}=h;return xa(()=>(j(S),()=>N(S)),[j,N,S]),r.jsxs(r.Fragment,{children:[r.jsx(Lt.span,{id:u.textId,...i,ref:w}),u.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Mu.createPortal(i.children,d.valueNode):null]})});nN.displayName=Eh;var aN="SelectItemIndicator",sN=v.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return tN(aN,n).isSelected?r.jsx(Lt.span,{"aria-hidden":!0,...a,ref:t}):null});sN.displayName=aN;var iv="SelectScrollUpButton",oN=v.forwardRef((e,t)=>{const n=Fc(iv,e.__scopeSelect),a=x0(iv,e.__scopeSelect),[s,i]=v.useState(!1),d=rr(t,a.onScrollButtonChange);return xa(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollTop>0;i(h)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?r.jsx(lN,{...e,ref:d,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});oN.displayName=iv;var lv="SelectScrollDownButton",iN=v.forwardRef((e,t)=>{const n=Fc(lv,e.__scopeSelect),a=x0(lv,e.__scopeSelect),[s,i]=v.useState(!1),d=rr(t,a.onScrollButtonChange);return xa(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;i(m)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?r.jsx(lN,{...e,ref:d,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});iN.displayName=lv;var lN=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=Fc("SelectScrollButton",n),d=v.useRef(null),c=Pp(n),u=v.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),xa(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),r.jsx(Lt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ot(s.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:ot(s.onPointerMove,()=>{i.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:ot(s.onPointerLeave,()=>{u()})})}),AD="SelectSeparator",cN=v.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return r.jsx(Lt.div,{"aria-hidden":!0,...a,ref:t})});cN.displayName=AD;var cv="SelectArrow",TD=v.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=kp(n),i=Mc(cv,n),d=Fc(cv,n);return i.open&&d.position==="popper"?r.jsx(cp,{...s,...a,ref:t}):null});TD.displayName=cv;var RD="SelectBubbleInput",dN=v.forwardRef(({__scopeSelect:e,value:t,...n},a)=>{const s=v.useRef(null),i=rr(a,s),d=Cp(t);return v.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(d!==t&&m){const g=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(g)}},[d,t]),r.jsx(Lt.select,{...n,style:{...eb,...n.style},ref:i,defaultValue:t})});dN.displayName=RD;function uN(e){return e===""||e===void 0}function hN(e){const t=zn(e),n=v.useRef(""),a=v.useRef(0),s=v.useCallback(d=>{const c=n.current+d;t(c),(function u(h){n.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>u(""),1e3))})(c)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function fN(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let d=DD(e,Math.max(i,0));s.length===1&&(d=d.filter(h=>h!==n));const u=d.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function DD(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var LD=Bj,mN=Uj,MD=Vj,FD=Hj,OD=Wj,pN=Gj,ID=Xj,gN=eN,xN=rN,$D=nN,BD=sN,vN=oN,yN=iN,wN=cN;const vr=LD,yr=MD,fr=v.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(mN,{ref:a,className:xt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(FD,{asChild:!0,children:r.jsx(Fv,{className:"h-4 w-4 opacity-50"})})]}));fr.displayName=mN.displayName;const bN=v.forwardRef(({className:e,...t},n)=>r.jsx(vN,{ref:n,className:xt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(AP,{className:"h-4 w-4"})}));bN.displayName=vN.displayName;const jN=v.forwardRef(({className:e,...t},n)=>r.jsx(yN,{ref:n,className:xt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Fv,{className:"h-4 w-4"})}));jN.displayName=yN.displayName;const mr=v.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(OD,{children:r.jsxs(pN,{ref:s,className:xt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(bN,{}),r.jsx(ID,{className:xt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(jN,{})]})}));mr.displayName=pN.displayName;const zD=v.forwardRef(({className:e,...t},n)=>r.jsx(gN,{ref:n,className:xt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zD.displayName=gN.displayName;const Qe=v.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(xN,{ref:a,className:xt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(BD,{children:r.jsx(Xm,{className:"h-4 w-4"})})}),r.jsx($D,{children:t})]}));Qe.displayName=xN.displayName;const UD=v.forwardRef(({className:e,...t},n)=>r.jsx(wN,{ref:n,className:xt("-mx-1 my-1 h-px bg-muted",e),...t}));UD.displayName=wN.displayName;function ns(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _l(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function NN(e,t){const n=ns(e);if(isNaN(t))return _l(e,NaN);if(!t)return n;const a=n.getDate(),s=_l(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}const SN=6048e5,qD=864e5,CN=6e4,_N=36e5;let VD={};function Ep(){return VD}function Vh(e,t){const n=Ep(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ns(e),i=s.getDay(),d=(i<a?7:0)+i-a;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function Om(e){return Vh(e,{weekStartsOn:1})}function PN(e){const t=ns(e),n=t.getFullYear(),a=_l(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Om(a),i=_l(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const d=Om(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function t2(e){const t=ns(e);return t.setHours(0,0,0,0),t}function r2(e){const t=ns(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function HD(e,t){const n=t2(e),a=t2(t),s=+n-r2(n),i=+a-r2(a);return Math.round((s-i)/qD)}function WD(e){const t=PN(e),n=_l(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Om(n)}function GD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YD(e){if(!GD(e)&&typeof e!="number")return!1;const t=ns(e);return!isNaN(Number(t))}function n2(e){const t=ns(e);return t.setDate(1),t.setHours(0,0,0,0),t}function KD(e){const t=ns(e),n=_l(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const JD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XD=(e,t,n)=>{let a;const s=JD[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function ju(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const QD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t8={date:ju({formats:QD,defaultWidth:"full"}),time:ju({formats:ZD,defaultWidth:"full"}),dateTime:ju({formats:e8,defaultWidth:"full"})},r8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n8=(e,t,n,a)=>r8[e];function Ci(e){return(t,n)=>{const a=n?.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):d;s=e.formattingValues[c]||e.formattingValues[d]}else{const d=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[d]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const a8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d8=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},u8={ordinalNumber:d8,era:Ci({values:a8,defaultWidth:"wide"}),quarter:Ci({values:s8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ci({values:o8,defaultWidth:"wide"}),day:Ci({values:i8,defaultWidth:"wide"}),dayPeriod:Ci({values:l8,defaultWidth:"wide",formattingValues:c8,defaultFormattingWidth:"wide"})};function _i(e){return(t,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const d=i[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?f8(c,g=>g.test(d)):h8(c,g=>g.test(d));let h;h=e.valueCallback?e.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(d.length);return{value:h,rest:m}}}function h8(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function f8(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function kN(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let d=e.valueCallback?e.valueCallback(i[0]):i[0];d=n.valueCallback?n.valueCallback(d):d;const c=t.slice(s.length);return{value:d,rest:c}}}const m8=/^(\d+)(th|st|nd|rd)?/i,p8=/\d+/i,g8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x8={any:[/^b/i,/^(a|c)/i]},v8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},y8={any:[/1/i,/2/i,/3/i,/4/i]},w8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},b8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},N8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},S8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_8={ordinalNumber:kN({matchPattern:m8,parsePattern:p8,valueCallback:e=>parseInt(e,10)}),era:_i({matchPatterns:g8,defaultMatchWidth:"wide",parsePatterns:x8,defaultParseWidth:"any"}),quarter:_i({matchPatterns:v8,defaultMatchWidth:"wide",parsePatterns:y8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_i({matchPatterns:w8,defaultMatchWidth:"wide",parsePatterns:b8,defaultParseWidth:"any"}),day:_i({matchPatterns:j8,defaultMatchWidth:"wide",parsePatterns:N8,defaultParseWidth:"any"}),dayPeriod:_i({matchPatterns:S8,defaultMatchWidth:"any",parsePatterns:C8,defaultParseWidth:"any"})},P8={code:"en-US",formatDistance:XD,formatLong:t8,formatRelative:n8,localize:u8,match:_8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k8(e){const t=ns(e);return HD(t,KD(t))+1}function E8(e){const t=ns(e),n=+Om(t)-+WD(t);return Math.round(n/SN)+1}function EN(e,t){const n=ns(e),a=n.getFullYear(),s=Ep(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,d=_l(e,0);d.setFullYear(a+1,0,i),d.setHours(0,0,0,0);const c=Vh(d,t),u=_l(e,0);u.setFullYear(a,0,i),u.setHours(0,0,0,0);const h=Vh(u,t);return n.getTime()>=c.getTime()?a+1:n.getTime()>=h.getTime()?a:a-1}function A8(e,t){const n=Ep(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=EN(e,t),i=_l(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Vh(i,t)}function T8(e,t){const n=ns(e),a=+Vh(n,t)-+A8(n,t);return Math.round(a/SN)+1}function Xr(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const fc={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Xr(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Xr(n+1,2)},d(e,t){return Xr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Xr(e.getHours()%12||12,t.length)},H(e,t){return Xr(e.getHours(),t.length)},m(e,t){return Xr(e.getMinutes(),t.length)},s(e,t){return Xr(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return Xr(s,t.length)}},cu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},a2={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return fc.y(e,t)},Y:function(e,t,n,a){const s=EN(e,a),i=s>0?s:1-s;if(t==="YY"){const d=i%100;return Xr(d,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Xr(i,t.length)},R:function(e,t){const n=PN(e);return Xr(n,t.length)},u:function(e,t){const n=e.getFullYear();return Xr(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Xr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Xr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return fc.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Xr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const s=T8(e,a);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Xr(s,t.length)},I:function(e,t,n){const a=E8(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Xr(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):fc.d(e,t)},D:function(e,t,n){const a=k8(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Xr(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Xr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Xr(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Xr(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let s;switch(a===12?s=cu.noon:a===0?s=cu.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let s;switch(a>=17?s=cu.evening:a>=12?s=cu.afternoon:a>=4?s=cu.morning:s=cu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return fc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):fc.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Xr(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Xr(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):fc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):fc.s(e,t)},S:function(e,t){return fc.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return o2(a);case"XXXX":case"XX":return ud(a);case"XXXXX":case"XXX":default:return ud(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return o2(a);case"xxxx":case"xx":return ud(a);case"xxxxx":case"xxx":default:return ud(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+s2(a,":");case"OOOO":default:return"GMT"+ud(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+s2(a,":");case"zzzz":default:return"GMT"+ud(a,":")}},t:function(e,t,n){const a=Math.trunc(e.getTime()/1e3);return Xr(a,t.length)},T:function(e,t,n){const a=e.getTime();return Xr(a,t.length)}};function s2(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+t+Xr(i,2)}function o2(e,t){return e%60===0?(e>0?"-":"+")+Xr(Math.abs(e)/60,2):ud(e,t)}function ud(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),s=Xr(Math.trunc(a/60),2),i=Xr(a%60,2);return n+s+t+i}const i2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},R8=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return i2(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",i2(a,t)).replace("{{time}}",AN(s,t))},D8={p:AN,P:R8},L8=/^D+$/,M8=/^Y+$/,F8=["D","DD","YY","YYYY"];function O8(e){return L8.test(e)}function I8(e){return M8.test(e)}function $8(e,t,n){const a=B8(e,t,n);if(console.warn(a),F8.includes(e))throw new RangeError(a)}function B8(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const z8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q8=/^'([^]*?)'?$/,V8=/''/g,H8=/[a-zA-Z]/;function wt(e,t,n){const a=Ep(),s=n?.locale??a.locale??P8,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=ns(e);if(!YD(c))throw new RangeError("Invalid time value");let u=t.match(U8).map(m=>{const g=m[0];if(g==="p"||g==="P"){const w=D8[g];return w(m,s.formatLong)}return m}).join("").match(z8).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:W8(m)};if(a2[g])return{isToken:!0,value:m};if(g.match(H8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const h={firstWeekContainsDate:i,weekStartsOn:d,locale:s};return u.map(m=>{if(!m.isToken)return m.value;const g=m.value;(!n?.useAdditionalWeekYearTokens&&I8(g)||!n?.useAdditionalDayOfYearTokens&&O8(g))&&$8(g,t,String(e));const w=a2[g[0]];return w(c,g,s.localize,h)}).join("")}function W8(e){const t=e.match(q8);return t?t[1].replace(V8,"'"):e}function G8(e,t){const n=ns(e),a=ns(t);return+n<+a}function l2(e,t){const a=X8(e);let s;if(a.date){const u=Q8(a.date,2);s=Z8(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let d=0,c;if(a.time&&(d=eL(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(c=tL(a.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(i+d),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(i+d+c)}const Zf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Y8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,K8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function X8(e){const t={},n=e.split(Zf.dateTimeDelimiter);let a;if(n.length>2)return t;if(/:/.test(n[0])?a=n[0]:(t.date=n[0],a=n[1],Zf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zf.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const s=Zf.timezone.exec(a);s?(t.time=a.replace(s[1],""),t.timezone=s[1]):t.time=a}return t}function Q8(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function Z8(e,t){if(t===null)return new Date(NaN);const n=e.match(Y8);if(!n)return new Date(NaN);const a=!!n[4],s=jh(n[1]),i=jh(n[2])-1,d=jh(n[3]),c=jh(n[4]),u=jh(n[5])-1;if(a)return oL(t,c,u)?rL(t,c,u):new Date(NaN);{const h=new Date(0);return!aL(t,i,d)||!sL(t,s)?new Date(NaN):(h.setUTCFullYear(t,i,Math.max(s,d)),h)}}function jh(e){return e?parseInt(e):1}function eL(e){const t=e.match(K8);if(!t)return NaN;const n=Kg(t[1]),a=Kg(t[2]),s=Kg(t[3]);return iL(n,a,s)?n*_N+a*CN+s*1e3:NaN}function Kg(e){return e&&parseFloat(e.replace(",","."))||0}function tL(e){if(e==="Z")return 0;const t=e.match(J8);if(!t)return 0;const n=t[1]==="+"?-1:1,a=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return lL(a,s)?n*(a*_N+s*CN):NaN}function rL(e,t,n){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(t-1)*7+n+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const nL=[31,null,31,30,31,30,31,31,30,31,30,31];function TN(e){return e%400===0||e%4===0&&e%100!==0}function aL(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(nL[t]||(TN(e)?29:28))}function sL(e,t){return t>=1&&t<=(TN(e)?366:365)}function oL(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function iL(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function lL(e,t){return t>=0&&t<=59}function c2(e,t){return NN(e,-t)}function RN({value:e,onValueChange:t,placeholder:n="Selecione o tipo"}){const{toast:a}=Hr(),[s,i]=v.useState([]),[d,c]=v.useState(!1),[u,h]=v.useState(""),[m,g]=v.useState(!1),w=async()=>{try{const S=await rt.getVehicleTypes();console.log("Vehicle types fetched:",S),i(S||[])}catch(S){console.error("Error fetching vehicle types:",S),i([{id:"1",name:"Carro",isDefault:!0},{id:"2",name:"Moto",isDefault:!0},{id:"3",name:"Caminhonete",isDefault:!0}]),a({title:"Aviso",description:"No foi possvel carregar tipos de veculos. Usando tipos padro.",variant:"default"})}};v.useEffect(()=>{w()},[]);const p=async()=>{if(!u.trim()){a({title:"Nome obrigatrio",description:"Digite o nome do tipo de veculo",variant:"destructive"});return}g(!0);try{const S=await rt.createVehicleType(u.trim());a({title:"Tipo criado com sucesso",description:`${S.name} foi adicionado  lista`}),await w(),t(S.name),c(!1),h("")}catch(S){const j=S instanceof Error?S.message:String(S);a({title:"Erro ao criar tipo",description:j||"Tente novamente",variant:"destructive"})}finally{g(!1)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsxs(vr,{value:e,onValueChange:t,children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:n})}),r.jsx(mr,{children:s.map(S=>r.jsx(Qe,{value:S.name,children:S.name},S.id))})]})}),r.jsx(Ne,{type:"button",variant:"outline",size:"icon",onClick:()=>c(!0),title:"Adicionar novo tipo de veculo",children:r.jsx(Sa,{className:"h-4 w-4"})})]}),r.jsx($r,{open:d,onOpenChange:c,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Novo Tipo de Veculo"})}),r.jsx("div",{className:"space-y-4 py-4",children:r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"typeName",children:"Nome do Tipo *"}),r.jsx(Fe,{id:"typeName",value:u,onChange:S=>h(S.target.value),placeholder:"Ex: Caminho, Bicicleta, etc.",onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),p())},autoFocus:!0})]})}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>{c(!1),h("")},disabled:m,children:"Cancelar"}),r.jsx(Ne,{onClick:p,disabled:m,children:m?"Salvando...":"Confirmar & Salvar"})]})]})})]})}const cL=({open:e,onOpenChange:t,vehicle:n,onSaved:a})=>{const{addVehicle:s,updateVehicle:i,rates:d,calculateRate:c}=Zo(),{toast:u}=Hr(),[h,m]=v.useState(""),[g,w]=v.useState("Carro"),[p,S]=v.useState(""),[j,N]=v.useState(""),[P,k]=v.useState(""),[E,O]=v.useState(""),[B,ae]=v.useState(""),[W,te]=v.useState(""),[K,oe]=v.useState(""),[L,F]=v.useState(null),[z,q]=v.useState(!1);v.useEffect(()=>{const D=setTimeout(async()=>{if(h.length===7&&!n){q(!0);try{const T=localStorage.getItem("token"),I=await fetch(`https://theproparking-backend-1rxk.onrender.com/api/convenios/veiculos/verificar/${h}`,{headers:{Authorization:`Bearer ${T}`}});if(I.ok){const G=await I.json();G.autorizado?(F(G),u({title:"Veculo de Convnio Identificado!",description:`${G.nome_empresa} - ${G.tipo_convenio}`,className:"bg-blue-50 border-blue-200 text-blue-800"})):G.bloqueio?(F({...G,bloqueado:!0}),u({title:"Entrada Bloqueada pelo Convnio",description:G.message,variant:"destructive"})):F(null)}}catch(T){console.error("Erro ao verificar convnio:",T)}finally{q(!1)}}else h.length<7&&F(null)},500);return()=>clearTimeout(D)},[h,n]),v.useEffect(()=>{if(n)m(n.plate),w(n.vehicleType),S(n.rateId),N(n.entryDate),k(n.entryTime),O(n.exitDate||""),ae(n.exitTime||""),te(n.contractedDays?.toString()||""),oe(n.paymentMethod||"");else{const H=new Date;m(""),w("Carro"),S(""),N(wt(H,"yyyy-MM-dd")),k(wt(H,"HH:mm")),O(""),ae(""),te(""),oe(""),F(null)}},[n,e]);const ge=d.filter(H=>H.vehicleType===g),fe=d.find(H=>H.id===p),ye=()=>{if(L)return 0;const H=n||{entryDate:j,entryTime:P,vehicleType:g,rateId:p};return!E||!B||!fe?0:c(H,fe,E,B)},U=async H=>{if(H.preventDefault(),!h||!p&&!L||!j||!P){u({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}if(B&&!K&&!L){u({title:"Forma de Pagamento obrigatria",description:"Por favor, selecione a forma de pagamento para este registro.",variant:"destructive"});return}if(E&&B){const T=new Date(`${j}T${P}`);if(new Date(`${E}T${B}`)<=T){u({title:"Erro na data/hora",description:"A hora de sada deve ser posterior  hora de entrada",variant:"destructive"});return}}const D={plate:h.toUpperCase(),vehicleType:g,rateId:p||ge[0]?.id,entryDate:j,entryTime:P,exitDate:E||void 0,exitTime:B||void 0,status:E&&B?"Concludo":"Em andamento",totalValue:E&&B&&fe?ye():0,paymentMethod:E&&B?L?"Convnio":K:void 0,contractedDays:W?parseInt(W):void 0,contractedEndDate:void 0,contractedEndTime:void 0,metadata:L?{isConvenio:!0,convenioId:L.convenio_id,convenioNome:L.nome_empresa,tipoConvenio:L.tipo_convenio}:void 0};if($&&W&&j&&P){const T=parseInt(W),I=new Date(`${j}T${P}`),G=new Date(I.getTime()+T*24*60*60*1e3);D.contractedEndDate=wt(G,"yyyy-MM-dd"),D.contractedEndTime=wt(G,"HH:mm")}try{if(n)await i(n.id,D),u({title:"Veculo atualizado",description:"As informaes foram atualizadas com sucesso"});else{const T=await s(D);if(L){const I=localStorage.getItem("token");await fetch(`https://theproparking-backend-1rxk.onrender.com/api/convenios/${L.convenio_id}/movimentacoes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({placa:h.toUpperCase(),tipo_movimentacao:"entrada",data_entrada:`${j}T${P}:00`})})}u({title:"Veculo adicionado",description:L?`Entrada registrada para convnio: ${L.nome_empresa}`:"O veculo foi registrado com sucesso"})}a?.(),t(!1)}catch(T){console.error(T),u({title:"Erro ao salvar veculo",description:"Tente novamente",variant:"destructive"})}},$=fe&&["Semanal","Quinzenal","Mensal"].includes(fe.rateType);return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Er,{children:r.jsx(Ar,{children:n?"Editar Veculo":"Adicionar Veculo"})}),r.jsxs("form",{onSubmit:U,className:"space-y-4 mt-4",children:[L&&r.jsxs("div",{className:`border rounded-lg p-4 flex items-center gap-3 ${L.bloqueado?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[r.jsx("div",{className:`p-2 rounded-full ${L.bloqueado?"bg-red-100":"bg-blue-100"}`,children:L.bloqueado?r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:`font-semibold ${L.bloqueado?"text-red-900":"text-blue-900"}`,children:L.bloqueado?"Entrada Bloqueada":"Veculo de Convnio"}),r.jsx("p",{className:`text-sm ${L.bloqueado?"text-red-700":"text-blue-700"}`,children:L.message||`${L.nome_empresa}  ${L.tipo_convenio==="pre-pago"?"Pr-pago":"Ps-pago"}`}),L.observacoes&&r.jsxs("p",{className:`text-xs mt-1 italic ${L.bloqueado?"text-red-600":"text-blue-600"}`,children:["Obs: ",L.observacoes]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"plate",children:"Placa *"}),r.jsx(Fe,{id:"plate",value:h,onChange:H=>m(H.target.value),placeholder:"ABC-1234",className:"uppercase"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"vehicleType",children:"Tipo de Veculo *"}),r.jsx(RN,{value:g,onValueChange:H=>w(H)})]})]}),r.jsxs("div",{children:[r.jsxs(xe,{htmlFor:"rate",children:["Tarifa ",L?"(Opcional/Automtica)":"*"]}),r.jsxs(vr,{value:p,onValueChange:S,children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione uma tarifa"})}),r.jsx(mr,{children:ge.map(H=>r.jsxs(Qe,{value:H.id,children:[H.rateType," - R$ ",H.value.toFixed(2),"/",H.unit]},H.id))})]})]}),$&&r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"contractedDays",children:"Dias Contratados *"}),r.jsx(Fe,{id:"contractedDays",type:"number",value:W,onChange:H=>te(H.target.value),placeholder:"30"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"entryDate",children:"Data de Entrada *"}),r.jsx(Fe,{id:"entryDate",type:"date",value:j,onChange:H=>N(H.target.value)})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"entryTime",children:"Hora de Entrada *"}),r.jsx(Fe,{id:"entryTime",type:"time",value:P,onChange:H=>k(H.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"exitDate",children:"Data de Sada"}),r.jsx(Fe,{id:"exitDate",type:"date",value:E,onChange:H=>O(H.target.value)})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"exitTime",children:"Hora de Sada"}),r.jsx(Fe,{id:"exitTime",type:"time",value:B,onChange:H=>{ae(H.target.value),H.target.value&&!E&&O(j)}})]})]}),B&&(!n||n.status==="Em andamento")&&r.jsxs("div",{className:"bg-blue-50 border-blue-200 border p-3 rounded-md flex items-center gap-2 animate-in fade-in slide-in-from-top-1 duration-500",children:[r.jsx("span",{className:"text-blue-600",children:""}),r.jsx("p",{className:"text-sm text-blue-800",children:"Ao informar a hora de sada, voc est registrando entrada e sada simultneas. O valor ser calculado automaticamente."})]}),B&&!L&&r.jsxs("div",{className:"animate-in fade-in slide-in-from-top-1 duration-500",children:[r.jsx(xe,{htmlFor:"paymentMethod",children:"Forma de Pagamento *"}),r.jsxs(vr,{value:K,onValueChange:H=>oe(H),children:[r.jsx(fr,{id:"paymentMethod",children:r.jsx(yr,{placeholder:"Selecione a forma de pagamento"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Dinheiro",children:"Dinheiro"}),r.jsx(Qe,{value:"Pix",children:"Pix"}),r.jsx(Qe,{value:"Carto Dbito",children:"Carto Dbito"}),r.jsx(Qe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),E&&B&&(n||h)&&fe&&r.jsxs("div",{className:"bg-muted p-4 rounded-lg animate-in zoom-in-95 duration-300",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor calculado:"}),r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",ye().toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{type:"submit",disabled:L?.bloqueado||!!B&&!K&&!L,children:n?"Atualizar":"Adicionar"})]})]})]})})};var Jg="rovingFocusGroup.onEntryFocus",dL={bubbles:!1,cancelable:!0},af="RovingFocusGroup",[dv,DN,uL]=Ym(af),[hL,Vu]=va(af,[uL]),[fL,mL]=hL(af),LN=v.forwardRef((e,t)=>r.jsx(dv.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(dv.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(pL,{...e,ref:t})})}));LN.displayName=af;var pL=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:d,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,w=v.useRef(null),p=rr(t,w),S=Uu(i),[j,N]=vo({prop:d,defaultProp:c??null,onChange:u,caller:af}),[P,k]=v.useState(!1),E=zn(h),O=DN(n),B=v.useRef(!1),[ae,W]=v.useState(0);return v.useEffect(()=>{const te=w.current;if(te)return te.addEventListener(Jg,E),()=>te.removeEventListener(Jg,E)},[E]),r.jsx(fL,{scope:n,orientation:a,dir:S,loop:s,currentTabStopId:j,onItemFocus:v.useCallback(te=>N(te),[N]),onItemShiftTab:v.useCallback(()=>k(!0),[]),onFocusableItemAdd:v.useCallback(()=>W(te=>te+1),[]),onFocusableItemRemove:v.useCallback(()=>W(te=>te-1),[]),children:r.jsx(Lt.div,{tabIndex:P||ae===0?-1:0,"data-orientation":a,...g,ref:p,style:{outline:"none",...e.style},onMouseDown:ot(e.onMouseDown,()=>{B.current=!0}),onFocus:ot(e.onFocus,te=>{const K=!B.current;if(te.target===te.currentTarget&&K&&!P){const oe=new CustomEvent(Jg,dL);if(te.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const L=O().filter(fe=>fe.focusable),F=L.find(fe=>fe.active),z=L.find(fe=>fe.id===j),ge=[F,z,...L].filter(Boolean).map(fe=>fe.ref.current);ON(ge,m)}}B.current=!1}),onBlur:ot(e.onBlur,()=>k(!1))})})}),MN="RovingFocusGroupItem",FN=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:d,...c}=e,u=go(),h=i||u,m=mL(MN,n),g=m.currentTabStopId===h,w=DN(n),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:j}=m;return v.useEffect(()=>{if(a)return p(),()=>S()},[a,p,S]),r.jsx(dv.ItemSlot,{scope:n,id:h,focusable:a,active:s,children:r.jsx(Lt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:ot(e.onMouseDown,N=>{a?m.onItemFocus(h):N.preventDefault()}),onFocus:ot(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:ot(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){m.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const P=vL(N,m.orientation,m.dir);if(P!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let E=w().filter(O=>O.focusable).map(O=>O.ref.current);if(P==="last")E.reverse();else if(P==="prev"||P==="next"){P==="prev"&&E.reverse();const O=E.indexOf(N.currentTarget);E=m.loop?yL(E,O+1):E.slice(O+1)}setTimeout(()=>ON(E))}}),children:typeof d=="function"?d({isCurrentTabStop:g,hasTabStop:j!=null}):d})})});FN.displayName=MN;var gL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vL(e,t,n){const a=xL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return gL[a]}function ON(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function yL(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var v0=LN,y0=FN,w0="Radio",[wL,IN]=va(w0),[bL,jL]=wL(w0),$N=v.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:s=!1,required:i,disabled:d,value:c="on",onCheck:u,form:h,...m}=e,[g,w]=v.useState(null),p=rr(t,N=>w(N)),S=v.useRef(!1),j=g?h||!!g.closest("form"):!0;return r.jsxs(bL,{scope:n,checked:s,disabled:d,children:[r.jsx(Lt.button,{type:"button",role:"radio","aria-checked":s,"data-state":qN(s),"data-disabled":d?"":void 0,disabled:d,value:c,...m,ref:p,onClick:ot(e.onClick,N=>{s||u?.(),j&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),j&&r.jsx(UN,{control:g,bubbles:!S.current,name:a,value:c,checked:s,required:i,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});$N.displayName=w0;var BN="RadioIndicator",zN=v.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...s}=e,i=jL(BN,n);return r.jsx(ia,{present:a||i.checked,children:r.jsx(Lt.span,{"data-state":qN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});zN.displayName=BN;var NL="RadioBubbleInput",UN=v.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:a=!0,...s},i)=>{const d=v.useRef(null),c=rr(d,i),u=Cp(n),h=op(t);return v.useEffect(()=>{const m=d.current;if(!m)return;const g=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==n&&p){const S=new Event("click",{bubbles:a});p.call(m,n),m.dispatchEvent(S)}},[u,n,a]),r.jsx(Lt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UN.displayName=NL;function qN(e){return e?"checked":"unchecked"}var SL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ap="RadioGroup",[CL]=va(Ap,[Vu,IN]),VN=Vu(),HN=IN(),[_L,PL]=CL(Ap),WN=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:s,value:i,required:d=!1,disabled:c=!1,orientation:u,dir:h,loop:m=!0,onValueChange:g,...w}=e,p=VN(n),S=Uu(h),[j,N]=vo({prop:i,defaultProp:s??null,onChange:g,caller:Ap});return r.jsx(_L,{scope:n,name:a,required:d,disabled:c,value:j,onValueChange:N,children:r.jsx(v0,{asChild:!0,...p,orientation:u,dir:S,loop:m,children:r.jsx(Lt.div,{role:"radiogroup","aria-required":d,"aria-orientation":u,"data-disabled":c?"":void 0,dir:S,...w,ref:t})})})});WN.displayName=Ap;var GN="RadioGroupItem",YN=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...s}=e,i=PL(GN,n),d=i.disabled||a,c=VN(n),u=HN(n),h=v.useRef(null),m=rr(t,h),g=i.value===s.value,w=v.useRef(!1);return v.useEffect(()=>{const p=j=>{SL.includes(j.key)&&(w.current=!0)},S=()=>w.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",S)}},[]),r.jsx(y0,{asChild:!0,...c,focusable:!d,active:g,children:r.jsx($N,{disabled:d,required:i.required,checked:g,...u,...s,name:i.name,ref:m,onCheck:()=>i.onValueChange(s.value),onKeyDown:ot(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ot(s.onFocus,()=>{w.current&&h.current?.click()})})})});YN.displayName=GN;var kL="RadioGroupIndicator",KN=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,s=HN(n);return r.jsx(zN,{...s,...a,ref:t})});KN.displayName=kL;var JN=WN,XN=YN,EL=KN;const Tp=v.forwardRef(({className:e,...t},n)=>r.jsx(JN,{className:xt("grid gap-2",e),...t,ref:n}));Tp.displayName=JN.displayName;const jd=v.forwardRef(({className:e,...t},n)=>r.jsx(XN,{ref:n,className:xt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(EL,{className:"flex items-center justify-center",children:r.jsx($v,{className:"h-2.5 w-2.5 fill-current text-current"})})}));jd.displayName=XN.displayName;const AL={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},TL=(e,t,n)=>{let a;const s=AL[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},RL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},DL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LL={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ML={date:ju({formats:RL,defaultWidth:"full"}),time:ju({formats:DL,defaultWidth:"full"}),dateTime:ju({formats:LL,defaultWidth:"full"})},FL={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},OL=(e,t,n,a)=>{const s=FL[e];return typeof s=="function"?s(t):s},IL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},$L={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},BL={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},zL={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},UL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},qL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},VL=(e,t)=>{const n=Number(e);return t?.unit==="week"?n+"":n+""},HL={ordinalNumber:VL,era:Ci({values:IL,defaultWidth:"wide"}),quarter:Ci({values:$L,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ci({values:BL,defaultWidth:"wide"}),day:Ci({values:zL,defaultWidth:"wide"}),dayPeriod:Ci({values:UL,defaultWidth:"wide",formattingValues:qL,defaultFormattingWidth:"wide"})},WL=/^(\d+)[o]?/i,GL=/\d+/i,YL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},KL={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},JL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},XL={any:[/1/i,/2/i,/3/i,/4/i]},QL={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ZL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},eM={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},tM={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},rM={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},nM={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},aM={ordinalNumber:kN({matchPattern:WL,parsePattern:GL,valueCallback:e=>parseInt(e,10)}),era:_i({matchPatterns:YL,defaultMatchWidth:"wide",parsePatterns:KL,defaultParseWidth:"any"}),quarter:_i({matchPatterns:JL,defaultMatchWidth:"wide",parsePatterns:XL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_i({matchPatterns:QL,defaultMatchWidth:"wide",parsePatterns:ZL,defaultParseWidth:"any"}),day:_i({matchPatterns:eM,defaultMatchWidth:"wide",parsePatterns:tM,defaultParseWidth:"any"}),dayPeriod:_i({matchPatterns:rM,defaultMatchWidth:"any",parsePatterns:nM,defaultParseWidth:"any"})},ur={code:"pt-BR",formatDistance:TL,formatLong:ML,formatRelative:OL,localize:HL,match:aM,options:{weekStartsOn:0,firstWeekContainsDate:1}},Nd={name:"Estacionamento Modelo",legalName:"Estacionamento Modelo LTDA",cnpj:"12.345.678/0001-90",address:"Av. Central, 123 - Centro - So Paulo/SP",phone:"(11) 3333-0000"};function Im(e){return e==null||Number.isNaN(Number(e))?"R$ 0,00":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function QN(e){return e?e instanceof Date?e:new Date(e):new Date}function bl(e){return QN(e).toLocaleDateString("pt-BR")}function ZN(e){return QN(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}function Nh(e,t){if(!e)return[];const n=e.split(/\s+/),a=[];let s="";return n.forEach(i=>{if(!i)return;const d=s?`${s} ${i}`:i;d.length>t?(s&&a.push(s),s=i.length>t?i.slice(0,t):i):s=d}),s&&a.push(s),a}function eS(e,t){if(!e)return null;const n=t?.customFieldValues||{};return n[e.name]?n[e.name]:e.defaultValue?e.defaultValue:""}function xm(e,t,n){const s=n||Nd,i=[],d="-".repeat(32),c=(m="")=>i.push(m),u=m=>{if(!m)return;const g=m.slice(0,32),w=Math.floor((32-g.length)/2);c(`${" ".repeat(Math.max(w,0))}${g}`)};u(""),u(" PROPARKING APP"),u("       2025"),u(""),c(""),e.showLogo&&u("[ LOGO ]"),e.showCompanyName&&s?.name&&u(s.name),e.showCompanyDetails&&(s?.legalName&&u(s.legalName),s?.cnpj&&u(`CNPJ: ${s.cnpj}`),s?.address&&u(s.address),s?.phone&&u(`Tel: ${s.phone}`)),e.headerText&&Nh(e.headerText,32).forEach(u),c(d),e.showReceiptNumber&&t.receiptNumber&&c(`RECIBO: ${t.receiptNumber}`);const h=t.payment?.paidAt||t.issuedAt;return e.showDate&&h&&c(`Data: ${bl(h)}`),e.showTime&&h&&c(`Hora: ${ZN(h)}`),e.showPlate&&t.vehicle?.plate&&c(`Placa: ${t.vehicle.plate}`),e.showVehicleType&&t.vehicle?.model&&c(`Veculo: ${t.vehicle.model}`),e.showEntryTime&&t.customFieldValues?.entryTime&&c(`Entrada: ${t.customFieldValues.entryTime}`),e.showExitTime&&t.customFieldValues?.exitTime&&c(`Sada: ${t.customFieldValues.exitTime}`),e.showDuration&&t.customFieldValues?.duration&&c(`Permanncia: ${t.customFieldValues.duration}`),e.showRate&&t.rate?.name&&c(`Tarifa: ${t.rate.name}`),e.templateType==="monthly_payment"&&(t.plan?.name&&c(`Plano: ${t.plan.name}`),t.plan?.reference&&c(`Referncia: ${t.plan.reference}`),t.contract?.number&&c(`Contrato: ${t.contract.number}`),t.payment?.dueDate&&c(`Venc.: ${bl(t.payment.dueDate)}`),t.slot&&c(`Vaga: ${t.slot}`)),(e.templateType==="cash_closing_thermal"||e.templateType==="cash_closing_pdf")&&(u("=== FECHAMENTO DE CAIXA ==="),t.receiptNumber&&c(`Relatrio N: ${t.receiptNumber}`),c(`Data: ${bl(h)}`),t.payment?.receivedBy&&c(`Operador: ${t.payment.receivedBy}`),c(d),c("RESUMO FINANCEIRO"),c(`Saldo Inicial: ${Im(100)}`),c("Receitas (+): R$ 150,00"),c("Sangrias (-): R$ 20,00"),c("Saldo Final: R$ 230,00"),c(d),c("ESTATSTICAS"),c("Veculos: 12"),c("Ticket Mdio: R$ 15,00"),c("Permanncia: 1h 45m")),e.showValue&&c(`Valor: ${Im(t.payment?.amount)}`),e.showPaymentMethod&&t.payment?.method&&c(`Pagamento: ${t.payment.method}`),e.showOperator&&t.payment?.receivedBy&&c(`Operador: ${t.payment.receivedBy}`),e.customFields?.length&&(c(d),e.customFields.forEach(m=>{const g=eS(m,t);g&&Nh(`${m.label||m.name}: ${g}`,32).forEach(c)})),t.notes&&(c(d),Nh(t.notes,32).forEach(c)),e.termsAndConditions&&(c(d),Nh(e.termsAndConditions,32).forEach(c)),e.footerText&&(c(d),Nh(e.footerText,32).forEach(u)),e.showSignatureLine&&(c(""),c("____________________________"),c("Assinatura do Responsvel")),c(""),i.join(`
`)}let qs="https://theproparking-backend-1rxk.onrender.com";qs.endsWith("/")&&(qs=qs.slice(0,-1));if(qs.startsWith("http://")||qs.startsWith("https://"))try{const e=new URL(qs);qs=`${e.protocol}//${e.host}`}catch{const t=qs.match(/^(https?:\/\/[^\/]+)/);t&&(qs=t[1])}qs.endsWith("/api")||(qs=`${qs}/api`);const d2=qs,sM=({open:e,onOpenChange:t,vehicle:n,rate:a,calculatedValue:s,onConfirm:i,companyConfig:d,operatorName:c="Operador",isMonthlyVehicle:u=!1})=>{const{toast:h}=Hr(),{token:m}=Ss(),[g,w]=v.useState("Dinheiro"),[p,S]=v.useState(""),[j,N]=v.useState(0),[P,k]=v.useState(!1),[E,O]=v.useState("simple"),[B,ae]=v.useState(!1),[W,te]=v.useState(n?.entryTime||""),[K,oe]=v.useState(null),[L,F]=v.useState(""),[z,q]=v.useState(!1);v.useEffect(()=>{n?.entryTime&&te(n.entryTime)},[n]),v.useEffect(()=>{e&&(w("Dinheiro"),S(""),N(0),k(!1),O(u?"none":"simple"))},[e,u]),v.useEffect(()=>{if(!e||u)return;let I=!1;return(async()=>{q(!0);try{const J=`${d2}/receipt-templates/default/parking_ticket`;console.log("[ExitConfirmationDialog] Loading template from:",J,{hasToken:!!m});const ce=await fetch(J,{headers:m?{Authorization:`Bearer ${m}`}:void 0});if(console.log("[ExitConfirmationDialog] Template response:",{status:ce.status,ok:ce.ok,contentType:ce.headers.get("content-type")}),!I)if(ce.ok){const se=await ce.json();console.log("[ExitConfirmationDialog] Template loaded:",se),oe(se)}else{const se=await ce.text().catch(()=>"Unable to read error");console.error("[ExitConfirmationDialog] Failed to load template:",{status:ce.status,statusText:ce.statusText,error:se.substring(0,200)}),oe(null)}}catch(J){I||(console.error("[ExitConfirmationDialog] Error loading template:",J),oe(null))}finally{I||q(!1)}})(),()=>{I=!0}},[e,u,d2,m]),v.useEffect(()=>{if(!u&&g==="Dinheiro"&&p){const I=parseFloat(p);if(isNaN(I))N(0);else{const G=I-s;N(G>=0?G:0)}}else N(0)},[p,s,g,u]);const ge=v.useMemo(()=>{if(!K||!n||u)return null;const I=new Date,G=n.entryDate&&(B?W:n.entryTime)?new Date(`${n.entryDate}T${B?W:n.entryTime}`):null,J=I,ce=G!==null?Math.max(Math.floor((J.getTime()-G.getTime())/6e4),0):0,se=Math.floor(ce/60),pe=ce%60,le=G?wt(G,"dd/MM/yyyy",{locale:ur}):"",be=G?wt(G,"HH:mm",{locale:ur}):"",Ee=wt(J,"dd/MM/yyyy",{locale:ur}),Q=wt(J,"HH:mm",{locale:ur}),Te=`${se}h ${pe}min`,Ve={entrydate:le,entrytime:be,exitdate:Ee,exittime:Q,duration:Te,plate:n.plate,paymentmethod:g,value:Im(s),operator:c},re={};return K.customFields?.forEach(we=>{const Xe=we.name.replace(/[^a-zA-Z]/g,"").toLowerCase();Xe&&Ve[Xe]?re[we.name]=Ve[Xe]:we.defaultValue&&!re[we.name]&&(re[we.name]=we.defaultValue)}),{receiptNumber:(n.id||"").toString().slice(-6).padStart(6,"0"),issuedAt:I,vehicle:{plate:n.plate,model:n.vehicleType},rate:a?.rateType?{name:a.rateType}:void 0,payment:{amount:s,method:g,paidAt:I,receivedBy:c},customFieldValues:re}},[K,n,a,s,g,c,u,W,B]);v.useEffect(()=>{if(!K||!ge||u){console.log("[ExitConfirmationDialog] Cannot generate preview:",{hasTemplate:!!K,hasSampleData:!!ge,isMonthlyVehicle:u}),F("");return}console.log("[ExitConfirmationDialog] Generating thermal preview...");const I=xm(K,ge,d||Nd);console.log("[ExitConfirmationDialog] Preview generated, length:",I.length),F(I)},[K,ge,d,u]);const fe=()=>{if(!u&&g==="Dinheiro"){const I=parseFloat(p);if(isNaN(I)||I<s){h({title:"Valor insuficiente",description:"O valor pago deve ser maior ou igual ao valor total",variant:"destructive"});return}}if(u||E==="none"){i(g,null),t(!1);return}k(!0)},ye=async()=>{E==="simple"?i(g,{receiptType:"simple"}):i(g,null),t(!1)},U=new Date,$=n?new Date(`${n.entryDate}T${B?W:n.entryTime}`):new Date,H=n?Math.floor((U.getTime()-$.getTime())/6e4):0,D=Math.floor(H/60),T=H%60;return P?r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"max-w-lg print:shadow-none space-y-4",children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Pr-visualizao do Ticket"})}),z?r.jsx("div",{className:"rounded border bg-muted/50 p-4 text-sm text-muted-foreground",children:"Carregando template configurado..."}):r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:L||"Preview indisponvel para este template."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Visualizao baseada no template de impressora trmica configurado em Modelos de Recibos."})]}),r.jsxs(un,{className:"print:hidden",children:[r.jsx(Ne,{variant:"outline",onClick:()=>k(!1),children:"Voltar"}),r.jsxs(Ne,{onClick:ye,disabled:z,title:z?"Carregando template...":L?"Imprimir e confirmar sada":"Template no disponvel, mas voc pode continuar",children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Imprimir e Confirmar"]})]})]})}):r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"max-w-md",children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Confirmar Sada do Veculo"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Placa:"}),r.jsx("span",{className:"font-bold",children:n?.plate})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Tipo:"}),r.jsx("span",{children:n?.vehicleType})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Entrada:"}),B?r.jsx("input",{type:"time",className:"border rounded px-2 py-1 text-sm",value:W,onChange:I=>te(I.target.value),onBlur:()=>ae(!1),autoFocus:!0,style:{width:"90px"}}):r.jsx("span",{title:"Duplo clique para editar hora",style:{cursor:"pointer",userSelect:"none"},onDoubleClick:()=>ae(!0),children:n&&wt($,"dd/MM/yyyy 's' HH:mm",{locale:ur})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Permanncia:"}),r.jsxs("span",{children:[D,"h ",T,"min"]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("span",{className:"font-semibold",children:"Valor Total:"}),r.jsxs("span",{className:"text-2xl font-bold text-primary",children:["R$ ",s.toFixed(2)]})]})]}),!u&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"paymentMethod",children:"Forma de Pagamento *"}),r.jsxs(vr,{value:g,onValueChange:I=>w(I),children:[r.jsx(fr,{id:"paymentMethod",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Dinheiro",children:"Dinheiro"}),r.jsx(Qe,{value:"Pix",children:"Pix"}),r.jsx(Qe,{value:"Carto Dbito",children:"Carto Dbito"}),r.jsx(Qe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),g==="Dinheiro"&&r.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-background",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[r.jsx(Mx,{className:"h-4 w-4"}),"Calculadora de Troco"]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"amountPaid",children:"Valor Recebido *"}),r.jsx(Fe,{id:"amountPaid",type:"number",step:"0.01",placeholder:"0.00",value:p,onChange:I=>S(I.target.value),className:"text-lg"})]}),p&&r.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded",children:[r.jsx("span",{className:"font-medium",children:"Troco:"}),r.jsxs("span",{className:"text-xl font-bold text-success",children:["R$ ",j.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/20",children:[r.jsx(xe,{className:"text-base font-semibold",children:"Emitir ticket de sada:"}),u?r.jsx("div",{className:"rounded bg-muted px-3 py-2 text-sm text-muted-foreground",children:"Clientes mensalistas no necessitam de ticket na sada. Um recibo ser emitido no dia do pagamento."}):r.jsxs(Tp,{value:E,onValueChange:I=>O(I),children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jd,{value:"none",id:"none"}),r.jsx(xe,{htmlFor:"none",className:"font-normal cursor-pointer",children:"No emitir"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jd,{value:"simple",id:"simple"}),r.jsx(xe,{htmlFor:"simple",className:"font-normal cursor-pointer",children:"Imprimir ticket de sada"})]})]})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{onClick:fe,children:u||E==="none"?"Confirmar":r.jsxs(r.Fragment,{children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Gerar pr-visualizao"]})})]})]})})},ea=v.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:xt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ea.displayName="Textarea";function oM({open:e,onOpenChange:t,vehicle:n,companyConfig:a,operatorName:s="Operador",onSubmit:i}){const[d,c]=v.useState(""),[u,h]=v.useState(""),[m,g]=v.useState(""),[w,p]=v.useState(!1),[S,j]=v.useState(!1),N=v.useRef(null);v.useEffect(()=>{e&&(c(""),h(""),g(""),p(!1),j(!1))},[e]);const P=v.useMemo(()=>n?.exitDate&&n?.exitTime?new Date(`${n.exitDate}T${n.exitTime}`):new Date,[n]),k=v.useMemo(()=>n?.entryDate&&n?.entryTime?new Date(`${n.entryDate}T${n.entryTime}`):new Date,[n]),E=v.useMemo(()=>{if(!n)return{hours:0,minutes:0};const ae=P.getTime()-k.getTime(),W=Math.max(Math.floor(ae/6e4),0);return{hours:Math.floor(W/60),minutes:W%60}},[n,k,P]),O=()=>{d.trim()&&p(!0)},B=async()=>{if(n)try{j(!0),i&&await i({clientName:d.trim(),clientCpf:u.trim()||void 0,notes:m.trim()||void 0}),window.print(),t(!1)}finally{j(!1)}};return n?r.jsx($r,{open:e,onOpenChange:ae=>{ae||p(!1),t(ae)},children:r.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Impresso para Reembolso"})}),w?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{ref:N,className:"bg-white text-black p-8 rounded-lg border-2 border-gray-300",children:[r.jsxs("div",{className:"text-center border-b-2 border-gray-300 pb-4 mb-4",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg p-2 shadow-md",children:r.jsx(Ho,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"PROPARKING"}),r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"APP - 2025"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Sistema de Gesto de Estacionamento"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?.name||"Estacionamento"}),a?.cnpj&&r.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",a.cnpj]}),a?.address&&r.jsx("p",{className:"text-xs text-gray-600",children:a.address}),r.jsx("p",{className:"text-lg font-semibold mt-3 text-amber-600",children:"RECIBO DE REEMBOLSO"})]})]}),r.jsxs("div",{className:"space-y-2 border-b py-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Solicitante:"}),r.jsx("span",{children:d})]}),u&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"CPF:"}),r.jsx("span",{children:u})]})]}),r.jsxs("div",{className:"space-y-2 border-b py-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Placa:"}),r.jsx("span",{className:"font-semibold uppercase",children:n.plate})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Tipo:"}),r.jsx("span",{children:n.vehicleType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Entrada:"}),r.jsx("span",{children:wt(k,"dd/MM/yyyy 's' HH:mm",{locale:ur})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Sada:"}),r.jsx("span",{children:wt(P,"dd/MM/yyyy 's' HH:mm",{locale:ur})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Permanncia:"}),r.jsxs("span",{children:[E.hours,"h ",E.minutes,"min"]})]})]}),r.jsx("div",{className:"space-y-2 border-b py-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Valor Pago:"}),r.jsx("span",{className:"font-semibold",children:n.totalValue>0?`R$ ${n.totalValue.toFixed(2)}`:"R$ 0,00"})]})}),m&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"font-medium",children:"Observaes:"}),r.jsx("p",{className:"text-sm mt-1",children:m})]}),r.jsxs("div",{className:"text-center text-sm text-muted-foreground border-t pt-4 mt-6",children:[r.jsxs("p",{className:"font-medium",children:["Operador: ",s]}),r.jsx("p",{className:"mt-2",children:"Documento gerado para fins de reembolso corporativo."}),r.jsx("p",{className:"text-xs mt-2",children:wt(new Date,"dd/MM/yyyy 's' HH:mm:ss",{locale:ur})}),r.jsx("p",{className:"text-xs mt-3 text-gray-400",children:" 2025 ProParking App - Todos os direitos reservados"})]})]})}):r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"bg-muted/40 p-4 rounded border",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Dados do veculo"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Placa:"}),r.jsx("p",{className:"font-semibold uppercase",children:n.plate})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),r.jsx("p",{children:n.vehicleType})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Entrada:"}),r.jsxs("p",{children:[n.entryDate?wt(new Date(n.entryDate),"dd/MM/yyyy",{locale:ur}):"-"," ",n.entryTime]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Sada:"}),r.jsxs("p",{children:[n.exitDate?wt(new Date(n.exitDate),"dd/MM/yyyy",{locale:ur}):wt(P,"dd/MM/yyyy",{locale:ur})," ",n.exitTime||wt(P,"HH:mm",{locale:ur})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Permanncia:"}),r.jsxs("p",{children:[E.hours,"h ",E.minutes,"min"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Valor total:"}),r.jsx("p",{children:n.totalValue>0?`R$ ${n.totalValue.toFixed(2)}`:""})]})]})]}),r.jsxs("div",{children:[r.jsxs(xe,{children:["Nome do solicitante ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Fe,{value:d,onChange:ae=>c(ae.target.value),placeholder:"Nome completo"})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"CPF (opcional)"}),r.jsx(Fe,{value:u,onChange:ae=>h(ae.target.value),placeholder:"000.000.000-00",maxLength:14})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Observaes"}),r.jsx(ea,{value:m,onChange:ae=>g(ae.target.value),placeholder:"Motivo do reembolso, centro de custo, etc.",rows:3})]})]}),r.jsx(un,{children:w?r.jsxs(r.Fragment,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>p(!1),children:"Voltar"}),r.jsxs(Ne,{onClick:B,disabled:S,children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"}),S?"Registrando...":"Imprimir e Registrar"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{onClick:O,disabled:!d.trim(),children:"Gerar prvia"})]})})]})}):null}function iM({vehicle:e,rate:t,currentValue:n,excessHours:a,excessValue:s}){if(!e||!t)return null;const i=["Pernoite","Semanal","Quinzenal","Mensal"].includes(t.rateType),d=e.status==="Concludo",c=e.entryDate?wt(new Date(e.entryDate),"dd/MM/yyyy",{locale:ur}):"",u=e.exitDate?wt(new Date(e.exitDate),"dd/MM/yyyy",{locale:ur}):"",h=()=>{if(!i||!e.entryDate)return"";const p=new Date(e.entryDate),S=e.contractedEndDate?new Date(e.contractedEndDate):new Date(p.getTime()+(e.contractedDays||7)*24*60*60*1e3);return`${wt(p,"dd/MM",{locale:ur})}  ${wt(S,"dd/MM",{locale:ur})}`},m=()=>!e.entryDate||!e.entryTime?"":`${wt(new Date(e.entryDate),"dd/MM/yyyy",{locale:ur})}  ${e.entryTime}`,g=()=>!e.contractedEndDate||!e.contractedEndTime?"":`${wt(new Date(e.contractedEndDate),"dd/MM/yyyy",{locale:ur})}  ${e.contractedEndTime}`,w=()=>{if(!a||a<=0)return"0h00";const p=Math.floor(a/60),S=a%60;return`${p}h${S.toString().padStart(2,"0")}`};return r.jsxs("div",{className:"mt-4 bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 text-primary flex items-center gap-2",children:[r.jsx(Qh,{className:"h-5 w-5"}),"Detalhes do Registro"]}),i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarifa"}),r.jsx("p",{className:"font-medium",children:t.rateType})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Ca,{className:"h-3 w-3"}),"Data"]}),r.jsx("p",{className:"font-medium",children:h()})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2 border-t border-primary/10",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Incio"}),r.jsx("p",{className:"font-medium",children:m()})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Fim (contratada)"}),r.jsx("p",{className:"font-medium",children:g()})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pt-2 border-t border-primary/10",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Horas excedentes"}),r.jsx("p",{className:"font-medium text-warning",children:w()})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor base"}),r.jsxs("p",{className:"font-medium",children:["R$ ",t.value.toFixed(2)]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Excedentes"}),r.jsxs("p",{className:"font-medium text-warning",children:["R$ ",(s||0).toFixed(2)]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Preview do valor total"}),r.jsxs("p",{className:"font-bold text-lg text-primary",children:["R$ ",n.toFixed(2)]})]})]}),r.jsx("div",{className:"pt-2 border-t border-primary/10",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Fh,{className:"h-3 w-3"}),"Forma de Pagamento"]}),r.jsx("p",{className:"font-medium",children:e.paymentMethod||"(aguardando sada)"})]})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarifa"}),r.jsx("p",{className:"font-medium",children:t.rateType})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Ca,{className:"h-3 w-3"}),"Data"]}),r.jsx("p",{className:"font-medium",children:c})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Nl,{className:"h-3 w-3"}),"Entrada"]}),r.jsx("p",{className:"font-medium",children:e.entryTime||""})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Nl,{className:"h-3 w-3"}),"Sada"]}),r.jsx("p",{className:"font-medium",children:e.exitTime?`${u} ${e.exitTime}`:"(no registrada)"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview do valor ",d?"final":"atual"]}),r.jsxs("p",{className:"font-bold text-lg text-primary",children:["R$ ",n.toFixed(2)]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Fh,{className:"h-3 w-3"}),"Forma de Pagamento"]}),r.jsx("p",{className:"font-medium",children:e.paymentMethod||"(aguardando sada)"})]})]})]})}function lM(){const e=async we=>{try{await fetch(`${$}/vehicles/${we.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({status:"Em andamento",exitDate:null,exitTime:null,totalValue:null,paymentMethod:null})}),t({title:"Finalizao desfeita",description:"O veculo voltou para o estado de entrada."}),H()}catch(Xe){console.error(Xe),t({title:"Erro ao desfazer finalizao",description:"Tente novamente",variant:"destructive"})}},{toast:t}=Hr(),{cashIsOpen:n,cashSession:a,companyConfig:s,monthlyCustomers:i}=Zo(),{user:d,hasPermission:c,token:u}=Ss(),[h,m]=v.useState([]),[g,w]=v.useState([]),[p,S]=v.useState("Em andamento"),[j,N]=v.useState(!1),[P,k]=v.useState(!1),[E,O]=v.useState(),[B,ae]=v.useState(),[W,te]=v.useState(!1),[K,oe]=v.useState(!1),[L,F]=v.useState(!1),[z,q]=v.useState(),[ge,fe]=v.useState(null),[ye,U]=v.useState(new Date),$="https://theproparking-backend-1rxk.onrender.com",H=async()=>{try{const Xe=await(await fetch(`${$}/vehicles`)).json();m(Xe)}catch(we){console.error(we)}},D=async()=>{try{const Xe=await(await fetch(`${$}/rates`)).json();w(Xe)}catch(we){console.error(we)}};v.useEffect(()=>{H(),D()},[]),v.useEffect(()=>{const we=setInterval(()=>{U(new Date)},1e3);return()=>clearInterval(we)},[]),v.useEffect(()=>{const we=Xe=>{Xe.key==="Escape"&&fe(null)};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[]);const T=h.filter(we=>p==="all"?!0:we.status===p).sort((we,Xe)=>{const lt=new Date(we.entryDate).getTime(),qe=new Date(Xe.entryDate).getTime();if(lt!==qe)return qe-lt;const st=we.entryTime||"00:00";return(Xe.entryTime||"00:00").localeCompare(st)}),I=(we,Xe,lt)=>{const qe=new Date(`${we.entryDate}T${we.entryTime}`),st=Math.floor((lt.getTime()-qe.getTime())/6e4);if(Xe.rateType==="Hora/Frao"){const Ze=Math.floor(st/60),pt=st%60;let ct=Ze;return pt>(Xe.courtesyMinutes||0)&&(ct+=1),Math.max(ct,1)*Xe.value}else{if(Xe.rateType==="Diria")return Math.ceil(st/1440)*Xe.value;if(Xe.rateType==="Pernoite")return Xe.value;if(["Semanal","Quinzenal","Mensal"].includes(Xe.rateType)){const Ze=(we.contractedDays||30)*24*60;if(st<=Ze)return Xe.value;const pt=g.find(ct=>ct.vehicleType===we.vehicleType&&ct.rateType==="Hora/Frao");return pt?Xe.value+Math.ceil((st-Ze)/60)*pt.value:Xe.value}}return Xe.value},G=we=>{if(console.log("Clicou em finalizar sada",we),!c("openCloseCash"))return;const Xe=i.some(qe=>qe.plates.some(st=>st.toUpperCase()===we.plate.toUpperCase())),lt=we.metadata?.isConvenio;ae(we),te(Xe),oe(!!lt),k(!0)},J=async(we,Xe)=>{if(console.log("Entrou em handleConfirmExit",B,u),!B)return;const lt=new Date,qe=wt(lt,"yyyy-MM-dd"),st=wt(lt,"HH:mm"),Ze=g.find(zt=>zt.id===B.rateId);if(!Ze)return;const pt=I(B,Ze,lt),ct=W||K?0:pt;console.log("Token usado na sada:",u);try{K&&B.metadata?.convenioId&&await fetch(`https://theproparking-backend-1rxk.onrender.com/api/convenios/${B.metadata.convenioId}/movimentacoes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({placa:B.plate,tipo_movimentacao:"saida",data_saida:`${qe}T${st}:00`})}),await fetch(`${$}/vehicles/${B.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({exitDate:qe,exitTime:st,status:"Concludo",totalValue:ct,paymentMethod:K?"Convnio":we})}),Xe&&await fetch(`${$}/receipts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:B.id,receiptType:Xe.receiptType,clientName:Xe.clientName,clientCpf:Xe.clientCpf,notes:Xe.notes})}),t({title:"Sada registrada com sucesso",description:`Valor total: R$ ${ct.toFixed(2)} - ${K?"Convnio":we}`}),H(),ae(void 0)}catch(zt){console.error(zt),t({title:"Erro ao registrar sada",description:"Tente novamente",variant:"destructive"})}},ce=we=>{q(we),F(!0)},se=async we=>{if(z)try{await fetch(`${$}/receipts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:z.id,receiptType:"individual_reembolso",clientName:we.clientName,clientCpf:we.clientCpf,notes:we.notes})}),t({title:"Recibo de reembolso gerado",description:`Solicitante: ${we.clientName}`})}catch(Xe){console.error(Xe),t({title:"Erro ao gerar recibo",description:"No foi possvel registrar o recibo de reembolso.",variant:"destructive"})}},pe=we=>{c("openCloseCash")&&(O(we),N(!0))},le=()=>{c("openCloseCash")&&(O(void 0),N(!0))},be=async we=>{if(!(!c("openCloseCash")||!window.confirm(`Tem certeza que deseja remover o registro da placa ${we.plate}?

Esta ao no pode ser desfeita e afetar todos os relatrios e registros financeiros.`)))try{await fetch(`${$}/vehicles/${we.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${u}`}}),t({title:"Registro removido",description:"O registro foi excludo com sucesso."}),H(),ge===we.id&&fe(null)}catch(lt){console.error(lt),t({title:"Erro ao remover registro",description:"Tente novamente",variant:"destructive"})}},Ee=we=>{const Xe=g.find(st=>st.id===we.rateId);if(!Xe)return{currentValue:0,excessHours:0,excessValue:0};const lt=we.exitDate&&we.exitTime?new Date(`${we.exitDate}T${we.exitTime}`):ye,qe=I(we,Xe,lt);if(["Semanal","Quinzenal","Mensal"].includes(Xe.rateType)){const st=new Date(`${we.entryDate}T${we.entryTime}`),Ze=(we.contractedDays||30)*24*60,pt=Math.floor((lt.getTime()-st.getTime())/6e4),ct=Math.max(0,pt-Ze),zt=g.find(me=>me.vehicleType===we.vehicleType&&me.rateType==="Hora/Frao"),Se=zt?Math.ceil(ct/60)*zt.value:0;return{currentValue:qe,excessHours:ct,excessValue:Se}}return{currentValue:qe,excessHours:0,excessValue:0}},Q=we=>{const Xe=g.find(Ze=>Ze.id===we.rateId);if(!Xe)return we.entryDate?wt(new Date(we.entryDate),"dd/MM/yyyy",{locale:ur}):"";if(!["Pernoite","Semanal","Quinzenal","Mensal"].includes(Xe.rateType))return we.entryDate?wt(new Date(we.entryDate),"dd/MM/yyyy",{locale:ur}):"";if(!we.entryDate)return"";const qe=new Date(we.entryDate),st=we.contractedEndDate?new Date(we.contractedEndDate):new Date(qe.getTime()+(we.contractedDays||7)*24*60*60*1e3);return`${wt(qe,"dd/MM",{locale:ur})}  ${wt(st,"dd/MM",{locale:ur})}`},Te=ge?h.find(we=>we.id===ge):null,Ve=Te?g.find(we=>we.id===Te.rateId):null,re=Te?Ee(Te):null;return r.jsxs("div",{className:"flex-1 p-8",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-l-4 border-primary rounded-lg p-6 mb-8 shadow-sm",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-primary",children:"ProParking App 2025"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de Gesto de Estacionamento"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gd,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Empresa:"}),r.jsx("span",{children:s?.name||"Carregando..."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Data:"}),r.jsx("span",{children:wt(ye,"dd 'de' MMMM 'de' yyyy",{locale:ur})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fh,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"CNPJ:"}),r.jsx("span",{children:s?.cnpj||"No configurado"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nl,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Hora:"}),r.jsx("span",{className:"font-mono font-semibold text-primary",children:wt(ye,"HH:mm:ss")})]}),r.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[r.jsx(_b,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Endereo:"}),r.jsx("span",{children:s?.address||"No configurado"})]}),r.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[r.jsx("span",{className:"font-medium",children:"Operador:"}),r.jsx("span",{className:"text-muted-foreground italic",children:d?.name||"Sistema (autenticao em desenvolvimento)"})]}),n&&a?.openedAt&&r.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[r.jsx("span",{className:"font-medium",children:"Caixa aberto por:"}),r.jsxs("span",{children:[a.operatorName||""," "," ",wt(new Date(a.openedAt),"dd/MM/yyyy HH:mm",{locale:ur})]})]})]})]})})}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs(Ne,{size:"lg",onClick:le,className:"font-semibold bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(Sa,{className:"h-5 w-5 mr-2"}),"Registrar Entrada"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{variant:p==="Em andamento"?"default":"outline",onClick:()=>S("Em andamento"),size:"sm",children:"Em andamento"}),r.jsx(Ne,{variant:p==="Concludo"?"default":"outline",onClick:()=>S("Concludo"),size:"sm",children:"Concludos"}),r.jsx(Ne,{variant:p==="all"?"default":"outline",onClick:()=>S("all"),size:"sm",children:"Todos"})]})]}),r.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Placa"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Tipo"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Data"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Entrada"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Sada"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Preview do Valor"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Forma de Pagamento"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-foreground",children:"Aes"})]})}),r.jsx("tbody",{children:T.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-muted-foreground",children:"Nenhum veculo registrado"})}):T.map((we,Xe)=>{const lt=Ee(we),qe=ge===we.id;return r.jsxs("tr",{className:`cursor-pointer transition-colors ${qe?"bg-primary/10 border-l-4 border-primary":Xe%2===0?"bg-background hover:bg-muted/30":"bg-muted/20 hover:bg-muted/40"}`,onClick:()=>fe(we.id),onDoubleClick:()=>ce(we),title:"Clique para selecionar | Clique duas vezes para acessar opes de reembolso",children:[r.jsx("td",{className:"px-4 py-3 font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:we.plate}),i.some(st=>st.plates.some(Ze=>Ze.toUpperCase()===we.plate.toUpperCase()))&&r.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Mensalista"}),we.metadata?.isConvenio&&r.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Convnio"})]})}),r.jsx("td",{className:"px-4 py-3",children:we.vehicleType}),r.jsx("td",{className:"px-4 py-3 text-sm",children:Q(we)}),r.jsx("td",{className:"px-4 py-3 text-sm",children:we.entryTime||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:we.exitTime||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we.status==="Em andamento"?"bg-warning/10 text-warning":"bg-success/10 text-success"}`,children:we.status})}),r.jsx("td",{className:"px-4 py-3 font-medium text-primary",children:we.status==="Concludo"&&we.totalValue>0?`R$ ${we.totalValue.toFixed(2)}`:`R$ ${lt.currentValue.toFixed(2)}`}),r.jsx("td",{className:"px-4 py-3 text-sm",children:we.paymentMethod||r.jsx("span",{className:"text-muted-foreground italic",children:"(aguardando sada)"})}),r.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[c("openCloseCash")&&r.jsxs(r.Fragment,{children:[r.jsx(Ne,{size:"sm",variant:"ghost",onClick:st=>{st.stopPropagation(),pe(we)},children:r.jsx(Qm,{className:"h-4 w-4"})}),r.jsx(Ne,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:st=>{st.stopPropagation(),be(we)},children:r.jsx(Gs,{className:"h-4 w-4"})})]}),we.status==="Em andamento"&&c("openCloseCash")&&r.jsxs(Ne,{size:"sm",onClick:st=>{st.stopPropagation(),G(we)},children:[r.jsx(Iv,{className:"h-4 w-4 mr-1"}),"Finalizar"]}),we.status==="Concludo"&&c("openCloseCash")&&r.jsx(Ne,{size:"sm",variant:"outline",style:{color:"#b45309",borderColor:"#fbbf24"},onClick:st=>{st.stopPropagation(),e(we)},children:"Desfazer Finalizao"})]})]},we.id)})})]})})}),Te&&Ve&&re&&r.jsx(iM,{vehicle:Te,rate:Ve,currentValue:re.currentValue,excessHours:re.excessHours,excessValue:re.excessValue})]}),r.jsx(cL,{open:j,onOpenChange:N,vehicle:E,onSaved:H}),r.jsx(sM,{open:P,onOpenChange:k,vehicle:B,rate:B?g.find(we=>we.id===B.rateId):void 0,calculatedValue:B&&g.find(we=>we.id===B.rateId)?W?0:I(B,g.find(we=>we.id===B.rateId),new Date):0,onConfirm:J,companyConfig:s,operatorName:"Operador do Sistema",isMonthlyVehicle:W}),r.jsx(oM,{open:L,onOpenChange:we=>{F(we),we||q(void 0)},vehicle:z,companyConfig:s,operatorName:"Operador do Sistema",onSubmit:se})]})}function cM({dueDate:e,monthlyValue:t,selectedMonths:n,onMonthsChange:a}){const[s,i]=v.useState([]);v.useEffect(()=>{if(!e){i([]);return}try{const w=l2(e),p=c2(n2(w),1),S=[];for(let j=0;j<12;j++){const N=c2(p,j);G8(N,n2(new Date))&&S.unshift(wt(N,"yyyy-MM"))}i(S)}catch(w){console.error("Error calculating available months:",w),i([])}},[e]);const d=s.reduce((w,p)=>{const S=p.split("-")[0];return w[S]||(w[S]=[]),w[S].push(p),w},{}),c=w=>{n.includes(w)?a(n.filter(p=>p!==w)):a([...n,w].sort())},u=()=>{a([...s])},h=()=>{a([])},m=w=>{try{const p=l2(`${w}-01`);return wt(p,"MMM",{locale:ur})}catch{return w}},g=n.length*t;return s.length===0?r.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 text-center text-sm text-muted-foreground",children:[r.jsx(Ca,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Defina o prximo vencimento para ver os meses disponveis"})]}):r.jsxs("div",{className:"space-y-4 bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ca,{className:"h-5 w-5 text-primary"}),r.jsx("h4",{className:"font-semibold text-sm",children:"Histrico de Pagamentos Anteriores"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marque os meses que ",r.jsx("span",{className:"font-medium",children:"J foram pagos"})," antes do cadastro no sistema:"]}),r.jsx("div",{className:"space-y-4",children:Object.entries(d).reverse().map(([w,p])=>r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:w}),r.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:p.map(S=>{const j=n.includes(S);return r.jsxs("button",{type:"button",onClick:()=>c(S),className:`
                      flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium
                      transition-all border-2
                      ${j?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border hover:border-primary/50"}
                    `,children:[j?r.jsx(ly,{className:"h-3 w-3"}):r.jsx(cy,{className:"h-3 w-3"}),m(S)]},S)})})]},w))}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(Ne,{type:"button",variant:"outline",size:"sm",onClick:u,disabled:n.length===s.length,children:[r.jsx(ly,{className:"h-4 w-4 mr-2"}),"Marcar Todos"]}),r.jsxs(Ne,{type:"button",variant:"outline",size:"sm",onClick:h,disabled:n.length===0,children:[r.jsx(cy,{className:"h-4 w-4 mr-2"}),"Desmarcar Todos"]})]}),r.jsxs("div",{className:"bg-muted/50 rounded-md p-3 space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Meses selecionados:"}),r.jsx("span",{className:"font-medium",children:n.length})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Valor por ms:"}),r.jsxs("span",{className:"font-medium",children:["R$ ",t.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-base font-semibold pt-2 border-t",children:[r.jsx("span",{children:"Total a registrar:"}),r.jsxs("span",{className:"text-primary",children:["R$ ",g.toFixed(2)]})]})]}),n.length>0&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:' Estes pagamentos sero registrados como "importao inicial" e no afetaro os relatrios financeiros atuais.'})]})}var Rp="Checkbox",[dM]=va(Rp),[uM,b0]=dM(Rp);function hM(e){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:s,disabled:i,form:d,name:c,onCheckedChange:u,required:h,value:m="on",internal_do_not_use_render:g}=e,[w,p]=vo({prop:n,defaultProp:s??!1,onChange:u,caller:Rp}),[S,j]=v.useState(null),[N,P]=v.useState(null),k=v.useRef(!1),E=S?!!d||!!S.closest("form"):!0,O={checked:w,disabled:i,setChecked:p,control:S,setControl:j,name:c,form:d,value:m,hasConsumerStoppedPropagationRef:k,required:h,defaultChecked:Cc(s)?!1:s,isFormControl:E,bubbleInput:N,setBubbleInput:P};return r.jsx(uM,{scope:t,...O,children:fM(g)?g(O):a})}var tS="CheckboxTrigger",rS=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...a},s)=>{const{control:i,value:d,disabled:c,checked:u,required:h,setControl:m,setChecked:g,hasConsumerStoppedPropagationRef:w,isFormControl:p,bubbleInput:S}=b0(tS,e),j=rr(s,m),N=v.useRef(u);return v.useEffect(()=>{const P=i?.form;if(P){const k=()=>g(N.current);return P.addEventListener("reset",k),()=>P.removeEventListener("reset",k)}},[i,g]),r.jsx(Lt.button,{type:"button",role:"checkbox","aria-checked":Cc(u)?"mixed":u,"aria-required":h,"data-state":iS(u),"data-disabled":c?"":void 0,disabled:c,value:d,...a,ref:j,onKeyDown:ot(t,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:ot(n,P=>{g(k=>Cc(k)?!0:!k),S&&p&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});rS.displayName=tS;var j0=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:d,disabled:c,value:u,onCheckedChange:h,form:m,...g}=e;return r.jsx(hM,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:c,required:d,onCheckedChange:h,name:a,form:m,value:u,internal_do_not_use_render:({isFormControl:w})=>r.jsxs(r.Fragment,{children:[r.jsx(rS,{...g,ref:t,__scopeCheckbox:n}),w&&r.jsx(oS,{__scopeCheckbox:n})]})})});j0.displayName=Rp;var nS="CheckboxIndicator",aS=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=b0(nS,n);return r.jsx(ia,{present:a||Cc(i.checked)||i.checked===!0,children:r.jsx(Lt.span,{"data-state":iS(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});aS.displayName=nS;var sS="CheckboxBubbleInput",oS=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:d,required:c,disabled:u,name:h,value:m,form:g,bubbleInput:w,setBubbleInput:p}=b0(sS,e),S=rr(n,p),j=Cp(i),N=op(a);v.useEffect(()=>{const k=w;if(!k)return;const E=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(E,"checked").set,ae=!s.current;if(j!==i&&B){const W=new Event("click",{bubbles:ae});k.indeterminate=Cc(i),B.call(k,Cc(i)?!1:i),k.dispatchEvent(W)}},[w,j,i,s]);const P=v.useRef(Cc(i)?!1:i);return r.jsx(Lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??P.current,required:c,disabled:u,name:h,value:m,form:g,...t,tabIndex:-1,ref:S,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});oS.displayName=sS;function fM(e){return typeof e=="function"}function Cc(e){return e==="indeterminate"}function iS(e){return Cc(e)?"indeterminate":e?"checked":"unchecked"}const Ac=v.forwardRef(({className:e,...t},n)=>r.jsx(j0,{ref:n,className:xt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(aS,{className:xt("flex items-center justify-center text-current"),children:r.jsx(Xm,{className:"h-4 w-4"})})}));Ac.displayName=j0.displayName;const Xg="https://theproparking-backend-1rxk.onrender.com";function mM({open:e,onOpenChange:t,customer:n,onSaved:a}){const{addMonthlyCustomer:s,updateMonthlyCustomer:i}=Zo(),{token:d}=Ss(),[c,u]=v.useState(""),[h,m]=v.useState(""),[g,w]=v.useState(""),[p,S]=v.useState(""),[j,N]=v.useState(null),[P,k]=v.useState(""),[E,O]=v.useState(!1),[B,ae]=v.useState([]),[W,te]=v.useState(""),[K,oe]=v.useState(!1),[L,F]=v.useState(""),[z,q]=v.useState("Dinheiro"),[ge,fe]=v.useState(""),[ye,U]=v.useState(0),[$,H]=v.useState(""),[D,T]=v.useState(new Date),[I,G]=v.useState(""),[J,ce]=v.useState(""),[se,pe]=v.useState([]),[le,be]=v.useState(!1);v.useEffect(()=>{if(n){u(n.name),m(n.cpf||""),w(n.phone||"");const Se=n.parkingSlot?.toString()||"";S(Se),N(Se);const me=Array.isArray(n.plates)?n.plates:[];if(ae(me.map(Me=>({id:Math.random().toString(),value:Me,isEditing:!1}))),F(n.value.toString()),H(n.operatorName||""),n.contractDate&&T(new Date(n.contractDate)),n.dueDate){const Me=new Date(n.dueDate);G(Me.toISOString().split("T")[0])}if(n.lastPayment){const Me=new Date(n.lastPayment);ce(Me.toISOString().split("T")[0])}}else u(""),m(""),w(""),S(""),N(null),k(""),ae([]),F("150"),q("Dinheiro"),fe(""),U(0),H(""),oe(!1),te(""),G(""),ce(""),pe([]),be(!1)},[n,e]);const Ee=Se=>{const me=Se.replace(/\D/g,"");return me.length<=11?me.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):Se},Q=Se=>{const me=Se.replace(/\D/g,"");return me.length<=11?me.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d{1,4})$/,"$1-$2"):Se},Te=Se=>{m(Ee(Se.target.value))},Ve=Se=>{w(Q(Se.target.value))},re=()=>{B.length>=5||(oe(!0),te(""))},we=Se=>{if(Se.key==="Enter"){Se.preventDefault();const me=W.trim();if(me){const Me=me.toUpperCase();ae(ze=>[...ze,{id:Date.now().toString(),value:Me,isEditing:!1}]),te(""),oe(!1)}}else Se.key==="Escape"&&(te(""),oe(!1))},Xe=()=>{W.trim()||oe(!1)},lt=Se=>{ae(me=>me.map(Me=>Me.id===Se?{...Me,isEditing:!0}:Me))},qe=(Se,me)=>{ae(Me=>Me.map(ze=>ze.id===Se?{...ze,value:me.toUpperCase(),isEditing:!1}:ze))},st=Se=>{ae(me=>me.filter(Me=>Me.id!==Se))};v.useEffect(()=>{if(z==="Dinheiro"&&ge&&L){const Se=parseFloat(ge),me=parseFloat(L);U(Se>me?Se-me:0)}else U(0)},[ge,L,z]);const Ze=async Se=>{if(!Se||isNaN(parseInt(Se))){k("");return}O(!0),k("");try{const me=n?.id?`${Xg}/monthlyCustomers/slot/${Se}/check?customerId=${n.id}`:`${Xg}/monthlyCustomers/slot/${Se}/check`,Me=d?{Authorization:`Bearer ${d}`}:{},ze=await fetch(me,{headers:Me}),Ye=await ze.json();ze.ok?Ye.available||k(Ye.message||"Esta vaga j est em uso."):(console.warn("Slot check failed:",Ye.error),k(""))}catch(me){console.error("Erro ao verificar vaga:",me),k("")}finally{O(!1)}},pt=Se=>{const me=Se.target.value.replace(/\D/g,"");S(me),k("")};v.useEffect(()=>{if(!p){k("");return}if(n?.id&&j&&p===j){k("");return}const Se=setTimeout(()=>{Ze(p)},500);return()=>clearTimeout(Se)},[p,n?.id,j,d]);const ct=async Se=>{if(Se.preventDefault(),!c.trim()){alert("Por favor, preencha o nome do cliente.");return}if(B.length===0){alert("Por favor, adicione pelo menos uma placa de veculo.");return}if(!L||parseFloat(L)<=0){alert("Por favor, informe o valor mensal.");return}if(P){alert("Por favor, escolha uma vaga disponvel antes de continuar.");return}try{if(n?.id){const me={name:c.trim(),cpf:h.trim()||null,phone:g.trim()||null,parkingSlot:p?parseInt(p):null,plates:(Array.isArray(B)?B:[]).map(Me=>Me.value),value:parseFloat(L),operatorName:$.trim()||void 0,contractDate:D?new Date(wt(D,"yyyy-MM-dd")+"T12:00:00").toISOString():void 0,dueDate:I?new Date(I+"T12:00:00").toISOString():void 0,lastPayment:J?new Date(J+"T12:00:00").toISOString():void 0};await i(n.id,me)}else{const me={name:c.trim(),cpf:h.trim()||null,phone:g.trim()||null,parkingSlot:p?parseInt(p):null,plates:(Array.isArray(B)?B:[]).map(ze=>ze.value),value:parseFloat(L),paymentMethod:le?null:z,paidAmount:le?null:z==="Dinheiro"?parseFloat(ge):void 0,operatorName:$.trim()||void 0,status:"Em dia",contractDate:le&&D?D.toISOString():new Date().toISOString(),dueDate:I||NN(D,1).toISOString(),lastPayment:le&&J?new Date(J+"T12:00:00").toISOString():void 0,retroactivePayments:se.length>0?se:void 0,isRetroactive:le},Me=await s(me);if(Me?.id&&!le&&se.length===0){const ze=await fetch(`${Xg}/monthlyCustomers/${Me.id}/receipt`,{headers:d?{Authorization:`Bearer ${d}`}:void 0});if(ze.ok){const Ye=await ze.json();zt(Ye)}}}t(!1),a&&a()}catch(me){const Me=me instanceof Error?me.message:String(me);console.error("Erro ao salvar cliente:",Me),alert(`Erro ao salvar cliente: ${Me}

Verifique o console para mais detalhes.`)}},zt=Se=>{const me=window.open("","_blank");if(!me)return;const Me=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Recibo de Mensalista</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
            .receipt { border: 2px solid #000; padding: 20px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
            .header h1 { font-size: 24px; margin-bottom: 5px; }
            .header p { font-size: 12px; margin: 2px 0; }
            .section { margin: 15px 0; }
            .section-title { font-weight: bold; font-size: 14px; margin-bottom: 8px; border-bottom: 1px solid #000; }
            .field { display: flex; margin: 5px 0; font-size: 12px; }
            .field-label { font-weight: bold; width: 150px; }
            .field-value { flex: 1; }
            .plates { display: flex; flex-wrap: wrap; gap: 10px; }
            .plate-badge { background: #333; color: white; padding: 5px 10px; border-radius: 4px; font-weight: bold; }
            .footer { margin-top: 20px; padding-top: 15px; border-top: 2px solid #000; text-align: center; font-size: 11px; }
            @media print {
              body { padding: 0; }
              @page { margin: 0.5cm; }
            }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h1>${Se.company.name}</h1>
              ${Se.company.legalName?`<p>${Se.company.legalName}</p>`:""}
              ${Se.company.cnpj?`<p>CNPJ: ${Se.company.cnpj}</p>`:""}
              ${Se.company.address?`<p>${Se.company.address}</p>`:""}
              ${Se.company.phone?`<p>Tel: ${Se.company.phone}</p>`:""}
            </div>
            
            <div class="section">
              <div class="section-title">RECIBO DE CONTRATO MENSALISTA</div>
            </div>

            <div class="section">
              <div class="section-title">Dados do Cliente</div>
              <div class="field">
                <span class="field-label">Nome:</span>
                <span class="field-value">${Se.customer.name}</span>
              </div>
              ${Se.customer.cpf?`
              <div class="field">
                <span class="field-label">CPF:</span>
                <span class="field-value">${Se.customer.cpf}</span>
              </div>`:""}
              ${Se.customer.phone?`
              <div class="field">
                <span class="field-label">Telefone:</span>
                <span class="field-value">${Se.customer.phone}</span>
              </div>`:""}
            </div>

            <div class="section">
              <div class="section-title">Vaga e Veculos</div>
              ${Se.customer.parkingSlot?`
              <div class="field">
                <span class="field-label">Vaga Reservada:</span>
                <span class="field-value" style="font-size: 18px; font-weight: bold; color: #2563eb;">N ${Se.customer.parkingSlot}</span>
              </div>`:""}
              <div class="field" style="margin-top: 10px;">
                <span class="field-label">Placas Cadastradas:</span>
              </div>
              <div class="plates">
                ${(Array.isArray(Se.customer.plates)?Se.customer.plates:[]).map(ze=>`<span class="plate-badge">${ze}</span>`).join("")}
              </div>
              <p style="font-size: 11px; margin-top: 8px; color: #666;">
                * O cliente possui ${(Array.isArray(Se.customer.plates)?Se.customer.plates:[]).length} veculo(s) cadastrado(s) para esta vaga.
              </p>
            </div>

            <div class="section">
              <div class="section-title">Dados do Contrato</div>
              <div class="field">
                <span class="field-label">Data do Contrato:</span>
                <span class="field-value">${wt(new Date(Se.contract.date),"dd/MM/yyyy HH:mm")}</span>
              </div>
              <div class="field">
                <span class="field-label">Valor Mensal:</span>
                <span class="field-value">R$ ${Se.contract.value.toFixed(2)}</span>
              </div>
              <div class="field">
                <span class="field-label">Vencimento:</span>
                <span class="field-value">${wt(new Date(Se.contract.dueDate),"dd/MM/yyyy")}</span>
              </div>
            </div>

            ${Se.payment?`
            <div class="section">
              <div class="section-title">Pagamento</div>
              <div class="field">
                <span class="field-label">Forma de Pagamento:</span>
                <span class="field-value">${Se.payment.method}</span>
              </div>
              <div class="field">
                <span class="field-label">Valor Pago:</span>
                <span class="field-value">R$ ${Se.payment.value.toFixed(2)}</span>
              </div>
              <div class="field">
                <span class="field-label">Data do Pagamento:</span>
                <span class="field-value">${wt(new Date(Se.payment.date),"dd/MM/yyyy HH:mm")}</span>
              </div>
            </div>`:""}

            ${Se.operator?`
            <div class="section">
              <div class="field">
                <span class="field-label">Operador:</span>
                <span class="field-value">${Se.operator}</span>
              </div>
            </div>`:""}

            <div class="footer">
              <p>Este recibo  comprovante de contrato de estacionamento mensal.</p>
              <p>Emitido em: ${wt(new Date,"dd/MM/yyyy HH:mm")}</p>
            </div>
          </div>
          <script>
            window.onload = () => {
              window.print();
            };
          <\/script>
        </body>
      </html>
    `;me.document.write(Me),me.document.close()};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[650px] max-h-[95vh] overflow-y-auto",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:n?"Editar Cliente":"Adicionar Cliente Mensalista"}),r.jsx(Ua,{children:n?"Edite os dados do cliente mensalista.":"Registre um novo cliente mensalista com pagamento e recibo."})]}),!n&&r.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900 rounded-md",children:[r.jsx(Ac,{id:"retroactive",checked:le,onCheckedChange:Se=>be(Se)}),r.jsx(xe,{htmlFor:"retroactive",className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Cliente Retroativo (j era mensalista antes do app existir)"})]}),r.jsxs("form",{onSubmit:ct,children:[r.jsxs("div",{className:"grid gap-4 py-4",children:[!n&&!le&&r.jsxs("div",{className:"bg-muted/50 p-3 rounded-md",children:[r.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Data do Contrato"}),r.jsx("div",{className:"text-lg font-semibold",children:wt(D,"dd/MM/yyyy 's' HH:mm")})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsxs(xe,{htmlFor:"name",className:"text-right",children:["Nome ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"name",value:c,onChange:Se=>u(Se.target.value),className:"col-span-3",placeholder:"Nome completo do cliente",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"cpf",className:"text-right",children:"CPF"}),r.jsx(Fe,{id:"cpf",value:h,onChange:Te,className:"col-span-3",placeholder:"000.000.000-00",maxLength:14,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"phone",className:"text-right",children:"Telefone"}),r.jsx(Fe,{id:"phone",value:g,onChange:Ve,className:"col-span-3",placeholder:"(00) 00000-0000",maxLength:15,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"parkingSlot",className:"text-right",children:"Vaga"}),r.jsxs("div",{className:"col-span-3 space-y-1",children:[r.jsx(Fe,{id:"parkingSlot",type:"number",value:p,onChange:pt,placeholder:"Nmero da vaga",min:"1",required:!0,className:P?"border-red-500":""}),E&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Verificando disponibilidade..."}),P&&r.jsx("p",{className:"text-sm text-red-500 font-medium",children:P}),p&&!P&&!E&&r.jsx("p",{className:"text-sm text-green-600 font-medium",children:" Vaga disponvel"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Uma vaga por cliente (at 5 veculos na mesma vaga)"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[r.jsxs(xe,{className:"text-right pt-2",children:["Placas ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"col-span-3 space-y-2",children:[(Array.isArray(B)?B:[]).map(Se=>r.jsxs("div",{className:"flex gap-2 items-center",children:[Se.isEditing?r.jsx(Fe,{value:Se.value,onChange:me=>{const Me=me.target.value.toUpperCase();ae(ze=>ze.map(Ye=>Ye.id===Se.id?{...Ye,value:Me}:Ye))},onBlur:()=>qe(Se.id,Se.value),onKeyDown:me=>{me.key==="Enter"&&(me.preventDefault(),qe(Se.id,Se.value))},autoFocus:!0,placeholder:"ABC-1234",className:"flex-1"}):r.jsx("div",{className:"flex-1 px-3 py-2 border rounded-md bg-muted font-mono font-semibold",children:Se.value}),r.jsx(Ne,{type:"button",variant:"ghost",size:"icon",onClick:()=>lt(Se.id),disabled:Se.isEditing,children:r.jsx(Nc,{className:"h-4 w-4"})}),r.jsx(Ne,{type:"button",variant:"ghost",size:"icon",onClick:()=>st(Se.id),children:r.jsx(Gs,{className:"h-4 w-4 text-red-500"})})]},Se.id)),K&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Fe,{value:W,onChange:Se=>te(Se.target.value.toUpperCase()),onKeyDown:we,onBlur:Xe,placeholder:"ABC-1234 (pressione Enter ou clique Confirmar)",autoFocus:!0,maxLength:8}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{type:"button",variant:"default",size:"sm",onClick:()=>{const Se=W.trim();if(Se){const me=Se.toUpperCase();ae(Me=>[...Me,{id:Date.now().toString(),value:me,isEditing:!1}]),te(""),oe(!1)}},disabled:!W.trim(),className:"flex-1",children:"Confirmar Placa"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{te(""),oe(!1)},children:"Cancelar"})]})]}),!K&&B.length<5&&r.jsxs(Ne,{type:"button",variant:"outline",onClick:re,className:"w-full",children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Adicionar Placa ",B.length>0&&`(${B.length}/5)`]}),B.length>=5&&r.jsx("p",{className:"text-sm text-muted-foreground",children:" Mximo de 5 veculos atingido"}),B.length===0&&!K&&r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Clique no boto acima para adicionar a primeira placa"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsxs(xe,{htmlFor:"value",className:"text-right",children:["Valor Mensal ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"value",type:"number",step:"0.01",value:L,onChange:Se=>F(Se.target.value),placeholder:"150.00",className:"col-span-3",required:!0})]}),!n&&r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"dueDate",className:"text-right",children:"Prximo Vencimento"}),r.jsxs("div",{className:"col-span-3 space-y-1",children:[r.jsx(Fe,{id:"dueDate",type:"date",value:I,onChange:Se=>G(Se.target.value),className:"col-span-3"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para usar o padro (1 ms aps hoje)"})]})]}),!n&&I&&parseFloat(L)>0&&r.jsx("div",{className:"col-span-4",children:r.jsx(cM,{dueDate:I,monthlyValue:parseFloat(L),selectedMonths:se,onMonthsChange:pe})}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"operator",className:"text-right",children:"Operador"}),r.jsx(Fe,{id:"operator",value:$,onChange:Se=>H(Se.target.value),placeholder:"Nome do operador (opcional)",className:"col-span-3"})]}),!n&&le&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsxs(xe,{htmlFor:"retroContractDate",className:"text-right",children:["Data de Contratao ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"col-span-3 space-y-1",children:[r.jsx(Fe,{id:"retroContractDate",type:"date",value:D?wt(D,"yyyy-MM-dd"):"",onChange:Se=>T(new Date(Se.target.value)),required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Data em que o cliente iniciou o contrato de mensalista"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"retroLastPayment",className:"text-right",children:"ltimo Pagamento"}),r.jsxs("div",{className:"col-span-3 space-y-1",children:[r.jsx(Fe,{id:"retroLastPayment",type:"date",value:J,onChange:Se=>ce(Se.target.value)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Data do ltimo pagamento antes do cadastro no app"})]})]})]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"editContractDate",className:"text-right",children:"Data de Contratao"}),r.jsx(Fe,{id:"editContractDate",type:"date",value:D?wt(D,"yyyy-MM-dd"):"",onChange:Se=>T(new Date(Se.target.value)),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"editDueDate",className:"text-right",children:"Vencimento"}),r.jsx(Fe,{id:"editDueDate",type:"date",value:I,onChange:Se=>G(Se.target.value),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{htmlFor:"editLastPayment",className:"text-right",children:"ltimo Pagamento"}),r.jsx(Fe,{id:"editLastPayment",type:"date",value:J,onChange:Se=>ce(Se.target.value),className:"col-span-3"})]})]}),!n&&!le&&r.jsxs("div",{className:"border-t pt-4 mt-2",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Pagamento"}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 mb-3",children:[r.jsx(xe,{className:"text-right",children:"Forma"}),r.jsxs(vr,{value:z,onValueChange:q,children:[r.jsx(fr,{className:"col-span-3",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Dinheiro",children:"Dinheiro"}),r.jsx(Qe,{value:"Pix",children:"Pix"}),r.jsx(Qe,{value:"Carto Dbito",children:"Carto Dbito"}),r.jsx(Qe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),z==="Dinheiro"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 mb-3",children:[r.jsx(xe,{htmlFor:"paidAmount",className:"text-right",children:"Valor Pago"}),r.jsx(Fe,{id:"paidAmount",type:"number",step:"0.01",value:ge,onChange:Se=>fe(Se.target.value),placeholder:"200.00",className:"col-span-3"})]}),ye>0&&r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(xe,{className:"text-right",children:"Troco"}),r.jsxs("div",{className:"col-span-3 px-3 py-2 bg-muted rounded-md font-semibold text-green-600",children:["R$ ",ye.toFixed(2)]})]})]})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:n?"Salvar Alteraes":le?"Salvar":"Salvar + Imprimir Recibo"})]})]})]})})}const pM=({open:e,onOpenChange:t,customer:n,onSaved:a})=>{const{registerPayment:s,companyConfig:i}=Zo(),{toast:d}=Hr(),c=v.useRef(null),[u,h]=v.useState(""),[m,g]=v.useState("Dinheiro"),[w,p]=v.useState(""),[S,j]=v.useState(!1),[N,P]=v.useState(0),[k,E]=v.useState(null),[O,B]=v.useState({});v.useEffect(()=>{e&&(h(wt(new Date,"yyyy-MM-dd")),g("Dinheiro"),p(""),j(!1),ae())},[e]);const ae=async()=>{try{const L=await fetch("http://localhost:3000/receipt-templates/default/monthly_payment",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(L.ok){const F=await L.json();E(F);const z={};Array.isArray(F.customFields)&&F.customFields.forEach(q=>{z[q.name]=q.defaultValue||""}),z.referenceMonth=wt(new Date,"MMMM/yyyy",{locale:ur}),B(z)}}catch(L){const F=L instanceof Error?L.message:String(L);console.error("Error fetching template:",F)}},W=()=>!n||!w?0:parseFloat(w)-n.value,te=async()=>{if(!n||!u)return;const L=await s(n.id,{date:u,value:n.value,method:m});P(L),j(!0),d({title:"Pagamento registrado",description:"O recibo foi gerado automaticamente"}),a&&a()},K=()=>{window.print()},oe=()=>{t(!1),j(!1)};return n?r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Er,{children:r.jsxs(Ar,{children:["Registrar Pagamento - ",n.name]})}),S?r.jsxs("div",{children:[r.jsxs("div",{ref:c,className:"bg-white text-black p-8 rounded-lg border-2 border-gray-300",children:[r.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-gray-300",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg p-2 shadow-md",children:r.jsx(Car,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"PROPARKING"}),r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"APP - 2025"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Sistema de Gesto de Estacionamento"}),k?.showCompanyName!==!1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:k?.primaryColor||"#1e40af"},children:i.name}),k?.showCompanyDetails!==!1&&r.jsxs(r.Fragment,{children:[i.legalName&&r.jsx("p",{className:"text-sm text-gray-600",children:i.legalName}),i.cnpj&&r.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",i.cnpj]}),i.address&&r.jsx("p",{className:"text-sm text-gray-600",children:i.address}),i.phone&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Tel: ",i.phone]})]})]})]}),k?.showReceiptNumber!==!1&&r.jsxs("div",{className:"border-t-2 border-b-2 border-gray-300 py-4 my-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-center",children:["RECIBO N ",N.toString().padStart(6,"0")]}),r.jsx("p",{className:"text-center text-sm mt-1",children:"Mensalista"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Cliente:"})," ",n.name]}),k?.showPlate!==!1&&r.jsxs("p",{children:[r.jsx("strong",{children:"Placas:"})," ",n.plates.join(", ")]}),k?.showDate!==!1&&r.jsxs("p",{children:[r.jsx("strong",{children:"Data do Pagamento:"})," ",wt(new Date(u),"dd/MM/yyyy",{locale:ur})]}),k?.showPaymentMethod!==!1&&r.jsxs("p",{children:[r.jsx("strong",{children:"Forma de Pagamento:"})," ",m]}),k?.showValue!==!1&&r.jsxs("p",{children:[r.jsx("strong",{children:"Valor Pago:"})," R$ ",n.value.toFixed(2)]}),k?.customFields?.map(L=>r.jsxs("p",{children:[r.jsxs("strong",{children:[L.label,":"]})," ",O[L.name]||"-"]},L.name))]}),k?.showSignatureLine!==!1&&r.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-300",children:[r.jsx("p",{className:"text-center",children:"_______________________________"}),r.jsx("p",{className:"text-center text-sm mt-1",children:"Assinatura do Responsvel"})]}),k?.termsAndConditions&&r.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-300 rounded",children:r.jsxs("p",{className:"text-xs text-center",children:[r.jsx("strong",{children:"ATENO:"})," ",k.termsAndConditions]})}),k?.footerText&&r.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:k.footerText}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:" 2025 ProParking App - Todos os direitos reservados"})})]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs(Ne,{variant:"outline",onClick:K,className:"flex-1",children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Imprimir"]}),r.jsx(Ne,{onClick:oe,className:"flex-1",children:"Fechar"})]})]}):r.jsxs("form",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor a receber:"}),r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.value.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"paymentDate",children:"Data do Pagamento"}),r.jsx(Fe,{id:"paymentDate",type:"date",value:u,onChange:L=>h(L.target.value)})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),r.jsxs(vr,{value:m,onValueChange:L=>g(L),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Dinheiro",children:"Dinheiro"}),r.jsx(Qe,{value:"Pix",children:"Pix"}),r.jsx(Qe,{value:"Carto Dbito",children:"Carto Dbito"}),r.jsx(Qe,{value:"Carto Crdito",children:"Carto Crdito"})]})]})]}),m==="Dinheiro"&&r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"amountReceived",children:"Valor Recebido (R$)"}),r.jsx(Fe,{id:"amountReceived",type:"number",step:"0.01",value:w,onChange:L=>p(L.target.value),placeholder:"0.00"}),w&&r.jsxs("p",{className:"text-sm mt-2 text-muted-foreground",children:["Troco: R$ ",W().toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{type:"button",onClick:te,children:"Confirmar Pagamento"})]})]})]})}):null};function gM({customer:e,statusInfo:t}){const n=s=>s?{cash:"Dinheiro",pix:"Pix",debit_card:"Carto Dbito",credit_card:"Carto Crdito",Dinheiro:"Dinheiro",Pix:"Pix","Carto Dbito":"Carto Dbito","Carto Crdito":"Carto Crdito"}[s]||s:"-",a=[...e.paymentHistory||[]].sort((s,i)=>new Date(i.date).getTime()-new Date(s.date).getTime());return r.jsxs("div",{className:"mt-4 bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 text-primary flex items-center gap-2",children:[r.jsx(Qh,{className:"h-5 w-5"}),"Detalhes do Cliente"]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[r.jsx(ep,{className:"h-4 w-4"}),"Informaes Bsicas"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nome"}),r.jsx("p",{className:"font-medium",children:e.name})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Ho,{className:"h-3 w-3"}),"Placa(s)"]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(e.plates)?e.plates:[]).map((s,i)=>r.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded font-medium",children:s},i))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(kb,{className:"h-3 w-3"}),"Telefone"]}),r.jsx("p",{className:"font-medium",children:e.phone||""})]}),e.cpf&&r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(rs,{className:"h-3 w-3"}),"CPF"]}),r.jsx("p",{className:"font-medium",children:e.cpf})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(_b,{className:"h-3 w-3"}),"Vaga"]}),r.jsxs("p",{className:"font-medium",children:["Vaga ",e.parkingSlot]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tipo de Contrato"}),r.jsx("p",{className:"font-medium",children:"Mensalista"})]})]})]}),r.jsxs("div",{className:"mb-6 pt-4 border-t border-primary/10",children:[r.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[r.jsx(Ca,{className:"h-4 w-4"}),"Situao Atual"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.bgColor} ${t.textColor}`,children:t.status})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prximo Vencimento"}),r.jsx("p",{className:"font-medium",children:e.dueDate&&!isNaN(new Date(e.dueDate).getTime())?wt(new Date(e.dueDate),"dd/MM/yyyy",{locale:ur}):""})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimo Pagamento"}),r.jsx("p",{className:"font-medium",children:e.lastPayment&&!isNaN(new Date(e.lastPayment).getTime())?wt(new Date(e.lastPayment),"dd/MM/yyyy",{locale:ur}):""})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Mensal"}),r.jsxs("p",{className:"font-bold text-lg text-primary",children:["R$ ",e.value.toFixed(2)]})]}),e.lastPayment&&!isNaN(new Date(e.lastPayment).getTime())&&r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Nl,{className:"h-3 w-3"}),"Hora da Baixa do Pagamento"]}),r.jsx("p",{className:"font-medium",children:wt(new Date(e.lastPayment),"HH:mm",{locale:ur})})]}),t.daysOverdue!==void 0&&t.daysOverdue>0&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias de Atraso"}),r.jsxs("p",{className:"font-medium text-destructive",children:[t.daysOverdue," dia(s)"]})]}),t.daysUntilDue!==void 0&&t.daysUntilDue>=0&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias Restantes"}),r.jsxs("p",{className:"font-medium text-success",children:[t.daysUntilDue," dia(s)"]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Data de Contratao"}),r.jsx("p",{className:"font-medium",children:e.contractDate&&!isNaN(new Date(e.contractDate).getTime())?wt(new Date(e.contractDate),"dd/MM/yyyy",{locale:ur}):""})]}),e.operatorName&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Operador"}),r.jsx("p",{className:"font-medium",children:e.operatorName})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-primary/10",children:[r.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[r.jsx(Fh,{className:"h-4 w-4"}),"Histrico de Pagamentos"]}),a.length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Nenhum pagamento registrado ainda"}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-3 text-sm text-muted-foreground",children:["Total de pagamentos: ",r.jsx("span",{className:"font-medium text-foreground",children:a.length})," | ","Total acumulado: ",r.jsxs("span",{className:"font-medium text-primary",children:["R$ ",a.reduce((s,i)=>s+i.value,0).toFixed(2)]})]}),r.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-muted/30 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Data"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Valor"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Mtodo"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:"Recibo"})]})}),r.jsx("tbody",{children:a.map((s,i)=>r.jsxs("tr",{className:i%2===0?"bg-background":"bg-muted/10",children:[r.jsx("td",{className:"px-3 py-2",children:s.date&&!isNaN(new Date(s.date).getTime())?wt(new Date(s.date),"dd/MM/yyyy",{locale:ur}):""}),r.jsxs("td",{className:"px-3 py-2 font-medium",children:["R$ ",s.value.toFixed(2)]}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-muted",children:n(s.method)})}),r.jsxs("td",{className:"px-3 py-2 text-muted-foreground",children:["#",s.receiptNumber]})]},s.id))})]})})]})]})]})}var uv=["Enter"," "],xM=["ArrowDown","PageUp","Home"],lS=["ArrowUp","PageDown","End"],vM=[...xM,...lS],yM={ltr:[...uv,"ArrowRight"],rtl:[...uv,"ArrowLeft"]},wM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sf="Menu",[Hh,bM,jM]=Ym(sf),[Pd,Dp]=va(sf,[jM,Rc,Vu]),Lp=Rc(),cS=Vu(),[NM,kd]=Pd(sf),[SM,of]=Pd(sf),dS=e=>{const{__scopeMenu:t,open:n=!1,children:a,dir:s,onOpenChange:i,modal:d=!0}=e,c=Lp(t),[u,h]=v.useState(null),m=v.useRef(!1),g=zn(i),w=Uu(s);return v.useEffect(()=>{const p=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),r.jsx(ip,{...c,children:r.jsx(NM,{scope:t,open:n,onOpenChange:g,content:u,onContentChange:h,children:r.jsx(SM,{scope:t,onClose:v.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:w,modal:d,children:a})})})};dS.displayName=sf;var CM="MenuAnchor",N0=v.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,s=Lp(n);return r.jsx(ef,{...s,...a,ref:t})});N0.displayName=CM;var S0="MenuPortal",[_M,uS]=Pd(S0,{forceMount:void 0}),hS=e=>{const{__scopeMenu:t,forceMount:n,children:a,container:s}=e,i=kd(S0,t);return r.jsx(_M,{scope:t,forceMount:n,children:r.jsx(ia,{present:n||i.open,children:r.jsx(Fu,{asChild:!0,container:s,children:a})})})};hS.displayName=S0;var xo="MenuContent",[PM,C0]=Pd(xo),fS=v.forwardRef((e,t)=>{const n=uS(xo,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=kd(xo,e.__scopeMenu),d=of(xo,e.__scopeMenu);return r.jsx(Hh.Provider,{scope:e.__scopeMenu,children:r.jsx(ia,{present:a||i.open,children:r.jsx(Hh.Slot,{scope:e.__scopeMenu,children:d.modal?r.jsx(kM,{...s,ref:t}):r.jsx(EM,{...s,ref:t})})})})}),kM=v.forwardRef((e,t)=>{const n=kd(xo,e.__scopeMenu),a=v.useRef(null),s=rr(t,a);return v.useEffect(()=>{const i=a.current;if(i)return yp(i)},[]),r.jsx(_0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ot(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),EM=v.forwardRef((e,t)=>{const n=kd(xo,e.__scopeMenu);return r.jsx(_0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AM=_c("MenuContent.ScrollLock"),_0=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:d,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:w,onDismiss:p,disableOutsideScroll:S,...j}=e,N=kd(xo,n),P=of(xo,n),k=Lp(n),E=cS(n),O=bM(n),[B,ae]=v.useState(null),W=v.useRef(null),te=rr(t,W,N.onContentChange),K=v.useRef(0),oe=v.useRef(""),L=v.useRef(0),F=v.useRef(null),z=v.useRef("right"),q=v.useRef(0),ge=S?rf:v.Fragment,fe=S?{as:AM,allowPinchZoom:!0}:void 0,ye=$=>{const H=oe.current+$,D=O().filter(se=>!se.disabled),T=document.activeElement,I=D.find(se=>se.ref.current===T)?.textValue,G=D.map(se=>se.textValue),J=UM(G,H,I),ce=D.find(se=>se.textValue===J)?.ref.current;(function se(pe){oe.current=pe,window.clearTimeout(K.current),pe!==""&&(K.current=window.setTimeout(()=>se(""),1e3))})(H),ce&&setTimeout(()=>ce.focus())};v.useEffect(()=>()=>window.clearTimeout(K.current),[]),vp();const U=v.useCallback($=>z.current===F.current?.side&&VM($,F.current?.area),[]);return r.jsx(PM,{scope:n,searchRef:oe,onItemEnter:v.useCallback($=>{U($)&&$.preventDefault()},[U]),onItemLeave:v.useCallback($=>{U($)||(W.current?.focus(),ae(null))},[U]),onTriggerLeave:v.useCallback($=>{U($)&&$.preventDefault()},[U]),pointerGraceTimerRef:L,onPointerGraceIntentChange:v.useCallback($=>{F.current=$},[]),children:r.jsx(ge,{...fe,children:r.jsx(tf,{asChild:!0,trapped:s,onMountAutoFocus:ot(i,$=>{$.preventDefault(),W.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:r.jsx(_d,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:w,onDismiss:p,children:r.jsx(v0,{asChild:!0,...E,dir:P.dir,orientation:"vertical",loop:a,currentTabStopId:B,onCurrentTabStopIdChange:ae,onEntryFocus:ot(u,$=>{P.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(lp,{role:"menu","aria-orientation":"vertical","data-state":ES(N.open),"data-radix-menu-content":"",dir:P.dir,...k,...j,ref:te,style:{outline:"none",...j.style},onKeyDown:ot(j.onKeyDown,$=>{const D=$.target.closest("[data-radix-menu-content]")===$.currentTarget,T=$.ctrlKey||$.altKey||$.metaKey,I=$.key.length===1;D&&($.key==="Tab"&&$.preventDefault(),!T&&I&&ye($.key));const G=W.current;if($.target!==G||!vM.includes($.key))return;$.preventDefault();const ce=O().filter(se=>!se.disabled).map(se=>se.ref.current);lS.includes($.key)&&ce.reverse(),BM(ce)}),onBlur:ot(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(K.current),oe.current="")}),onPointerMove:ot(e.onPointerMove,Wh($=>{const H=$.target,D=q.current!==$.clientX;if($.currentTarget.contains(H)&&D){const T=$.clientX>q.current?"right":"left";z.current=T,q.current=$.clientX}}))})})})})})})});fS.displayName=xo;var TM="MenuGroup",P0=v.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return r.jsx(Lt.div,{role:"group",...a,ref:t})});P0.displayName=TM;var RM="MenuLabel",mS=v.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return r.jsx(Lt.div,{...a,ref:t})});mS.displayName=RM;var $m="MenuItem",u2="menu.itemSelect",Mp=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:a,...s}=e,i=v.useRef(null),d=of($m,e.__scopeMenu),c=C0($m,e.__scopeMenu),u=rr(t,i),h=v.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const w=new CustomEvent(u2,{bubbles:!0,cancelable:!0});g.addEventListener(u2,p=>a?.(p),{once:!0}),Rv(g,w),w.defaultPrevented?h.current=!1:d.onClose()}};return r.jsx(pS,{...s,ref:u,disabled:n,onClick:ot(e.onClick,m),onPointerDown:g=>{e.onPointerDown?.(g),h.current=!0},onPointerUp:ot(e.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:ot(e.onKeyDown,g=>{const w=c.searchRef.current!=="";n||w&&g.key===" "||uv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Mp.displayName=$m;var pS=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=e,d=C0($m,n),c=cS(n),u=v.useRef(null),h=rr(t,u),[m,g]=v.useState(!1),[w,p]=v.useState("");return v.useEffect(()=>{const S=u.current;S&&p((S.textContent??"").trim())},[i.children]),r.jsx(Hh.ItemSlot,{scope:n,disabled:a,textValue:s??w,children:r.jsx(y0,{asChild:!0,...c,focusable:!a,children:r.jsx(Lt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:h,onPointerMove:ot(e.onPointerMove,Wh(S=>{a?d.onItemLeave(S):(d.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ot(e.onPointerLeave,Wh(S=>d.onItemLeave(S))),onFocus:ot(e.onFocus,()=>g(!0)),onBlur:ot(e.onBlur,()=>g(!1))})})})}),DM="MenuCheckboxItem",gS=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return r.jsx(bS,{scope:e.__scopeMenu,checked:n,children:r.jsx(Mp,{role:"menuitemcheckbox","aria-checked":Bm(n)?"mixed":n,...s,ref:t,"data-state":E0(n),onSelect:ot(s.onSelect,()=>a?.(Bm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});gS.displayName=DM;var xS="MenuRadioGroup",[LM,MM]=Pd(xS,{value:void 0,onValueChange:()=>{}}),vS=v.forwardRef((e,t)=>{const{value:n,onValueChange:a,...s}=e,i=zn(a);return r.jsx(LM,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(P0,{...s,ref:t})})});vS.displayName=xS;var yS="MenuRadioItem",wS=v.forwardRef((e,t)=>{const{value:n,...a}=e,s=MM(yS,e.__scopeMenu),i=n===s.value;return r.jsx(bS,{scope:e.__scopeMenu,checked:i,children:r.jsx(Mp,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":E0(i),onSelect:ot(a.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});wS.displayName=yS;var k0="MenuItemIndicator",[bS,FM]=Pd(k0,{checked:!1}),jS=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:a,...s}=e,i=FM(k0,n);return r.jsx(ia,{present:a||Bm(i.checked)||i.checked===!0,children:r.jsx(Lt.span,{...s,ref:t,"data-state":E0(i.checked)})})});jS.displayName=k0;var OM="MenuSeparator",NS=v.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return r.jsx(Lt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});NS.displayName=OM;var IM="MenuArrow",SS=v.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,s=Lp(n);return r.jsx(cp,{...s,...a,ref:t})});SS.displayName=IM;var $M="MenuSub",[sB,CS]=Pd($M),Ah="MenuSubTrigger",_S=v.forwardRef((e,t)=>{const n=kd(Ah,e.__scopeMenu),a=of(Ah,e.__scopeMenu),s=CS(Ah,e.__scopeMenu),i=C0(Ah,e.__scopeMenu),d=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,h={__scopeMenu:e.__scopeMenu},m=v.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),u(null)}},[c,u]),r.jsx(N0,{asChild:!0,...h,children:r.jsx(pS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":ES(n.open),...e,ref:Gm(t,s.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ot(e.onPointerMove,Wh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(i.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:ot(e.onPointerLeave,Wh(g=>{m();const w=n.content?.getBoundingClientRect();if(w){const p=n.content?.dataset.side,S=p==="right",j=S?-5:5,N=w[S?"left":"right"],P=w[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+j,y:g.clientY},{x:N,y:w.top},{x:P,y:w.top},{x:P,y:w.bottom},{x:N,y:w.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ot(e.onKeyDown,g=>{const w=i.searchRef.current!=="";e.disabled||w&&g.key===" "||yM[a.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});_S.displayName=Ah;var PS="MenuSubContent",kS=v.forwardRef((e,t)=>{const n=uS(xo,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=kd(xo,e.__scopeMenu),d=of(xo,e.__scopeMenu),c=CS(PS,e.__scopeMenu),u=v.useRef(null),h=rr(t,u);return r.jsx(Hh.Provider,{scope:e.__scopeMenu,children:r.jsx(ia,{present:a||i.open,children:r.jsx(Hh.Slot,{scope:e.__scopeMenu,children:r.jsx(_0,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{d.isUsingKeyboardRef.current&&u.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:ot(e.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ot(e.onEscapeKeyDown,m=>{d.onClose(),m.preventDefault()}),onKeyDown:ot(e.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),w=wM[d.dir].includes(m.key);g&&w&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});kS.displayName=PS;function ES(e){return e?"open":"closed"}function Bm(e){return e==="indeterminate"}function E0(e){return Bm(e)?"indeterminate":e?"checked":"unchecked"}function BM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function zM(e,t){return e.map((n,a)=>e[(t+a)%e.length])}function UM(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let d=zM(e,Math.max(i,0));s.length===1&&(d=d.filter(h=>h!==n));const u=d.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function qM(e,t){const{x:n,y:a}=e;let s=!1;for(let i=0,d=t.length-1;i<t.length;d=i++){const c=t[i],u=t[d],h=c.x,m=c.y,g=u.x,w=u.y;m>a!=w>a&&n<(g-h)*(a-m)/(w-m)+h&&(s=!s)}return s}function VM(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return qM(n,t)}function Wh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var AS=dS,TS=N0,RS=hS,DS=fS,LS=P0,MS=mS,FS=Mp,OS=gS,IS=vS,$S=wS,BS=jS,zS=NS,US=SS,qS=_S,VS=kS,A0="ContextMenu",[HM]=va(A0,[Dp]),as=Dp(),[WM,HS]=HM(A0),WS=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:a,dir:s,modal:i=!0}=e,[d,c]=v.useState(!1),u=as(t),h=zn(a),m=v.useCallback(g=>{c(g),h(g)},[h]);return r.jsx(WM,{scope:t,open:d,onOpenChange:m,modal:i,children:r.jsx(AS,{...u,dir:s,open:d,onOpenChange:m,modal:i,children:n})})};WS.displayName=A0;var GS="ContextMenuTrigger",YS=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:a=!1,...s}=e,i=HS(GS,n),d=as(n),c=v.useRef({x:0,y:0}),u=v.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),h=v.useRef(0),m=v.useCallback(()=>window.clearTimeout(h.current),[]),g=w=>{c.current={x:w.clientX,y:w.clientY},i.onOpenChange(!0)};return v.useEffect(()=>m,[m]),v.useEffect(()=>void(a&&m()),[a,m]),r.jsxs(r.Fragment,{children:[r.jsx(TS,{...d,virtualRef:u}),r.jsx(Lt.span,{"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:a?e.onContextMenu:ot(e.onContextMenu,w=>{m(),g(w),w.preventDefault()}),onPointerDown:a?e.onPointerDown:ot(e.onPointerDown,em(w=>{m(),h.current=window.setTimeout(()=>g(w),700)})),onPointerMove:a?e.onPointerMove:ot(e.onPointerMove,em(m)),onPointerCancel:a?e.onPointerCancel:ot(e.onPointerCancel,em(m)),onPointerUp:a?e.onPointerUp:ot(e.onPointerUp,em(m))})]})});YS.displayName=GS;var GM="ContextMenuPortal",KS=e=>{const{__scopeContextMenu:t,...n}=e,a=as(t);return r.jsx(RS,{...a,...n})};KS.displayName=GM;var JS="ContextMenuContent",XS=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=HS(JS,n),i=as(n),d=v.useRef(!1);return r.jsx(DS,{...i,...a,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),!c.defaultPrevented&&d.current&&c.preventDefault(),d.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),!c.defaultPrevented&&!s.modal&&(d.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XS.displayName=JS;var YM="ContextMenuGroup",KM=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(LS,{...s,...a,ref:t})});KM.displayName=YM;var JM="ContextMenuLabel",QS=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(MS,{...s,...a,ref:t})});QS.displayName=JM;var XM="ContextMenuItem",ZS=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(FS,{...s,...a,ref:t})});ZS.displayName=XM;var QM="ContextMenuCheckboxItem",e4=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(OS,{...s,...a,ref:t})});e4.displayName=QM;var ZM="ContextMenuRadioGroup",eF=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(IS,{...s,...a,ref:t})});eF.displayName=ZM;var tF="ContextMenuRadioItem",t4=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx($S,{...s,...a,ref:t})});t4.displayName=tF;var rF="ContextMenuItemIndicator",r4=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(BS,{...s,...a,ref:t})});r4.displayName=rF;var nF="ContextMenuSeparator",n4=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(zS,{...s,...a,ref:t})});n4.displayName=nF;var aF="ContextMenuArrow",sF=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(US,{...s,...a,ref:t})});sF.displayName=aF;var oF="ContextMenuSubTrigger",a4=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(qS,{...s,...a,ref:t})});a4.displayName=oF;var iF="ContextMenuSubContent",s4=v.forwardRef((e,t)=>{const{__scopeContextMenu:n,...a}=e,s=as(n);return r.jsx(VS,{...s,...a,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});s4.displayName=iF;function em(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var lF=WS,cF=YS,dF=KS,o4=XS,i4=QS,l4=ZS,c4=e4,d4=t4,u4=r4,h4=n4,f4=a4,m4=s4;const uF=lF,hF=cF,fF=v.forwardRef(({className:e,inset:t,children:n,...a},s)=>r.jsxs(f4,{ref:s,className:xt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...a,children:[n,r.jsx(Ov,{className:"ml-auto h-4 w-4"})]}));fF.displayName=f4.displayName;const mF=v.forwardRef(({className:e,...t},n)=>r.jsx(m4,{ref:n,className:xt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));mF.displayName=m4.displayName;const p4=v.forwardRef(({className:e,...t},n)=>r.jsx(dF,{children:r.jsx(o4,{ref:n,className:xt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));p4.displayName=o4.displayName;const vm=v.forwardRef(({className:e,inset:t,...n},a)=>r.jsx(l4,{ref:a,className:xt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));vm.displayName=l4.displayName;const pF=v.forwardRef(({className:e,children:t,checked:n,...a},s)=>r.jsxs(c4,{ref:s,className:xt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(u4,{children:r.jsx(Xm,{className:"h-4 w-4"})})}),t]}));pF.displayName=c4.displayName;const gF=v.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(d4,{ref:a,className:xt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(u4,{children:r.jsx($v,{className:"h-2 w-2 fill-current"})})}),t]}));gF.displayName=d4.displayName;const xF=v.forwardRef(({className:e,inset:t,...n},a)=>r.jsx(i4,{ref:a,className:xt("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));xF.displayName=i4.displayName;const vF=v.forwardRef(({className:e,...t},n)=>r.jsx(h4,{ref:n,className:xt("-mx-1 my-1 h-px bg-border",e),...t}));vF.displayName=h4.displayName;const yF=Xh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function za({className:e,variant:t,...n}){return r.jsx("div",{className:xt(yF({variant:t}),e),...n})}function h2(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);n.setHours(0,0,0,0);const a=n.getTime()-t.getTime(),s=Math.ceil(a/(1e3*60*60*24));if(s<0){const i=Math.abs(s);return i>30?{status:"Atraso crtico",daysOverdue:i,color:"destructive",bgColor:"bg-destructive/20",textColor:"text-destructive"}:{status:"Atrasado",daysOverdue:i,color:"destructive",bgColor:"bg-destructive/10",textColor:"text-destructive"}}return s<=5?{status:"Prximo do vencimento",daysUntilDue:s,color:"warning",bgColor:"bg-warning/10",textColor:"text-warning"}:{status:"Em dia",daysUntilDue:s,color:"success",bgColor:"bg-success/10",textColor:"text-success"}}function wF(e,t,n){if(t)return"bg-primary/10 border-l-4 border-primary";const a=n%2===0?"bg-background":"bg-muted/20";switch(e){case"Prximo do vencimento":return`${a} hover:bg-warning/5`;case"Atrasado":return`${a} hover:bg-destructive/5`;case"Atraso crtico":return`${a} hover:bg-destructive/10`;default:return`${a} hover:bg-muted/30`}}const bF=e=>e?{cash:"Dinheiro",pix:"Pix",debit_card:"Carto Dbito",credit_card:"Carto Crdito",Dinheiro:"Dinheiro",Pix:"Pix","Carto Dbito":"Carto Dbito","Carto Crdito":"Carto Crdito"}[e]||e:"-";function jF(){const{toast:e}=Hr(),{monthlyCustomers:t,deleteMonthlyCustomer:n}=Zo(),{hasPermission:a}=Ss(),[s,i]=v.useState(!1),[d,c]=v.useState(!1),[u,h]=v.useState(),[m,g]=v.useState(""),[w,p]=v.useState(null),S=()=>{a("manageMonthlyCustomers")&&(h(void 0),i(!0))},j=W=>{a("manageMonthlyCustomers")&&(h(W),i(!0))},N=W=>{a("manageMonthlyCustomers")&&(h(W),c(!0))},P=async W=>{if(a("manageMonthlyCustomers")&&confirm(`Deseja realmente remover o cliente ${W.name}?`))try{await n(W.id),e({title:"Cliente removido",description:"O cliente foi excludo com sucesso",variant:"default"})}catch(te){console.error("Erro ao remover cliente:",te),e({title:"Erro ao remover",description:"No foi possvel remover o cliente",variant:"destructive"})}};v.useEffect(()=>{const W=te=>{te.key==="Escape"&&p(null)};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[]);const k=W=>{p(W)},E=a("manageMonthlyCustomers"),O=v.useMemo(()=>t.map(W=>({...W,statusInfo:h2(W.dueDate)})),[t]),B=v.useMemo(()=>{if(!m.trim())return O;const W=m.toLowerCase();return O.filter(te=>te.name.toLowerCase().includes(W)||(Array.isArray(te.plates)?te.plates:[]).some(K=>K.toLowerCase().includes(W))||te.parkingSlot?.toString().includes(W))},[O,m]),ae=v.useMemo(()=>{const W=O.length,te=O.filter(L=>L.statusInfo.status==="Em dia").length,K=O.filter(L=>L.statusInfo.status==="Atrasado"||L.statusInfo.status==="Atraso crtico").length,oe=O.reduce((L,F)=>L+F.value,0);return{total:W,emDia:te,atrasados:K,totalRevenue:oe}},[O]);return r.jsxs("div",{className:"flex-1 p-8",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mensalistas"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Gesto de clientes recorrentes"}),!E&&r.jsx("div",{className:"mt-2",children:r.jsx(za,{variant:"secondary",className:"text-xs",children:"Somente leitura"})})]}),E&&r.jsxs(Ne,{onClick:S,children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Adicionar Cliente"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de Clientes"}),r.jsx("div",{className:"text-2xl font-bold mt-1",children:ae.total})]}),r.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Em Dia"}),r.jsx("div",{className:"text-2xl font-bold mt-1 text-green-600",children:ae.emDia})]}),r.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Atrasados"}),r.jsx("div",{className:"text-2xl font-bold mt-1 text-red-600",children:ae.atrasados})]}),r.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Receita Mensal"}),r.jsxs("div",{className:"text-2xl font-bold mt-1",children:["R$ ",ae.totalRevenue.toFixed(2)]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Buscar por nome, placa ou vaga...",value:m,onChange:W=>g(W.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-background"})}),r.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Cliente"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Placas"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Vaga Reservada"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Valor"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Data de Contratao"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Prximo Vencimento"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"ltimo Pagamento"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Mtodo de Pagamento"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-foreground",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-foreground",children:"Aes"})]})}),r.jsx("tbody",{children:B.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-muted-foreground",children:m?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"})}):B.map((W,te)=>{const K=w===W.id,oe=wF(W.statusInfo.status,K,te);return r.jsxs(uF,{children:[r.jsx(hF,{asChild:!0,children:r.jsxs("tr",{className:`cursor-pointer transition-colors ${oe}`,onClick:()=>k(W.id),children:[r.jsx("td",{className:"px-4 py-3 font-medium",children:W.name}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(W.plates)?W.plates:[]).map((L,F)=>r.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:L},F))})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:["Vaga ",W.parkingSlot]})}),r.jsxs("td",{className:"px-4 py-3 font-medium",children:["R$ ",W.value.toFixed(2)]}),r.jsx("td",{className:"px-4 py-3 text-sm",children:W.contractDate&&!isNaN(new Date(W.contractDate).getTime())?wt(new Date(W.contractDate),"dd/MM/yyyy",{locale:ur}):"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:W.dueDate&&!isNaN(new Date(W.dueDate).getTime())?wt(new Date(W.dueDate),"dd/MM/yyyy",{locale:ur}):"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:W.lastPayment&&!isNaN(new Date(W.lastPayment).getTime())?wt(new Date(W.lastPayment),"dd/MM/yyyy",{locale:ur}):"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:W.lastPaymentMethod?r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-muted",children:bF(W.lastPaymentMethod)}):"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.statusInfo.bgColor} ${W.statusInfo.textColor}`,children:W.statusInfo.status})}),r.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:E&&r.jsx(Ne,{size:"sm",onClick:L=>{L.stopPropagation(),N(W)},children:"Registrar Pagamento"})})]})}),r.jsx(p4,{children:E&&r.jsxs(r.Fragment,{children:[r.jsx(vm,{onClick:()=>j(W),children:"Editar"}),r.jsx(vm,{onClick:()=>N(W),children:"Efetuar Pagamento"}),r.jsx(vm,{onClick:()=>P(W),className:"text-destructive",children:"Remover"})]})})]},W.id)})})]})})}),w&&(()=>{const W=t.find(K=>K.id===w);if(!W)return null;const te=h2(W.dueDate);return r.jsx(gM,{customer:W,statusInfo:te})})()]}),r.jsx(mM,{open:s,onOpenChange:i,customer:u}),r.jsx(pM,{open:d,onOpenChange:c,customer:u})]})}const Rt=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Rt.displayName="Card";const gr=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xt("flex flex-col space-y-1.5 p-6",e),...t}));gr.displayName="CardHeader";const xr=v.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:xt("text-2xl font-semibold leading-none tracking-tight",e),...t}));xr.displayName="CardTitle";const pn=v.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:xt("text-sm text-muted-foreground",e),...t}));pn.displayName="CardDescription";const Dt=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xt("p-6 pt-0",e),...t}));Dt.displayName="CardContent";const NF=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xt("flex items-center p-6 pt-0",e),...t}));NF.displayName="CardFooter";var Fp="Tabs",[SF]=va(Fp,[Vu]),g4=Vu(),[CF,T0]=SF(Fp),x4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:d="horizontal",dir:c,activationMode:u="automatic",...h}=e,m=Uu(c),[g,w]=vo({prop:a,onChange:s,defaultProp:i??"",caller:Fp});return r.jsx(CF,{scope:n,baseId:go(),value:g,onValueChange:w,orientation:d,dir:m,activationMode:u,children:r.jsx(Lt.div,{dir:m,"data-orientation":d,...h,ref:t})})});x4.displayName=Fp;var v4="TabsList",y4=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=T0(v4,n),d=g4(n);return r.jsx(v0,{asChild:!0,...d,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(Lt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});y4.displayName=v4;var w4="TabsTrigger",b4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,d=T0(w4,n),c=g4(n),u=S4(d.baseId,a),h=C4(d.baseId,a),m=a===d.value;return r.jsx(y0,{asChild:!0,...c,focusable:!s,active:m,children:r.jsx(Lt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:t,onMouseDown:ot(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?d.onValueChange(a):g.preventDefault()}),onKeyDown:ot(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&d.onValueChange(a)}),onFocus:ot(e.onFocus,()=>{const g=d.activationMode!=="manual";!m&&!s&&g&&d.onValueChange(a)})})})});b4.displayName=w4;var j4="TabsContent",N4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...d}=e,c=T0(j4,n),u=S4(c.baseId,a),h=C4(c.baseId,a),m=a===c.value,g=v.useRef(m);return v.useEffect(()=>{const w=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(w)},[]),r.jsx(ia,{present:s||m,children:({present:w})=>r.jsx(Lt.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:h,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:w&&i})})});N4.displayName=j4;function S4(e,t){return`${e}-trigger-${t}`}function C4(e,t){return`${e}-content-${t}`}var _F=x4,_4=y4,P4=b4,k4=N4;const Hs=_F,js=v.forwardRef(({className:e,...t},n)=>r.jsx(_4,{ref:n,className:xt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));js.displayName=_4.displayName;const or=v.forwardRef(({className:e,...t},n)=>r.jsx(P4,{ref:n,className:xt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));or.displayName=P4.displayName;const ir=v.forwardRef(({className:e,...t},n)=>r.jsx(k4,{ref:n,className:xt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ir.displayName=k4.displayName;const Wo=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:xt("w-full caption-bottom text-sm",e),...t})}));Wo.displayName="Table";const Go=v.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:xt("[&_tr]:border-b",e),...t}));Go.displayName="TableHeader";const Yo=v.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:xt("[&_tr:last-child]:border-0",e),...t}));Yo.displayName="TableBody";const PF=v.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:xt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));PF.displayName="TableFooter";const sn=v.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:xt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));sn.displayName="TableRow";const Ht=v.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:xt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ht.displayName="TableHead";const Mt=v.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:xt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Mt.displayName="TableCell";const kF=v.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:xt("mt-4 text-sm text-muted-foreground",e),...t}));kF.displayName="TableCaption";function E4({open:e,onOpenChange:t,onSuccess:n,mode:a="create",convenioId:s,initialData:i}){const[d,c]=v.useState(1),[u,h]=v.useState(!1),[m,g]=v.useState(""),[w,p]=v.useState(""),[S,j]=v.useState(""),[N,P]=v.useState(""),[k,E]=v.useState(""),[O,B]=v.useState(""),[ae,W]=v.useState(""),[te,K]=v.useState(""),[oe,L]=v.useState(""),[F,z]=v.useState(""),[q,ge]=v.useState(""),[fe,ye]=v.useState(""),[U,$]=v.useState(""),[H,D]=v.useState(""),[T,I]=v.useState(""),[G,J]=v.useState(!1),[ce,se]=v.useState("gratis"),[pe,le]=v.useState(""),[be,Ee]=v.useState(""),[Q,Te]=v.useState(""),[Ve,re]=v.useState(""),[we,Xe]=v.useState(""),[lt,qe]=v.useState(""),[st,Ze]=v.useState(""),pt=()=>{c(1),g(""),p(""),j(""),P(""),E(""),B(""),W(""),K(""),L(""),z(""),ge(""),ye(""),$(""),D(""),I(""),Te(""),re(""),J(!1),Ee(""),Xe(""),qe(""),Ze("")};v.useEffect(()=>{a==="edit"&&i&&e&&(g(i.nome_empresa||""),p(i.razao_social||""),j(i.cnpj||""),P(i.categoria||""),E(i.endereco_completo||""),B(i.observacoes||""),W(i.contato_nome||""),K(i.contato_email||""),L(i.contato_telefone||""),z(i.tipo_convenio||""),i.plano&&(ge(i.plano.num_vagas_contratadas?.toString()||""),ye(i.plano.num_vagas_reservadas?.toString()||"0"),$(i.plano.valor_por_vaga?.toString()||""),D(i.plano.valor_mensal?.toString()||""),I(i.plano.dia_vencimento_pagamento?.toString()||""),Te(i.plano.dia_fechamento?.toString()||""),re(i.plano.dia_vencimento_pos_pago?.toString()||""),J(i.plano.permite_vagas_extras||!1),Ee(i.plano.valor_vaga_extra?.toString()||""),Xe(i.plano.porcentagem_desconto?.toString()||""),i.plano.permite_vagas_extras&&se(i.plano.valor_vaga_extra&&parseFloat(i.plano.valor_vaga_extra.toString())>0?"paga":"gratis")),qe(i.data_inicio||""),Ze(i.data_vencimento_contrato||""))},[a,i,e]);const ct=async()=>{try{h(!0);const Se=F==="pre-pago";if(a==="edit"&&s){const me={nome_empresa:m,razao_social:w,cnpj:S,categoria:N,data_vencimento_contrato:st||void 0,contato_nome:ae,contato_email:te,contato_telefone:oe,endereco_completo:k||void 0,observacoes:O||void 0},Me={num_vagas_contratadas:parseInt(q),num_vagas_reservadas:parseInt(fe)||0,valor_por_vaga:U?parseFloat(U):void 0,valor_mensal:Se&&H?parseFloat(H):null,dia_vencimento_pagamento:Se?parseInt(T):null,dia_vencimento_pos_pago:!Se&&Ve?parseInt(Ve):null,dia_fechamento:!Se&&Q?parseInt(Q):null,permite_vagas_extras:G,valor_vaga_extra:G&&ce==="paga"?parseFloat(be):null,porcentagem_desconto:we?parseFloat(we):null};console.log("[DialogNovoConvenio]  Enviando updates:",{convenioId:s,planoUpdates:Me,dia_vencimento_key:Se?"dia_vencimento_pagamento":"dia_vencimento_pos_pago",dia_vencimento_value:Se?Me.dia_vencimento_pagamento:Me.dia_vencimento_pos_pago});const[ze,Ye]=await Promise.all([rt.updateConvenio(s,me),rt.updateConvenioPlano(s,Me)]);console.log("[DialogNovoConvenio]  Backend responses:",{convenioResponse:ze,planoResponse:Ye}),console.log("[DialogNovoConvenio]  Triggering parent refetch..."),n(),await new Promise(ht=>setTimeout(ht,100)),console.log("[DialogNovoConvenio]  Closing dialog..."),t(!1),pt()}else{const me={nome_empresa:m,razao_social:w,cnpj:S,tipo_convenio:F,categoria:N,data_inicio:lt,data_vencimento_contrato:st||void 0,contato_nome:ae,contato_email:te,contato_telefone:oe,endereco_completo:k||void 0,observacoes:O||void 0,plano:{tipo_plano:"padrao",num_vagas_contratadas:parseInt(q),num_vagas_reservadas:parseInt(fe)||0,valor_por_vaga:U?parseFloat(U):void 0,valor_mensal:Se&&H?parseFloat(H):null,dia_vencimento_pagamento:Se?parseInt(T):void 0,dia_vencimento_pos_pago:!Se&&Ve?parseInt(Ve):void 0,dia_fechamento:!Se&&Q?parseInt(Q):void 0,permite_vagas_extras:G,valor_vaga_extra:G&&ce==="paga"?parseFloat(be):void 0,porcentagem_desconto:we?parseFloat(we):void 0}};await rt.createConvenio(me),n(),t(!1),pt()}}catch(Se){console.error("[DialogNovoConvenio]  Error:",Se),alert(Se.message||`Erro ao ${a==="edit"?"atualizar":"criar"} convnio`)}finally{h(!1)}},zt=()=>d===1?m&&w&&S&&N:d===2?ae&&te&&oe:d===3?F==="pre-pago"?F&&q&&H&&T:F==="pos-pago"?F&&q&&Ve&&Q:!1:d===4?lt:!1;return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Er,{children:[r.jsxs(Ar,{children:[a==="edit"?"Editar":"Novo"," Convnio - Passo ",d," de 4"]}),r.jsxs(Ua,{children:[d===1&&"Dados da empresa",d===2&&"Informaes de contato",d===3&&"Configurao do plano",d===4&&"Dados do contrato"]})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[d===1&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"nome_empresa",children:["Nome da Empresa ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"nome_empresa",value:m,onChange:Se=>g(Se.target.value),placeholder:"Ex: Empresa LTDA"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"razao_social",children:["Razo Social ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"razao_social",value:w,onChange:Se=>p(Se.target.value),placeholder:"Ex: Empresa LTDA"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"cnpj",children:["CNPJ ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"cnpj",value:S,onChange:Se=>j(Se.target.value),placeholder:"00.000.000/0000-00"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"categoria",children:["Categoria ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(vr,{value:N,onValueChange:P,children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione a categoria"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"funcionarios",children:"Funcionrios"}),r.jsx(Qe,{value:"clientes",children:"Clientes"}),r.jsx(Qe,{value:"fornecedores",children:"Fornecedores"}),r.jsx(Qe,{value:"outros",children:"Outros"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"endereco",children:"Endereo Completo"}),r.jsx(ea,{id:"endereco",value:k,onChange:Se=>E(Se.target.value),placeholder:"Rua, nmero, bairro, cidade, estado"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"observacoes",children:"Observaes"}),r.jsx(ea,{id:"observacoes",value:O,onChange:Se=>B(Se.target.value),placeholder:"Informaes adicionais"})]})]}),d===2&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"contato_nome",children:["Nome do Contato ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"contato_nome",value:ae,onChange:Se=>W(Se.target.value),placeholder:"Nome completo"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"contato_email",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"contato_email",type:"email",value:te,onChange:Se=>K(Se.target.value),placeholder:"email@empresa.com"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"contato_telefone",children:["Telefone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"contato_telefone",value:oe,onChange:Se=>L(Se.target.value),placeholder:"(00) 00000-0000"})]})]}),d===3&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"tipo_convenio",children:["Tipo de Convnio ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(vr,{value:F,onValueChange:z,children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"pre-pago",children:"Pr-pago (Mensalidade Fixa)"}),r.jsx(Qe,{value:"pos-pago",children:"Ps-pago (Por Uso)"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"num_vagas",children:["Vagas Contratadas ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"num_vagas",type:"number",value:q,onChange:Se=>ge(Se.target.value),placeholder:"0"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"num_vagas_reservadas",children:"Vagas Reservadas"}),r.jsx(Fe,{id:"num_vagas_reservadas",type:"number",value:fe,onChange:Se=>ye(Se.target.value),placeholder:"0"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"valor_por_vaga",children:"Valor por Vaga (R$/vaga)"}),r.jsx(Fe,{id:"valor_por_vaga",type:"number",step:"0.01",value:U,onChange:Se=>$(Se.target.value),placeholder:"0.00"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor unitrio por vaga. Usado para calcular o valor total do convnio."})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"porcentagem_desconto",children:"Desconto Percentual (Opcional)"}),r.jsx(Fe,{id:"porcentagem_desconto",type:"number",step:"0.01",min:"0",max:"100",value:we,onChange:Se=>Xe(Se.target.value),placeholder:"0.00"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Desconto aplicado sobre o valor integral (0-100%)"})]}),U&&q&&r.jsxs("div",{className:"border rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[r.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Preview do Valor Total"}),(()=>{const Se=parseInt(q)||0,me=parseFloat(U)||0,Me=parseFloat(we)||0,ze=Se*me,Ye=ze*(Me/100),ht=ze-Ye;return r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-700",children:["Valor Integral (",Se," vagas  R$ ",me.toFixed(2),"):"]}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["R$ ",ze.toFixed(2)]})]}),Me>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-700",children:["Desconto (",Me,"%):"]}),r.jsxs("span",{className:"font-semibold text-red-600",children:["- R$ ",Ye.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-300",children:[r.jsx("span",{className:"font-semibold text-blue-900",children:"Valor Final:"}),r.jsxs("span",{className:"font-bold text-lg text-blue-900",children:["R$ ",ht.toFixed(2)]})]})]})})()]}),F==="pre-pago"?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"valor_mensal",children:["Valor Mensal ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"valor_mensal",type:"number",step:"0.01",value:H,onChange:Se=>D(Se.target.value),placeholder:"0.00"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"dia_vencimento",children:["Dia de Vencimento ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"dia_vencimento",type:"number",min:"1",max:"31",value:T,onChange:Se=>I(Se.target.value),placeholder:"1-31"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:" Dias 29-31 sero ajustados para o ltimo dia vlido em meses mais curtos"})]})]}):F==="pos-pago"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-md text-sm border border-blue-200",children:" Valor calculado mensalmente baseado no uso real"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"dia_fechamento",children:["Dia de Fechamento ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"dia_fechamento",type:"number",min:"1",max:"31",value:Q,onChange:Se=>Te(Se.target.value),placeholder:"1-31"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Data de fechamento do perodo de cobrana"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"dia_vencimento_pos_pago",children:["Dia de Vencimento ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"dia_vencimento_pos_pago",type:"number",min:"1",max:"31",value:Ve,onChange:Se=>re(Se.target.value),placeholder:"1-31"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:" Dias 29-31 sero ajustados para o ltimo dia vlido em meses mais curtos"})]})]})]}):null,r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ac,{id:"permite_vagas_extras",checked:G,onCheckedChange:Se=>J(Se)}),r.jsx(xe,{htmlFor:"permite_vagas_extras",className:"cursor-pointer",children:"Permite Vagas Extras"})]}),G&&r.jsxs("div",{className:"space-y-4 border-l-2 border-blue-200 pl-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{children:["Tipo de Vagas Extras ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(Tp,{value:ce,onValueChange:Se=>se(Se),children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jd,{value:"gratis",id:"vaga_gratis"}),r.jsx(xe,{htmlFor:"vaga_gratis",className:"cursor-pointer font-normal",children:"Vagas Extras Gratuitas"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jd,{value:"paga",id:"vaga_paga"}),r.jsx(xe,{htmlFor:"vaga_paga",className:"cursor-pointer font-normal",children:"Vagas Extras Pagas"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"max_vagas_extras",children:["Quantidade Mxima de Vagas Extras ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"max_vagas_extras",type:"number",min:"1",value:pe,onChange:Se=>le(Se.target.value),placeholder:"Ex: 5"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Limite de vagas extras permitidas alm das contratadas"})]}),ce==="paga"&&r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"valor_vaga_extra",children:["Valor por Vaga Extra ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"valor_vaga_extra",type:"number",step:"0.01",min:"0",value:be,onChange:Se=>Ee(Se.target.value),placeholder:"0.00"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor cobrado por cada vaga extra utilizada"})]})]})]}),d===4&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"data_inicio",children:["Data de Incio ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"data_inicio",type:"date",value:lt,onChange:Se=>qe(Se.target.value)})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"data_vencimento_contrato",children:"Data de Vencimento do Contrato (Opcional)"}),r.jsx(Fe,{id:"data_vencimento_contrato",type:"date",value:st,onChange:Se=>Ze(Se.target.value)})]}),r.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Convnio"}),r.jsxs("dl",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-muted-foreground",children:"Empresa:"}),r.jsx("dd",{className:"font-medium",children:m})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-muted-foreground",children:"Tipo:"}),r.jsx("dd",{className:"font-medium capitalize",children:F})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-muted-foreground",children:"Vagas:"}),r.jsx("dd",{className:"font-medium",children:q})]}),F==="pre-pago"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-muted-foreground",children:"Valor Mensal:"}),r.jsxs("dd",{className:"font-medium",children:["R$ ",parseFloat(H||"0").toFixed(2)]})]})]})]})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),d>1&&r.jsx(Ne,{variant:"outline",onClick:()=>c(d-1),children:"Voltar"}),d<4?r.jsx(Ne,{onClick:()=>c(d+1),disabled:!zt(),children:"Prximo"}):r.jsx(Ne,{onClick:ct,disabled:!zt()||u,className:"bg-green-600 hover:bg-green-700",children:u?"Salvando...":a==="edit"?"Finalizar":"Criar Convnio"})]})]})})}function EF({open:e,onOpenChange:t,convenioId:n,tipoConvenio:a,planoAtual:s,onSuccess:i}){const[d,c]=v.useState(!1),u=a==="pre-pago",[h,m]=v.useState(a),[g,w]=v.useState(""),[p,S]=v.useState(""),[j,N]=v.useState(""),[P,k]=v.useState(""),[E,O]=v.useState(""),[B,ae]=v.useState(!1),[W,te]=v.useState("gratis"),[K,oe]=v.useState(""),[L,F]=v.useState("");v.useEffect(()=>{if(e&&s){m(a),w(s.num_vagas_contratadas?.toString()||""),S(s.num_vagas_reservadas?.toString()||"0"),N(s.valor_mensal?.toString()||""),k(s.dia_vencimento_pagamento?.toString()||""),ae(s.permite_vagas_extras||!1);const q=s.valor_vaga_extra;q&&parseFloat(q.toString())>0?(te("paga"),oe(q.toString())):(te("gratis"),oe("")),F(s.porcentagem_desconto?.toString()||"")}},[e,s]);const z=async()=>{if(!g||!P){alert("Preencha todos os campos obrigatrios");return}if(u&&!j){alert("Valor mensal  obrigatrio para convnios pr-pagos");return}if(!u&&!E){alert("Dia de fechamento  obrigatrio para convnios ps-pagos");return}const q=parseInt(g),ge=parseInt(p)||0;if(ge>q){alert("Vagas reservadas no pode ser maior que vagas contratadas");return}try{c(!0);const fe={tipo_plano:"padrao",num_vagas_contratadas:q,num_vagas_reservadas:ge,valor_mensal:u?parseFloat(j):null,dia_vencimento_pagamento:u?parseInt(P):void 0,dia_vencimento_pos_pago:u?void 0:parseInt(P),dia_fechamento:u?void 0:parseInt(E),permite_vagas_extras:B,valor_vaga_extra:B&&W==="paga"&&K?parseFloat(K):B&&W==="gratis"?0:void 0,porcentagem_desconto:L?parseFloat(L):void 0};await rt.updateConvenioPlano(n,fe),t(!1),i()}catch(fe){console.error("Erro:",fe),alert(fe.message||"Erro ao alterar plano")}finally{c(!1)}};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:"Alterar Plano"}),r.jsx(Ua,{children:"Modifique o plano contratado do convnio"})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"tipo_plano",children:["Tipo de Plano ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(vr,{value:h,onValueChange:q=>m(q),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione o tipo"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"pre-pago",children:"Pr-pago (Mensalidade Fixa)"}),r.jsx(Qe,{value:"pos-pago",children:"Ps-pago (Por Uso)"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:h===a?" Mantendo tipo de plano atual":` Alterando de ${a==="pre-pago"?"Pr-pago":"Ps-pago"} para ${h==="pre-pago"?"Pr-pago":"Ps-pago"}`})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"num_vagas",children:["Vagas Contratadas ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"num_vagas",type:"number",value:g,onChange:q=>w(q.target.value),placeholder:"0"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"num_vagas_reservadas",children:"Vagas Reservadas"}),r.jsx(Fe,{id:"num_vagas_reservadas",type:"number",value:p,onChange:q=>S(q.target.value),placeholder:"0"})]})]}),h==="pre-pago"?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"valor_mensal",children:["Valor Mensal ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"valor_mensal",type:"number",step:"0.01",value:j,onChange:q=>N(q.target.value),placeholder:"0.00"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"dia_vencimento",children:["Dia de Vencimento ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"dia_vencimento",type:"number",min:"1",max:"28",value:P,onChange:q=>k(q.target.value),placeholder:"1-28"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-md text-sm border border-blue-200",children:" Valor calculado mensalmente baseado no uso real"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"dia_fechamento",children:["Dia de Fechamento ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"dia_fechamento",type:"number",min:"1",max:"28",value:E,onChange:q=>O(q.target.value),placeholder:"1-28"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"dia_vencimento",children:["Dia de Vencimento ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"dia_vencimento",type:"number",min:"1",max:"28",value:P,onChange:q=>k(q.target.value),placeholder:"1-28"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"porcentagem_desconto",children:"Desconto Percentual (Opcional)"}),r.jsx(Fe,{id:"porcentagem_desconto",type:"number",step:"0.01",min:"0",max:"100",value:L,onChange:q=>F(q.target.value),placeholder:"0.00"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Desconto aplicado sobre o valor base da fatura (0-100%)"})]}),r.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-slate-50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ac,{id:"permite_vagas_extras",checked:B,onCheckedChange:q=>ae(q)}),r.jsx(xe,{htmlFor:"permite_vagas_extras",className:"cursor-pointer font-medium",children:"Permitir Vagas Extras"})]}),B&&r.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-blue-300",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure se as vagas extras sero gratuitas ou tero cobrana adicional"}),r.jsxs(Tp,{value:W,onValueChange:q=>te(q),children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jd,{value:"gratis",id:"gratis"}),r.jsx(xe,{htmlFor:"gratis",className:"cursor-pointer font-normal",children:"Gratuitas (sem cobrana adicional)"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jd,{value:"paga",id:"paga"}),r.jsx(xe,{htmlFor:"paga",className:"cursor-pointer font-normal",children:"Pagas (com cobrana por vaga extra)"})]})]}),W==="paga"&&r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"valor_vaga_extra",children:["Valor por Vaga Extra ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"valor_vaga_extra",type:"number",step:"0.01",value:K,onChange:q=>oe(q.target.value),placeholder:"0.00"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Este valor ser cobrado por cada vaga extra utilizada"})]})]})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{onClick:z,disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:d?"Salvando...":"Salvar Novo Plano"})]})]})})}function A4({open:e,onOpenChange:t,convenioId:n,onSuccess:a}){const[s,i]=v.useState(!1),[d,c]=v.useState(""),[u,h]=v.useState(""),[m,g]=v.useState(""),[w,p]=v.useState(""),[S,j]=v.useState(""),[N,P]=v.useState(""),k=()=>{c(""),h(""),g(""),p(""),j(""),P("")},E=async()=>{if(!d){alert("Placa  obrigatria");return}try{i(!0);const O={placa:d,modelo:u||void 0,cor:m||void 0,proprietario_nome:w||void 0,proprietario_cpf:S||void 0,observacoes:N||void 0};await rt.addConvenioVeiculo(n,O),k(),t(!1),a()}catch(O){console.error("Erro:",O),alert(O.message||"Erro ao adicionar veculo")}finally{i(!1)}};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[500px]",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:"Adicionar Veculo"}),r.jsx(Ua,{children:"Adicione um novo veculo autorizado ao convnio"})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"placa",children:["Placa ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"placa",value:d,onChange:O=>c(O.target.value.toUpperCase()),placeholder:"ABC1234",maxLength:7})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"modelo",children:"Modelo"}),r.jsx(Fe,{id:"modelo",value:u,onChange:O=>h(O.target.value),placeholder:"Ex: Civic"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"cor",children:"Cor"}),r.jsx(Fe,{id:"cor",value:m,onChange:O=>g(O.target.value),placeholder:"Ex: Prata"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"proprietario_nome",children:"Nome do Proprietrio"}),r.jsx(Fe,{id:"proprietario_nome",value:w,onChange:O=>p(O.target.value),placeholder:"Nome completo"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"proprietario_cpf",children:"CPF do Proprietrio"}),r.jsx(Fe,{id:"proprietario_cpf",value:S,onChange:O=>j(O.target.value),placeholder:"000.000.000-00"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"observacoes",children:"Observaes"}),r.jsx(ea,{id:"observacoes",value:N,onChange:O=>P(O.target.value),placeholder:"Informaes adicionais"})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{onClick:E,disabled:!d||s,className:"bg-green-600 hover:bg-green-700",children:s?"Salvando...":"Adicionar Veculo"})]})]})})}const AF=Xh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ki=v.forwardRef(({className:e,variant:t,...n},a)=>r.jsx("div",{ref:a,role:"alert",className:xt(AF({variant:t}),e),...n}));ki.displayName="Alert";const TF=v.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:xt("mb-1 font-medium leading-none tracking-tight",e),...t}));TF.displayName="AlertTitle";const Ei=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:xt("text-sm [&_p]:leading-relaxed",e),...t}));Ei.displayName="AlertDescription";var RF={};const f2=RF.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";function DF({open:e,onOpenChange:t,convenioId:n,convenioNome:a,tipoConvenio:s,valorMensal:i,onSuccess:d}){const[c,u]=v.useState(!1),[h,m]=v.useState(""),[g,w]=v.useState(""),[p,S]=v.useState(""),[j,N]=v.useState(""),[P,k]=v.useState(""),[E,O]=v.useState(0);v.useEffect(()=>{if(e){const L=new Date,F=L.toISOString().slice(0,7);m(F),w(L.toISOString().split("T")[0]),s==="pos-pago"&&B(F)}},[e,s]);const B=async L=>{try{const F=localStorage.getItem("token"),z=await fetch(`${f2}/convenios/${n}/movimentacoes/nao-faturadas?periodo=${L}`,{headers:{Authorization:`Bearer ${F}`}});if(z.ok){const q=await z.json();O(q.length)}}catch(F){console.error("Erro ao buscar movimentaes:",F)}},ae=()=>{m(""),w(""),S(""),N(""),k(""),O(0)},W=()=>{const L=i,F=parseFloat(p)||0,z=parseFloat(j)||0;return L+F-z},te=async()=>{if(!h){alert("Perodo de referncia  obrigatrio");return}try{u(!0);const L=localStorage.getItem("token"),F={periodo_referencia:h,data_emissao:g,valor_extras:parseFloat(p)||0,valor_descontos:parseFloat(j)||0,observacoes:P||void 0},z=await fetch(`${f2}/convenios/${n}/faturas`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(F)});if(z.ok)ae(),t(!1),d();else{const q=await z.json();alert(q.error||"Erro ao gerar fatura")}}catch(L){console.error("Erro:",L),alert("Erro ao gerar fatura")}finally{u(!1)}},K=L=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L),oe=L=>{if(!L)return"";const[F,z]=L.split("-");return`${["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][parseInt(z)-1]}/${F}`};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[500px]",children:[r.jsxs(Er,{children:[r.jsxs(Ar,{className:"flex items-center gap-2",children:[r.jsx(zv,{className:"h-5 w-5"}),"Gerar Fatura"]}),r.jsxs(Ua,{children:["Gerar fatura para ",a]})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs(ki,{children:[r.jsx(md,{className:"h-4 w-4"}),r.jsx(Ei,{children:s==="pre-pago"?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Pr-pago:"})," Valor fixo mensal de ",K(i)]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Ps-pago:"})," ",E," movimentao(es) no faturada(s)"]})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(xe,{htmlFor:"periodo_referencia",children:["Perodo de Referncia ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"periodo_referencia",type:"month",value:h,onChange:L=>{m(L.target.value),s==="pos-pago"&&B(L.target.value)}}),h&&r.jsx("p",{className:"text-sm text-muted-foreground",children:oe(h)})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"data_emissao",children:"Data de Emisso"}),r.jsx(Fe,{id:"data_emissao",type:"date",value:g,onChange:L=>w(L.target.value)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"valor_extras",children:"Valores Extras"}),r.jsx(Fe,{id:"valor_extras",type:"number",step:"0.01",value:p,onChange:L=>S(L.target.value),placeholder:"0.00"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"valor_descontos",children:"Descontos"}),r.jsx(Fe,{id:"valor_descontos",type:"number",step:"0.01",value:j,onChange:L=>N(L.target.value),placeholder:"0.00"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(xe,{htmlFor:"observacoes",children:"Observaes"}),r.jsx(ea,{id:"observacoes",value:P,onChange:L=>k(L.target.value),placeholder:"Informaes adicionais sobre a fatura"})]}),r.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Resumo da Fatura"}),r.jsxs("dl",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-muted-foreground",children:"Valor Base:"}),r.jsx("dd",{className:"font-medium",children:K(i)})]}),parseFloat(p)>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("dt",{children:"Extras:"}),r.jsxs("dd",{className:"font-medium",children:["+ ",K(parseFloat(p))]})]}),parseFloat(j)>0&&r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("dt",{children:"Descontos:"}),r.jsxs("dd",{className:"font-medium",children:["- ",K(parseFloat(j))]})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[r.jsx("dt",{className:"font-semibold",children:"Valor Total:"}),r.jsx("dd",{className:"font-bold text-lg",children:K(W())})]})]})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(Ne,{onClick:te,disabled:!h||c,className:"bg-green-600 hover:bg-green-700",children:c?"Gerando...":"Gerar Fatura"})]})]})})}const LF="modulepreload",MF=function(e){return"/"+e},m2={},Qg=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),c=d?.nonce||d?.getAttribute("nonce");s=u(n.map(h=>{if(h=MF(h),h in m2)return;m2[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":LF,m||(w.as="script"),w.crossOrigin="",w.href=h,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((p,S)=>{w.addEventListener("load",p),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return s.then(d=>{for(const c of d||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}var Xo=Uint8Array,Ws=Uint16Array,R0=Int32Array,D0=new Xo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L0=new Xo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p2=new Xo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T4=function(e,t){for(var n=new Ws(31),a=0;a<31;++a)n[a]=t+=1<<e[a-1];for(var s=new R0(n[30]),a=1;a<30;++a)for(var i=n[a];i<n[a+1];++i)s[i]=i-n[a]<<5|a;return{b:n,r:s}},R4=T4(D0,2),FF=R4.b,hv=R4.r;FF[28]=258,hv[258]=28;var OF=T4(L0,0),g2=OF.r,fv=new Ws(32768);for(var gn=0;gn<32768;++gn){var mc=(gn&43690)>>1|(gn&21845)<<1;mc=(mc&52428)>>2|(mc&13107)<<2,mc=(mc&61680)>>4|(mc&3855)<<4,fv[gn]=((mc&65280)>>8|(mc&255)<<8)>>1}var Rh=(function(e,t,n){for(var a=e.length,s=0,i=new Ws(t);s<a;++s)e[s]&&++i[e[s]-1];var d=new Ws(t);for(s=1;s<t;++s)d[s]=d[s-1]+i[s-1]<<1;var c;if(n){c=new Ws(1<<t);var u=15-t;for(s=0;s<a;++s)if(e[s])for(var h=s<<4|e[s],m=t-e[s],g=d[e[s]-1]++<<m,w=g|(1<<m)-1;g<=w;++g)c[fv[g]>>u]=h}else for(c=new Ws(a),s=0;s<a;++s)e[s]&&(c[s]=fv[d[e[s]-1]++]>>15-e[s]);return c}),Sd=new Xo(288);for(var gn=0;gn<144;++gn)Sd[gn]=8;for(var gn=144;gn<256;++gn)Sd[gn]=9;for(var gn=256;gn<280;++gn)Sd[gn]=7;for(var gn=280;gn<288;++gn)Sd[gn]=8;var zm=new Xo(32);for(var gn=0;gn<32;++gn)zm[gn]=5;var IF=Rh(Sd,9,0),$F=Rh(zm,5,0),D4=function(e){return(e+7)/8|0},BF=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Xo(e.subarray(t,n))},xl=function(e,t,n){n<<=t&7;var a=t/8|0;e[a]|=n,e[a+1]|=n>>8},Sh=function(e,t,n){n<<=t&7;var a=t/8|0;e[a]|=n,e[a+1]|=n>>8,e[a+2]|=n>>16},Zg=function(e,t){for(var n=[],a=0;a<e.length;++a)e[a]&&n.push({s:a,f:e[a]});var s=n.length,i=n.slice();if(!s)return{t:M4,l:0};if(s==1){var d=new Xo(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function(B,ae){return B.f-ae.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],h=0,m=1,g=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};m!=s-1;)c=n[n[h].f<n[g].f?h++:g++],u=n[h!=m&&n[h].f<n[g].f?h++:g++],n[m++]={s:-1,f:c.f+u.f,l:c,r:u};for(var w=i[0].s,a=1;a<s;++a)i[a].s>w&&(w=i[a].s);var p=new Ws(w+1),S=mv(n[m-1],p,0);if(S>t){var a=0,j=0,N=S-t,P=1<<N;for(i.sort(function(ae,W){return p[W.s]-p[ae.s]||ae.f-W.f});a<s;++a){var k=i[a].s;if(p[k]>t)j+=P-(1<<S-p[k]),p[k]=t;else break}for(j>>=N;j>0;){var E=i[a].s;p[E]<t?j-=1<<t-p[E]++-1:++a}for(;a>=0&&j;--a){var O=i[a].s;p[O]==t&&(--p[O],++j)}S=t}return{t:new Xo(p),l:S}},mv=function(e,t,n){return e.s==-1?Math.max(mv(e.l,t,n+1),mv(e.r,t,n+1)):t[e.s]=n},x2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ws(++t),a=0,s=e[0],i=1,d=function(u){n[a++]=u},c=1;c<=t;++c)if(e[c]==s&&c!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)d(32754);i>2&&(d(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(d(s),--i;i>6;i-=6)d(8304);i>2&&(d(i-3<<5|8208),i=0)}for(;i--;)d(s);i=1,s=e[c]}return{c:n.subarray(0,a),n:t}},Ch=function(e,t){for(var n=0,a=0;a<t.length;++a)n+=e[a]*t[a];return n},L4=function(e,t,n){var a=n.length,s=D4(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=n[i];return(s+4+a)*8},v2=function(e,t,n,a,s,i,d,c,u,h,m){xl(t,m++,n),++s[256];for(var g=Zg(s,15),w=g.t,p=g.l,S=Zg(i,15),j=S.t,N=S.l,P=x2(w),k=P.c,E=P.n,O=x2(j),B=O.c,ae=O.n,W=new Ws(19),te=0;te<k.length;++te)++W[k[te]&31];for(var te=0;te<B.length;++te)++W[B[te]&31];for(var K=Zg(W,7),oe=K.t,L=K.l,F=19;F>4&&!oe[p2[F-1]];--F);var z=h+5<<3,q=Ch(s,Sd)+Ch(i,zm)+d,ge=Ch(s,w)+Ch(i,j)+d+14+3*F+Ch(W,oe)+2*W[16]+3*W[17]+7*W[18];if(u>=0&&z<=q&&z<=ge)return L4(t,m,e.subarray(u,u+h));var fe,ye,U,$;if(xl(t,m,1+(ge<q)),m+=2,ge<q){fe=Rh(w,p,0),ye=w,U=Rh(j,N,0),$=j;var H=Rh(oe,L,0);xl(t,m,E-257),xl(t,m+5,ae-1),xl(t,m+10,F-4),m+=14;for(var te=0;te<F;++te)xl(t,m+3*te,oe[p2[te]]);m+=3*F;for(var D=[k,B],T=0;T<2;++T)for(var I=D[T],te=0;te<I.length;++te){var G=I[te]&31;xl(t,m,H[G]),m+=oe[G],G>15&&(xl(t,m,I[te]>>5&127),m+=I[te]>>12)}}else fe=IF,ye=Sd,U=$F,$=zm;for(var te=0;te<c;++te){var J=a[te];if(J>255){var G=J>>18&31;Sh(t,m,fe[G+257]),m+=ye[G+257],G>7&&(xl(t,m,J>>23&31),m+=D0[G]);var ce=J&31;Sh(t,m,U[ce]),m+=$[ce],ce>3&&(Sh(t,m,J>>5&8191),m+=L0[ce])}else Sh(t,m,fe[J]),m+=ye[J]}return Sh(t,m,fe[256]),m+ye[256]},zF=new R0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M4=new Xo(0),UF=function(e,t,n,a,s,i){var d=i.z||e.length,c=new Xo(a+d+5*(1+Math.ceil(d/7e3))+s),u=c.subarray(a,c.length-s),h=i.l,m=(i.r||0)&7;if(t){m&&(u[0]=i.r>>3);for(var g=zF[t-1],w=g>>13,p=g&8191,S=(1<<n)-1,j=i.p||new Ws(32768),N=i.h||new Ws(S+1),P=Math.ceil(n/3),k=2*P,E=function(Ve){return(e[Ve]^e[Ve+1]<<P^e[Ve+2]<<k)&S},O=new R0(25e3),B=new Ws(288),ae=new Ws(32),W=0,te=0,K=i.i||0,oe=0,L=i.w||0,F=0;K+2<d;++K){var z=E(K),q=K&32767,ge=N[z];if(j[q]=ge,N[z]=q,L<=K){var fe=d-K;if((W>7e3||oe>24576)&&(fe>423||!h)){m=v2(e,u,0,O,B,ae,te,oe,F,K-F,m),oe=W=te=0,F=K;for(var ye=0;ye<286;++ye)B[ye]=0;for(var ye=0;ye<30;++ye)ae[ye]=0}var U=2,$=0,H=p,D=q-ge&32767;if(fe>2&&z==E(K-D))for(var T=Math.min(w,fe)-1,I=Math.min(32767,K),G=Math.min(258,fe);D<=I&&--H&&q!=ge;){if(e[K+U]==e[K+U-D]){for(var J=0;J<G&&e[K+J]==e[K+J-D];++J);if(J>U){if(U=J,$=D,J>T)break;for(var ce=Math.min(D,J-2),se=0,ye=0;ye<ce;++ye){var pe=K-D+ye&32767,le=j[pe],be=pe-le&32767;be>se&&(se=be,ge=pe)}}}q=ge,ge=j[q],D+=q-ge&32767}if($){O[oe++]=268435456|hv[U]<<18|g2[$];var Ee=hv[U]&31,Q=g2[$]&31;te+=D0[Ee]+L0[Q],++B[257+Ee],++ae[Q],L=K+U,++W}else O[oe++]=e[K],++B[e[K]]}}for(K=Math.max(K,L);K<d;++K)O[oe++]=e[K],++B[e[K]];m=v2(e,u,h,O,B,ae,te,oe,F,K-F,m),h||(i.r=m&7|u[m/8|0]<<3,m-=7,i.h=N,i.p=j,i.i=K,i.w=L)}else{for(var K=i.w||0;K<d+h;K+=65535){var Te=K+65535;Te>=d&&(u[m/8|0]=h,Te=d),m=L4(u,m+1,e.subarray(K,Te))}i.i=d}return BF(c,0,a+D4(m)+s)},F4=function(){var e=1,t=0;return{p:function(n){for(var a=e,s=t,i=n.length|0,d=0;d!=i;){for(var c=Math.min(d+2655,i);d<c;++d)s+=a+=n[d];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},qF=function(e,t,n,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),d=new Xo(i.length+e.length);d.set(i),d.set(e,i.length),e=d,s.w=i.length}return UF(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,a,s)},O4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},VF=function(e,t){var n=t.level,a=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=F4();s.p(t.dictionary),O4(e,2,s.d())}};function pv(e,t){t||(t={});var n=F4();n.p(e);var a=qF(e,t,t.dictionary?6:2,4);return VF(a,t),O4(a,a.length-4,n.d()),a}var HF=typeof TextDecoder<"u"&&new TextDecoder,WF=0;try{HF.decode(M4,{stream:!0}),WF=1}catch{}function GF(e){if(Array.isArray(e))return e}function YF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,d,c=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(m){h=!0,s=m}finally{try{if(!u&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(h)throw s}}return c}}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function KF(e,t){if(e){if(typeof e=="string")return y2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y2(e,t):void 0}}function JF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2(e,t){return GF(e)||YF(e,t)||KF(e,t)||JF()}function b2(e,t="utf8"){return new TextDecoder(t).decode(e)}const XF=new TextEncoder;function QF(e){return XF.encode(e)}const ZF=1024*8,e7=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),ex={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class M0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=ZF,n={}){let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=n.offset?n.offset>>>0:0,i=t.byteLength-s;let d=s;(ArrayBuffer.isView(t)||t instanceof M0)&&(t.byteLength!==t.buffer.byteLength&&(d=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const a=ex[n].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===e7&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+a));c.reverse();const u=new ex[n](c.buffer);return this.offset+=a,u.reverse(),u}const d=new ex[n](i);return this.offset+=a,d}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let a=0;a<t;a++)n+=this.readChar();return n}readUtf8(t=1){return b2(this.readBytes(t))}decodeText(t=1,n="utf8"){return b2(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(QF(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hu(e){let t=e.length;for(;--t>=0;)e[t]=0}const t7=3,r7=258,I4=29,n7=256,a7=n7+1+I4,$4=30,s7=512,o7=new Array((a7+2)*2);Hu(o7);const i7=new Array($4*2);Hu(i7);const l7=new Array(s7);Hu(l7);const c7=new Array(r7-t7+1);Hu(c7);const d7=new Array(I4);Hu(d7);const u7=new Array($4);Hu(u7);const h7=(e,t,n,a)=>{let s=e&65535|0,i=e>>>16&65535|0,d=0;for(;n!==0;){d=n>2e3?2e3:n,n-=d;do s=s+t[a++]|0,i=i+s|0;while(--d);s%=65521,i%=65521}return s|i<<16|0};var gv=h7;const f7=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},m7=new Uint32Array(f7()),p7=(e,t,n,a)=>{const s=m7,i=a+n;e^=-1;for(let d=a;d<i;d++)e=e>>>8^s[(e^t[d])&255];return e^-1};var ji=p7,xv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const g7=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var x7=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)g7(n,a)&&(e[a]=n[a])}}return e},v7=e=>{let t=0;for(let a=0,s=e.length;a<s;a++)t+=e[a].length;const n=new Uint8Array(t);for(let a=0,s=0,i=e.length;a<i;a++){let d=e[a];n.set(d,s),s+=d.length}return n},z4={assign:x7,flattenChunks:v7};let U4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{U4=!1}const Gh=new Uint8Array(256);for(let e=0;e<256;e++)Gh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Gh[254]=Gh[254]=1;var y7=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,a,s,i,d=e.length,c=0;for(s=0;s<d;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<d&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),i=0,s=0;i<c;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<d&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const w7=(e,t)=>{if(t<65534&&e.subarray&&U4)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n};var b7=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,s;const i=new Array(n*2);for(s=0,a=0;a<n;){let d=e[a++];if(d<128){i[s++]=d;continue}let c=Gh[d];if(c>4){i[s++]=65533,a+=c-1;continue}for(d&=c===2?31:c===3?15:7;c>1&&a<n;)d=d<<6|e[a++]&63,c--;if(c>1){i[s++]=65533;continue}d<65536?i[s++]=d:(d-=65536,i[s++]=55296|d>>10&1023,i[s++]=56320|d&1023)}return w7(i,s)},j7=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Gh[e[n]]>t?n:t},vv={string2buf:y7,buf2string:b7,utf8border:j7};function N7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S7=N7;const tm=16209,C7=16191;var _7=function(t,n){let a,s,i,d,c,u,h,m,g,w,p,S,j,N,P,k,E,O,B,ae,W,te,K,oe;const L=t.state;a=t.next_in,K=t.input,s=a+(t.avail_in-5),i=t.next_out,oe=t.output,d=i-(n-t.avail_out),c=i+(t.avail_out-257),u=L.dmax,h=L.wsize,m=L.whave,g=L.wnext,w=L.window,p=L.hold,S=L.bits,j=L.lencode,N=L.distcode,P=(1<<L.lenbits)-1,k=(1<<L.distbits)-1;e:do{S<15&&(p+=K[a++]<<S,S+=8,p+=K[a++]<<S,S+=8),E=j[p&P];t:for(;;){if(O=E>>>24,p>>>=O,S-=O,O=E>>>16&255,O===0)oe[i++]=E&65535;else if(O&16){B=E&65535,O&=15,O&&(S<O&&(p+=K[a++]<<S,S+=8),B+=p&(1<<O)-1,p>>>=O,S-=O),S<15&&(p+=K[a++]<<S,S+=8,p+=K[a++]<<S,S+=8),E=N[p&k];r:for(;;){if(O=E>>>24,p>>>=O,S-=O,O=E>>>16&255,O&16){if(ae=E&65535,O&=15,S<O&&(p+=K[a++]<<S,S+=8,S<O&&(p+=K[a++]<<S,S+=8)),ae+=p&(1<<O)-1,ae>u){t.msg="invalid distance too far back",L.mode=tm;break e}if(p>>>=O,S-=O,O=i-d,ae>O){if(O=ae-O,O>m&&L.sane){t.msg="invalid distance too far back",L.mode=tm;break e}if(W=0,te=w,g===0){if(W+=h-O,O<B){B-=O;do oe[i++]=w[W++];while(--O);W=i-ae,te=oe}}else if(g<O){if(W+=h+g-O,O-=g,O<B){B-=O;do oe[i++]=w[W++];while(--O);if(W=0,g<B){O=g,B-=O;do oe[i++]=w[W++];while(--O);W=i-ae,te=oe}}}else if(W+=g-O,O<B){B-=O;do oe[i++]=w[W++];while(--O);W=i-ae,te=oe}for(;B>2;)oe[i++]=te[W++],oe[i++]=te[W++],oe[i++]=te[W++],B-=3;B&&(oe[i++]=te[W++],B>1&&(oe[i++]=te[W++]))}else{W=i-ae;do oe[i++]=oe[W++],oe[i++]=oe[W++],oe[i++]=oe[W++],B-=3;while(B>2);B&&(oe[i++]=oe[W++],B>1&&(oe[i++]=oe[W++]))}}else if((O&64)===0){E=N[(E&65535)+(p&(1<<O)-1)];continue r}else{t.msg="invalid distance code",L.mode=tm;break e}break}}else if((O&64)===0){E=j[(E&65535)+(p&(1<<O)-1)];continue t}else if(O&32){L.mode=C7;break e}else{t.msg="invalid literal/length code",L.mode=tm;break e}break}}while(a<s&&i<c);B=S>>3,a-=B,S-=B<<3,p&=(1<<S)-1,t.next_in=a,t.next_out=i,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=i<c?257+(c-i):257-(i-c),L.hold=p,L.bits=S};const du=15,j2=852,N2=592,S2=0,tx=1,C2=2,P7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),k7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),E7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),T7=(e,t,n,a,s,i,d,c)=>{const u=c.bits;let h=0,m=0,g=0,w=0,p=0,S=0,j=0,N=0,P=0,k=0,E,O,B,ae,W,te=null,K;const oe=new Uint16Array(du+1),L=new Uint16Array(du+1);let F=null,z,q,ge;for(h=0;h<=du;h++)oe[h]=0;for(m=0;m<a;m++)oe[t[n+m]]++;for(p=u,w=du;w>=1&&oe[w]===0;w--);if(p>w&&(p=w),w===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,c.bits=1,0;for(g=1;g<w&&oe[g]===0;g++);for(p<g&&(p=g),N=1,h=1;h<=du;h++)if(N<<=1,N-=oe[h],N<0)return-1;if(N>0&&(e===S2||w!==1))return-1;for(L[1]=0,h=1;h<du;h++)L[h+1]=L[h]+oe[h];for(m=0;m<a;m++)t[n+m]!==0&&(d[L[t[n+m]]++]=m);if(e===S2?(te=F=d,K=20):e===tx?(te=P7,F=k7,K=257):(te=E7,F=A7,K=0),k=0,m=0,h=g,W=i,S=p,j=0,B=-1,P=1<<p,ae=P-1,e===tx&&P>j2||e===C2&&P>N2)return 1;for(;;){z=h-j,d[m]+1<K?(q=0,ge=d[m]):d[m]>=K?(q=F[d[m]-K],ge=te[d[m]-K]):(q=96,ge=0),E=1<<h-j,O=1<<S,g=O;do O-=E,s[W+(k>>j)+O]=z<<24|q<<16|ge|0;while(O!==0);for(E=1<<h-1;k&E;)E>>=1;if(E!==0?(k&=E-1,k+=E):k=0,m++,--oe[h]===0){if(h===w)break;h=t[n+d[m]]}if(h>p&&(k&ae)!==B){for(j===0&&(j=p),W+=g,S=h-j,N=1<<S;S+j<w&&(N-=oe[S+j],!(N<=0));)S++,N<<=1;if(P+=1<<S,e===tx&&P>j2||e===C2&&P>N2)return 1;B=k&ae,s[B]=p<<24|S<<16|W-i|0}}return k!==0&&(s[W+k]=h-j<<24|64<<16|0),c.bits=p,0};var Dh=T7;const R7=0,q4=1,V4=2,{Z_FINISH:_2,Z_BLOCK:D7,Z_TREES:rm,Z_OK:Cd,Z_STREAM_END:L7,Z_NEED_DICT:M7,Z_STREAM_ERROR:yo,Z_DATA_ERROR:H4,Z_MEM_ERROR:W4,Z_BUF_ERROR:F7,Z_DEFLATED:P2}=B4,Op=16180,k2=16181,E2=16182,A2=16183,T2=16184,R2=16185,D2=16186,L2=16187,M2=16188,F2=16189,Um=16190,vl=16191,rx=16192,O2=16193,nx=16194,I2=16195,$2=16196,B2=16197,z2=16198,nm=16199,am=16200,U2=16201,q2=16202,V2=16203,H2=16204,W2=16205,ax=16206,G2=16207,Y2=16208,Nn=16209,G4=16210,Y4=16211,O7=852,I7=592,$7=15,B7=$7,K2=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function z7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ed=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Op||t.mode>Y4?1:0},K4=e=>{if(Ed(e))return yo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Op,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(O7),t.distcode=t.distdyn=new Int32Array(I7),t.sane=1,t.back=-1,Cd},J4=e=>{if(Ed(e))return yo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,K4(e)},X4=(e,t)=>{let n;if(Ed(e))return yo;const a=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?yo:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=n,a.wbits=t,J4(e))},Q4=(e,t)=>{if(!e)return yo;const n=new z7;e.state=n,n.strm=e,n.window=null,n.mode=Op;const a=X4(e,t);return a!==Cd&&(e.state=null),a},U7=e=>Q4(e,B7);let J2=!0,sx,ox;const q7=e=>{if(J2){sx=new Int32Array(512),ox=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Dh(q4,e.lens,0,288,sx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Dh(V4,e.lens,0,32,ox,0,e.work,{bits:5}),J2=!1}e.lencode=sx,e.lenbits=9,e.distcode=ox,e.distbits=5},Z4=(e,t,n,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(t.subarray(n-a,n-a+s),i.wnext),a-=s,a?(i.window.set(t.subarray(n-a,n),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},V7=(e,t)=>{let n,a,s,i,d,c,u,h,m,g,w,p,S,j,N=0,P,k,E,O,B,ae,W,te;const K=new Uint8Array(4);let oe,L;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ed(e)||!e.output||!e.input&&e.avail_in!==0)return yo;n=e.state,n.mode===vl&&(n.mode=rx),d=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,a=e.input,c=e.avail_in,h=n.hold,m=n.bits,g=c,w=u,te=Cd;e:for(;;)switch(n.mode){case Op:if(n.wrap===0){n.mode=rx;break}for(;m<16;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,K[0]=h&255,K[1]=h>>>8&255,n.check=ji(n.check,K,2,0),h=0,m=0,n.mode=k2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=Nn;break}if((h&15)!==P2){e.msg="unknown compression method",n.mode=Nn;break}if(h>>>=4,m-=4,W=(h&15)+8,n.wbits===0&&(n.wbits=W),W>15||W>n.wbits){e.msg="invalid window size",n.mode=Nn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=h&512?F2:vl,h=0,m=0;break;case k2:for(;m<16;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(n.flags=h,(n.flags&255)!==P2){e.msg="unknown compression method",n.mode=Nn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Nn;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,n.check=ji(n.check,K,2,0)),h=0,m=0,n.mode=E2;case E2:for(;m<32;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,K[2]=h>>>16&255,K[3]=h>>>24&255,n.check=ji(n.check,K,4,0)),h=0,m=0,n.mode=A2;case A2:for(;m<16;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,n.check=ji(n.check,K,2,0)),h=0,m=0,n.mode=T2;case T2:if(n.flags&1024){for(;m<16;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,n.check=ji(n.check,K,2,0)),h=0,m=0}else n.head&&(n.head.extra=null);n.mode=R2;case R2:if(n.flags&1024&&(p=n.length,p>c&&(p=c),p&&(n.head&&(W=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(i,i+p),W)),n.flags&512&&n.wrap&4&&(n.check=ji(n.check,a,p,i)),c-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=D2;case D2:if(n.flags&2048){if(c===0)break e;p=0;do W=a[i+p++],n.head&&W&&n.length<65536&&(n.head.name+=String.fromCharCode(W));while(W&&p<c);if(n.flags&512&&n.wrap&4&&(n.check=ji(n.check,a,p,i)),c-=p,i+=p,W)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=L2;case L2:if(n.flags&4096){if(c===0)break e;p=0;do W=a[i+p++],n.head&&W&&n.length<65536&&(n.head.comment+=String.fromCharCode(W));while(W&&p<c);if(n.flags&512&&n.wrap&4&&(n.check=ji(n.check,a,p,i)),c-=p,i+=p,W)break e}else n.head&&(n.head.comment=null);n.mode=M2;case M2:if(n.flags&512){for(;m<16;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(n.wrap&4&&h!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Nn;break}h=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=vl;break;case F2:for(;m<32;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}e.adler=n.check=K2(h),h=0,m=0,n.mode=Um;case Um:if(n.havedict===0)return e.next_out=d,e.avail_out=u,e.next_in=i,e.avail_in=c,n.hold=h,n.bits=m,M7;e.adler=n.check=1,n.mode=vl;case vl:if(t===D7||t===rm)break e;case rx:if(n.last){h>>>=m&7,m-=m&7,n.mode=ax;break}for(;m<3;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}switch(n.last=h&1,h>>>=1,m-=1,h&3){case 0:n.mode=O2;break;case 1:if(q7(n),n.mode=nm,t===rm){h>>>=2,m-=2;break e}break;case 2:n.mode=$2;break;case 3:e.msg="invalid block type",n.mode=Nn}h>>>=2,m-=2;break;case O2:for(h>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if((h&65535)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Nn;break}if(n.length=h&65535,h=0,m=0,n.mode=nx,t===rm)break e;case nx:n.mode=I2;case I2:if(p=n.length,p){if(p>c&&(p=c),p>u&&(p=u),p===0)break e;s.set(a.subarray(i,i+p),d),c-=p,i+=p,u-=p,d+=p,n.length-=p;break}n.mode=vl;break;case $2:for(;m<14;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(n.nlen=(h&31)+257,h>>>=5,m-=5,n.ndist=(h&31)+1,h>>>=5,m-=5,n.ncode=(h&15)+4,h>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Nn;break}n.have=0,n.mode=B2;case B2:for(;n.have<n.ncode;){for(;m<3;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}n.lens[F[n.have++]]=h&7,h>>>=3,m-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,oe={bits:n.lenbits},te=Dh(R7,n.lens,0,19,n.lencode,0,n.work,oe),n.lenbits=oe.bits,te){e.msg="invalid code lengths set",n.mode=Nn;break}n.have=0,n.mode=z2;case z2:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[h&(1<<n.lenbits)-1],P=N>>>24,k=N>>>16&255,E=N&65535,!(P<=m);){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(E<16)h>>>=P,m-=P,n.lens[n.have++]=E;else{if(E===16){for(L=P+2;m<L;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(h>>>=P,m-=P,n.have===0){e.msg="invalid bit length repeat",n.mode=Nn;break}W=n.lens[n.have-1],p=3+(h&3),h>>>=2,m-=2}else if(E===17){for(L=P+3;m<L;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}h>>>=P,m-=P,W=0,p=3+(h&7),h>>>=3,m-=3}else{for(L=P+7;m<L;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}h>>>=P,m-=P,W=0,p=11+(h&127),h>>>=7,m-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Nn;break}for(;p--;)n.lens[n.have++]=W}}if(n.mode===Nn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Nn;break}if(n.lenbits=9,oe={bits:n.lenbits},te=Dh(q4,n.lens,0,n.nlen,n.lencode,0,n.work,oe),n.lenbits=oe.bits,te){e.msg="invalid literal/lengths set",n.mode=Nn;break}if(n.distbits=6,n.distcode=n.distdyn,oe={bits:n.distbits},te=Dh(V4,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,oe),n.distbits=oe.bits,te){e.msg="invalid distances set",n.mode=Nn;break}if(n.mode=nm,t===rm)break e;case nm:n.mode=am;case am:if(c>=6&&u>=258){e.next_out=d,e.avail_out=u,e.next_in=i,e.avail_in=c,n.hold=h,n.bits=m,_7(e,w),d=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,a=e.input,c=e.avail_in,h=n.hold,m=n.bits,n.mode===vl&&(n.back=-1);break}for(n.back=0;N=n.lencode[h&(1<<n.lenbits)-1],P=N>>>24,k=N>>>16&255,E=N&65535,!(P<=m);){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(k&&(k&240)===0){for(O=P,B=k,ae=E;N=n.lencode[ae+((h&(1<<O+B)-1)>>O)],P=N>>>24,k=N>>>16&255,E=N&65535,!(O+P<=m);){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}h>>>=O,m-=O,n.back+=O}if(h>>>=P,m-=P,n.back+=P,n.length=E,k===0){n.mode=W2;break}if(k&32){n.back=-1,n.mode=vl;break}if(k&64){e.msg="invalid literal/length code",n.mode=Nn;break}n.extra=k&15,n.mode=U2;case U2:if(n.extra){for(L=n.extra;m<L;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=q2;case q2:for(;N=n.distcode[h&(1<<n.distbits)-1],P=N>>>24,k=N>>>16&255,E=N&65535,!(P<=m);){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if((k&240)===0){for(O=P,B=k,ae=E;N=n.distcode[ae+((h&(1<<O+B)-1)>>O)],P=N>>>24,k=N>>>16&255,E=N&65535,!(O+P<=m);){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}h>>>=O,m-=O,n.back+=O}if(h>>>=P,m-=P,n.back+=P,k&64){e.msg="invalid distance code",n.mode=Nn;break}n.offset=E,n.extra=k&15,n.mode=V2;case V2:if(n.extra){for(L=n.extra;m<L;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Nn;break}n.mode=H2;case H2:if(u===0)break e;if(p=w-u,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Nn;break}p>n.wnext?(p-=n.wnext,S=n.wsize-p):S=n.wnext-p,p>n.length&&(p=n.length),j=n.window}else j=s,S=d-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do s[d++]=j[S++];while(--p);n.length===0&&(n.mode=am);break;case W2:if(u===0)break e;s[d++]=n.length,u--,n.mode=am;break;case ax:if(n.wrap){for(;m<32;){if(c===0)break e;c--,h|=a[i++]<<m,m+=8}if(w-=u,e.total_out+=w,n.total+=w,n.wrap&4&&w&&(e.adler=n.check=n.flags?ji(n.check,s,w,d-w):gv(n.check,s,w,d-w)),w=u,n.wrap&4&&(n.flags?h:K2(h))!==n.check){e.msg="incorrect data check",n.mode=Nn;break}h=0,m=0}n.mode=G2;case G2:if(n.wrap&&n.flags){for(;m<32;){if(c===0)break e;c--,h+=a[i++]<<m,m+=8}if(n.wrap&4&&h!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Nn;break}h=0,m=0}n.mode=Y2;case Y2:te=L7;break e;case Nn:te=H4;break e;case G4:return W4;case Y4:default:return yo}return e.next_out=d,e.avail_out=u,e.next_in=i,e.avail_in=c,n.hold=h,n.bits=m,(n.wsize||w!==e.avail_out&&n.mode<Nn&&(n.mode<ax||t!==_2))&&Z4(e,e.output,e.next_out,w-e.avail_out),g-=e.avail_in,w-=e.avail_out,e.total_in+=g,e.total_out+=w,n.total+=w,n.wrap&4&&w&&(e.adler=n.check=n.flags?ji(n.check,s,w,e.next_out-w):gv(n.check,s,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(n.mode===vl?128:0)+(n.mode===nm||n.mode===nx?256:0),(g===0&&w===0||t===_2)&&te===Cd&&(te=F7),te},H7=e=>{if(Ed(e))return yo;let t=e.state;return t.window&&(t.window=null),e.state=null,Cd},W7=(e,t)=>{if(Ed(e))return yo;const n=e.state;return(n.wrap&2)===0?yo:(n.head=t,t.done=!1,Cd)},G7=(e,t)=>{const n=t.length;let a,s,i;return Ed(e)||(a=e.state,a.wrap!==0&&a.mode!==Um)?yo:a.mode===Um&&(s=1,s=gv(s,t,n,0),s!==a.check)?H4:(i=Z4(e,t,n,n),i?(a.mode=G4,W4):(a.havedict=1,Cd))};var Y7=J4,K7=X4,J7=K4,X7=U7,Q7=Q4,Z7=V7,eO=H7,tO=W7,rO=G7,nO="pako inflate (from Nodeca project)",yl={inflateReset:Y7,inflateReset2:K7,inflateResetKeep:J7,inflateInit:X7,inflateInit2:Q7,inflate:Z7,inflateEnd:eO,inflateGetHeader:tO,inflateSetDictionary:rO,inflateInfo:nO};function aO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sO=aO;const eC=Object.prototype.toString,{Z_NO_FLUSH:oO,Z_FINISH:iO,Z_OK:Yh,Z_STREAM_END:ix,Z_NEED_DICT:lx,Z_STREAM_ERROR:lO,Z_DATA_ERROR:X2,Z_MEM_ERROR:cO}=B4;function lf(e){this.options=z4.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S7,this.strm.avail_out=0;let n=yl.inflateInit2(this.strm,t.windowBits);if(n!==Yh)throw new Error(xv[n]);if(this.header=new sO,yl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=vv.string2buf(t.dictionary):eC.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=yl.inflateSetDictionary(this.strm,t.dictionary),n!==Yh)))throw new Error(xv[n])}lf.prototype.push=function(e,t){const n=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,d,c;if(this.ended)return!1;for(t===~~t?d=t:d=t===!0?iO:oO,eC.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),i=yl.inflate(n,d),i===lx&&s&&(i=yl.inflateSetDictionary(n,s),i===Yh?i=yl.inflate(n,d):i===X2&&(i=lx));n.avail_in>0&&i===ix&&n.state.wrap>0&&e[n.next_in]!==0;)yl.inflateReset(n),i=yl.inflate(n,d);switch(i){case lO:case X2:case lx:case cO:return this.onEnd(i),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||i===ix))if(this.options.to==="string"){let u=vv.utf8border(n.output,n.next_out),h=n.next_out-u,m=vv.buf2string(n.output,u);n.next_out=h,n.avail_out=a-h,h&&n.output.set(n.output.subarray(u,u+h),0),this.onData(m)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Yh&&c===0)){if(i===ix)return i=yl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};lf.prototype.onData=function(e){this.chunks.push(e)};lf.prototype.onEnd=function(e){e===Yh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=z4.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function dO(e,t){const n=new lf(t);if(n.push(e),n.err)throw n.msg||xv[n.err];return n.result}var uO=lf,hO=dO,fO={Inflate:uO,inflate:hO};const{Inflate:mO,inflate:pO}=fO;var Q2=mO,gO=pO;const tC=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;tC[e]=t}const Z2=4294967295;function xO(e,t,n){let a=e;for(let s=0;s<n;s++)a=tC[(a^t[s])&255]^a>>>8;return a}function vO(e,t){return(xO(Z2,e,t)^Z2)>>>0}function ew(e,t,n){const a=e.readUint32(),s=vO(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${s}`)}function rC(e,t,n){for(let a=0;a<n;a++)t[a]=e[a]}function nC(e,t,n,a){let s=0;for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}function aC(e,t,n,a){let s=0;if(n.length===0)for(;s<a;s++)t[s]=e[s];else for(;s<a;s++)t[s]=e[s]+n[s]&255}function sC(e,t,n,a,s){let i=0;if(n.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-s]+n[i]>>1)&255}}function oC(e,t,n,a,s){let i=0;if(n.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+n[i]&255;for(;i<a;i++)t[i]=e[i]+yO(t[i-s],n[i],n[i-s])&255}}function yO(e,t,n){const a=e+t-n,s=Math.abs(a-e),i=Math.abs(a-t),d=Math.abs(a-n);return s<=i&&s<=d?e:i<=d?t:n}function wO(e,t,n,a,s,i){switch(e){case 0:rC(t,n,s);break;case 1:nC(t,n,s,i);break;case 2:aC(t,n,a,s);break;case 3:sC(t,n,a,s,i);break;case 4:oC(t,n,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const bO=new Uint16Array([255]),jO=new Uint8Array(bO.buffer),NO=jO[0]===255;function SO(e){const{data:t,width:n,height:a,channels:s,depth:i}=e,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(i/8)*s,u=new Uint8Array(a*n*c);let h=0;for(let m=0;m<7;m++){const g=d[m],w=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((a-g.y)/g.yStep);if(w<=0||p<=0)continue;const S=w*c,j=new Uint8Array(S);for(let N=0;N<p;N++){const P=t[h++],k=t.subarray(h,h+S);h+=S;const E=new Uint8Array(S);wO(P,k,E,j,S,c),j.set(E);for(let O=0;O<w;O++){const B=g.x+O*g.xStep,ae=g.y+N*g.yStep;if(!(B>=n||ae>=a))for(let W=0;W<c;W++)u[(ae*n+B)*c+W]=E[O*c+W]}}}if(i===16){const m=new Uint16Array(u.buffer);if(NO)for(let g=0;g<m.length;g++)m[g]=CO(m[g]);return m}else return u}function CO(e){return(e&255)<<8|e>>8&255}const _O=new Uint16Array([255]),PO=new Uint8Array(_O.buffer),kO=PO[0]===255,EO=new Uint8Array(0);function tw(e){const{data:t,width:n,height:a,channels:s,depth:i}=e,d=Math.ceil(i/8)*s,c=Math.ceil(i/8*s*n),u=new Uint8Array(a*c);let h=EO,m=0,g,w;for(let p=0;p<a;p++){switch(g=t.subarray(m+1,m+1+c),w=u.subarray(p*c,(p+1)*c),t[m]){case 0:rC(g,w,c);break;case 1:nC(g,w,c,d);break;case 2:aC(g,w,h,c);break;case 3:sC(g,w,h,c,d);break;case 4:oC(g,w,h,c,d);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}h=w,m+=c+1}if(i===16){const p=new Uint16Array(u.buffer);if(kO)for(let S=0;S<p.length;S++)p[S]=AO(p[S]);return p}else return u}function AO(e){return(e&255)<<8|e>>8&255}const ym=Uint8Array.of(137,80,78,71,13,10,26,10);function rw(e){if(!TO(e.readBytes(ym.length)))throw new Error("wrong PNG signature")}function TO(e){if(e.length<ym.length)return!1;for(let t=0;t<ym.length;t++)if(e[t]!==ym[t])return!1;return!0}const RO="tEXt",DO=0,iC=new TextDecoder("latin1");function LO(e){if(FO(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const MO=/^[\u0000-\u00FF]*$/;function FO(e){if(!MO.test(e))throw new Error("invalid latin1 text")}function OO(e,t,n){const a=lC(t);e[a]=IO(t,n-a.length-1)}function lC(e){for(e.mark();e.readByte()!==DO;);const t=e.offset;e.reset();const n=iC.decode(e.readBytes(t-e.offset-1));return e.skip(1),LO(n),n}function IO(e,t){return iC.decode(e.readBytes(t))}const Bs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},cx={UNKNOWN:-1,DEFLATE:0},nw={UNKNOWN:-1,ADAPTIVE:0},dx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sm={NONE:0,BACKGROUND:1,PREVIOUS:2},ux={SOURCE:0,OVER:1};class $O extends M0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Q2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=cx.UNKNOWN,this._filterMethod=nw.UNKNOWN,this._interlaceMethod=dx.UNKNOWN,this._colorType=Bs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(rw(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(rw(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case RO:OO(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ew(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ew(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=BO(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Bs.GREYSCALE:a=1;break;case Bs.TRUECOLOUR:a=3;break;case Bs.INDEXED_COLOUR:a=1;break;case Bs.GREYSCALE_ALPHA:a=2;break;case Bs.TRUECOLOUR_ALPHA:a=4;break;case Bs.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==cx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Bs.GREYSCALE:case Bs.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Bs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Bs.UNKNOWN:case Bs.GREYSCALE_ALPHA:case Bs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=lC(this),a=this.readUint8();if(a!==cx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:gO(s)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=tw({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,a){switch(t.disposeOp){case sm.NONE:break;case sm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const d=(s*t.width+i)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[d+c]=0}break;case sm.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const a=1<<this._png.depth,s=(i,d)=>{const c=((i+n.yOffset)*this._png.width+n.xOffset+d)*this._png.channels,u=(i*n.width+d)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case ux.SOURCE:for(let i=0;i<n.height;i++)for(let d=0;d<n.width;d++){const{index:c,frameIndex:u}=s(i,d);for(let h=0;h<this._png.channels;h++)t.data[c+h]=n.data[u+h]}break;case ux.OVER:for(let i=0;i<n.height;i++)for(let d=0;d<n.width;d++){const{index:c,frameIndex:u}=s(i,d);for(let h=0;h<this._png.channels;h++){const m=n.data[u+this._png.channels-1]/a,g=h%(this._png.channels-1)===0?1:n.data[u+h],w=Math.floor(m*g+(1-m)*t.data[c+h]);t.data[c+h]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==nw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===dx.NO_INTERLACE)this._png.data=tw({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===dx.ADAM7)this._png.data=SO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sm.NONE,blendOp:ux.SOURCE,data:t}),this._inflator=new Q2,this._writingDataChunks=!1}}function BO(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var aw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(aw||(aw={}));function zO(e,t){return new $O(e,t).decode()}var ar=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hx(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var an={log:hx,warn:function(e){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):hx.call(null,arguments))},error:function(e){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):hx(e))}};function fx(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){hd(a.response,t,n)},a.onerror=function(){an.error("could not download file")},a.send()}function sw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function om(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hd=ar.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var a=ar.URL||ar.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?sw(s.href)?fx(e,t,n):om(s,s.target="_blank"):om(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){om(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(sw(e))fx(e,t,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){om(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:Qr(i)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,n),t)}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return fx(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(ar.HTMLElement)||ar.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&i)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=d?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=m:location=m,a=null},c.readAsDataURL(e)}else{var u=ar.URL||ar.webkitURL,h=u.createObjectURL(e);a?a.location=h:location.href=h,a=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cC(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],a=0;a<n.length;a++){var s=n[a].re,i=n[a].process,d=s.exec(e);d&&(t=i(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+c+u+h}}var wm=ar.atob.bind(ar),ow=ar.btoa.bind(ar);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mx(e,t){var n=e[0],a=e[1],s=e[2],i=e[3];n=Oa(n,a,s,i,t[0],7,-680876936),i=Oa(i,n,a,s,t[1],12,-389564586),s=Oa(s,i,n,a,t[2],17,606105819),a=Oa(a,s,i,n,t[3],22,-1044525330),n=Oa(n,a,s,i,t[4],7,-176418897),i=Oa(i,n,a,s,t[5],12,1200080426),s=Oa(s,i,n,a,t[6],17,-1473231341),a=Oa(a,s,i,n,t[7],22,-45705983),n=Oa(n,a,s,i,t[8],7,1770035416),i=Oa(i,n,a,s,t[9],12,-1958414417),s=Oa(s,i,n,a,t[10],17,-42063),a=Oa(a,s,i,n,t[11],22,-1990404162),n=Oa(n,a,s,i,t[12],7,1804603682),i=Oa(i,n,a,s,t[13],12,-40341101),s=Oa(s,i,n,a,t[14],17,-1502002290),n=Ia(n,a=Oa(a,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ia(i,n,a,s,t[6],9,-1069501632),s=Ia(s,i,n,a,t[11],14,643717713),a=Ia(a,s,i,n,t[0],20,-373897302),n=Ia(n,a,s,i,t[5],5,-701558691),i=Ia(i,n,a,s,t[10],9,38016083),s=Ia(s,i,n,a,t[15],14,-660478335),a=Ia(a,s,i,n,t[4],20,-405537848),n=Ia(n,a,s,i,t[9],5,568446438),i=Ia(i,n,a,s,t[14],9,-1019803690),s=Ia(s,i,n,a,t[3],14,-187363961),a=Ia(a,s,i,n,t[8],20,1163531501),n=Ia(n,a,s,i,t[13],5,-1444681467),i=Ia(i,n,a,s,t[2],9,-51403784),s=Ia(s,i,n,a,t[7],14,1735328473),n=$a(n,a=Ia(a,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=$a(i,n,a,s,t[8],11,-2022574463),s=$a(s,i,n,a,t[11],16,1839030562),a=$a(a,s,i,n,t[14],23,-35309556),n=$a(n,a,s,i,t[1],4,-1530992060),i=$a(i,n,a,s,t[4],11,1272893353),s=$a(s,i,n,a,t[7],16,-155497632),a=$a(a,s,i,n,t[10],23,-1094730640),n=$a(n,a,s,i,t[13],4,681279174),i=$a(i,n,a,s,t[0],11,-358537222),s=$a(s,i,n,a,t[3],16,-722521979),a=$a(a,s,i,n,t[6],23,76029189),n=$a(n,a,s,i,t[9],4,-640364487),i=$a(i,n,a,s,t[12],11,-421815835),s=$a(s,i,n,a,t[15],16,530742520),n=Ba(n,a=$a(a,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Ba(i,n,a,s,t[7],10,1126891415),s=Ba(s,i,n,a,t[14],15,-1416354905),a=Ba(a,s,i,n,t[5],21,-57434055),n=Ba(n,a,s,i,t[12],6,1700485571),i=Ba(i,n,a,s,t[3],10,-1894986606),s=Ba(s,i,n,a,t[10],15,-1051523),a=Ba(a,s,i,n,t[1],21,-2054922799),n=Ba(n,a,s,i,t[8],6,1873313359),i=Ba(i,n,a,s,t[15],10,-30611744),s=Ba(s,i,n,a,t[6],15,-1560198380),a=Ba(a,s,i,n,t[13],21,1309151649),n=Ba(n,a,s,i,t[4],6,-145523070),i=Ba(i,n,a,s,t[11],10,-1120210379),s=Ba(s,i,n,a,t[2],15,718787259),a=Ba(a,s,i,n,t[9],21,-343485551),e[0]=jc(n,e[0]),e[1]=jc(a,e[1]),e[2]=jc(s,e[2]),e[3]=jc(i,e[3])}function Ip(e,t,n,a,s,i){return t=jc(jc(t,e),jc(a,i)),jc(t<<s|t>>>32-s,n)}function Oa(e,t,n,a,s,i,d){return Ip(t&n|~t&a,e,t,s,i,d)}function Ia(e,t,n,a,s,i,d){return Ip(t&a|n&~a,e,t,s,i,d)}function $a(e,t,n,a,s,i,d){return Ip(t^n^a,e,t,s,i,d)}function Ba(e,t,n,a,s,i,d){return Ip(n^(t|~a),e,t,s,i,d)}function dC(e){var t,n=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)mx(a,UO(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(mx(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,mx(a,s),a}function UO(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var iw="0123456789abcdef".split("");function qO(e){for(var t="",n=0;n<4;n++)t+=iw[e>>8*n+4&15]+iw[e>>8*n&15];return t}function VO(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function yv(e){return dC(e).map(VO).join("")}var HO=(function(e){for(var t=0;t<e.length;t++)e[t]=qO(e[t]);return e.join("")})(dC("hello"))!="5d41402abc4b2a76b9719d911017c592";function jc(e,t){if(HO){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wv(e,t){var n,a,s,i;if(e!==n){for(var d=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),c=[],u=0;u<256;u++)c[u]=u;var h=0;for(u=0;u<256;u++){var m=c[u];h=(h+m+d.charCodeAt(u))%256,c[u]=c[h],c[h]=m}n=e,a=c}else c=a;var g=t.length,w=0,p=0,S="";for(u=0;u<g;u++)p=(p+(m=c[w=(w+1)%256]))%256,c[w]=c[p],c[p]=m,d=c[(c[w]+c[p])%256],S+=String.fromCharCode(t.charCodeAt(u)^d);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lw={print:4,modify:8,copy:16,"annot-forms":32};function mu(e,t,n,a){this.v=1,this.r=2;var s=192;e.forEach(function(c){if(lw.perm!==void 0)throw new Error("Invalid permission: "+c);s+=lw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,d),this.P=-(1+(255^s)),this.encryptionKey=yv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=wv(this.encryptionKey,this.padding)}function pu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,a=0;a<n;a++){var s=e.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return t}function cw(e){if(Qr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,a,s){if(s=s||!1,typeof n!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[a,!!s],i},this.unsubscribe=function(n){for(var a in t)if(t[a][n])return delete t[a][n],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var d=t[n][i];try{d[0].apply(e,a)}catch(c){ar.console&&an.error("jsPDF PubSub Error",c.message,c)}d[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qm(e){if(!(this instanceof qm))return new qm(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function uC(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function fd(e,t,n,a,s){if(!(this instanceof fd))return new fd(e,t,n,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,uC.call(this,a,s)}function gu(e,t,n,a,s){if(!(this instanceof gu))return new gu(e,t,n,a,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,uC.call(this,a,s)}function Ut(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],d=[],c=1,u=16,h="S",m=null;Qr(e=e||{})==="object"&&(n=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),h=e.defaultPathOperation||"S"),d=e.filters||(i===!0?["FlateEncode"]:d),a=a||"mm",n=(""+(n||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,w={},p={internal:{},__private__:{}};p.__private__.PubSub=cw;var S="1.3",j=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(C){S=C};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var P=p.__private__.getPageFormat=function(C){return N[C]};s=s||"a4";var k="compat",E="advanced",O=k;function B(){this.saveGraphicsState(),re(new yt(ht,0,0,-ht,0,hs()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),h="n",O=E}function ae(){this.restoreGraphicsState(),h="S",O=k}var W=p.__private__.combineFontStyleAndFontWeight=function(C,Y){if(C=="bold"&&Y=="normal"||C=="bold"&&Y==400||C=="normal"&&Y=="italic"||C=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(C=Y==400||Y==="normal"?C==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||C!=="normal"?(Y==700?"bold":Y)+""+C:"bold"),C};p.advancedAPI=function(C){var Y=O===k;return Y&&B.call(this),typeof C!="function"||(C(this),Y&&ae.call(this)),this},p.compatAPI=function(C){var Y=O===E;return Y&&ae.call(this),typeof C!="function"||(C(this),Y&&B.call(this)),this},p.isAdvancedAPI=function(){return O===E};var te,K=function(C){if(O!==E)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=p.roundToPrecision=p.__private__.roundToPrecision=function(C,Y){var he=t||Y;if(isNaN(C)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(he).replace(/0+$/,"")};te=p.hpf=p.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(C,16)};var L=p.f2=p.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return oe(C,2)},F=p.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return oe(C,3)},z=p.scale=p.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return O===k?C*ht:O===E?C:void 0},q=function(C){return z((function(Y){return O===k?hs()-Y:O===E?Y:void 0})(C))};p.__private__.setPrecision=p.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var ge,fe="00000000000000000000000000000000",ye=p.__private__.getFileId=function(){return fe},U=p.__private__.setFileId=function(C){return fe=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Un=new mu(m.userPermissions,m.userPassword,m.ownerPassword,fe)),fe};p.setFileId=function(C){return U(C),this},p.getFileId=function(){return ye()};var $=p.__private__.convertDateToPDFDate=function(C){var Y=C.getTimezoneOffset(),he=Y<0?"+":"-",je=Math.floor(Math.abs(Y/60)),Ae=Math.abs(Y%60),Ge=[he,G(je),"'",G(Ae),"'"].join("");return["D:",C.getFullYear(),G(C.getMonth()+1),G(C.getDate()),G(C.getHours()),G(C.getMinutes()),G(C.getSeconds()),Ge].join("")},H=p.__private__.convertPDFDateToDate=function(C){var Y=parseInt(C.substr(2,4),10),he=parseInt(C.substr(6,2),10)-1,je=parseInt(C.substr(8,2),10),Ae=parseInt(C.substr(10,2),10),Ge=parseInt(C.substr(12,2),10),tt=parseInt(C.substr(14,2),10);return new Date(Y,he,je,Ae,Ge,tt,0)},D=p.__private__.setCreationDate=function(C){var Y;if(C===void 0&&(C=new Date),C instanceof Date)Y=$(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=C}return ge=Y},T=p.__private__.getCreationDate=function(C){var Y=ge;return C==="jsDate"&&(Y=H(ge)),Y};p.setCreationDate=function(C){return D(C),this},p.getCreationDate=function(C){return T(C)};var I,G=p.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},J=p.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ce=0,se=[],pe=[],le=0,be=[],Ee=[],Q=!1,Te=pe;p.__private__.setCustomOutputDestination=function(C){Q=!0,Te=C};var Ve=function(C){Q||(Te=C)};p.__private__.resetCustomOutputDestination=function(){Q=!1,Te=pe};var re=p.__private__.out=function(C){return C=C.toString(),le+=C.length+1,Te.push(C),Te},we=p.__private__.write=function(C){return re(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Xe=p.__private__.getArrayBuffer=function(C){for(var Y=C.length,he=new ArrayBuffer(Y),je=new Uint8Array(he);Y--;)je[Y]=C.charCodeAt(Y);return he},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return lt};var qe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(C){return qe=O===E?C/ht:C,this};var st,Ze=p.__private__.getFontSize=p.getFontSize=function(){return O===k?qe:qe*ht},pt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(C){return pt=C,this},p.__private__.getR2L=p.getR2L=function(){return pt};var ct,zt=p.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))st=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');st=C}else st=parseInt(C,10)};p.__private__.getZoomMode=function(){return st};var Se,me=p.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');ct=C};p.__private__.getPageMode=function(){return ct};var Me=p.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Se=C};p.__private__.getLayoutMode=function(){return Se},p.__private__.setDisplayMode=p.setDisplayMode=function(C,Y,he){return zt(C),Me(Y),me(he),this};var ze={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(C){if(Object.keys(ze).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ze[C]},p.__private__.getDocumentProperties=function(){return ze},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(C){for(var Y in ze)ze.hasOwnProperty(Y)&&C[Y]&&(ze[Y]=C[Y]);return this},p.__private__.setDocumentProperty=function(C,Y){if(Object.keys(ze).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ze[C]=Y};var Ye,ht,dt,Yt,Vt,Wt={},Gt={},hr=[],kt={},_r={},$t={},vt={},pr=null,Xt=0,Et=[],Re=new cw(p),et=e.hotfixes||[],gt={},Qt={},Nr=[],yt=function C(Y,he,je,Ae,Ge,tt){if(!(this instanceof C))return new C(Y,he,je,Ae,Ge,tt);isNaN(Y)&&(Y=1),isNaN(he)&&(he=0),isNaN(je)&&(je=0),isNaN(Ae)&&(Ae=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[Y,he,je,Ae,Ge,tt]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(te).join(C)},yt.prototype.multiply=function(C){var Y=C.sx*this.sx+C.shy*this.shx,he=C.sx*this.shy+C.shy*this.sy,je=C.shx*this.sx+C.sy*this.shx,Ae=C.shx*this.shy+C.sy*this.sy,Ge=C.tx*this.sx+C.ty*this.shx+this.tx,tt=C.tx*this.shy+C.ty*this.sy+this.ty;return new yt(Y,he,je,Ae,Ge,tt)},yt.prototype.decompose=function(){var C=this.sx,Y=this.shy,he=this.shx,je=this.sy,Ae=this.tx,Ge=this.ty,tt=Math.sqrt(C*C+Y*Y),_t=(C/=tt)*he+(Y/=tt)*je;he-=C*_t,je-=Y*_t;var Ot=Math.sqrt(he*he+je*je);return _t/=Ot,C*(je/=Ot)<Y*(he/=Ot)&&(C=-C,Y=-Y,_t=-_t,tt=-tt),{scale:new yt(tt,0,0,Ot,0,0),translate:new yt(1,0,0,1,Ae,Ge),rotate:new yt(C,Y,-Y,C,0,0),skew:new yt(1,0,_t,1,0,0)}},yt.prototype.toString=function(C){return this.join(" ")},yt.prototype.inversed=function(){var C=this.sx,Y=this.shy,he=this.shx,je=this.sy,Ae=this.tx,Ge=this.ty,tt=1/(C*je-Y*he),_t=je*tt,Ot=-Y*tt,tr=-he*tt,sr=C*tt;return new yt(_t,Ot,tr,sr,-_t*Ae-tr*Ge,-Ot*Ae-sr*Ge)},yt.prototype.applyToPoint=function(C){var Y=C.x*this.sx+C.y*this.shx+this.tx,he=C.x*this.shy+C.y*this.sy+this.ty;return new cs(Y,he)},yt.prototype.applyToRectangle=function(C){var Y=this.applyToPoint(C),he=this.applyToPoint(new cs(C.x+C.w,C.y+C.h));return new Gi(Y.x,Y.y,he.x-Y.x,he.y-Y.y)},yt.prototype.clone=function(){var C=this.sx,Y=this.shy,he=this.shx,je=this.sy,Ae=this.tx,Ge=this.ty;return new yt(C,Y,he,je,Ae,Ge)},p.Matrix=yt;var Pr=p.matrixMult=function(C,Y){return Y.multiply(C)},Zr=new yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Zr;var br=function(C,Y){if(!_r[C]){var he=(Y instanceof fd?"Sh":"P")+(Object.keys(kt).length+1).toString(10);Y.id=he,_r[C]=he,kt[he]=Y,Re.publish("addPattern",Y)}};p.ShadingPattern=fd,p.TilingPattern=gu,p.addShadingPattern=function(C,Y){return K("addShadingPattern()"),br(C,Y),this},p.beginTilingPattern=function(C){K("beginTilingPattern()"),ds(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},p.endTilingPattern=function(C,Y){K("endTilingPattern()"),Y.stream=Ee[I].join(`
`),br(C,Y),Re.publish("endTilingPattern",Y),Nr.pop().restore()};var Wr,Rr=p.__private__.newObject=function(){var C=on();return xn(C,!0),C},on=p.__private__.newObjectDeferred=function(){return ce++,se[ce]=function(){return le},ce},xn=function(C,Y){return Y=typeof Y=="boolean"&&Y,se[C]=le,Y&&re(C+" 0 obj"),C},bo=p.__private__.newAdditionalObject=function(){var C={objId:on(),content:""};return be.push(C),C},ni=on(),_s=on(),Ks=p.__private__.decodeColorString=function(C){var Y=C.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var he=parseFloat(Y[0]);Y=[he,he,he,"r"]}for(var je="#",Ae=0;Ae<3;Ae++)je+=("0"+Math.floor(255*parseFloat(Y[Ae])).toString(16)).slice(-2);return je},ta=p.__private__.encodeColorString=function(C){var Y;typeof C=="string"&&(C={ch1:C});var he=C.ch1,je=C.ch2,Ae=C.ch3,Ge=C.ch4,tt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var _t=new cC(he);if(_t.ok)he=_t.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Ot=parseInt(he.substr(1),16);he=Ot>>16&255,je=Ot>>8&255,Ae=255&Ot}if(je===void 0||Ge===void 0&&he===je&&je===Ae)Y=typeof he=="string"?he+" "+tt[0]:C.precision===2?L(he/255)+" "+tt[0]:F(he/255)+" "+tt[0];else if(Ge===void 0||Qr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",tt[1]].join(" ");Y=typeof he=="string"?[he,je,Ae,tt[1]].join(" "):C.precision===2?[L(he/255),L(je/255),L(Ae/255),tt[1]].join(" "):[F(he/255),F(je/255),F(Ae/255),tt[1]].join(" ")}else Y=typeof he=="string"?[he,je,Ae,Ge,tt[2]].join(" "):C.precision===2?[L(he),L(je),L(Ae),L(Ge),tt[2]].join(" "):[F(he),F(je),F(Ae),F(Ge),tt[2]].join(" ");return Y},os=p.__private__.getFilters=function(){return d},qa=p.__private__.putStream=function(C){var Y=(C=C||{}).data||"",he=C.filters||os(),je=C.alreadyAppliedFilters||[],Ae=C.addLength1||!1,Ge=Y.length,tt=C.objectId,_t=function(qn){return qn};if(m!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(_t=Un.encryptor(tt,0));var Ot={};he===!0&&(he=["FlateEncode"]);var tr=C.additionalKeyValues||[],sr=(Ot=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(Y,he):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(Ot.data.length!==0&&(tr.push({key:"Length",value:Ot.data.length}),Ae===!0&&tr.push({key:"Length1",value:Ge})),sr.length!=0)if(sr.split("/").length-1==1)tr.push({key:"Filter",value:sr});else{tr.push({key:"Filter",value:"["+sr+"]"});for(var Tr=0;Tr<tr.length;Tr+=1)if(tr[Tr].key==="DecodeParms"){for(var hn=[],Ln=0;Ln<Ot.reverseChain.split("/").length-1;Ln+=1)hn.push("null");hn.push(tr[Tr].value),tr[Tr].value="["+hn.join(" ")+"]"}}re("<<");for(var en=0;en<tr.length;en++)re("/"+tr[en].key+" "+tr[en].value);re(">>"),Ot.data.length!==0&&(re("stream"),re(_t(Ot.data)),re("endstream"))},Fi=p.__private__.putPage=function(C){var Y=C.number,he=C.data,je=C.objId,Ae=C.contentsObjId;xn(je,!0),re("<</Type /Page"),re("/Parent "+C.rootDictionaryObjId+" 0 R"),re("/Resources "+C.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(te(C.mediaBox.bottomLeftX))+" "+parseFloat(te(C.mediaBox.bottomLeftY))+" "+te(C.mediaBox.topRightX)+" "+te(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&re("/CropBox ["+te(C.cropBox.bottomLeftX)+" "+te(C.cropBox.bottomLeftY)+" "+te(C.cropBox.topRightX)+" "+te(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&re("/BleedBox ["+te(C.bleedBox.bottomLeftX)+" "+te(C.bleedBox.bottomLeftY)+" "+te(C.bleedBox.topRightX)+" "+te(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&re("/TrimBox ["+te(C.trimBox.bottomLeftX)+" "+te(C.trimBox.bottomLeftY)+" "+te(C.trimBox.topRightX)+" "+te(C.trimBox.topRightY)+"]"),C.artBox!==null&&re("/ArtBox ["+te(C.artBox.bottomLeftX)+" "+te(C.artBox.bottomLeftY)+" "+te(C.artBox.topRightX)+" "+te(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&re("/UserUnit "+C.userUnit),Re.publish("putPage",{objId:je,pageContext:Et[Y],pageNumber:Y,page:he}),re("/Contents "+Ae+" 0 R"),re(">>"),re("endobj");var Ge=he.join(`
`);return O===E&&(Ge+=`
Q`),xn(Ae,!0),qa({data:Ge,filters:os(),objectId:Ae}),re("endobj"),je},Ps=p.__private__.putPages=function(){var C,Y,he=[];for(C=1;C<=Xt;C++)Et[C].objId=on(),Et[C].contentsObjId=on();for(C=1;C<=Xt;C++)he.push(Fi({number:C,data:Ee[C],objId:Et[C].objId,contentsObjId:Et[C].contentsObjId,mediaBox:Et[C].mediaBox,cropBox:Et[C].cropBox,bleedBox:Et[C].bleedBox,trimBox:Et[C].trimBox,artBox:Et[C].artBox,userUnit:Et[C].userUnit,rootDictionaryObjId:ni,resourceDictionaryObjId:_s}));xn(ni,!0),re("<</Type /Pages");var je="/Kids [";for(Y=0;Y<Xt;Y++)je+=he[Y]+" 0 R ";re(je+"]"),re("/Count "+Xt),re(">>"),re("endobj"),Re.publish("postPutPages")},ai=function(C){Re.publish("putFont",{font:C,out:re,newObject:Rr,putStream:qa}),C.isAlreadyPutted!==!0&&(C.objectNumber=Rr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+pu(C.postScriptName)),re("/Subtype /Type1"),typeof C.encoding=="string"&&re("/Encoding /"+C.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Oi=function(C){C.objectNumber=Rr();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[te(C.x),te(C.y),te(C.x+C.width),te(C.y+C.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var he=C.pages[1].join(`
`);qa({data:he,additionalKeyValues:Y,objectId:C.objectNumber}),re("endobj")},Ii=function(C,Y){Y||(Y=21);var he=Rr(),je=(function(tt,_t){var Ot,tr=[],sr=1/(_t-1);for(Ot=0;Ot<1;Ot+=sr)tr.push(Ot);if(tr.push(1),tt[0].offset!=0){var Tr={offset:0,color:tt[0].color};tt.unshift(Tr)}if(tt[tt.length-1].offset!=1){var hn={offset:1,color:tt[tt.length-1].color};tt.push(hn)}for(var Ln="",en=0,qn=0;qn<tr.length;qn++){for(Ot=tr[qn];Ot>tt[en+1].offset;)en++;var Sn=tt[en].offset,ra=(Ot-Sn)/(tt[en+1].offset-Sn),So=tt[en].color,As=tt[en+1].color;Ln+=J(Math.round((1-ra)*So[0]+ra*As[0]).toString(16))+J(Math.round((1-ra)*So[1]+ra*As[1]).toString(16))+J(Math.round((1-ra)*So[2]+ra*As[2]).toString(16))}return Ln.trim()})(C.colors,Y),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+Y+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qa({data:je,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),re("endobj"),C.objectNumber=Rr(),re("<< /ShadingType "+C.type),re("/ColorSpace /DeviceRGB");var Ge="/Coords ["+te(parseFloat(C.coords[0]))+" "+te(parseFloat(C.coords[1]))+" ";C.type===2?Ge+=te(parseFloat(C.coords[2]))+" "+te(parseFloat(C.coords[3])):Ge+=te(parseFloat(C.coords[2]))+" "+te(parseFloat(C.coords[3]))+" "+te(parseFloat(C.coords[4]))+" "+te(parseFloat(C.coords[5])),re(Ge+="]"),C.matrix&&re("/Matrix ["+C.matrix.toString()+"]"),re("/Function "+he+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Al=function(C,Y){var he=on(),je=Rr();Y.push({resourcesOid:he,objectOid:je}),C.objectNumber=je;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+C.boundingBox.map(te).join(" ")+"]"}),Ae.push({key:"XStep",value:te(C.xStep)}),Ae.push({key:"YStep",value:te(C.yStep)}),Ae.push({key:"Resources",value:he+" 0 R"}),C.matrix&&Ae.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),qa({data:C.stream,additionalKeyValues:Ae,objectId:C.objectNumber}),re("endobj")},Wu=function(C){for(var Y in C.objectNumber=Rr(),re("<<"),C)switch(Y){case"opacity":re("/ca "+L(C[Y]));break;case"stroke-opacity":re("/CA "+L(C[Y]))}re(">>"),re("endobj")},rn=function(C){xn(C.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in re("/Font <<"),Wt)Wt.hasOwnProperty(Y)&&(g===!1||g===!0&&w.hasOwnProperty(Y))&&re("/"+Y+" "+Wt[Y].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(kt).length>0){for(var Y in re("/Shading <<"),kt)kt.hasOwnProperty(Y)&&kt[Y]instanceof fd&&kt[Y].objectNumber>=0&&re("/"+Y+" "+kt[Y].objectNumber+" 0 R");Re.publish("putShadingPatternDict"),re(">>")}})(),(function(Y){if(Object.keys(kt).length>0){for(var he in re("/Pattern <<"),kt)kt.hasOwnProperty(he)&&kt[he]instanceof p.TilingPattern&&kt[he].objectNumber>=0&&kt[he].objectNumber<Y&&re("/"+he+" "+kt[he].objectNumber+" 0 R");Re.publish("putTilingPatternDict"),re(">>")}})(C.objectOid),(function(){if(Object.keys($t).length>0){var Y;for(Y in re("/ExtGState <<"),$t)$t.hasOwnProperty(Y)&&$t[Y].objectNumber>=0&&re("/"+Y+" "+$t[Y].objectNumber+" 0 R");Re.publish("putGStateDict"),re(">>")}})(),(function(){for(var Y in re("/XObject <<"),gt)gt.hasOwnProperty(Y)&&gt[Y].objectNumber>=0&&re("/"+Y+" "+gt[Y].objectNumber+" 0 R");Re.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Td=function(C){Gt[C.fontName]=Gt[C.fontName]||{},Gt[C.fontName][C.fontStyle]=C.id},Tl=function(C,Y,he,je,Ae){var Ge={id:"F"+(Object.keys(Wt).length+1).toString(10),postScriptName:C,fontName:Y,fontStyle:he,encoding:je,isStandardFont:Ae||!1,metadata:{}};return Re.publish("addFont",{font:Ge,instance:this}),Wt[Ge.id]=Ge,Td(Ge),Ge.id},Va=p.__private__.pdfEscape=p.pdfEscape=function(C,Y){return(function(he,je){var Ae,Ge,tt,_t,Ot,tr,sr,Tr,hn;if(tt=(je=je||{}).sourceEncoding||"Unicode",Ot=je.outputEncoding,(je.autoencode||Ot)&&Wt[Ye].metadata&&Wt[Ye].metadata[tt]&&Wt[Ye].metadata[tt].encoding&&(_t=Wt[Ye].metadata[tt].encoding,!Ot&&Wt[Ye].encoding&&(Ot=Wt[Ye].encoding),!Ot&&_t.codePages&&(Ot=_t.codePages[0]),typeof Ot=="string"&&(Ot=_t[Ot]),Ot)){for(sr=!1,tr=[],Ae=0,Ge=he.length;Ae<Ge;Ae++)(Tr=Ot[he.charCodeAt(Ae)])?tr.push(String.fromCharCode(Tr)):tr.push(he[Ae]),tr[Ae].charCodeAt(0)>>8&&(sr=!0);he=tr.join("")}for(Ae=he.length;sr===void 0&&Ae!==0;)he.charCodeAt(Ae-1)>>8&&(sr=!0),Ae--;if(!sr)return he;for(tr=je.noBOM?[]:[254,255],Ae=0,Ge=he.length;Ae<Ge;Ae++){if((hn=(Tr=he.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tr.push(hn),tr.push(Tr-(hn<<8))}return String.fromCharCode.apply(void 0,tr)})(C,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},si=p.__private__.beginPage=function(C){Ee[++Xt]=[],Et[Xt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},$i(Xt),Ve(Ee[I])},Rd=function(C,Y){var he,je,Ae;switch(n=Y||n,typeof C=="string"&&(he=P(C.toLowerCase()),Array.isArray(he)&&(je=he[0],Ae=he[1])),Array.isArray(C)&&(je=C[0]*ht,Ae=C[1]*ht),isNaN(je)&&(je=s[0],Ae=s[1]),(je>14400||Ae>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ae=Math.min(14400,Ae)),s=[je,Ae],n.substr(0,1)){case"l":Ae>je&&(s=[Ae,je]);break;case"p":je>Ae&&(s=[Ae,je])}si(s),Zt(ls),re(Hi),zc!==0&&re(zc+" J"),Uc!==0&&re(Uc+" j"),Re.publish("addPage",{pageNumber:Xt})},Rl=function(C){C>0&&C<=Xt&&(Ee.splice(C,1),Et.splice(C,1),Xt--,I>Xt&&(I=Xt),this.setPage(I))},$i=function(C){C>0&&C<=Xt&&(I=C)},Ha=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},Dd=function(C,Y,he){var je,Ae=void 0;return he=he||{},C=C!==void 0?C:Wt[Ye].fontName,Y=Y!==void 0?Y:Wt[Ye].fontStyle,je=C.toLowerCase(),Gt[je]!==void 0&&Gt[je][Y]!==void 0?Ae=Gt[je][Y]:Gt[C]!==void 0&&Gt[C][Y]!==void 0?Ae=Gt[C][Y]:he.disableWarning===!1&&an.warn("Unable to look up font label for font '"+C+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ae||he.noFallback||(Ae=Gt.times[Y])==null&&(Ae=Gt.times.normal),Ae},Rn=p.__private__.putInfo=function(){var C=Rr(),Y=function(je){return je};for(var he in m!==null&&(Y=Un.encryptor(C,0)),re("<<"),re("/Producer ("+Va(Y("jsPDF "+Ut.version))+")"),ze)ze.hasOwnProperty(he)&&ze[he]&&re("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Va(Y(ze[he]))+")");re("/CreationDate ("+Va(Y(ge))+")"),re(">>"),re("endobj")},Dl=p.__private__.putCatalog=function(C){var Y=(C=C||{}).rootDictionaryObjId||ni;switch(Rr(),re("<<"),re("/Type /Catalog"),re("/Pages "+Y+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+st;he.substr(he.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&re("/OpenAction [3 0 R /XYZ null null "+L(st)+"]")}switch(Se||(Se="continuous"),Se){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}ct&&re("/PageMode /"+ct),Re.publish("putCatalog"),re(">>"),re("endobj")},Gu=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ce+1)),re("/Root "+ce+" 0 R"),re("/Info "+(ce-1)+" 0 R"),m!==null&&re("/Encrypt "+Un.oid+" 0 R"),re("/ID [ <"+fe+"> <"+fe+"> ]"),re(">>")},Dn=p.__private__.putHeader=function(){re("%PDF-"+S),re("%")},Bi=p.__private__.putXRef=function(){var C="0000000000";re("xref"),re("0 "+(ce+1)),re("0000000000 65535 f ");for(var Y=1;Y<=ce;Y++)typeof se[Y]=="function"?re((C+se[Y]()).slice(-10)+" 00000 n "):se[Y]!==void 0?re((C+se[Y]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Wa=p.__private__.buildDocument=function(){var C;ce=0,le=0,pe=[],se=[],be=[],ni=on(),_s=on(),Ve(pe),Re.publish("buildDocument"),Dn(),Ps(),(function(){Re.publish("putAdditionalObjects");for(var he=0;he<be.length;he++){var je=be[he];xn(je.objId,!0),re(je.content),re("endobj")}Re.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var he in Wt)Wt.hasOwnProperty(he)&&(g===!1||g===!0&&w.hasOwnProperty(he))&&ai(Wt[he])})(),(function(){var he;for(he in $t)$t.hasOwnProperty(he)&&Wu($t[he])})(),(function(){for(var he in gt)gt.hasOwnProperty(he)&&Oi(gt[he])})(),(function(he){var je;for(je in kt)kt.hasOwnProperty(je)&&(kt[je]instanceof fd?Ii(kt[je]):kt[je]instanceof gu&&Al(kt[je],he))})(C),Re.publish("putResources"),C.forEach(rn),rn({resourcesOid:_s,objectOid:Number.MAX_SAFE_INTEGER}),Re.publish("postPutResources"),m!==null&&(Un.oid=Rr(),re("<<"),re("/Filter /Standard"),re("/V "+Un.v),re("/R "+Un.r),re("/U <"+Un.toHexString(Un.U)+">"),re("/O <"+Un.toHexString(Un.O)+">"),re("/P "+Un.P),re(">>"),re("endobj")),Rn(),Dl();var Y=le;return Bi(),Gu(),re("startxref"),re(""+Y),re("%%EOF"),Ve(Ee[I]),pe.join(`
`)},Js=p.__private__.getBlob=function(C){return new Blob([Xe(C)],{type:"application/pdf"})},zi=p.output=p.__private__.output=(Wr=function(C,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",C){case void 0:return Wa();case"save":p.save(Y.filename);break;case"arraybuffer":return Xe(Wa());case"blob":return Js(Wa());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(Js(Wa()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",je=Wa();try{he=ow(je)}catch{he=ow(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+Y.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ae=Y.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",_t=ar.open();return _t!==null&&_t.document.write(tt),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',tr=ar.open();if(tr!==null){tr.document.write(Ot);var sr=this;tr.document.documentElement.querySelector("#pdfViewer").onload=function(){tr.document.title=Y.filename,tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',hn=ar.open();if(hn!==null&&(hn.document.write(Tr),hn.document.title=Y.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",Y);default:return null}},Wr.foo=function(){try{return Wr.apply(this,arguments)}catch(he){var C=he.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var Y="Error in function "+C.split(`
`)[0].split("<")[0]+": "+he.message;if(!ar.console)throw new Error(Y);ar.console.error(Y,he),ar.alert&&alert(Y)}},Wr.foo.bar=Wr,Wr.foo),is=function(C){return Array.isArray(et)===!0&&et.indexOf(C)>-1};switch(a){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=is("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ht=a}var Un=null;D(),U();var ks=p.__private__.getPageInfo=p.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[C].objId,pageNumber:C,pageContext:Et[C]}},Oc=p.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Et)if(Et[Y].objId===C)break;return ks(Y)},Ic=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Et[I].objId,pageNumber:I,pageContext:Et[I]}};p.addPage=function(){return Rd.apply(this,arguments),this},p.setPage=function(){return $i.apply(this,arguments),Ve.call(this,Ee[I]),this},p.insertPage=function(C){return this.addPage(),this.movePage(I,C),this},p.movePage=function(C,Y){var he,je;if(C>Y){he=Ee[C],je=Et[C];for(var Ae=C;Ae>Y;Ae--)Ee[Ae]=Ee[Ae-1],Et[Ae]=Et[Ae-1];Ee[Y]=he,Et[Y]=je,this.setPage(Y)}else if(C<Y){he=Ee[C],je=Et[C];for(var Ge=C;Ge<Y;Ge++)Ee[Ge]=Ee[Ge+1],Et[Ge]=Et[Ge+1];Ee[Y]=he,Et[Y]=je,this.setPage(Y)}return this},p.deletePage=function(){return Rl.apply(this,arguments),this},p.__private__.text=p.text=function(C,Y,he,je,Ae){var Ge,tt,_t,Ot,tr,sr,Tr,hn,Ln,en=(je=je||{}).scope||this;if(typeof C=="number"&&typeof Y=="number"&&(typeof he=="string"||Array.isArray(he))){var qn=he;he=Y,Y=C,C=qn}if(arguments[3]instanceof yt==0?(_t=arguments[4],Ot=arguments[5],Qr(Tr=arguments[3])==="object"&&Tr!==null||(typeof _t=="string"&&(Ot=_t,_t=null),typeof Tr=="string"&&(Ot=Tr,Tr=null),typeof Tr=="number"&&(_t=Tr,Tr=null),je={flags:Tr,angle:_t,align:Ot})):(K("The transform parameter of text() with a Matrix value"),Ln=Ae),isNaN(Y)||isNaN(he)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return en;var Sn,ra="",So=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Pa,As=en.internal.scaleFactor;function Co(Mr){return Mr=Mr.split("	").join(Array(je.TabLen||9).join(" ")),Va(Mr,Tr)}function Ji(Mr){for(var Ur,yn=Mr.concat(),Mn=[],Ds=yn.length;Ds--;)typeof(Ur=yn.shift())=="string"?Mn.push(Ur):Array.isArray(Mr)&&(Ur.length===1||Ur[1]===void 0&&Ur[2]===void 0)?Mn.push(Ur[0]):Mn.push([Ur[0],Ur[1],Ur[2]]);return Mn}function zl(Mr,Ur){var yn;if(typeof Mr=="string")yn=Ur(Mr)[0];else if(Array.isArray(Mr)){for(var Mn,Ds,Wc=Mr.concat(),Wl=[],Ao=Wc.length;Ao--;)typeof(Mn=Wc.shift())=="string"?Wl.push(Ur(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(Ds=Ur(Mn[0],Mn[1],Mn[2]),Wl.push([Ds[0],Ds[1],Ds[2]]));yn=Wl}return yn}var li=!1,Xi=!0;if(typeof C=="string")li=!0;else if(Array.isArray(C)){var ci=C.concat();tt=[];for(var di,na=ci.length;na--;)(typeof(di=ci.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(Xi=!1);li=Xi}if(li===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Qi=qe/en.internal.scaleFactor,Zi=Qi*(So-1);switch(je.baseline){case"bottom":he-=Zi;break;case"top":he+=Qi-Zi;break;case"hanging":he+=Qi-2*Zi;break;case"middle":he+=Qi/2-Zi}if((sr=je.maxWidth||0)>0&&(typeof C=="string"?C=en.splitTextToSize(C,sr):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Mr,Ur){return Mr.concat(en.splitTextToSize(Ur,sr))},[]))),Ge={text:C,x:Y,y:he,options:je,mutex:{pdfEscape:Va,activeFontKey:Ye,fonts:Wt,activeFontSize:qe}},Re.publish("preProcessText",Ge),C=Ge.text,_t=(je=Ge.options).angle,Ln instanceof yt==0&&_t&&typeof _t=="number"){_t*=Math.PI/180,je.rotationDirection===0&&(_t=-_t),O===E&&(_t=-_t);var Vc=Math.cos(_t),Hc=Math.sin(_t);Ln=new yt(Vc,Hc,-Hc,Vc,0,0)}else _t&&_t instanceof yt&&(Ln=_t);O!==E||Ln||(Ln=Zr),(tr=je.charSpace||ka)!==void 0&&(ra+=te(z(tr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=je.horizontalScale)!==void 0&&(ra+=te(100*hn)+` Tz
`),je.lang;var ya=-1,Ts=je.renderingMode!==void 0?je.renderingMode:je.stroke,to=en.internal.getCurrentPageInfo().pageContext;switch(Ts){case 0:case!1:case"fill":ya=0;break;case 1:case!0:case"stroke":ya=1;break;case 2:case"fillThenStroke":ya=2;break;case 3:case"invisible":ya=3;break;case 4:case"fillAndAddForClipping":ya=4;break;case 5:case"strokeAndAddPathForClipping":ya=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ya=6;break;case 7:case"addToPathForClipping":ya=7}var Id=to.usedRenderingMode!==void 0?to.usedRenderingMode:-1;ya!==-1?ra+=ya+` Tr
`:Id!==-1&&(ra+=`0 Tr
`),ya!==-1&&(to.usedRenderingMode=ya),Ot=je.align||"left";var Ya,ui=qe*So,Ul=en.internal.pageSize.getWidth(),ql=Wt[Ye];tr=je.charSpace||ka,sr=je.maxWidth||0,Tr=Object.assign({autoencode:!0,noBOM:!0},je.flags);var _o=[],fs=function(Mr){return en.getStringUnitWidth(Mr,{font:ql,charSpace:tr,fontSize:qe,doKerning:!1})*qe/As};if(Object.prototype.toString.call(C)==="[object Array]"){var Ka;tt=Ji(C),Ot!=="left"&&(Ya=tt.map(fs));var Ja,hi=0;if(Ot==="right"){Y-=Ya[0],C=[],na=tt.length;for(var ro=0;ro<na;ro++)ro===0?(Ja=Ga(Y),Ka=jo(he)):(Ja=z(hi-Ya[ro]),Ka=-ui),C.push([tt[ro],Ja,Ka]),hi=Ya[ro]}else if(Ot==="center"){Y-=Ya[0]/2,C=[],na=tt.length;for(var Po=0;Po<na;Po++)Po===0?(Ja=Ga(Y),Ka=jo(he)):(Ja=z((hi-Ya[Po])/2),Ka=-ui),C.push([tt[Po],Ja,Ka]),hi=Ya[Po]}else if(Ot==="left"){C=[],na=tt.length;for(var ko=0;ko<na;ko++)C.push(tt[ko])}else if(Ot==="justify"&&ql.encoding==="Identity-H"){C=[],na=tt.length,sr=sr!==0?sr:Ul;for(var no=0,Cn=0;Cn<na;Cn++)if(Ka=Cn===0?jo(he):-ui,Ja=Cn===0?Ga(Y):no,Cn<na-1){var el=z((sr-Ya[Cn])/(tt[Cn].split(" ").length-1)),ao=tt[Cn].split(" ");C.push([ao[0]+" ",Ja,Ka]),no=0;for(var Rs=1;Rs<ao.length;Rs++){var tl=(fs(ao[Rs-1]+" "+ao[Rs])-fs(ao[Rs]))*As+el;Rs==ao.length-1?C.push([ao[Rs],tl,0]):C.push([ao[Rs]+" ",tl,0]),no-=tl}}else C.push([tt[Cn],Ja,Ka]);C.push(["",no,0])}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],na=tt.length,sr=sr!==0?sr:Ul,Cn=0;Cn<na;Cn++){Ka=Cn===0?jo(he):-ui,Ja=Cn===0?Ga(Y):0;var rl=tt[Cn].split(" ").length-1,Vl=rl>0?(sr-Ya[Cn])/rl:0;Cn<na-1?_o.push(te(z(Vl))):_o.push(0),C.push([tt[Cn],Ja,Ka])}}}(typeof je.R2L=="boolean"?je.R2L:pt)===!0&&(C=zl(C,function(Mr,Ur,yn){return[Mr.split("").reverse().join(""),Ur,yn]})),Ge={text:C,x:Y,y:he,options:je,mutex:{pdfEscape:Va,activeFontKey:Ye,fonts:Wt,activeFontSize:qe}},Re.publish("postProcessText",Ge),C=Ge.text,Sn=Ge.mutex.isHex||!1;var Hl=Wt[Ye].encoding;Hl!=="WinAnsiEncoding"&&Hl!=="StandardEncoding"||(C=zl(C,function(Mr,Ur,yn){return[Co(Mr),Ur,yn]})),tt=Ji(C),C=[];for(var Eo,fi,mi,nl=Array.isArray(tt[0])?1:0,pi="",al=function(Mr,Ur,yn){var Mn="";return yn instanceof yt?(yn=typeof je.angle=="number"?Pr(yn,new yt(1,0,0,1,Mr,Ur)):Pr(new yt(1,0,0,1,Mr,Ur),yn),O===E&&(yn=Pr(new yt(1,0,0,-1,0,0),yn)),Mn=yn.join(" ")+` Tm
`):Mn=te(Mr)+" "+te(Ur)+` Td
`,Mn},vn=0;vn<tt.length;vn++){switch(pi="",nl){case 1:mi=(Sn?"<":"(")+tt[vn][0]+(Sn?">":")"),Eo=parseFloat(tt[vn][1]),fi=parseFloat(tt[vn][2]);break;case 0:mi=(Sn?"<":"(")+tt[vn]+(Sn?">":")"),Eo=Ga(Y),fi=jo(he)}_o!==void 0&&_o[vn]!==void 0&&(pi=_o[vn]+` Tw
`),vn===0?C.push(pi+al(Eo,fi,Ln)+mi):nl===0?C.push(pi+mi):nl===1&&C.push(pi+al(Eo,fi,Ln)+mi)}C=nl===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Ea=`BT
/`;return Ea+=Ye+" "+qe+` Tf
`,Ea+=te(qe*So)+` TL
`,Ea+=Es+`
`,Ea+=ra,Ea+=C,re(Ea+="ET"),w[Ye]=!0,en};var Ui=p.__private__.clip=p.clip=function(C){return re(C==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ui("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Xs=p.__private__.isValidStyle=function(C){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(Y=!0),Y};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(C){return Xs(C)&&(h=C),this};var Ll=p.__private__.getStyle=p.getStyle=function(C){var Y=h;switch(C){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=C}return Y},Dr=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(C){return qi("f",C),this},p.fillEvenOdd=function(C){return qi("f*",C),this},p.fillStroke=function(C){return qi("B",C),this},p.fillStrokeEvenOdd=function(C){return qi("B*",C),this};var qi=function(C,Y){Qr(Y)==="object"?Ld(Y,C):re(C)},oi=function(C){C===null||O===E&&C===void 0||(C=Ll(C),re(C))};function $c(C,Y,he,je,Ae){var Ge=new gu(Y||this.boundingBox,he||this.xStep,je||this.yStep,this.gState,Ae||this.matrix);Ge.stream=this.stream;var tt=C+"$$"+this.cloneIndex+++"$$";return br(tt,Ge),Ge}var Ld=function(C,Y){var he=_r[C.key],je=kt[he];if(je instanceof fd)re("q"),re(Md(Y)),je.gState&&p.setGState(je.gState),re(C.matrix.toString()+" cm"),re("/"+he+" sh"),re("Q");else if(je instanceof gu){var Ae=new yt(1,0,0,-1,0,hs());C.matrix&&(Ae=Ae.multiply(C.matrix||Zr),he=$c.call(je,C.key,C.boundingBox,C.xStep,C.yStep,Ae).id),re("q"),re("/Pattern cs"),re("/"+he+" scn"),je.gState&&p.setGState(je.gState),re(Y),re("Q")}},Md=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ml=p.moveTo=function(C,Y){return re(te(z(C))+" "+te(q(Y))+" m"),this},Fl=p.lineTo=function(C,Y){return re(te(z(C))+" "+te(q(Y))+" l"),this},_a=p.curveTo=function(C,Y,he,je,Ae,Ge){return re([te(z(C)),te(q(Y)),te(z(he)),te(q(je)),te(z(Ae)),te(q(Ge)),"c"].join(" ")),this};p.__private__.line=p.line=function(C,Y,he,je,Ae){if(isNaN(C)||isNaN(Y)||isNaN(he)||isNaN(je)||!Xs(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return O===k?this.lines([[he-C,je-Y]],C,Y,[1,1],Ae||"S"):this.lines([[he-C,je-Y]],C,Y,[1,1]).stroke()},p.__private__.lines=p.lines=function(C,Y,he,je,Ae,Ge){var tt,_t,Ot,tr,sr,Tr,hn,Ln,en,qn,Sn,ra;if(typeof C=="number"&&(ra=he,he=Y,Y=C,C=ra),je=je||[1,1],Ge=Ge||!1,isNaN(Y)||isNaN(he)||!Array.isArray(C)||!Array.isArray(je)||!Xs(Ae)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ml(Y,he),tt=je[0],_t=je[1],tr=C.length,qn=Y,Sn=he,Ot=0;Ot<tr;Ot++)(sr=C[Ot]).length===2?(qn=sr[0]*tt+qn,Sn=sr[1]*_t+Sn,Fl(qn,Sn)):(Tr=sr[0]*tt+qn,hn=sr[1]*_t+Sn,Ln=sr[2]*tt+qn,en=sr[3]*_t+Sn,qn=sr[4]*tt+qn,Sn=sr[5]*_t+Sn,_a(Tr,hn,Ln,en,qn,Sn));return Ge&&Dr(),oi(Ae),this},p.path=function(C){for(var Y=0;Y<C.length;Y++){var he=C[Y],je=he.c;switch(he.op){case"m":Ml(je[0],je[1]);break;case"l":Fl(je[0],je[1]);break;case"c":_a.apply(this,je);break;case"h":Dr()}}return this},p.__private__.rect=p.rect=function(C,Y,he,je,Ae){if(isNaN(C)||isNaN(Y)||isNaN(he)||isNaN(je)||!Xs(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return O===k&&(je=-je),re([te(z(C)),te(q(Y)),te(z(he)),te(z(je)),"re"].join(" ")),oi(Ae),this},p.__private__.triangle=p.triangle=function(C,Y,he,je,Ae,Ge,tt){if(isNaN(C)||isNaN(Y)||isNaN(he)||isNaN(je)||isNaN(Ae)||isNaN(Ge)||!Xs(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-C,je-Y],[Ae-he,Ge-je],[C-Ae,Y-Ge]],C,Y,[1,1],tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(C,Y,he,je,Ae,Ge,tt){if(isNaN(C)||isNaN(Y)||isNaN(he)||isNaN(je)||isNaN(Ae)||isNaN(Ge)||!Xs(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*he),Ge=Math.min(Ge,.5*je),this.lines([[he-2*Ae,0],[Ae*_t,0,Ae,Ge-Ge*_t,Ae,Ge],[0,je-2*Ge],[0,Ge*_t,-Ae*_t,Ge,-Ae,Ge],[2*Ae-he,0],[-Ae*_t,0,-Ae,-Ge*_t,-Ae,-Ge],[0,2*Ge-je],[0,-Ge*_t,Ae*_t,-Ge,Ae,-Ge]],C+Ae,Y,[1,1],tt,!0),this},p.__private__.ellipse=p.ellipse=function(C,Y,he,je,Ae){if(isNaN(C)||isNaN(Y)||isNaN(he)||isNaN(je)||!Xs(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*he,tt=4/3*(Math.SQRT2-1)*je;return Ml(C+he,Y),_a(C+he,Y-tt,C+Ge,Y-je,C,Y-je),_a(C-Ge,Y-je,C-he,Y-tt,C-he,Y),_a(C-he,Y+tt,C-Ge,Y+je,C,Y+je),_a(C+Ge,Y+je,C+he,Y+tt,C+he,Y),oi(Ae),this},p.__private__.circle=p.circle=function(C,Y,he,je){if(isNaN(C)||isNaN(Y)||isNaN(he)||!Xs(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,Y,he,he,je)},p.setFont=function(C,Y,he){return he&&(Y=W(Y,he)),Ye=Dd(C,Y,{disableWarning:!1}),this};var Qs=p.__private__.getFont=p.getFont=function(){return Wt[Dd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var C,Y,he={};for(C in Gt)if(Gt.hasOwnProperty(C))for(Y in he[C]=[],Gt[C])Gt[C].hasOwnProperty(Y)&&he[C].push(Y);return he},p.addFont=function(C,Y,he,je,Ae){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(he=W(he,je)),Tl.call(this,C,Y,he,Ae=Ae||"Identity-H")};var Pa,ls=e.lineWidth||.200025,Vi=p.__private__.getLineWidth=p.getLineWidth=function(){return ls},Zt=p.__private__.setLineWidth=p.setLineWidth=function(C){return ls=C,re(te(z(C))+" w"),this};p.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(C,Y){if(C=C||[],Y=Y||0,isNaN(Y)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(he){return te(z(he))}).join(" "),Y=te(z(Y)),re("["+C+"] "+Y+" d"),this};var Zs=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Pa};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Pa};var Yu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Pa=C),this},Fd=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Pa};Yu(e.lineHeight);var Ga=p.__private__.getHorizontalCoordinate=function(C){return z(C)},jo=p.__private__.getVerticalCoordinate=function(C){return O===E?C:Et[I].mediaBox.topRightY-Et[I].mediaBox.bottomLeftY-z(C)},Od=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(C){return te(Ga(C))},Ol=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(C){return te(jo(C))},Hi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ks(Hi)},p.__private__.setStrokeColor=p.setDrawColor=function(C,Y,he,je){return Hi=ta({ch1:C,ch2:Y,ch3:he,ch4:je,pdfColorType:"draw",precision:2}),re(Hi),this};var Bc=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ks(Bc)},p.__private__.setFillColor=p.setFillColor=function(C,Y,he,je){return Bc=ta({ch1:C,ch2:Y,ch3:he,ch4:je,pdfColorType:"fill",precision:2}),re(Bc),this};var Es=e.textColor||"0 g",Wi=p.__private__.getTextColor=p.getTextColor=function(){return Ks(Es)};p.__private__.setTextColor=p.setTextColor=function(C,Y,he,je){return Es=ta({ch1:C,ch2:Y,ch3:he,ch4:je,pdfColorType:"text",precision:3}),this};var ka=e.charSpace,Il=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ka||0)};p.__private__.setCharSpace=p.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ka=C,this};var zc=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(C){var Y=p.CapJoinStyles[C];if(Y===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zc=Y,re(Y+" J"),this};var Uc=0;p.__private__.setLineJoin=p.setLineJoin=function(C){var Y=p.CapJoinStyles[C];if(Y===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=Y,re(Y+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(te(z(C))+" M"),this},p.GState=qm,p.setGState=function(C){(C=typeof C=="string"?$t[vt[C]]:$l(null,C)).equals(pr)||(re("/"+C.id+" gs"),pr=C)};var $l=function(C,Y){if(!C||!vt[C]){var he=!1;for(var je in $t)if($t.hasOwnProperty(je)&&$t[je].equals(Y)){he=!0;break}if(he)Y=$t[je];else{var Ae="GS"+(Object.keys($t).length+1).toString(10);$t[Ae]=Y,Y.id=Ae}return C&&(vt[C]=Y.id),Re.publish("addGState",Y),Y}};p.addGState=function(C,Y){return $l(C,Y),this},p.saveGraphicsState=function(){return re("q"),hr.push({key:Ye,size:qe,color:Es}),this},p.restoreGraphicsState=function(){re("Q");var C=hr.pop();return Ye=C.key,qe=C.size,Es=C.color,pr=null,this},p.setCurrentTransformationMatrix=function(C){return re(C.toString()+" cm"),this},p.comment=function(C){return re("#"+C),this};var cs=function(C,Y){var he=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ge){isNaN(Ge)||(he=parseFloat(Ge))}});var je=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Ge){isNaN(Ge)||(je=parseFloat(Ge))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ge){Ae=Ge.toString()}}),this},Gi=function(C,Y,he,je){cs.call(this,C,Y),this.type="rect";var Ae=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(tt){isNaN(tt)||(Ae=parseFloat(tt))}});var Ge=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},Yi=function(){this.page=Xt,this.currentPage=I,this.pages=Ee.slice(0),this.pagesContext=Et.slice(0),this.x=dt,this.y=Yt,this.matrix=Vt,this.width=ii(I),this.height=Ki(I),this.outputDestination=Te,this.id="",this.objectNumber=-1};Yi.prototype.restore=function(){Xt=this.page,I=this.currentPage,Et=this.pagesContext,Ee=this.pages,dt=this.x,Yt=this.y,Vt=this.matrix,qc(I,this.width),us(I,this.height),Te=this.outputDestination};var ds=function(C,Y,he,je,Ae){Nr.push(new Yi),Xt=I=0,Ee=[],dt=C,Yt=Y,Vt=Ae,si([he,je])};for(var No in p.beginFormObject=function(C,Y,he,je,Ae){return ds(C,Y,he,je,Ae),this},p.endFormObject=function(C){return(function(Y){if(Qt[Y])Nr.pop().restore();else{var he=new Yi,je="Xo"+(Object.keys(gt).length+1).toString(10);he.id=je,Qt[Y]=je,gt[je]=he,Re.publish("addFormObject",he),Nr.pop().restore()}})(C),this},p.doFormObject=function(C,Y){var he=gt[Qt[C]];return re("q"),re(Y.toString()+" cm"),re("/"+he.id+" Do"),re("Q"),this},p.getFormObject=function(C){var Y=gt[Qt[C]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},p.save=function(C,Y){return C=C||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(hd(Js(Wa()),C),typeof hd.unload=="function"&&ar.setTimeout&&setTimeout(hd.unload,911),this):new Promise(function(he,je){try{var Ae=hd(Js(Wa()),C);typeof hd.unload=="function"&&ar.setTimeout&&setTimeout(hd.unload,911),he(Ae)}catch(Ge){je(Ge.message)}})},Ut.API)Ut.API.hasOwnProperty(No)&&(No==="events"&&Ut.API.events.length?(function(C,Y){var he,je,Ae;for(Ae=Y.length-1;Ae!==-1;Ae--)he=Y[Ae][0],je=Y[Ae][1],C.subscribe.apply(C,[he].concat(typeof je=="function"?[je]:je))})(Re,Ut.API.events):p[No]=Ut.API[No]);function ii(C){return Et[C].mediaBox.topRightX-Et[C].mediaBox.bottomLeftX}function qc(C,Y){Et[C].mediaBox.topRightX=Y+Et[C].mediaBox.bottomLeftX}function Ki(C){return Et[C].mediaBox.topRightY-Et[C].mediaBox.bottomLeftY}function us(C,Y){Et[C].mediaBox.topRightY=Y+Et[C].mediaBox.bottomLeftY}var eo=p.getPageWidth=function(C){return ii(C=C||I)/ht},la=p.setPageWidth=function(C,Y){qc(C,Y*ht)},hs=p.getPageHeight=function(C){return Ki(C=C||I)/ht},Bl=p.setPageHeight=function(C,Y){us(C,Y*ht)};return p.internal={pdfEscape:Va,getStyle:Ll,getFont:Qs,getFontSize:Ze,getCharSpace:Il,getTextColor:Wi,getLineHeight:Zs,getLineHeightFactor:Fd,getLineWidth:Vi,write:we,getHorizontalCoordinate:Ga,getVerticalCoordinate:jo,getCoordinateString:Od,getVerticalCoordinateString:Ol,collections:{},newObject:Rr,newAdditionalObject:bo,newObjectDeferred:on,newObjectDeferredBegin:xn,getFilters:os,putStream:qa,events:Re,scaleFactor:ht,pageSize:{getWidth:function(){return eo(I)},setWidth:function(C){la(I,C)},getHeight:function(){return hs(I)},setHeight:function(C){Bl(I,C)}},encryptionOptions:m,encryption:Un,getEncryptor:function(C){return m!==null?Un.encryptor(C,0):function(Y){return Y}},output:zi,getNumberOfPages:Ha,get pages(){return Ee},out:re,f2:L,f3:F,getPageInfo:ks,getPageInfoByObjId:Oc,getCurrentPageInfo:Ic,getPDFVersion:j,Point:cs,Rectangle:Gi,Matrix:yt,hasHotfix:is},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return eo(I)},set:function(C){la(I,C)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return hs(I)},set:function(C){Bl(I,C)},enumerable:!0,configurable:!0}),(function(C){for(var Y=0,he=lt.length;Y<he;Y++){var je=Tl.call(this,C[Y][0],C[Y][1],C[Y][2],lt[Y][3],!0);g===!1&&(w[je]=!0);var Ae=C[Y][0].split("-");Td({id:je,fontName:Ae[0],fontStyle:Ae[1]||""})}Re.publish("addFonts",{fonts:Wt,dictionary:Gt})}).call(p,lt),Ye="F1",Rd(s,n),Re.publish("initialized"),p}mu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},mu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},mu.prototype.processOwnerPassword=function(e,t){return wv(yv(t).substr(0,5),e)},mu.prototype.encryptor=function(e,t){var n=yv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return wv(n,a)}},qm.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Qr(e)!==Qr(this))return!1;var a=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&a--;return a===0},Ut.API={events:[]},Ut.version="4.0.0";var Bn=Ut.API,F0=1,Ad=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dr=function(e){return e.toFixed(2)},pc=function(e){return e.toFixed(5)};Bn.__acroform__={};var Cs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},dw=function(e){return e*F0},Ni=function(e){var t=new fC,n=Tt.internal.getHeight(e)||0,a=Tt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dr(a)),Number(dr(n))],t},WO=Bn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},GO=Bn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},YO=Bn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Gn=Bn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return YO(e,t-1)},Yn=Bn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WO(e,t-1)},Kn=Bn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GO(e,t-1)},KO=Bn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],d=e[2],c=e[3],u={};return u.lowerLeft_X=n(s)||0,u.lowerLeft_Y=a(i+c)||0,u.upperRight_X=n(s+d)||0,u.upperRight_Y=a(i)||0,[Number(dr(u.lowerLeft_X)),Number(dr(u.lowerLeft_Y)),Number(dr(u.upperRight_X)),Number(dr(u.upperRight_Y))]},JO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,a=bv(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+dr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ni(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},bv=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=n,d=Tt.internal.getHeight(e)||0;d=d<0?-d:d;var c=Tt.internal.getWidth(e)||0;c=c<0?-c:c;var u=function(L,F,z){if(L+1<s.length){var q=F+" "+s[L+1][0];return im(q,e,z).width<=c-4}return!1};i++;e:for(;i>0;){t="",i--;var h,m,g=im("3",e,i).height,w=e.multiline?d-i:(d-g)/2,p=w+=2,S=0,j=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+im(t,e,i=12).width+", FieldWidth:"+c+`
`;break}for(var P="",k=0,E=0;E<s.length;E++)if(s.hasOwnProperty(E)){var O=!1;if(s[E].length!==1&&N!==s[E].length-1){if((g+2)*(k+2)+2>d)continue e;P+=s[E][N],O=!0,j=E,E--}else{P=(P+=s[E][N]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var B=parseInt(E),ae=u(B,P,i),W=E>=s.length-1;if(ae&&!W){P+=" ",N=0;continue}if(ae||W){if(W)j=B;else if(e.multiline&&(g+2)*(k+2)+2>d)continue e}else{if(!e.multiline||(g+2)*(k+2)+2>d)continue e;j=B}}for(var te="",K=S;K<=j;K++){var oe=s[K];if(e.multiline){if(K===j){te+=oe[N]+" ",N=(N+1)%oe.length;continue}if(K===S){te+=oe[oe.length-1]+" ";continue}}te+=oe[0]+" "}switch(te=te.substr(te.length-1)==" "?te.substr(0,te.length-1):te,m=im(te,e,i).width,e.textAlign){case"right":h=c-m-2;break;case"center":h=(c-m)/2;break;default:h=2}t+=dr(h)+" "+dr(p)+` Td
`,t+="("+Ad(te)+`) Tj
`,t+=-dr(h)+` 0 Td
`,p=-(i+2),m=0,S=O?j:j+1,k++,P=""}break}return a.text=t,a.fontSize=i,a},im=function(e,t,n){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},XO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QO=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},ZO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ti.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(XO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");F0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new mC,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&QO(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(a,s){var i=!a;for(var d in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(d)){var c=a[d],u=[],h=c.Rect;if(c.Rect&&(c.Rect=KO(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Tt.createDefaultAppearanceStream(c),Qr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=JO(c);u.push({key:"AP",value:"<</N "+m+">>"}),s.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var g="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var p=c.appearanceStreamContent[w];if(g+="/"+w+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var d in p)if(p.hasOwnProperty(d)){var S=p[d];typeof S=="function"&&(S=S.call(s,c)),g+="/"+d+" "+S+" ",s.internal.acroformPlugin.xForms.indexOf(S)>=0||s.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(s,c)),g+="/"+d+" "+S,s.internal.acroformPlugin.xForms.indexOf(S)>=0||s.internal.acroformPlugin.xForms.push(S);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:c.objId}),s.internal.out("endobj")}i&&(function(j,N){for(var P in j)if(j.hasOwnProperty(P)){var k=P,E=j[P];N.internal.newObjectDeferredBegin(E.objId,!0),Qr(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete j[k]}})(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},hC=Bn.__acroform__.arrayToPdfArray=function(e,t,n){var a=function(d){return d};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Qr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(a=n.internal.getEncryptor(t)),s+="("+Ad(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},px=function(e,t,n){var a=function(s){return s};return t!==void 0&&n&&(a=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ad(a(e))+")"},Ai=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ai.prototype.toString=function(){return this.objId+" 0 R"},Ai.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ai.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var a=t[n],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:hC(s,this.objId,this.scope)}):s instanceof Ai?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var fC=function(){Ai.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Cs(fC,Ai);var mC=function(){Ai.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ad(n(e))+")"}},set:function(n){e=n}})};Cs(mC,Ai);var ti=function e(){Ai.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');t=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gn(t,3)},set:function(P){P?this.F=Yn(t,3):this.F=Kn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');n=P}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(P){a=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(P){a[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(P){a[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(P){a[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(P){a[3]=P}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Vm)return;i="FieldObject"+e.FieldNum++}var P=function(k){return k};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Ad(P(i))+")"},set:function(P){i=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(P){i=P}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(P){d=P}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/F0:h},set:function(P){h=P}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(P){m=P}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Vm||this instanceof pd))return px(g,this.objId,this.scope)},set:function(P){P=P.toString(),g=P}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ga==0?px(w,this.objId,this.scope):w},set:function(P){P=P.toString(),w=this instanceof ga==0?P.substr(0,1)==="("?uu(P.substr(1,P.length-2)):uu(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga==1?uu(w.substr(1,w.length-1)):w},set:function(P){P=P.toString(),w=this instanceof ga==1?"/"+P:P}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ga==0?px(p,this.objId,this.scope):p},set:function(P){P=P.toString(),p=this instanceof ga==0?P.substr(0,1)==="("?uu(P.substr(1,P.length-2)):uu(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga==1?uu(p.substr(1,p.length-1)):p},set:function(P){P=P.toString(),p=this instanceof ga==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(P){P=!!P,j=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(P){S=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,1)},set:function(P){P?this.Ff=Yn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,2)},set:function(P){P?this.Ff=Yn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,3)},set:function(P){P?this.Ff=Yn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');N=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(N){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Cs(ti,Ai);var Nu=function(){ti.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hC(t,this.objId,this.scope)},set:function(n){var a,s;s=[],typeof(a=n)=="string"&&(s=(function(i,d,c){c||(c=1);for(var u,h=[];u=d.exec(i);)h.push(u[c]);return h})(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,18)},set:function(n){n?this.Ff=Yn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Yn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,20)},set:function(n){n?(this.Ff=Yn(this.Ff,20),t.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,22)},set:function(n){n?this.Ff=Yn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(n){n?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,27)},set:function(n){n?this.Ff=Yn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Cs(Nu,ti);var Su=function(){Nu.call(this),this.fontName="helvetica",this.combo=!1};Cs(Su,Nu);var Cu=function(){Su.call(this),this.combo=!0};Cs(Cu,Su);var bm=function(){Cu.call(this),this.edit=!0};Cs(bm,Cu);var ga=function(){ti.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,15)},set:function(n){n?this.Ff=Yn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,16)},set:function(n){n?this.Ff=Yn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,17)},set:function(n){n?this.Ff=Yn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(n){n?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+Ad(n(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Qr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Cs(ga,ti);var jm=function(){ga.call(this),this.pushButton=!0};Cs(jm,ga);var _u=function(){ga.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Cs(_u,ga);var Vm=function(){var e,t;ti.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,d=[];for(i in d.push("<<"),a)d.push("/"+i+" ("+Ad(s(a[i]))+")");return d.push(">>"),d.join(`
`)},set:function(s){Qr(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cs(Vm,ti),_u.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},_u.prototype.createOption=function(e){var t=new Vm;return t.Parent=this,t.optionName=e,this.Kids.push(t),eI.call(this.scope,t),t};var Nm=function(){ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};Cs(Nm,ga);var pd=function(){ti.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,13)},set:function(t){t?this.Ff=Yn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,21)},set:function(t){t?this.Ff=Yn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(t){t?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,24)},set:function(t){t?this.Ff=Yn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,25)},set:function(t){t?this.Ff=Yn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(t){t?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cs(pd,ti);var Sm=function(){pd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,14)},set:function(e){e?this.Ff=Yn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};Cs(Sm,pd);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ni(e);t.scope=e.scope;var n=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=bv(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+dr(Tt.internal.getWidth(e))+" "+dr(Tt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+dr(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ni(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Tt.internal.getHeight(e),d=Tt.internal.getWidth(e),c=bv(e,e.caption);return s.push("1 g"),s.push("0 0 "+dr(d)+" "+dr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+dr(d-1)+" "+dr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+dr(c.fontSize)+" Tf "+a),s.push(c.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ni(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dr(Tt.internal.getWidth(e))+" "+dr(Tt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Circle.YesNormal,t.D[e]=Tt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ni(e);t.scope=e.scope;var n=[],a=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Tt.internal.Bezier_C,i=Number((a*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+pc(Tt.internal.getWidth(e)/2)+" "+pc(Tt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ni(e);t.scope=e.scope;var n=[],a=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Tt.internal.Bezier_C).toFixed(5)),d=Number((a*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pc(Tt.internal.getWidth(e)/2)+" "+pc(Tt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+pc(Tt.internal.getWidth(e)/2)+" "+pc(Tt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+d+" "+d+" "+a+" 0 "+a+" c"),n.push("-"+d+" "+a+" -"+a+" "+d+" -"+a+" 0 c"),n.push("-"+a+" -"+d+" -"+d+" -"+a+" 0 -"+a+" c"),n.push(d+" -"+a+" "+a+" -"+d+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ni(e);t.scope=e.scope;var n=[],a=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pc(Tt.internal.getWidth(e)/2)+" "+pc(Tt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Cross.YesNormal,t.D[e]=Tt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ni(e);t.scope=e.scope;var n=[],a=Tt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+dr(Tt.internal.getWidth(e)-2)+" "+dr(Tt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dr(a.x1.x)+" "+dr(a.x1.y)+" m"),n.push(dr(a.x2.x)+" "+dr(a.x2.y)+" l"),n.push(dr(a.x4.x)+" "+dr(a.x4.y)+" m"),n.push(dr(a.x3.x)+" "+dr(a.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ni(e);t.scope=e.scope;var n=Tt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+dr(Tt.internal.getWidth(e))+" "+dr(Tt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+dr(Tt.internal.getWidth(e)-2)+" "+dr(Tt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(dr(n.x1.x)+" "+dr(n.x1.y)+" m"),a.push(dr(n.x2.x)+" "+dr(n.x2.y)+" l"),a.push(dr(n.x4.x)+" "+dr(n.x4.y)+" m"),a.push(dr(n.x3.x)+" "+dr(n.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ni(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dr(Tt.internal.getWidth(e))+" "+dr(Tt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Tt.internal.getWidth(e),n=Tt.internal.getHeight(e),a=Math.min(t,n);return{x1:{x:(t-a)/2,y:(n-a)/2+a},x2:{x:(t-a)/2+a,y:(n-a)/2},x3:{x:(t-a)/2,y:(n-a)/2},x4:{x:(t-a)/2+a,y:(n-a)/2+a}}}},Tt.internal.getWidth=function(e){var t=0;return Qr(e)==="object"&&(t=dw(e.Rect[2])),t},Tt.internal.getHeight=function(e){var t=0;return Qr(e)==="object"&&(t=dw(e.Rect[3])),t};var eI=Bn.addField=function(e){if(ZO(this,e),!(e instanceof ti))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Nu,Bn.AcroFormListBox=Su,Bn.AcroFormComboBox=Cu,Bn.AcroFormEditBox=bm,Bn.AcroFormButton=ga,Bn.AcroFormPushButton=jm,Bn.AcroFormRadioButton=_u,Bn.AcroFormCheckBox=Nm,Bn.AcroFormTextField=pd,Bn.AcroFormPasswordField=Sm,Bn.AcroFormAppearance=Tt,Bn.AcroForm={ChoiceField:Nu,ListBox:Su,ComboBox:Cu,EditBox:bm,Button:ga,PushButton:jm,RadioButton:_u,CheckBox:Nm,TextField:pd,PasswordField:Sm,Appearance:Tt},Ut.AcroForm={ChoiceField:Nu,ListBox:Su,ComboBox:Cu,EditBox:bm,Button:ga,PushButton:jm,RadioButton:_u,CheckBox:Nm,TextField:pd,PasswordField:Sm,Appearance:Tt};Ut.AcroForm;function pC(e){return e.reduce(function(t,n,a){return t[n]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(L,F){var z,q,ge,fe,ye,U=n;if((F=F||n)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(ae(L))for(ye in a)for(ge=a[ye],z=0;z<ge.length;z+=1){for(fe=!0,q=0;q<ge[z].length;q+=1)if(ge[z][q]!==void 0&&ge[z][q]!==L[q]){fe=!1;break}if(fe===!0){U=ye;break}}else for(ye in a)for(ge=a[ye],z=0;z<ge.length;z+=1){for(fe=!0,q=0;q<ge[z].length;q+=1)if(ge[z][q]!==void 0&&ge[z][q]!==L.charCodeAt(q)){fe=!1;break}if(fe===!0){U=ye;break}}return U===n&&F!==n&&(U=F),U},i=function L(F){for(var z=this.internal.write,q=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:F.width}),fe.push({key:"Height",value:F.height}),F.colorSpace===P.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===P.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ye="",U=0,$=F.transparency.length;U<$;U++)ye+=F.transparency[U]+" "+F.transparency[U]+" ";fe.push({key:"Mask",value:"["+ye+"]"})}F.sMask!==void 0&&fe.push({key:"SMask",value:F.objectId+1+" 0 R"});var H=F.filter!==void 0?["/"+F.filter]:void 0;if(q({data:F.data,additionalKeyValues:fe,alreadyAppliedFilters:H,objectId:F.objectId}),z("endobj"),"sMask"in F&&F.sMask!==void 0){var D,T=(D=F.sMaskBitsPerComponent)!==null&&D!==void 0?D:F.bitsPerComponent,I={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:F.sMask};"filter"in F&&(I.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(F.width),I.filter=F.filter),L.call(this,I)}if(F.colorSpace===P.INDEXED){var G=this.internal.newObject();q({data:te(new Uint8Array(F.palette)),objectId:G}),z("endobj")}},d=function(){var L=this.internal.collections[t+"images"];for(var F in L)i.call(this,L[F])},c=function(){var L,F=this.internal.collections[t+"images"],z=this.internal.write;for(var q in F)z("/I"+(L=F[q]).index,L.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var L=this.internal.collections[t+"images"];return u.call(this),L},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(L){return typeof e["process"+L.toUpperCase()]=="function"},w=function(L){return Qr(L)==="object"&&L.nodeType===1},p=function(L,F){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var z=""+L.getAttribute("src");if(z.indexOf("data:image/")===0)return wm(unescape(z).split("base64,").pop());var q=e.loadFile(z,!0);if(q!==void 0)return q}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ge;switch(F){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return wm(L.toDataURL(ge,1).split("base64,").pop())}},S=function(L){var F=this.internal.collections[t+"images"];if(F){for(var z in F)if(L===F[z].alias)return F[z]}},j=function(L,F,z){return L||F||(L=-96,F=-96),L<0&&(L=-1*z.width*72/L/this.internal.scaleFactor),F<0&&(F=-1*z.height*72/F/this.internal.scaleFactor),L===0&&(L=F*z.width/z.height),F===0&&(F=L*z.height/z.width),[L,F]},N=function(L,F,z,q,ge,fe){var ye=j.call(this,z,q,ge),U=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,H=h.call(this);if(z=ye[0],q=ye[1],H[ge.index]=ge,fe){fe*=Math.PI/180;var D=Math.cos(fe),T=Math.sin(fe),I=function(J){return J.toFixed(4)},G=[I(D),I(T),I(-1*T),I(D),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,U(L),$(F+q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([U(z),"0","0",U(q),"0","0","cm"].join(" "))):this.internal.write([U(z),"0","0",U(q),U(L),$(F+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},P=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(L){var F,z,q=0;if(typeof L=="string")for(z=L.length,F=0;F<z;F++)q=(q<<5)-q+L.charCodeAt(F),q|=0;else if(ae(L))for(z=L.byteLength/2,F=0;F<z;F++)q=(q<<5)-q+L[F],q|=0;return q},O=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var F=!0;return L.length===0&&(F=!1),L.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(F=!1),F},B=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var F=L.indexOf(",");return F<0?null:L.substring(0,F).trim().endsWith("base64")?L.substring(F+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var ae=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},W=e.__addimage__.binaryStringToUint8Array=function(L){for(var F=L.length,z=new Uint8Array(F),q=0;q<F;q++)z[q]=L.charCodeAt(q);return z},te=e.__addimage__.arrayBufferToBinaryString=function(L){for(var F="",z=ae(L)?L:new Uint8Array(L),q=0;q<z.length;q+=8192)F+=String.fromCharCode.apply(null,z.subarray(q,q+8192));return F};e.addImage=function(){var L,F,z,q,ge,fe,ye,U,$;if(typeof arguments[1]=="number"?(F=n,z=arguments[1],q=arguments[2],ge=arguments[3],fe=arguments[4],ye=arguments[5],U=arguments[6],$=arguments[7]):(F=arguments[1],z=arguments[2],q=arguments[3],ge=arguments[4],fe=arguments[5],ye=arguments[6],U=arguments[7],$=arguments[8]),Qr(L=arguments[0])==="object"&&!w(L)&&"imageData"in L){var H=L;L=H.imageData,F=H.format||F||n,z=H.x||z||0,q=H.y||q||0,ge=H.w||H.width||ge,fe=H.h||H.height||fe,ye=H.alias||ye,U=H.compression||U,$=H.rotation||H.angle||$}var D=this.internal.getFilters();if(U===void 0&&D.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(z)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var T=K.call(this,L,F,ye,U);return N.call(this,z,q,ge,fe,T,$),this};var K=function(L,F,z,q){var ge,fe,ye;if(typeof L=="string"&&s(L)===n){L=unescape(L);var U=oe(L,!1);(U!==""||(U=e.loadFile(L,!0))!==void 0)&&(L=U)}if(w(L)&&(L=p(L,F)),F=s(L,F),!g(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ye=z)==null||ye.length===0)&&(z=(function($){return typeof $=="string"||ae($)?E($):ae($.data)?E($.data):null})(L)),(ge=S.call(this,z))||(L instanceof Uint8Array||F==="RGBA"||(fe=L,L=W(L)),ge=this["process"+F.toUpperCase()](L,m.call(this),z,(function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in e.image_compression?$:k.NONE})(q),fe)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},oe=e.__addimage__.convertBase64ToBinaryString=function(L,F){F=typeof F!="boolean"||F;var z,q="";if(typeof L=="string"){var ge;z=(ge=B(L))!==null&&ge!==void 0?ge:L;try{q=wm(z)}catch(fe){if(F)throw O(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(L){var F,z,q="";if(w(L)&&(L=p(L)),typeof L=="string"&&s(L)===n&&((q=oe(L,!1))===""&&(q=e.loadFile(L)||""),L=q),z=s(L),!g(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(L instanceof Uint8Array||(L=W(L)),!(F=this["process"+z.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=z,F}})(Ut.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var a,s,i,d=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,m=!1,g=0;g<h.length&&!m;g++)switch((a=h[g]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){a=h[w];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(j.objId),k=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+d(a.bounds.x)+" "+c(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y)+"] ")+"/Contents ("+p(P(a.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(P(k))+") >>",j.content=i;var E=j.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+d(a.bounds.x+30)+" "+c(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w+30)+" "+c(a.bounds.y)+"] ")+" /Parent "+E,a.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(j.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+d(a.bounds.x)+" "+c(a.bounds.y)+" "+d(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y+a.bounds.h)+"] ";var O=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(S(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var B=this.annotations._nameMap[a.options.name];a.options.pageNumber=B.page,a.options.top=B.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var ae=c(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+ae+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},e.link=function(n,a,s,i,d){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:h(a),w:u(n+s),h:h(a+i)},options:d,type:"link"})},e.textWithLink=function(n,a,s,i){var d,c,u=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var m=this.splitTextToSize(n,c).length;d=Math.ceil(h*m)}else c=u,d=h;return this.text(n,a,s,i),s+=.2*h,i.align==="center"&&(a-=u/2),i.align==="right"&&(a-=u),this.link(a,s-h,c,d,i),u},e.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(Ut.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},d=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},c=e.__arabicParser__.isArabicEndLetter=function(j){return d(j)&&i(j)&&t[j.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(j){return d(j)&&s.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return d(j)&&i(j)&&t[j.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return d(j)&&i(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return d(j)&&i(j)&&t[j.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return d(j)&&i(j)&&t[j.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(j){var N=0,P=n,k="",E=0;for(N=0;N<j.length;N+=1)P[j.charCodeAt(N)]!==void 0?(E++,typeof(P=P[j.charCodeAt(N)])=="number"&&(k+=String.fromCharCode(P),P=n,E=0),N===j.length-1&&(P=n,k+=j.charAt(N-(E-1)),N-=E-1,E=0)):(P=n,k+=j.charAt(N-E),N-=E,E=0);return k};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&a[j.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(j,N,P){return d(j)?i(j)===!1?-1:!h(j)||!d(N)&&!d(P)||!d(P)&&c(N)||c(j)&&!d(N)||c(j)&&u(N)||c(j)&&c(N)?0:m(j)&&d(N)&&!c(N)&&d(P)&&h(P)?3:c(j)||!d(P)?1:2:-1},p=function(j){var N=0,P=0,k=0,E="",O="",B="",ae=(j=j||"").split("\\s+"),W=[];for(N=0;N<ae.length;N+=1){for(W.push(""),P=0;P<ae[N].length;P+=1)E=ae[N][P],O=ae[N][P-1],B=ae[N][P+1],d(E)?(k=w(E,O,B),W[N]+=k!==-1?String.fromCharCode(t[E.charCodeAt(0)][k]):E):W[N]+=E;W[N]=g(W[N])}return W.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var j,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(N)){var k=0;for(P=[],k=0;k<N.length;k+=1)Array.isArray(N[k])?P.push([p(N[k][0]),N[k][1],N[k][2]]):P.push([p(N[k])]);j=P}else j=p(N);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",S])})(Ut.API),Ut.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(c){d=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,a){var s;if((n=n||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ut.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(j){w=j}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(j){S=j}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,h){a.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,p=0,S=0,j=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var P=h.maxWidth;P>0?typeof u=="string"?u=this.splitTextToSize(u,P):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(E,O){return E.concat(N.splitTextToSize(O,P))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)p<(j=this.getStringUnitWidth(u[k],{font:g})*m)&&(p=j);return p!==0&&(S=u.length),{w:p/=w,h:Math.max((S*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,p&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};e.table=function(u,h,m,g,w){if(a.call(this),!m)throw new Error("No data for PDF table.");var p,S,j,N,P=[],k=[],E=[],O={},B={},ae=[],W=[],te=(w=w||{}).autoSize||!1,K=w.printHeaders!==!1,oe=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,L=w.margins||Object.assign({width:this.getPageWidth()},t),F=typeof w.padding=="number"?w.padding:3,z=w.headerBackgroundColor||"#c8c8c8",q=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=q,this.setFontSize(oe),g==null)k=P=Object.keys(m[0]),E=P.map(function(){return"left"});else if(Array.isArray(g)&&Qr(g[0])==="object")for(P=g.map(function(H){return H.name}),k=g.map(function(H){return H.prompt||H.name||""}),E=g.map(function(H){return H.align||"left"}),p=0;p<g.length;p+=1)B[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(k=P=g,E=P.map(function(){return"left"}));if(te||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<P.length;p+=1){for(O[N=P[p]]=m.map(function(H){return H[N]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=O[N],this.setFont(void 0,"normal"),j=0;j<S.length;j+=1)ae.push(this.getTextDimensions(S[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[N]=Math.max.apply(null,ae)+F+F,ae=[]}if(K){var ge={};for(p=0;p<P.length;p+=1)ge[P[p]]={},ge[P[p]].text=k[p],ge[P[p]].align=E[p];var fe=c.call(this,ge,B);W=P.map(function(H){return new i(u,h,B[H],fe,ge[H].text,void 0,ge[H].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var ye=g.reduce(function(H,D){return H[D.name]=D.align,H},{});for(p=0;p<m.length;p+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:p,data:m[p]},this);var U=c.call(this,m[p],B);for(j=0;j<P.length;j+=1){var $=m[p][P[j]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:p,col:j,data:$},this),d.call(this,new i(u,h,B[P[j]],U,$,p+2,ye[P[j]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var c=function(u,h){var m=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(p){var S=u[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[p]-m-m)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/w+m+m},this).reduce(function(p,S){return Math.max(p,S)},0)};e.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){m=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=u;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,m),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}})(Ut.API);var gC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jv=pC(xC),vC=[100,200,300,400,500,600,700,800,900],tI=pC(vC);function gx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(i){return gC[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof jv[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:n,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,a].join(" ")}}}function uw(e,t,n,a){var s;for(s=n;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var rI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function mw(e){return e.trimLeft()}function nI(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function aI(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var lm,pw,gw,hu,cm,xw,vw,yw,xx=["times"];function ww(e,t,n,a,s){var i=4,d=jw;switch(s){case Ut.API.image_compression.FAST:i=1,d=bw;break;case Ut.API.image_compression.MEDIUM:i=6,d=Nw;break;case Ut.API.image_compression.SLOW:i=9,d=Sw}e=(function(u,h,m,g){for(var w,p=u.length/h,S=new Uint8Array(u.length+p),j=[sI,bw,jw,Nw,Sw],N=0;N<p;N+=1){var P=N*h,k=u.subarray(P,P+h);if(g)S.set(g(k,m,w),P+N);else{for(var E=j.length,O=[],B=0;B<E;B+=1)O[B]=j[B](k,m,w);var ae=iI(O.concat());S.set(O[ae],P+N)}w=k}return S})(e,t,Math.ceil(n*a/8),d);var c=pv(e,{level:i});return Ut.API.__addimage__.arrayBufferToBinaryString(c)}function sI(e){var t=Array.apply([],e);return t.unshift(0),t}function bw(e,t){var n=e.length,a=[];a[0]=1;for(var s=0;s<n;s+=1){var i=e[s-t]||0;a[s+1]=e[s]-i+256&255}return a}function jw(e,t,n){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var d=n&&n[i]||0;s[i+1]=e[i]-d+256&255}return s}function Nw(e,t,n){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var d=e[i-t]||0,c=n&&n[i]||0;s[i+1]=e[i]+256-(d+c>>>1)&255}return s}function Sw(e,t,n){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var d=oI(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);s[i+1]=e[i]-d+256&255}return s}function oI(e,t,n){if(e===t&&t===n)return e;var a=Math.abs(t-n),s=Math.abs(e-n),i=Math.abs(e+t-n-n);return a<=s&&a<=i?e:s<=i?t:n}function iI(e){var t=e.map(function(n){return n.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function vx(e,t,n){var a=t*n,s=Math.floor(a/8),i=16-(a-8*s+n),d=(1<<n)-1;return yC(e,s)>>i&d}function Cw(e,t,n,a){var s=n*a,i=Math.floor(s/8),d=16-(s-8*i+a),c=(1<<a)-1,u=(t&c)<<d;(function(h,m,g){if(m+1<h.byteLength)h.setUint16(m,g,!1);else{var w=g>>8&255;h.setUint8(m,w)}})(e,i,yC(e,i)&~(c<<d)&65535|u)}function yC(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function lI(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,d=1<<1+(7&s);e[t++],e[t++];var c=null,u=null;i&&(c=t,u=d,t+=3*d);var h=!0,m=[],g=0,w=null,p=0,S=null;for(this.width=n,this.height=a;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];g=e[t++]|e[t++]<<8,w=e[t++],1&j||(w=null),p=j>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,O=e[t++],B=O>>6&1,ae=1<<1+(7&O),W=c,te=u,K=!1;O>>7&&(K=!0,W=t,te=ae,t+=3*ae);var oe=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}m.push({x:N,y:P,width:k,height:E,has_local_palette:K,palette_offset:W,palette_size:te,data_offset:oe,data_length:t-oe,transparent_index:w,interlaced:!!B,delay:g,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return S},this.frameInfo=function(F){if(F<0||F>=m.length)throw new Error("Frame index out of range.");return m[F]},this.decodeAndBlitFrameBGRA=function(F,z){var q=this.frameInfo(F),ge=q.width*q.height,fe=new Uint8Array(ge);_w(e,q.data_offset,fe,ge);var ye=q.palette_offset,U=q.transparent_index;U===null&&(U=256);var $=q.width,H=n-$,D=$,T=4*(q.y*n+q.x),I=4*((q.y+q.height)*n+q.x),G=T,J=4*H;q.interlaced===!0&&(J+=4*n*7);for(var ce=8,se=0,pe=fe.length;se<pe;++se){var le=fe[se];if(D===0&&(D=$,(G+=J)>=I&&(J=4*H+4*n*(ce-1),G=T+($+H)*(ce<<1),ce>>=1)),le===U)G+=4;else{var be=e[ye+3*le],Ee=e[ye+3*le+1],Q=e[ye+3*le+2];z[G++]=Q,z[G++]=Ee,z[G++]=be,z[G++]=255}--D}},this.decodeAndBlitFrameRGBA=function(F,z){var q=this.frameInfo(F),ge=q.width*q.height,fe=new Uint8Array(ge);_w(e,q.data_offset,fe,ge);var ye=q.palette_offset,U=q.transparent_index;U===null&&(U=256);var $=q.width,H=n-$,D=$,T=4*(q.y*n+q.x),I=4*((q.y+q.height)*n+q.x),G=T,J=4*H;q.interlaced===!0&&(J+=4*n*7);for(var ce=8,se=0,pe=fe.length;se<pe;++se){var le=fe[se];if(D===0&&(D=$,(G+=J)>=I&&(J=4*H+4*n*(ce-1),G=T+($+H)*(ce<<1),ce>>=1)),le===U)G+=4;else{var be=e[ye+3*le],Ee=e[ye+3*le+1],Q=e[ye+3*le+2];z[G++]=be,z[G++]=Ee,z[G++]=Q,z[G++]=255}--D}}}function _w(e,t,n,a){for(var s=e[t++],i=1<<s,d=i+1,c=d+1,u=s+1,h=(1<<u)-1,m=0,g=0,w=0,p=e[t++],S=new Int32Array(4096),j=null;;){for(;m<16&&p!==0;)g|=e[t++]<<m,m+=8,p===1?p=e[t++]:--p;if(m<u)break;var N=g&h;if(g>>=u,m-=u,N!==i){if(N===d)break;for(var P=N<c?N:j,k=0,E=P;E>i;)E=S[E]>>8,++k;var O=E;if(w+k+(P!==N?1:0)>a)return void an.log("Warning, gif stream longer than expected.");n[w++]=O;var B=w+=k;for(P!==N&&(n[w++]=O),E=P;k--;)E=S[E],n[--B]=255&E,E>>=8;j!==null&&c<4096&&(S[c++]=j<<8|O,c>=h+1&&u<12&&(++u,h=h<<1|1)),j=N}else c=d+1,h=(1<<(u=s+1))-1,j=null}return w!==a&&an.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yx(e){var t,n,a,s,i,d=Math.floor,c=new Array(64),u=new Array(64),h=new Array(64),m=new Array(64),g=new Array(65535),w=new Array(65535),p=new Array(64),S=new Array(64),j=[],N=0,P=7,k=new Array(64),E=new Array(64),O=new Array(64),B=new Array(256),ae=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(T,I){for(var G=0,J=0,ce=new Array,se=1;se<=16;se++){for(var pe=1;pe<=T[se];pe++)ce[I[J]]=[],ce[I[J]][0]=G,ce[I[J]][1]=se,J++,G++;G*=2}return ce}function ye(T){for(var I=T[0],G=T[1]-1;G>=0;)I&1<<G&&(N|=1<<P),G--,--P<0&&(N==255?(U(255),U(0)):U(N),P=7,N=0)}function U(T){j.push(T)}function $(T){U(T>>8&255),U(255&T)}function H(T,I,G,J,ce){for(var se,pe=ce[0],le=ce[240],be=(function(qe,st){var Ze,pt,ct,zt,Se,me,Me,ze,Ye,ht,dt=0;for(Ye=0;Ye<8;++Ye){Ze=qe[dt],pt=qe[dt+1],ct=qe[dt+2],zt=qe[dt+3],Se=qe[dt+4],me=qe[dt+5],Me=qe[dt+6];var Yt=Ze+(ze=qe[dt+7]),Vt=Ze-ze,Wt=pt+Me,Gt=pt-Me,hr=ct+me,kt=ct-me,_r=zt+Se,$t=zt-Se,vt=Yt+_r,pr=Yt-_r,Xt=Wt+hr,Et=Wt-hr;qe[dt]=vt+Xt,qe[dt+4]=vt-Xt;var Re=.707106781*(Et+pr);qe[dt+2]=pr+Re,qe[dt+6]=pr-Re;var et=.382683433*((vt=$t+kt)-(Et=Gt+Vt)),gt=.5411961*vt+et,Qt=1.306562965*Et+et,Nr=.707106781*(Xt=kt+Gt),yt=Vt+Nr,Pr=Vt-Nr;qe[dt+5]=Pr+gt,qe[dt+3]=Pr-gt,qe[dt+1]=yt+Qt,qe[dt+7]=yt-Qt,dt+=8}for(dt=0,Ye=0;Ye<8;++Ye){Ze=qe[dt],pt=qe[dt+8],ct=qe[dt+16],zt=qe[dt+24],Se=qe[dt+32],me=qe[dt+40],Me=qe[dt+48];var Zr=Ze+(ze=qe[dt+56]),br=Ze-ze,Wr=pt+Me,Rr=pt-Me,on=ct+me,xn=ct-me,bo=zt+Se,ni=zt-Se,_s=Zr+bo,Ks=Zr-bo,ta=Wr+on,os=Wr-on;qe[dt]=_s+ta,qe[dt+32]=_s-ta;var qa=.707106781*(os+Ks);qe[dt+16]=Ks+qa,qe[dt+48]=Ks-qa;var Fi=.382683433*((_s=ni+xn)-(os=Rr+br)),Ps=.5411961*_s+Fi,ai=1.306562965*os+Fi,Oi=.707106781*(ta=xn+Rr),Ii=br+Oi,Al=br-Oi;qe[dt+40]=Al+Ps,qe[dt+24]=Al-Ps,qe[dt+8]=Ii+ai,qe[dt+56]=Ii-ai,dt++}for(Ye=0;Ye<64;++Ye)ht=qe[Ye]*st[Ye],p[Ye]=ht>0?ht+.5|0:ht-.5|0;return p})(T,I),Ee=0;Ee<64;++Ee)S[W[Ee]]=be[Ee];var Q=S[0]-G;G=S[0],Q==0?ye(J[0]):(ye(J[w[se=32767+Q]]),ye(g[se]));for(var Te=63;Te>0&&S[Te]==0;)Te--;if(Te==0)return ye(pe),G;for(var Ve,re=1;re<=Te;){for(var we=re;S[re]==0&&re<=Te;)++re;var Xe=re-we;if(Xe>=16){Ve=Xe>>4;for(var lt=1;lt<=Ve;++lt)ye(le);Xe&=15}se=32767+S[re],ye(ce[(Xe<<4)+w[se]]),ye(g[se]),re++}return Te!=63&&ye(pe),G}function D(T){T=Math.min(Math.max(T,1),100),i!=T&&((function(I){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ce=d((G[J]*I+50)/100);ce=Math.min(Math.max(ce,1),255),c[W[J]]=ce}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var le=d((se[pe]*I+50)/100);le=Math.min(Math.max(le,1),255),u[W[pe]]=le}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Q=0;Q<8;Q++)for(var Te=0;Te<8;Te++)h[Ee]=1/(c[W[Ee]]*be[Q]*be[Te]*8),m[Ee]=1/(u[W[Ee]]*be[Q]*be[Te]*8),Ee++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,I){I&&D(I),j=new Array,N=0,P=7,$(65496),$(65504),$(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),$(1),$(1),U(0),U(0),(function(){$(65499),$(132),U(0);for(var pt=0;pt<64;pt++)U(c[pt]);U(1);for(var ct=0;ct<64;ct++)U(u[ct])})(),(function(pt,ct){$(65472),$(17),U(8),$(ct),$(pt),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)})(T.width,T.height),(function(){$(65476),$(418),U(0);for(var pt=0;pt<16;pt++)U(te[pt+1]);for(var ct=0;ct<=11;ct++)U(K[ct]);U(16);for(var zt=0;zt<16;zt++)U(oe[zt+1]);for(var Se=0;Se<=161;Se++)U(L[Se]);U(1);for(var me=0;me<16;me++)U(F[me+1]);for(var Me=0;Me<=11;Me++)U(z[Me]);U(17);for(var ze=0;ze<16;ze++)U(q[ze+1]);for(var Ye=0;Ye<=161;Ye++)U(ge[Ye])})(),$(65498),$(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var G=0,J=0,ce=0;N=0,P=7,this.encode.displayName="_encode_";for(var se,pe,le,be,Ee,Q,Te,Ve,re,we=T.data,Xe=T.width,lt=T.height,qe=4*Xe,st=0;st<lt;){for(se=0;se<qe;){for(Ee=qe*st+se,Te=-1,Ve=0,re=0;re<64;re++)Q=Ee+(Ve=re>>3)*qe+(Te=4*(7&re)),st+Ve>=lt&&(Q-=qe*(st+1+Ve-lt)),se+Te>=qe&&(Q-=se+Te-qe+4),pe=we[Q++],le=we[Q++],be=we[Q++],k[re]=(ae[pe]+ae[le+256|0]+ae[be+512|0]>>16)-128,E[re]=(ae[pe+768|0]+ae[le+1024|0]+ae[be+1280|0]>>16)-128,O[re]=(ae[pe+1280|0]+ae[le+1536|0]+ae[be+1792|0]>>16)-128;G=H(k,h,G,t,a),J=H(E,m,J,n,s),ce=H(O,m,ce,n,s),se+=32}st+=8}if(P>=0){var Ze=[];Ze[1]=P+1,Ze[0]=(1<<P+1)-1,ye(Ze)}return $(65497),new Uint8Array(j)},e=e||50,(function(){for(var T=String.fromCharCode,I=0;I<256;I++)B[I]=T(I)})(),t=fe(te,K),n=fe(F,z),a=fe(oe,L),s=fe(q,ge),(function(){for(var T=1,I=2,G=1;G<=15;G++){for(var J=T;J<I;J++)w[32767+J]=G,g[32767+J]=[],g[32767+J][1]=G,g[32767+J][0]=J;for(var ce=-(I-1);ce<=-T;ce++)w[32767+ce]=G,g[32767+ce]=[],g[32767+ce][1]=G,g[32767+ce][0]=I-1+ce;T<<=1,I<<=1}})(),(function(){for(var T=0;T<256;T++)ae[T]=19595*T,ae[T+256|0]=38470*T,ae[T+512|0]=7471*T+32768,ae[T+768|0]=-11059*T,ae[T+1024|0]=-21709*T,ae[T+1280|0]=32768*T+8421375,ae[T+1536|0]=-27439*T,ae[T+1792|0]=-5329*T})(),D(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Pw(e){function t(K){if(!K)throw Error("assert :P")}function n(K,oe,L){for(var F=0;4>F;F++)if(K[oe+F]!=L.charCodeAt(F))return!0;return!1}function a(K,oe,L,F,z){for(var q=0;q<z;q++)K[oe+q]=L[F+q]}function s(K,oe,L,F){for(var z=0;z<F;z++)K[oe+z]=L}function i(K){return new Int32Array(K)}function d(K,oe){for(var L=[],F=0;F<K;F++)L.push(new oe);return L}function c(K,oe){var L=[];return(function F(z,q,ge){for(var fe=ge[q],ye=0;ye<fe&&(z.push(ge.length>q+1?[]:new oe),!(ge.length<q+1));ye++)F(z[ye],q+1,ge)})(L,0,K),L}var u=function(){var K=this;function oe(x,b){for(var A=1<<b-1>>>0;x&A;)A>>>=1;return A?(x&A-1)+A:x}function L(x,b,A,M,V){t(!(M%A));do x[b+(M-=A)]=V;while(0<M)}function F(x,b,A,M,V){if(t(2328>=V),512>=V)var Z=i(512);else if((Z=i(V))==null)return 0;return(function(ee,ne,ie,de,Ce,Le){var ue,Pe,De=ne,We=1<<ie,Ie=i(16),Ue=i(16);for(t(Ce!=0),t(de!=null),t(ee!=null),t(0<ie),Pe=0;Pe<Ce;++Pe){if(15<de[Pe])return 0;++Ie[de[Pe]]}if(Ie[0]==Ce)return 0;for(Ue[1]=0,ue=1;15>ue;++ue){if(Ie[ue]>1<<ue)return 0;Ue[ue+1]=Ue[ue]+Ie[ue]}for(Pe=0;Pe<Ce;++Pe)ue=de[Pe],0<de[Pe]&&(Le[Ue[ue]++]=Pe);if(Ue[15]==1)return(de=new z).g=0,de.value=Le[0],L(ee,De,1,We,de),We;var He,Ke=-1,Je=We-1,It=0,jt=1,lr=1,Pt=1<<ie;for(Pe=0,ue=1,Ce=2;ue<=ie;++ue,Ce<<=1){if(jt+=lr<<=1,0>(lr-=Ie[ue]))return 0;for(;0<Ie[ue];--Ie[ue])(de=new z).g=ue,de.value=Le[Pe++],L(ee,De+It,Ce,Pt,de),It=oe(It,ue)}for(ue=ie+1,Ce=2;15>=ue;++ue,Ce<<=1){if(jt+=lr<<=1,0>(lr-=Ie[ue]))return 0;for(;0<Ie[ue];--Ie[ue]){if(de=new z,(It&Je)!=Ke){for(De+=Pt,He=1<<(Ke=ue)-ie;15>Ke&&!(0>=(He-=Ie[Ke]));)++Ke,He<<=1;We+=Pt=1<<(He=Ke-ie),ee[ne+(Ke=It&Je)].g=He+ie,ee[ne+Ke].value=De-ne-Ke}de.g=ue-ie,de.value=Le[Pe++],L(ee,De+(It>>ie),Ce,Pt,de),It=oe(It,ue)}}return jt!=2*Ue[15]-1?0:We})(x,b,A,M,V,Z)}function z(){this.value=this.g=0}function q(){this.value=this.g=0}function ge(){this.G=d(5,z),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(fs,q)}function fe(x,b,A,M){t(x!=null),t(b!=null),t(2147483648>M),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=b,x.pa=A,x.Jd=b,x.Yc=A+M,x.Zc=4<=M?A+M-4+1:A,pe(x)}function ye(x,b){for(var A=0;0<b--;)A|=be(x,128)<<b;return A}function U(x,b){var A=ye(x,b);return le(x)?-A:A}function $(x,b,A,M){var V,Z=0;for(t(x!=null),t(b!=null),t(4294967288>M),x.Sb=M,x.Ra=0,x.u=0,x.h=0,4<M&&(M=4),V=0;V<M;++V)Z+=b[A+V]<<8*V;x.Ra=Z,x.bb=M,x.oa=b,x.pa=A}function H(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<hi-8>>>0,++x.bb,x.u-=8;J(x)&&(x.h=1,x.u=0)}function D(x,b){if(t(0<=b),!x.h&&b<=Ja){var A=G(x)&Ka[b];return x.u+=b,H(x),A}return x.h=1,x.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(x){return x.Ra>>>(x.u&hi-1)>>>0}function J(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>hi}function ce(x,b){x.u=b,x.h=J(x)}function se(x){x.u>=ro&&(t(x.u>=ro),H(x))}function pe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function le(x){return ye(x,1)}function be(x,b){var A=x.Ca;0>x.b&&pe(x);var M=x.b,V=A*b>>>8,Z=(x.I>>>M>V)+0;for(Z?(A-=V,x.I-=V+1<<M>>>0):A=V+1,M=A,V=0;256<=M;)V+=8,M>>=8;return M=7^V+Po[M],x.b-=M,x.Ca=(A<<M)-1,Z}function Ee(x,b,A){x[b+0]=A>>24&255,x[b+1]=A>>16&255,x[b+2]=A>>8&255,x[b+3]=255&A}function Q(x,b){return x[b+0]|x[b+1]<<8}function Te(x,b){return Q(x,b)|x[b+2]<<16}function Ve(x,b){return Q(x,b)|Q(x,b+2)<<16}function re(x,b){var A=1<<b;return t(x!=null),t(0<b),x.X=i(A),x.X==null?0:(x.Mb=32-b,x.Xa=b,1)}function we(x,b){t(x!=null),t(b!=null),t(x.Xa==b.Xa),a(b.X,0,x.X,0,1<<b.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function lt(x,b,A,M){t(A!=null),t(M!=null);var V=A[0],Z=M[0];return V==0&&(V=(x*Z+b/2)/b),Z==0&&(Z=(b*V+x/2)/x),0>=V||0>=Z?0:(A[0]=V,M[0]=Z,1)}function qe(x,b){return x+(1<<b)-1>>>b}function st(x,b){return((4278255360&x)+(4278255360&b)>>>0&4278255360)+((16711935&x)+(16711935&b)>>>0&16711935)>>>0}function Ze(x,b){K[b]=function(A,M,V,Z,ee,ne,ie){var de;for(de=0;de<ee;++de){var Ce=K[x](ne[ie+de-1],V,Z+de);ne[ie+de]=st(A[M+de],Ce)}}}function pt(){this.ud=this.hd=this.jd=0}function ct(x,b){return((4278124286&(x^b))>>>1)+(x&b)>>>0}function zt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Se(x,b){return zt(x+(x-b+.5>>1))}function me(x,b,A){return Math.abs(b-A)-Math.abs(x-A)}function Me(x,b,A,M,V,Z,ee){for(M=Z[ee-1],A=0;A<V;++A)Z[ee+A]=M=st(x[b+A],M)}function ze(x,b,A,M,V){var Z;for(Z=0;Z<A;++Z){var ee=x[b+Z],ne=ee>>8&255,ie=16711935&(ie=(ie=16711935&ee)+((ne<<16)+ne));M[V+Z]=(4278255360&ee)+ie>>>0}}function Ye(x,b){b.jd=255&x,b.hd=x>>8&255,b.ud=x>>16&255}function ht(x,b,A,M,V,Z){var ee;for(ee=0;ee<M;++ee){var ne=b[A+ee],ie=ne>>>8,de=ne,Ce=255&(Ce=(Ce=ne>>>16)+((x.jd<<24>>24)*(ie<<24>>24)>>>5));de=255&(de=(de+=(x.hd<<24>>24)*(ie<<24>>24)>>>5)+((x.ud<<24>>24)*(Ce<<24>>24)>>>5)),V[Z+ee]=(4278255360&ne)+(Ce<<16)+de}}function dt(x,b,A,M,V){K[b]=function(Z,ee,ne,ie,de,Ce,Le,ue,Pe){for(ie=Le;ie<ue;++ie)for(Le=0;Le<Pe;++Le)de[Ce++]=V(ne[M(Z[ee++])])},K[x]=function(Z,ee,ne,ie,de,Ce,Le){var ue=8>>Z.b,Pe=Z.Ea,De=Z.K[0],We=Z.w;if(8>ue)for(Z=(1<<Z.b)-1,We=(1<<ue)-1;ee<ne;++ee){var Ie,Ue=0;for(Ie=0;Ie<Pe;++Ie)Ie&Z||(Ue=M(ie[de++])),Ce[Le++]=V(De[Ue&We]),Ue>>=ue}else K["VP8LMapColor"+A](ie,de,De,We,Ce,Le,ee,ne,Pe)}}function Yt(x,b,A,M,V){for(A=b+A;b<A;){var Z=x[b++];M[V++]=Z>>16&255,M[V++]=Z>>8&255,M[V++]=255&Z}}function Vt(x,b,A,M,V){for(A=b+A;b<A;){var Z=x[b++];M[V++]=Z>>16&255,M[V++]=Z>>8&255,M[V++]=255&Z,M[V++]=Z>>24&255}}function Wt(x,b,A,M,V){for(A=b+A;b<A;){var Z=(ee=x[b++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;M[V++]=Z,M[V++]=ee}}function Gt(x,b,A,M,V){for(A=b+A;b<A;){var Z=(ee=x[b++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;M[V++]=Z,M[V++]=ee}}function hr(x,b,A,M,V){for(A=b+A;b<A;){var Z=x[b++];M[V++]=255&Z,M[V++]=Z>>8&255,M[V++]=Z>>16&255}}function kt(x,b,A,M,V,Z){if(Z==0)for(A=b+A;b<A;)Ee(M,((Z=x[b++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),V+=32;else a(M,V,x,b,A)}function _r(x,b){K[b][0]=K[x+"0"],K[b][1]=K[x+"1"],K[b][2]=K[x+"2"],K[b][3]=K[x+"3"],K[b][4]=K[x+"4"],K[b][5]=K[x+"5"],K[b][6]=K[x+"6"],K[b][7]=K[x+"7"],K[b][8]=K[x+"8"],K[b][9]=K[x+"9"],K[b][10]=K[x+"10"],K[b][11]=K[x+"11"],K[b][12]=K[x+"12"],K[b][13]=K[x+"13"],K[b][14]=K[x+"0"],K[b][15]=K[x+"0"]}function $t(x){return x==Kl||x==il||x==Xc||x==Qc}function vt(){this.eb=[],this.size=this.A=this.fb=0}function pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vt,this.f.kb=new pr,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Re(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function et(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function gt(x,b){var A=x.T,M=b.ba.f.RGBA,V=M.eb,Z=M.fb+x.ka*M.A,ee=Ta[b.ba.S],ne=x.y,ie=x.O,de=x.f,Ce=x.N,Le=x.ea,ue=x.W,Pe=b.cc,De=b.dc,We=b.Mc,Ie=b.Nc,Ue=x.ka,He=x.ka+x.T,Ke=x.U,Je=Ke+1>>1;for(Ue==0?ee(ne,ie,null,null,de,Ce,Le,ue,de,Ce,Le,ue,V,Z,null,null,Ke):(ee(b.ec,b.fc,ne,ie,Pe,De,We,Ie,de,Ce,Le,ue,V,Z-M.A,V,Z,Ke),++A);Ue+2<He;Ue+=2)Pe=de,De=Ce,We=Le,Ie=ue,Ce+=x.Rc,ue+=x.Rc,Z+=2*M.A,ee(ne,(ie+=2*x.fa)-x.fa,ne,ie,Pe,De,We,Ie,de,Ce,Le,ue,V,Z-M.A,V,Z,Ke);return ie+=x.fa,x.j+He<x.o?(a(b.ec,b.fc,ne,ie,Ke),a(b.cc,b.dc,de,Ce,Je),a(b.Mc,b.Nc,Le,ue,Je),A--):1&He||ee(ne,ie,null,null,de,Ce,Le,ue,de,Ce,Le,ue,V,Z+M.A,null,null,Ke),A}function Qt(x,b,A){var M=x.F,V=[x.J];if(M!=null){var Z=x.U,ee=b.ba.S,ne=ee==Jc||ee==Xc;b=b.ba.f.RGBA;var ie=[0],de=x.ka;ie[0]=x.T,x.Kb&&(de==0?--ie[0]:(--de,V[0]-=x.width),x.j+x.ka+x.T==x.o&&(ie[0]=x.o-x.j-de));var Ce=b.eb;de=b.fb+de*b.A,x=Yc(M,V[0],x.width,Z,ie,Ce,de+(ne?0:3),b.A),t(A==ie),x&&$t(ee)&&ol(Ce,de,ne,Z,ie,b.A)}return 0}function Nr(x){var b=x.ma,A=b.ba.S,M=11>A,V=A==gi||A==Kc||A==Jc||A==Gr||A==12||$t(A);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Ul(b.Oa,x,V?11:12))return 0;if(V&&$t(A)&&Ji(),x.da)alert("todo:use_scaling");else{if(M){if(b.Ib=et,x.Kb){if(A=x.U+1>>1,b.memory=i(x.U+2*A),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+x.U,b.Mc=b.cc,b.Nc=b.dc+A,b.Ib=gt,Ji()}}else alert("todo:EmitYUV");V&&(b.Jb=Qt,M&&As())}if(M&&!aa){for(x=0;256>x;++x)Ra[x]=89858*(x-128)+Ls>>To,Da[x]=-22014*(x-128)+Ls,Zl[x]=-45773*(x-128),ul[x]=113618*(x-128)+Ls>>To;for(x=zr;x<qr;++x)b=76283*(x-16)+Ls>>To,Hd[x-zr]=Rn(b,255),mf[x-zr]=Rn(b+8>>4,15);aa=1}return 1}function yt(x){var b=x.ma,A=x.U,M=x.T;return t(!(1&x.ka)),0>=A||0>=M?0:(A=b.Ib(x,b),b.Jb!=null&&b.Jb(x,b,A),b.Dc+=A,1)}function Pr(x){x.ma.memory=null}function Zr(x,b,A,M){return D(x,8)!=47?0:(b[0]=D(x,14)+1,A[0]=D(x,14)+1,M[0]=D(x,1),D(x,3)!=0?0:!x.h)}function br(x,b){if(4>x)return x+1;var A=x-2>>1;return(2+(1&x)<<A)+D(b,A)+1}function Wr(x,b){return 120<b?b-120:1<=(A=((A=qp[b-1])>>4)*x+(8-(15&A)))?A:1;var A}function Rr(x,b,A){var M=G(A),V=x[b+=255&M].g-8;return 0<V&&(ce(A,A.u+8),M=G(A),b+=x[b].value,b+=M&(1<<V)-1),ce(A,A.u+x[b].g),x[b].value}function on(x,b,A){return A.g+=x.g,A.value+=x.value<<b>>>0,t(8>=A.g),x.g}function xn(x,b,A){var M=x.xc;return t((b=M==0?0:x.vc[x.md*(A>>M)+(b>>M)])<x.Wb),x.Ya[b]}function bo(x,b,A,M){var V=x.ab,Z=x.c*b,ee=x.C;b=ee+b;var ne=A,ie=M;for(M=x.Ta,A=x.Ua;0<V--;){var de=x.gc[V],Ce=ee,Le=b,ue=ne,Pe=ie,De=(ie=M,ne=A,de.Ea);switch(t(Ce<Le),t(Le<=de.nc),de.hc){case 2:Cn(ue,Pe,(Le-Ce)*De,ie,ne);break;case 0:var We=Ce,Ie=Le,Ue=ie,He=ne,Ke=(Pt=de).Ea;We==0&&(ko(ue,Pe,null,null,1,Ue,He),Me(ue,Pe+1,0,0,Ke-1,Ue,He+1),Pe+=Ke,He+=Ke,++We);for(var Je=1<<Pt.b,It=Je-1,jt=qe(Ke,Pt.b),lr=Pt.K,Pt=Pt.w+(We>>Pt.b)*jt;We<Ie;){var Sr=lr,wn=Pt,cr=1;for(no(ue,Pe,Ue,He-Ke,1,Ue,He);cr<Ke;){var Nt=(cr&~It)+Je;Nt>Ke&&(Nt=Ke),(0,rl[Sr[wn++]>>8&15])(ue,Pe+ +cr,Ue,He+cr-Ke,Nt-cr,Ue,He+cr),cr=Nt}Pe+=Ke,He+=Ke,++We&It||(Pt+=jt)}Le!=de.nc&&a(ie,ne-De,ie,ne+(Le-Ce-1)*De,De);break;case 1:for(De=ue,Ie=Pe,Ke=(ue=de.Ea)-(He=ue&~(Ue=(Pe=1<<de.b)-1)),We=qe(ue,de.b),Je=de.K,de=de.w+(Ce>>de.b)*We;Ce<Le;){for(It=Je,jt=de,lr=new pt,Pt=Ie+He,Sr=Ie+ue;Ie<Pt;)Ye(It[jt++],lr),Vl(lr,De,Ie,Pe,ie,ne),Ie+=Pe,ne+=Pe;Ie<Sr&&(Ye(It[jt++],lr),Vl(lr,De,Ie,Ke,ie,ne),Ie+=Ke,ne+=Ke),++Ce&Ue||(de+=We)}break;case 3:if(ue==ie&&Pe==ne&&0<de.b){for(Ie=ie,ue=De=ne+(Le-Ce)*De-(He=(Le-Ce)*qe(de.Ea,de.b)),Pe=ie,Ue=ne,We=[],He=(Ke=He)-1;0<=He;--He)We[He]=Pe[Ue+He];for(He=Ke-1;0<=He;--He)Ie[ue+He]=We[He];el(de,Ce,Le,ie,De,ie,ne)}else el(de,Ce,Le,ue,Pe,ie,ne)}ne=M,ie=A}ie!=A&&a(M,A,ne,ie,Z)}function ni(x,b){var A=x.V,M=x.Ba+x.c*x.C,V=b-x.C;if(t(b<=x.l.o),t(16>=V),0<V){var Z=x.l,ee=x.Ta,ne=x.Ua,ie=Z.width;if(bo(x,V,A,M),V=ne=[ne],t((A=x.C)<(M=b)),t(Z.v<Z.va),M>Z.o&&(M=Z.o),A<Z.j){var de=Z.j-A;A=Z.j,V[0]+=de*ie}if(A>=M?A=0:(V[0]+=4*Z.v,Z.ka=A-Z.j,Z.U=Z.va-Z.v,Z.T=M-A,A=1),A){if(ne=ne[0],11>(A=x.ca).S){var Ce=A.f.RGBA,Le=(M=A.S,V=Z.U,Z=Z.T,de=Ce.eb,Ce.A),ue=Z;for(Ce=Ce.fb+x.Ma*Ce.A;0<ue--;){var Pe=ee,De=ne,We=V,Ie=de,Ue=Ce;switch(M){case zd:Hl(Pe,De,We,Ie,Ue);break;case gi:Eo(Pe,De,We,Ie,Ue);break;case Kl:Eo(Pe,De,We,Ie,Ue),ol(Ie,Ue,0,We,1,0);break;case cf:nl(Pe,De,We,Ie,Ue);break;case Kc:kt(Pe,De,We,Ie,Ue,1);break;case il:kt(Pe,De,We,Ie,Ue,1),ol(Ie,Ue,0,We,1,0);break;case Jc:kt(Pe,De,We,Ie,Ue,0);break;case Xc:kt(Pe,De,We,Ie,Ue,0),ol(Ie,Ue,1,We,1,0);break;case Gr:fi(Pe,De,We,Ie,Ue);break;case Qc:fi(Pe,De,We,Ie,Ue),Ju(Ie,Ue,We,1,0);break;case Ud:mi(Pe,De,We,Ie,Ue);break;default:t(0)}ne+=ie,Ce+=Le}x.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=A.height)}}x.C=b,t(x.C<=x.i)}function _s(x){var b;if(0<x.ua)return 0;for(b=0;b<x.Wb;++b){var A=x.Ya[b].G,M=x.Ya[b].H;if(0<A[1][M[1]+0].g||0<A[2][M[2]+0].g||0<A[3][M[3]+0].g)return 0}return 1}function Ks(x,b,A,M,V,Z){if(x.Z!=0){var ee=x.qd,ne=x.rd;for(t(ca[x.Z]!=null);b<A;++b)ca[x.Z](ee,ne,M,V,M,V,Z),ee=M,ne=V,V+=Z;x.qd=ee,x.rd=ne}}function ta(x,b){var A=x.l.ma,M=A.Z==0||A.Z==1?x.l.j:x.C;if(M=x.C<M?M:x.C,t(b<=x.l.o),b>M){var V=x.l.width,Z=A.ca,ee=A.tb+V*M,ne=x.V,ie=x.Ba+x.c*M,de=x.gc;t(x.ab==1),t(de[0].hc==3),Rs(de[0],M,b,ne,ie,Z,ee),Ks(A,M,b,Z,ee,V)}x.C=x.Ma=b}function os(x,b,A,M,V,Z,ee){var ne=x.$/M,ie=x.$%M,de=x.m,Ce=x.s,Le=A+x.$,ue=Le;V=A+M*V;var Pe=A+M*Z,De=280+Ce.ua,We=x.Pb?ne:16777216,Ie=0<Ce.ua?Ce.Wa:null,Ue=Ce.wc,He=Le<Pe?xn(Ce,ie,ne):null;t(x.C<Z),t(Pe<=V);var Ke=!1;e:for(;;){for(;Ke||Le<Pe;){var Je=0;if(ne>=We){var It=Le-A;t((We=x).Pb),We.wd=We.m,We.xd=It,0<We.s.ua&&we(We.s.Wa,We.s.vb),We=ne+Vd}if(ie&Ue||(He=xn(Ce,ie,ne)),t(He!=null),He.Qb&&(b[Le]=He.qb,Ke=!0),!Ke)if(se(de),He.jc){Je=de,It=b;var jt=Le,lr=He.pd[G(Je)&fs-1];t(He.jc),256>lr.g?(ce(Je,Je.u+lr.g),It[jt]=lr.value,Je=0):(ce(Je,Je.u+lr.g-256),t(256<=lr.value),Je=lr.value),Je==0&&(Ke=!0)}else Je=Rr(He.G[0],He.H[0],de);if(de.h)break;if(Ke||256>Je){if(!Ke)if(He.nd)b[Le]=(He.qb|Je<<8)>>>0;else{if(se(de),Ke=Rr(He.G[1],He.H[1],de),se(de),It=Rr(He.G[2],He.H[2],de),jt=Rr(He.G[3],He.H[3],de),de.h)break;b[Le]=(jt<<24|Ke<<16|Je<<8|It)>>>0}if(Ke=!1,++Le,++ie>=M&&(ie=0,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(x,ne),Ie!=null))for(;ue<Le;)Je=b[ue++],Ie.X[(506832829*Je&4294967295)>>>Ie.Mb]=Je}else if(280>Je){if(Je=br(Je-256,de),It=Rr(He.G[4],He.H[4],de),se(de),It=Wr(M,It=br(It,de)),de.h)break;if(Le-A<It||V-Le<Je)break e;for(jt=0;jt<Je;++jt)b[Le+jt]=b[Le+jt-It];for(Le+=Je,ie+=Je;ie>=M;)ie-=M,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(x,ne);if(t(Le<=V),ie&Ue&&(He=xn(Ce,ie,ne)),Ie!=null)for(;ue<Le;)Je=b[ue++],Ie.X[(506832829*Je&4294967295)>>>Ie.Mb]=Je}else{if(!(Je<De))break e;for(Ke=Je-280,t(Ie!=null);ue<Le;)Je=b[ue++],Ie.X[(506832829*Je&4294967295)>>>Ie.Mb]=Je;Je=Le,t(!(Ke>>>(It=Ie).Xa)),b[Je]=It.X[Ke],Ke=!0}Ke||t(de.h==J(de))}if(x.Pb&&de.h&&Le<V)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&we(x.s.vb,x.s.Wa);else{if(de.h)break e;ee?.(x,ne>Z?Z:ne),x.a=0,x.$=Le-A}return 1}return x.a=3,0}function qa(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var b=x.Wa;b!=null&&(b.X=null),x.vb=null,t(x!=null)}function Fi(){var x=new tr;return x==null?null:(x.a=0,x.xb=Xl,_r("Predictor","VP8LPredictors"),_r("Predictor","VP8LPredictors_C"),_r("PredictorAdd","VP8LPredictorsAdd"),_r("PredictorAdd","VP8LPredictorsAdd_C"),Cn=ze,Vl=ht,Hl=Yt,Eo=Vt,fi=Wt,mi=Gt,nl=hr,K.VP8LMapColor32b=ao,K.VP8LMapColor8b=tl,x)}function Ps(x,b,A,M,V){var Z=1,ee=[x],ne=[b],ie=M.m,de=M.s,Ce=null,Le=0;e:for(;;){if(A)for(;Z&&D(ie,1);){var ue=ee,Pe=ne,De=M,We=1,Ie=De.m,Ue=De.gc[De.ab],He=D(Ie,2);if(De.Oc&1<<He)Z=0;else{switch(De.Oc|=1<<He,Ue.hc=He,Ue.Ea=ue[0],Ue.nc=Pe[0],Ue.K=[null],++De.ab,t(4>=De.ab),He){case 0:case 1:Ue.b=D(Ie,3)+2,We=Ps(qe(Ue.Ea,Ue.b),qe(Ue.nc,Ue.b),0,De,Ue.K),Ue.K=Ue.K[0];break;case 3:var Ke,Je=D(Ie,8)+1,It=16<Je?0:4<Je?1:2<Je?2:3;if(ue[0]=qe(Ue.Ea,It),Ue.b=It,Ke=We=Ps(Je,1,0,De,Ue.K)){var jt,lr=Je,Pt=Ue,Sr=1<<(8>>Pt.b),wn=i(Sr);if(wn==null)Ke=0;else{var cr=Pt.K[0],Nt=Pt.w;for(wn[0]=Pt.K[0][0],jt=1;jt<1*lr;++jt)wn[jt]=st(cr[Nt+jt],wn[jt-1]);for(;jt<4*Sr;++jt)wn[jt]=0;Pt.K[0]=null,Pt.K[0]=wn,Ke=1}}We=Ke;break;case 2:break;default:t(0)}Z=We}}if(ee=ee[0],ne=ne[0],Z&&D(ie,1)&&!(Z=1<=(Le=D(ie,4))&&11>=Le)){M.a=3;break e}var mt;if(mt=Z)t:{var _n,er,jr,tn=M,Jn=ee,Fn=ne,fn=Le,Vn=A,Xn=tn.m,ln=tn.s,kr=[null],Fr=1,cn=0,Or=uf[fn];r:for(;;){if(Vn&&D(Xn,1)){var bn=D(Xn,3)+2,jn=qe(Jn,bn),Yr=qe(Fn,bn),da=jn*Yr;if(!Ps(jn,Yr,0,tn,kr))break r;for(kr=kr[0],ln.xc=bn,_n=0;_n<da;++_n){var Vr=kr[_n]>>8&65535;kr[_n]=Vr,Vr>=Fr&&(Fr=Vr+1)}}if(Xn.h)break r;for(er=0;5>er;++er){var Kr=ll[er];!er&&0<fn&&(Kr+=1<<fn),cn<Kr&&(cn=Kr)}var On=d(Fr*Or,z),sa=Fr,La=d(sa,ge);if(La==null)var Pn=null;else t(65536>=sa),Pn=La;var kn=i(cn);if(Pn==null||kn==null||On==null){tn.a=1;break r}var ua=On;for(_n=jr=0;_n<Fr;++_n){var Jr=Pn[_n],ha=Jr.G,gs=Jr.H,Ms=0,Qn=1,En=0;for(er=0;5>er;++er){Kr=ll[er],ha[er]=ua,gs[er]=jr,!er&&0<fn&&(Kr+=1<<fn);a:{var yi,Do=Kr,ec=tn,io=kn,gf=ua,lh=jr,nn=0,Fs=ec.m,ch=D(Fs,1);if(s(io,0,0,Do),ch){var dh=D(Fs,1)+1,Wd=D(Fs,1),Gd=D(Fs,Wd==0?1:8);io[Gd]=1,dh==2&&(io[Gd=D(Fs,8)]=1);var lo=1}else{var dn=i(19),In=D(Fs,4)+4;if(19<In){ec.a=3;var An=0;break a}for(yi=0;yi<In;++yi)dn[Up[yi]]=D(Fs,3);var tc=void 0,Lo=void 0,rc=ec,Yp=dn,Hn=Do,Yd=io,nd=0,co=rc.m,Os=8,Xa=d(128,z);n:for(;F(Xa,0,7,Yp,19);){if(D(co,1)){var ad=2+2*D(co,3);if((tc=2+D(co,ad))>Hn)break n}else tc=Hn;for(Lo=0;Lo<Hn&&tc--;){se(co);var Kd=Xa[0+(127&G(co))];ce(co,co.u+Kd.g);var wi=Kd.value;if(16>wi)Yd[Lo++]=wi,wi!=0&&(Os=wi);else{var xf=wi==16,uh=wi-16,vf=qd[uh],hh=D(co,Zc[uh])+vf;if(Lo+hh>Hn)break n;for(var yf=xf?Os:0;0<hh--;)Yd[Lo++]=yf}}nd=1;break n}nd||(rc.a=3),lo=nd}(lo=lo&&!Fs.h)&&(nn=F(gf,lh,8,io,Do)),lo&&nn!=0?An=nn:(ec.a=3,An=0)}if(An==0)break r;if(Qn&&df[er]==1&&(Qn=ua[jr].g==0),Ms+=ua[jr].g,jr+=An,3>=er){var nc,Jd=kn[0];for(nc=1;nc<Kr;++nc)kn[nc]>Jd&&(Jd=kn[nc]);En+=Jd}}if(Jr.nd=Qn,Jr.Qb=0,Qn&&(Jr.qb=(ha[3][gs[3]+0].value<<24|ha[1][gs[1]+0].value<<16|ha[2][gs[2]+0].value)>>>0,Ms==0&&256>ha[0][gs[0]+0].value&&(Jr.Qb=1,Jr.qb+=ha[0][gs[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>En,Jr.jc){var sd,Qa=Jr;for(sd=0;sd<fs;++sd){var Mo=sd,Is=Qa.pd[Mo],fl=Qa.G[0][Qa.H[0]+Mo];256<=fl.value?(Is.g=fl.g+256,Is.value=fl.value):(Is.g=0,Is.value=0,Mo>>=on(fl,8,Is),Mo>>=on(Qa.G[1][Qa.H[1]+Mo],16,Is),Mo>>=on(Qa.G[2][Qa.H[2]+Mo],0,Is),on(Qa.G[3][Qa.H[3]+Mo],24,Is))}}}ln.vc=kr,ln.Wb=Fr,ln.Ya=Pn,ln.yc=On,mt=1;break t}mt=0}if(!(Z=mt)){M.a=3;break e}if(0<Le){if(de.ua=1<<Le,!re(de.Wa,Le)){M.a=1,Z=0;break e}}else de.ua=0;var Xd=M,Qd=ee,wf=ne,Zd=Xd.s,eu=Zd.xc;if(Xd.c=Qd,Xd.i=wf,Zd.md=qe(Qd,eu),Zd.wc=eu==0?-1:(1<<eu)-1,A){M.xb=oo;break e}if((Ce=i(ee*ne))==null){M.a=1,Z=0;break e}Z=(Z=os(M,Ce,0,ee,ne,ne,null))&&!ie.h;break e}return Z?(V!=null?V[0]=Ce:(t(Ce==null),t(A)),M.$=0,A||qa(de)):qa(de),Z}function ai(x,b){var A=x.c*x.i,M=A+b+16*b;return t(x.c<=b),x.V=i(M),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+A+b,1)}function Oi(x,b){var A=x.C,M=b-A,V=x.V,Z=x.Ba+x.c*A;for(t(b<=x.l.o);0<M;){var ee=16<M?16:M,ne=x.l.ma,ie=x.l.width,de=ie*ee,Ce=ne.ca,Le=ne.tb+ie*A,ue=x.Ta,Pe=x.Ua;bo(x,ee,V,Z),Xu(ue,Pe,Ce,Le,de),Ks(ne,A,A+ee,Ce,Le,ie),M-=ee,V+=ee*x.c,A+=ee}t(A==b),x.C=x.Ma=b}function Ii(){this.ub=this.yd=this.td=this.Rb=0}function Al(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wu(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function rn(){this.Yb=(function(){var x=[];return(function b(A,M,V){for(var Z=V[M],ee=0;ee<Z&&(A.push(V.length>M+1?[]:0),!(V.length<M+1));ee++)b(A[ee],M+1,V)})(x,0,[3,11]),x})()}function Td(){this.jb=i(3),this.Wc=c([4,8],rn),this.Xc=c([4,17],rn)}function Tl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Va(){this.ld=this.La=this.dd=this.tc=0}function si(){this.Na=this.la=0}function Rd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $i(){this.uc=this.M=this.Nb=0,this.wa=Array(new Va),this.Y=0,this.ya=Array(new Rl),this.aa=0,this.l=new Dl}function Ha(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Dd(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Ii,this.Kc=new Al,this.ed=new Tl,this.Qa=new Wu,this.Ic=this.$c=this.Aa=0,this.D=new $i,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,T),this.ia=0,this.pb=d(4,Rd),this.Pa=new Td,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ha),this.Hd=0,this.rb=Array(new si),this.sb=0,this.wa=Array(new Va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rl),this.L=this.aa=0,this.gd=c([4,2],Va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rn(x,b){return 0>x?0:x>b?b:x}function Dl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gu(){var x=new Dd;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,cl||(cl=Js)),x}function Dn(x,b,A){return x.a==0&&(x.a=b,x.sc=A,x.cb=0),0}function Bi(x,b,A){return 3<=A&&x[b+0]==157&&x[b+1]==1&&x[b+2]==42}function Wa(x,b){if(x==null)return 0;if(x.a=0,x.sc="OK",b==null)return Dn(x,2,"null VP8Io passed to VP8GetHeaders()");var A=b.data,M=b.w,V=b.ha;if(4>V)return Dn(x,7,"Truncated header.");var Z=A[M+0]|A[M+1]<<8|A[M+2]<<16,ee=x.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return Dn(x,3,"Incorrect keyframe parameters.");if(!ee.yd)return Dn(x,4,"Frame not displayable.");M+=3,V-=3;var ne=x.Kc;if(ee.Rb){if(7>V)return Dn(x,7,"cannot parse picture header");if(!Bi(A,M,V))return Dn(x,3,"Bad code word");ne.c=16383&(A[M+4]<<8|A[M+3]),ne.Td=A[M+4]>>6,ne.i=16383&(A[M+6]<<8|A[M+5]),ne.Ud=A[M+6]>>6,M+=7,V-=7,x.za=ne.c+15>>4,x.Ub=ne.i+15>>4,b.width=ne.c,b.height=ne.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((Z=x.Pa).jb,0,255,Z.jb.length),t((Z=x.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,s(Z.Zb,0,0,Z.Zb.length),s(Z.Lb,0,0,Z.Lb)}if(ee.ub>V)return Dn(x,7,"bad partition length");fe(Z=x.m,A,M,ee.ub),M+=ee.ub,V-=ee.ub,ee.Rb&&(ne.Ld=le(Z),ne.Kd=le(Z)),ne=x.Qa;var ie,de=x.Pa;if(t(Z!=null),t(ne!=null),ne.Cb=le(Z),ne.Cb){if(ne.Bb=le(Z),le(Z)){for(ne.Fb=le(Z),ie=0;4>ie;++ie)ne.Zb[ie]=le(Z)?U(Z,7):0;for(ie=0;4>ie;++ie)ne.Lb[ie]=le(Z)?U(Z,6):0}if(ne.Bb)for(ie=0;3>ie;++ie)de.jb[ie]=le(Z)?ye(Z,8):255}else ne.Bb=0;if(Z.Ka)return Dn(x,3,"cannot parse segment header");if((ne=x.ed).zd=le(Z),ne.Tb=ye(Z,6),ne.wb=ye(Z,3),ne.Pc=le(Z),ne.Pc&&le(Z)){for(de=0;4>de;++de)le(Z)&&(ne.vd[de]=U(Z,6));for(de=0;4>de;++de)le(Z)&&(ne.od[de]=U(Z,6))}if(x.L=ne.Tb==0?0:ne.zd?1:2,Z.Ka)return Dn(x,3,"cannot parse filter header");var Ce=V;if(V=ie=M,M=ie+Ce,ne=Ce,x.Xb=(1<<ye(x.m,2))-1,Ce<3*(de=x.Xb))A=7;else{for(ie+=3*de,ne-=3*de,Ce=0;Ce<de;++Ce){var Le=A[V+0]|A[V+1]<<8|A[V+2]<<16;Le>ne&&(Le=ne),fe(x.Jc[+Ce],A,ie,Le),ie+=Le,ne-=Le,V+=3}fe(x.Jc[+de],A,ie,ne),A=ie<M?0:5}if(A!=0)return Dn(x,A,"cannot parse partitions");for(A=ye(ie=x.m,7),V=le(ie)?U(ie,4):0,M=le(ie)?U(ie,4):0,ne=le(ie)?U(ie,4):0,de=le(ie)?U(ie,4):0,ie=le(ie)?U(ie,4):0,Ce=x.Qa,Le=0;4>Le;++Le){if(Ce.Cb){var ue=Ce.Zb[Le];Ce.Fb||(ue+=A)}else{if(0<Le){x.pb[Le]=x.pb[0];continue}ue=A}var Pe=x.pb[Le];Pe.Sc[0]=Jl[Rn(ue+V,127)],Pe.Sc[1]=ed[Rn(ue+0,127)],Pe.Eb[0]=2*Jl[Rn(ue+M,127)],Pe.Eb[1]=101581*ed[Rn(ue+ne,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=Jl[Rn(ue+de,117)],Pe.Qc[1]=ed[Rn(ue+ie,127)],Pe.lc=ue+ie}if(!ee.Rb)return Dn(x,4,"Not a key frame.");for(le(Z),ee=x.Pa,A=0;4>A;++A){for(V=0;8>V;++V)for(M=0;3>M;++M)for(ne=0;11>ne;++ne)de=be(Z,Hp[A][V][M][ne])?ye(Z,8):ff[A][V][M][ne],ee.Wc[A][V].Yb[M][ne]=de;for(V=0;17>V;++V)ee.Xc[A][V]=ee.Wc[A][sh[V]]}return x.kc=le(Z),x.kc&&(x.Bd=ye(Z,8)),x.cb=1}function Js(x,b,A,M,V,Z,ee){var ne=b[V].Yb[A];for(A=0;16>V;++V){if(!be(x,ne[A+0]))return V;for(;!be(x,ne[A+1]);)if(ne=b[++V].Yb[0],A=0,V==16)return 16;var ie=b[V+1].Yb;if(be(x,ne[A+2])){var de=x,Ce=0;if(be(de,(ue=ne)[(Le=A)+3]))if(be(de,ue[Le+6])){for(ne=0,Le=2*(Ce=be(de,ue[Le+8]))+(ue=be(de,ue[Le+9+Ce])),Ce=0,ue=nh[Le];ue[ne];++ne)Ce+=Ce+be(de,ue[ne]);Ce+=3+(8<<Le)}else be(de,ue[Le+7])?(Ce=7+2*be(de,165),Ce+=be(de,145)):Ce=5+be(de,159);else Ce=be(de,ue[Le+4])?3+be(de,ue[Le+5]):2;ne=ie[2]}else Ce=1,ne=ie[1];ie=ee+ah[V],0>(de=x).b&&pe(de);var Le,ue=de.b,Pe=(Le=de.Ca>>1)-(de.I>>ue)>>31;--de.b,de.Ca+=Pe,de.Ca|=1,de.I-=(Le+1&Pe)<<ue,Z[ie]=((Ce^Pe)-Pe)*M[(0<V)+0]}return 16}function zi(x){var b=x.rb[x.sb-1];b.la=0,b.Na=0,s(x.zc,0,0,x.zc.length),x.ja=0}function is(x,b,A,M,V){V=x[b+A+32*M]+(V>>3),x[b+A+32*M]=-256&V?0>V?0:255:V}function Un(x,b,A,M,V,Z){is(x,b,0,A,M+V),is(x,b,1,A,M+Z),is(x,b,2,A,M-Z),is(x,b,3,A,M-V)}function ks(x){return(20091*x>>16)+x}function Oc(x,b,A,M){var V,Z=0,ee=i(16);for(V=0;4>V;++V){var ne=x[b+0]+x[b+8],ie=x[b+0]-x[b+8],de=(35468*x[b+4]>>16)-ks(x[b+12]),Ce=ks(x[b+4])+(35468*x[b+12]>>16);ee[Z+0]=ne+Ce,ee[Z+1]=ie+de,ee[Z+2]=ie-de,ee[Z+3]=ne-Ce,Z+=4,b++}for(V=Z=0;4>V;++V)ne=(x=ee[Z+0]+4)+ee[Z+8],ie=x-ee[Z+8],de=(35468*ee[Z+4]>>16)-ks(ee[Z+12]),is(A,M,0,0,ne+(Ce=ks(ee[Z+4])+(35468*ee[Z+12]>>16))),is(A,M,1,0,ie+de),is(A,M,2,0,ie-de),is(A,M,3,0,ne-Ce),Z++,M+=32}function Ic(x,b,A,M){var V=x[b+0]+4,Z=35468*x[b+4]>>16,ee=ks(x[b+4]),ne=35468*x[b+1]>>16;Un(A,M,0,V+ee,x=ks(x[b+1]),ne),Un(A,M,1,V+Z,x,ne),Un(A,M,2,V-Z,x,ne),Un(A,M,3,V-ee,x,ne)}function Ui(x,b,A,M,V){Oc(x,b,A,M),V&&Oc(x,b+16,A,M+4)}function Xs(x,b,A,M){al(x,b+0,A,M,1),al(x,b+32,A,M+128,1)}function Ll(x,b,A,M){var V;for(x=x[b+0]+4,V=0;4>V;++V)for(b=0;4>b;++b)is(A,M,b,V,x)}function Dr(x,b,A,M){x[b+0]&&Mr(x,b+0,A,M),x[b+16]&&Mr(x,b+16,A,M+4),x[b+32]&&Mr(x,b+32,A,M+128),x[b+48]&&Mr(x,b+48,A,M+128+4)}function qi(x,b,A,M){var V,Z=i(16);for(V=0;4>V;++V){var ee=x[b+0+V]+x[b+12+V],ne=x[b+4+V]+x[b+8+V],ie=x[b+4+V]-x[b+8+V],de=x[b+0+V]-x[b+12+V];Z[0+V]=ee+ne,Z[8+V]=ee-ne,Z[4+V]=de+ie,Z[12+V]=de-ie}for(V=0;4>V;++V)ee=(x=Z[0+4*V]+3)+Z[3+4*V],ne=Z[1+4*V]+Z[2+4*V],ie=Z[1+4*V]-Z[2+4*V],de=x-Z[3+4*V],A[M+0]=ee+ne>>3,A[M+16]=de+ie>>3,A[M+32]=ee-ne>>3,A[M+48]=de-ie>>3,M+=64}function oi(x,b,A){var M,V=b-32,Z=wa,ee=255-x[V-1];for(M=0;M<A;++M){var ne,ie=Z,de=ee+x[b-1];for(ne=0;ne<A;++ne)x[b+ne]=ie[de+x[V+ne]];b+=32}}function $c(x,b){oi(x,b,4)}function Ld(x,b){oi(x,b,8)}function Md(x,b){oi(x,b,16)}function Ml(x,b){var A;for(A=0;16>A;++A)a(x,b+32*A,x,b-32,16)}function Fl(x,b){var A;for(A=16;0<A;--A)s(x,b,x[b-1],16),b+=32}function _a(x,b,A){var M;for(M=0;16>M;++M)s(b,A+32*M,x,16)}function Qs(x,b){var A,M=16;for(A=0;16>A;++A)M+=x[b-1+32*A]+x[b+A-32];_a(M>>5,x,b)}function Pa(x,b){var A,M=8;for(A=0;16>A;++A)M+=x[b-1+32*A];_a(M>>4,x,b)}function ls(x,b){var A,M=8;for(A=0;16>A;++A)M+=x[b+A-32];_a(M>>4,x,b)}function Vi(x,b){_a(128,x,b)}function Zt(x,b,A){return x+2*b+A+2>>2}function Zs(x,b){var A,M=b-32;for(M=new Uint8Array([Zt(x[M-1],x[M+0],x[M+1]),Zt(x[M+0],x[M+1],x[M+2]),Zt(x[M+1],x[M+2],x[M+3]),Zt(x[M+2],x[M+3],x[M+4])]),A=0;4>A;++A)a(x,b+32*A,M,0,M.length)}function Yu(x,b){var A=x[b-1],M=x[b-1+32],V=x[b-1+64],Z=x[b-1+96];Ee(x,b+0,16843009*Zt(x[b-1-32],A,M)),Ee(x,b+32,16843009*Zt(A,M,V)),Ee(x,b+64,16843009*Zt(M,V,Z)),Ee(x,b+96,16843009*Zt(V,Z,Z))}function Fd(x,b){var A,M=4;for(A=0;4>A;++A)M+=x[b+A-32]+x[b-1+32*A];for(M>>=3,A=0;4>A;++A)s(x,b+32*A,M,4)}function Ga(x,b){var A=x[b-1+0],M=x[b-1+32],V=x[b-1+64],Z=x[b-1-32],ee=x[b+0-32],ne=x[b+1-32],ie=x[b+2-32],de=x[b+3-32];x[b+0+96]=Zt(M,V,x[b-1+96]),x[b+1+96]=x[b+0+64]=Zt(A,M,V),x[b+2+96]=x[b+1+64]=x[b+0+32]=Zt(Z,A,M),x[b+3+96]=x[b+2+64]=x[b+1+32]=x[b+0+0]=Zt(ee,Z,A),x[b+3+64]=x[b+2+32]=x[b+1+0]=Zt(ne,ee,Z),x[b+3+32]=x[b+2+0]=Zt(ie,ne,ee),x[b+3+0]=Zt(de,ie,ne)}function jo(x,b){var A=x[b+1-32],M=x[b+2-32],V=x[b+3-32],Z=x[b+4-32],ee=x[b+5-32],ne=x[b+6-32],ie=x[b+7-32];x[b+0+0]=Zt(x[b+0-32],A,M),x[b+1+0]=x[b+0+32]=Zt(A,M,V),x[b+2+0]=x[b+1+32]=x[b+0+64]=Zt(M,V,Z),x[b+3+0]=x[b+2+32]=x[b+1+64]=x[b+0+96]=Zt(V,Z,ee),x[b+3+32]=x[b+2+64]=x[b+1+96]=Zt(Z,ee,ne),x[b+3+64]=x[b+2+96]=Zt(ee,ne,ie),x[b+3+96]=Zt(ne,ie,ie)}function Od(x,b){var A=x[b-1+0],M=x[b-1+32],V=x[b-1+64],Z=x[b-1-32],ee=x[b+0-32],ne=x[b+1-32],ie=x[b+2-32],de=x[b+3-32];x[b+0+0]=x[b+1+64]=Z+ee+1>>1,x[b+1+0]=x[b+2+64]=ee+ne+1>>1,x[b+2+0]=x[b+3+64]=ne+ie+1>>1,x[b+3+0]=ie+de+1>>1,x[b+0+96]=Zt(V,M,A),x[b+0+64]=Zt(M,A,Z),x[b+0+32]=x[b+1+96]=Zt(A,Z,ee),x[b+1+32]=x[b+2+96]=Zt(Z,ee,ne),x[b+2+32]=x[b+3+96]=Zt(ee,ne,ie),x[b+3+32]=Zt(ne,ie,de)}function Ol(x,b){var A=x[b+0-32],M=x[b+1-32],V=x[b+2-32],Z=x[b+3-32],ee=x[b+4-32],ne=x[b+5-32],ie=x[b+6-32],de=x[b+7-32];x[b+0+0]=A+M+1>>1,x[b+1+0]=x[b+0+64]=M+V+1>>1,x[b+2+0]=x[b+1+64]=V+Z+1>>1,x[b+3+0]=x[b+2+64]=Z+ee+1>>1,x[b+0+32]=Zt(A,M,V),x[b+1+32]=x[b+0+96]=Zt(M,V,Z),x[b+2+32]=x[b+1+96]=Zt(V,Z,ee),x[b+3+32]=x[b+2+96]=Zt(Z,ee,ne),x[b+3+64]=Zt(ee,ne,ie),x[b+3+96]=Zt(ne,ie,de)}function Hi(x,b){var A=x[b-1+0],M=x[b-1+32],V=x[b-1+64],Z=x[b-1+96];x[b+0+0]=A+M+1>>1,x[b+2+0]=x[b+0+32]=M+V+1>>1,x[b+2+32]=x[b+0+64]=V+Z+1>>1,x[b+1+0]=Zt(A,M,V),x[b+3+0]=x[b+1+32]=Zt(M,V,Z),x[b+3+32]=x[b+1+64]=Zt(V,Z,Z),x[b+3+64]=x[b+2+64]=x[b+0+96]=x[b+1+96]=x[b+2+96]=x[b+3+96]=Z}function Bc(x,b){var A=x[b-1+0],M=x[b-1+32],V=x[b-1+64],Z=x[b-1+96],ee=x[b-1-32],ne=x[b+0-32],ie=x[b+1-32],de=x[b+2-32];x[b+0+0]=x[b+2+32]=A+ee+1>>1,x[b+0+32]=x[b+2+64]=M+A+1>>1,x[b+0+64]=x[b+2+96]=V+M+1>>1,x[b+0+96]=Z+V+1>>1,x[b+3+0]=Zt(ne,ie,de),x[b+2+0]=Zt(ee,ne,ie),x[b+1+0]=x[b+3+32]=Zt(A,ee,ne),x[b+1+32]=x[b+3+64]=Zt(M,A,ee),x[b+1+64]=x[b+3+96]=Zt(V,M,A),x[b+1+96]=Zt(Z,V,M)}function Es(x,b){var A;for(A=0;8>A;++A)a(x,b+32*A,x,b-32,8)}function Wi(x,b){var A;for(A=0;8>A;++A)s(x,b,x[b-1],8),b+=32}function ka(x,b,A){var M;for(M=0;8>M;++M)s(b,A+32*M,x,8)}function Il(x,b){var A,M=8;for(A=0;8>A;++A)M+=x[b+A-32]+x[b-1+32*A];ka(M>>4,x,b)}function zc(x,b){var A,M=4;for(A=0;8>A;++A)M+=x[b+A-32];ka(M>>3,x,b)}function Uc(x,b){var A,M=4;for(A=0;8>A;++A)M+=x[b-1+32*A];ka(M>>3,x,b)}function $l(x,b){ka(128,x,b)}function cs(x,b,A){var M=x[b-A],V=x[b+0],Z=3*(V-M)+so[1020+x[b-2*A]-x[b+A]],ee=Yl[112+(Z+4>>3)];x[b-A]=wa[255+M+Yl[112+(Z+3>>3)]],x[b+0]=wa[255+V-ee]}function Gi(x,b,A,M){var V=x[b+0],Z=x[b+A];return ms[255+x[b-2*A]-x[b-A]]>M||ms[255+Z-V]>M}function Yi(x,b,A,M){return 4*ms[255+x[b-A]-x[b+0]]+ms[255+x[b-2*A]-x[b+A]]<=M}function ds(x,b,A,M,V){var Z=x[b-3*A],ee=x[b-2*A],ne=x[b-A],ie=x[b+0],de=x[b+A],Ce=x[b+2*A],Le=x[b+3*A];return 4*ms[255+ne-ie]+ms[255+ee-de]>M?0:ms[255+x[b-4*A]-Z]<=V&&ms[255+Z-ee]<=V&&ms[255+ee-ne]<=V&&ms[255+Le-Ce]<=V&&ms[255+Ce-de]<=V&&ms[255+de-ie]<=V}function No(x,b,A,M){var V=2*M+1;for(M=0;16>M;++M)Yi(x,b+M,A,V)&&cs(x,b+M,A)}function ii(x,b,A,M){var V=2*M+1;for(M=0;16>M;++M)Yi(x,b+M*A,1,V)&&cs(x,b+M*A,1)}function qc(x,b,A,M){var V;for(V=3;0<V;--V)No(x,b+=4*A,A,M)}function Ki(x,b,A,M){var V;for(V=3;0<V;--V)ii(x,b+=4,A,M)}function us(x,b,A,M,V,Z,ee,ne){for(Z=2*Z+1;0<V--;){if(ds(x,b,A,Z,ee))if(Gi(x,b,A,ne))cs(x,b,A);else{var ie=x,de=b,Ce=A,Le=ie[de-2*Ce],ue=ie[de-Ce],Pe=ie[de+0],De=ie[de+Ce],We=ie[de+2*Ce],Ie=27*(He=so[1020+3*(Pe-ue)+so[1020+Le-De]])+63>>7,Ue=18*He+63>>7,He=9*He+63>>7;ie[de-3*Ce]=wa[255+ie[de-3*Ce]+He],ie[de-2*Ce]=wa[255+Le+Ue],ie[de-Ce]=wa[255+ue+Ie],ie[de+0]=wa[255+Pe-Ie],ie[de+Ce]=wa[255+De-Ue],ie[de+2*Ce]=wa[255+We-He]}b+=M}}function eo(x,b,A,M,V,Z,ee,ne){for(Z=2*Z+1;0<V--;){if(ds(x,b,A,Z,ee))if(Gi(x,b,A,ne))cs(x,b,A);else{var ie=x,de=b,Ce=A,Le=ie[de-Ce],ue=ie[de+0],Pe=ie[de+Ce],De=Yl[112+(4+(We=3*(ue-Le))>>3)],We=Yl[112+(We+3>>3)],Ie=De+1>>1;ie[de-2*Ce]=wa[255+ie[de-2*Ce]+Ie],ie[de-Ce]=wa[255+Le+We],ie[de+0]=wa[255+ue-De],ie[de+Ce]=wa[255+Pe-Ie]}b+=M}}function la(x,b,A,M,V,Z){us(x,b,A,1,16,M,V,Z)}function hs(x,b,A,M,V,Z){us(x,b,1,A,16,M,V,Z)}function Bl(x,b,A,M,V,Z){var ee;for(ee=3;0<ee;--ee)eo(x,b+=4*A,A,1,16,M,V,Z)}function C(x,b,A,M,V,Z){var ee;for(ee=3;0<ee;--ee)eo(x,b+=4,1,A,16,M,V,Z)}function Y(x,b,A,M,V,Z,ee,ne){us(x,b,V,1,8,Z,ee,ne),us(A,M,V,1,8,Z,ee,ne)}function he(x,b,A,M,V,Z,ee,ne){us(x,b,1,V,8,Z,ee,ne),us(A,M,1,V,8,Z,ee,ne)}function je(x,b,A,M,V,Z,ee,ne){eo(x,b+4*V,V,1,8,Z,ee,ne),eo(A,M+4*V,V,1,8,Z,ee,ne)}function Ae(x,b,A,M,V,Z,ee,ne){eo(x,b+4,1,V,8,Z,ee,ne),eo(A,M+4,1,V,8,Z,ee,ne)}function Ge(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Re,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ot(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new z}function tr(){this.xb=this.a=0,this.l=new Dl,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ot,this.ab=0,this.gc=d(4,_t),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tr(x,b,A,M,V,Z,ee){for(x=x==null?0:x[b+0],b=0;b<ee;++b)V[Z+b]=x+A[M+b]&255,x=V[Z+b]}function hn(x,b,A,M,V,Z,ee){var ne;if(x==null)Tr(null,null,A,M,V,Z,ee);else for(ne=0;ne<ee;++ne)V[Z+ne]=x[b+ne]+A[M+ne]&255}function Ln(x,b,A,M,V,Z,ee){if(x==null)Tr(null,null,A,M,V,Z,ee);else{var ne,ie=x[b+0],de=ie,Ce=ie;for(ne=0;ne<ee;++ne)de=Ce+(ie=x[b+ne])-de,Ce=A[M+ne]+(-256&de?0>de?0:255:de)&255,de=ie,V[Z+ne]=Ce}}function en(x,b,A,M){var V=b.width,Z=b.o;if(t(x!=null&&b!=null),0>A||0>=M||A+M>Z)return null;if(!x.Cc){if(x.ga==null){var ee;if(x.ga=new sr,(ee=x.ga==null)||(ee=b.width*b.o,t(x.Gb.length==0),x.Gb=i(ee),x.Uc=0,x.Gb==null?ee=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ee=1),ee=!ee),!ee){ee=x.ga;var ne=x.Fa,ie=x.P,de=x.qc,Ce=x.mb,Le=x.nb,ue=ie+1,Pe=de-1,De=ee.l;if(t(ne!=null&&Ce!=null&&b!=null),ca[0]=null,ca[1]=Tr,ca[2]=hn,ca[3]=Ln,ee.ca=Ce,ee.tb=Le,ee.c=b.width,ee.i=b.height,t(0<ee.c&&0<ee.i),1>=de)b=0;else if(ee.$a=3&ne[ie+0],ee.Z=ne[ie+0]>>2&3,ee.Lc=ne[ie+0]>>4&3,ie=ne[ie+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ie)b=0;else if(De.put=yt,De.ac=Nr,De.bc=Pr,De.ma=ee,De.width=b.width,De.height=b.height,De.Da=b.Da,De.v=b.v,De.va=b.va,De.j=b.j,De.o=b.o,ee.$a)e:{t(ee.$a==1),b=Fi();t:for(;;){if(b==null){b=0;break e}if(t(ee!=null),ee.mc=b,b.c=ee.c,b.i=ee.i,b.l=ee.l,b.l.ma=ee,b.l.width=ee.c,b.l.height=ee.i,b.a=0,$(b.m,ne,ue,Pe),!Ps(ee.c,ee.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&_s(b.s)?(ee.ic=1,ne=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(ne),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(ee.ic=0,b=ai(b,ee.c)),!b))break t;b=1;break e}ee.mc=null,b=0}else b=Pe>=ee.c*ee.i;ee=!b}if(ee)return null;x.ga.Lc!=1?x.Ga=0:M=Z-A}t(x.ga!=null),t(A+M<=Z);e:{if(b=(ne=x.ga).c,Z=ne.l.o,ne.$a==0){if(ue=x.rc,Pe=x.Vc,De=x.Fa,ie=x.P+1+A*b,de=x.mb,Ce=x.nb+A*b,t(ie<=x.P+x.qc),ne.Z!=0)for(t(ca[ne.Z]!=null),ee=0;ee<M;++ee)ca[ne.Z](ue,Pe,De,ie,de,Ce,b),ue=de,Pe=Ce,Ce+=b,ie+=b;else for(ee=0;ee<M;++ee)a(de,Ce,De,ie,b),ue=de,Pe=Ce,Ce+=b,ie+=b;x.rc=ue,x.Vc=Pe}else{if(t(ne.mc!=null),b=A+M,t((ee=ne.mc)!=null),t(b<=ee.i),ee.C>=b)b=1;else if(ne.ic||As(),ne.ic){ne=ee.V,ue=ee.Ba,Pe=ee.c;var We=ee.i,Ie=(De=1,ie=ee.$/Pe,de=ee.$%Pe,Ce=ee.m,Le=ee.s,ee.$),Ue=Pe*We,He=Pe*b,Ke=Le.wc,Je=Ie<He?xn(Le,de,ie):null;t(Ie<=Ue),t(b<=We),t(_s(Le));t:for(;;){for(;!Ce.h&&Ie<He;){if(de&Ke||(Je=xn(Le,de,ie)),t(Je!=null),se(Ce),256>(We=Rr(Je.G[0],Je.H[0],Ce)))ne[ue+Ie]=We,++Ie,++de>=Pe&&(de=0,++ie<=b&&!(ie%16)&&ta(ee,ie));else{if(!(280>We)){De=0;break t}We=br(We-256,Ce);var It,jt=Rr(Je.G[4],Je.H[4],Ce);if(se(Ce),!(Ie>=(jt=Wr(Pe,jt=br(jt,Ce)))&&Ue-Ie>=We)){De=0;break t}for(It=0;It<We;++It)ne[ue+Ie+It]=ne[ue+Ie+It-jt];for(Ie+=We,de+=We;de>=Pe;)de-=Pe,++ie<=b&&!(ie%16)&&ta(ee,ie);Ie<He&&de&Ke&&(Je=xn(Le,de,ie))}t(Ce.h==J(Ce))}ta(ee,ie>b?b:ie);break t}!De||Ce.h&&Ie<Ue?(De=0,ee.a=Ce.h?5:3):ee.$=Ie,b=De}else b=os(ee,ee.V,ee.Ba,ee.c,ee.i,b,Oi);if(!b){M=0;break e}}A+M>=Z&&(x.Cc=1),M=1}if(!M)return null;if(x.Cc&&((M=x.ga)!=null&&(M.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+A*V}function qn(x,b,A,M,V,Z){for(;0<V--;){var ee,ne=x,ie=b+(A?1:0),de=x,Ce=b+(A?0:3);for(ee=0;ee<M;++ee){var Le=de[Ce+4*ee];Le!=255&&(Le*=32897,ne[ie+4*ee+0]=ne[ie+4*ee+0]*Le>>23,ne[ie+4*ee+1]=ne[ie+4*ee+1]*Le>>23,ne[ie+4*ee+2]=ne[ie+4*ee+2]*Le>>23)}b+=Z}}function Sn(x,b,A,M,V){for(;0<M--;){var Z;for(Z=0;Z<A;++Z){var ee=x[b+2*Z+0],ne=15&(de=x[b+2*Z+1]),ie=4369*ne,de=(240&de|de>>4)*ie>>16;x[b+2*Z+0]=(240&ee|ee>>4)*ie>>16&240|(15&ee|ee<<4)*ie>>16>>4&15,x[b+2*Z+1]=240&de|ne}b+=V}}function ra(x,b,A,M,V,Z,ee,ne){var ie,de,Ce=255;for(de=0;de<V;++de){for(ie=0;ie<M;++ie){var Le=x[b+ie];Z[ee+4*ie]=Le,Ce&=Le}b+=A,ee+=ne}return Ce!=255}function So(x,b,A,M,V){var Z;for(Z=0;Z<V;++Z)A[M+Z]=x[b+Z]>>8}function As(){ol=qn,Ju=Sn,Yc=ra,Xu=So}function Co(x,b,A){K[x]=function(M,V,Z,ee,ne,ie,de,Ce,Le,ue,Pe,De,We,Ie,Ue,He,Ke){var Je,It=Ke-1>>1,jt=ne[ie+0]|de[Ce+0]<<16,lr=Le[ue+0]|Pe[De+0]<<16;t(M!=null);var Pt=3*jt+lr+131074>>2;for(b(M[V+0],255&Pt,Pt>>16,We,Ie),Z!=null&&(Pt=3*lr+jt+131074>>2,b(Z[ee+0],255&Pt,Pt>>16,Ue,He)),Je=1;Je<=It;++Je){var Sr=ne[ie+Je]|de[Ce+Je]<<16,wn=Le[ue+Je]|Pe[De+Je]<<16,cr=jt+Sr+lr+wn+524296,Nt=cr+2*(Sr+lr)>>3;Pt=Nt+jt>>1,jt=(cr=cr+2*(jt+wn)>>3)+Sr>>1,b(M[V+2*Je-1],255&Pt,Pt>>16,We,Ie+(2*Je-1)*A),b(M[V+2*Je-0],255&jt,jt>>16,We,Ie+(2*Je-0)*A),Z!=null&&(Pt=cr+lr>>1,jt=Nt+wn>>1,b(Z[ee+2*Je-1],255&Pt,Pt>>16,Ue,He+(2*Je-1)*A),b(Z[ee+2*Je+0],255&jt,jt>>16,Ue,He+(2*Je+0)*A)),jt=Sr,lr=wn}1&Ke||(Pt=3*jt+lr+131074>>2,b(M[V+Ke-1],255&Pt,Pt>>16,We,Ie+(Ke-1)*A),Z!=null&&(Pt=3*lr+jt+131074>>2,b(Z[ee+Ke-1],255&Pt,Pt>>16,Ue,He+(Ke-1)*A)))}}function Ji(){Ta[zd]=Wp,Ta[gi]=xi,Ta[cf]=Gp,Ta[Kc]=Ql,Ta[Jc]=dl,Ta[Gr]=td,Ta[Ud]=oh,Ta[Kl]=xi,Ta[il]=Ql,Ta[Xc]=dl,Ta[Qc]=td}function zl(x){return x&-16384?0>x?0:255:x>>vi}function li(x,b){return zl((19077*x>>8)+(26149*b>>8)-14234)}function Xi(x,b,A){return zl((19077*x>>8)-(6419*b>>8)-(13320*A>>8)+8708)}function ci(x,b){return zl((19077*x>>8)+(33050*b>>8)-17685)}function di(x,b,A,M,V){M[V+0]=li(x,A),M[V+1]=Xi(x,b,A),M[V+2]=ci(x,b)}function na(x,b,A,M,V){M[V+0]=ci(x,b),M[V+1]=Xi(x,b,A),M[V+2]=li(x,A)}function Qi(x,b,A,M,V){var Z=Xi(x,b,A);b=Z<<3&224|ci(x,b)>>3,M[V+0]=248&li(x,A)|Z>>5,M[V+1]=b}function Zi(x,b,A,M,V){var Z=240&ci(x,b)|15;M[V+0]=240&li(x,A)|Xi(x,b,A)>>4,M[V+1]=Z}function Vc(x,b,A,M,V){M[V+0]=255,di(x,b,A,M,V+1)}function Hc(x,b,A,M,V){na(x,b,A,M,V),M[V+3]=255}function ya(x,b,A,M,V){di(x,b,A,M,V),M[V+3]=255}function Ts(x,b,A){K[x]=function(M,V,Z,ee,ne,ie,de,Ce,Le){for(var ue=Ce+(-2&Le)*A;Ce!=ue;)b(M[V+0],Z[ee+0],ne[ie+0],de,Ce),b(M[V+1],Z[ee+0],ne[ie+0],de,Ce+A),V+=2,++ee,++ie,Ce+=2*A;1&Le&&b(M[V+0],Z[ee+0],ne[ie+0],de,Ce)}}function to(x,b,A){return A==0?x==0?b==0?6:5:b==0?4:0:A}function Id(x,b,A,M,V){switch(x>>>30){case 3:al(b,A,M,V,0);break;case 2:vn(b,A,M,V);break;case 1:Mr(b,A,M,V)}}function Ya(x,b){var A,M,V=b.M,Z=b.Nb,ee=x.oc,ne=x.pc+40,ie=x.oc,de=x.pc+584,Ce=x.oc,Le=x.pc+600;for(A=0;16>A;++A)ee[ne+32*A-1]=129;for(A=0;8>A;++A)ie[de+32*A-1]=129,Ce[Le+32*A-1]=129;for(0<V?ee[ne-1-32]=ie[de-1-32]=Ce[Le-1-32]=129:(s(ee,ne-32-1,127,21),s(ie,de-32-1,127,9),s(Ce,Le-32-1,127,9)),M=0;M<x.za;++M){var ue=b.ya[b.aa+M];if(0<M){for(A=-1;16>A;++A)a(ee,ne+32*A-4,ee,ne+32*A+12,4);for(A=-1;8>A;++A)a(ie,de+32*A-4,ie,de+32*A+4,4),a(Ce,Le+32*A-4,Ce,Le+32*A+4,4)}var Pe=x.Gd,De=x.Hd+M,We=ue.ad,Ie=ue.Hc;if(0<V&&(a(ee,ne-32,Pe[De].y,0,16),a(ie,de-32,Pe[De].f,0,8),a(Ce,Le-32,Pe[De].ea,0,8)),ue.Za){var Ue=ee,He=ne-32+16;for(0<V&&(M>=x.za-1?s(Ue,He,Pe[De].y[15],4):a(Ue,He,Pe[De+1].y,0,4)),A=0;4>A;A++)Ue[He+128+A]=Ue[He+256+A]=Ue[He+384+A]=Ue[He+0+A];for(A=0;16>A;++A,Ie<<=2)Ue=ee,He=ne+ih[A],ps[ue.Ob[A]](Ue,He),Id(Ie,We,16*+A,Ue,He)}else if(Ue=to(M,V,ue.Ob[0]),ba[Ue](ee,ne),Ie!=0)for(A=0;16>A;++A,Ie<<=2)Id(Ie,We,16*+A,ee,ne+ih[A]);for(A=ue.Gc,Ue=to(M,V,ue.Dd),Aa[Ue](ie,de),Aa[Ue](Ce,Le),Ie=We,Ue=ie,He=de,255&(ue=0|A)&&(170&ue?Ea(Ie,256,Ue,He):Ur(Ie,256,Ue,He)),ue=Ce,Ie=Le,255&(A>>=8)&&(170&A?Ea(We,320,ue,Ie):Ur(We,320,ue,Ie)),V<x.Ub-1&&(a(Pe[De].y,0,ee,ne+480,16),a(Pe[De].f,0,ie,de+224,8),a(Pe[De].ea,0,Ce,Le+224,8)),A=8*Z*x.B,Pe=x.sa,De=x.ta+16*M+16*Z*x.R,We=x.qa,ue=x.ra+8*M+A,Ie=x.Ha,Ue=x.Ia+8*M+A,A=0;16>A;++A)a(Pe,De+A*x.R,ee,ne+32*A,16);for(A=0;8>A;++A)a(We,ue+A*x.B,ie,de+32*A,8),a(Ie,Ue+A*x.B,Ce,Le+32*A,8)}}function ui(x,b,A,M,V,Z,ee,ne,ie){var de=[0],Ce=[0],Le=0,ue=ie!=null?ie.kd:0,Pe=ie??new tt;if(x==null||12>A)return 7;Pe.data=x,Pe.w=b,Pe.ha=A,b=[b],A=[A],Pe.gb=[Pe.gb];e:{var De=b,We=A,Ie=Pe.gb;if(t(x!=null),t(We!=null),t(Ie!=null),Ie[0]=0,12<=We[0]&&!n(x,De[0],"RIFF")){if(n(x,De[0]+8,"WEBP")){Ie=3;break e}var Ue=Ve(x,De[0]+4);if(12>Ue||4294967286<Ue){Ie=3;break e}if(ue&&Ue>We[0]-8){Ie=7;break e}Ie[0]=Ue,De[0]+=12,We[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ue=0<Pe.gb[0],A=A[0];;){e:{var He=x;We=b,Ie=A;var Ke=de,Je=Ce,It=De=[0];if((Pt=Le=[Le])[0]=0,8>Ie[0])Ie=7;else{if(!n(He,We[0],"VP8X")){if(Ve(He,We[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var jt=Ve(He,We[0]+8),lr=1+Te(He,We[0]+12);if(2147483648<=lr*(He=1+Te(He,We[0]+15))){Ie=3;break e}It!=null&&(It[0]=jt),Ke!=null&&(Ke[0]=lr),Je!=null&&(Je[0]=He),We[0]+=18,Ie[0]-=18,Pt[0]=1}Ie=0}}if(Le=Le[0],De=De[0],Ie!=0)return Ie;if(We=!!(2&De),!Ue&&Le)return 3;if(Z!=null&&(Z[0]=!!(16&De)),ee!=null&&(ee[0]=We),ne!=null&&(ne[0]=0),ee=de[0],De=Ce[0],Le&&We&&ie==null){Ie=0;break}if(4>A){Ie=7;break}if(Ue&&Le||!Ue&&!Le&&!n(x,b[0],"ALPH")){A=[A],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{jt=x,Ie=b,Ue=A;var Pt=Pe.gb;Ke=Pe.na,Je=Pe.P,It=Pe.Sa,lr=22,t(jt!=null),t(Ue!=null),He=Ie[0];var Sr=Ue[0];for(t(Ke!=null),t(It!=null),Ke[0]=null,Je[0]=null,It[0]=0;;){if(Ie[0]=He,Ue[0]=Sr,8>Sr){Ie=7;break e}var wn=Ve(jt,He+4);if(4294967286<wn){Ie=3;break e}var cr=8+wn+1&-2;if(lr+=cr,0<Pt&&lr>Pt){Ie=3;break e}if(!n(jt,He,"VP8 ")||!n(jt,He,"VP8L")){Ie=0;break e}if(Sr[0]<cr){Ie=7;break e}n(jt,He,"ALPH")||(Ke[0]=jt,Je[0]=He+8,It[0]=wn),He+=cr,Sr-=cr}}if(A=A[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Ie!=0)break}A=[A],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Pt=x,Ie=b,Ue=A,Ke=Pe.gb[0],Je=Pe.Ja,It=Pe.xa,jt=Ie[0],He=!n(Pt,jt,"VP8 "),lr=!n(Pt,jt,"VP8L"),t(Pt!=null),t(Ue!=null),t(Je!=null),t(It!=null),8>Ue[0])Ie=7;else{if(He||lr){if(Pt=Ve(Pt,jt+4),12<=Ke&&Pt>Ke-12){Ie=3;break e}if(ue&&Pt>Ue[0]-8){Ie=7;break e}Je[0]=Pt,Ie[0]+=8,Ue[0]-=8,It[0]=lr}else It[0]=5<=Ue[0]&&Pt[jt+0]==47&&!(Pt[jt+4]>>5),Je[0]=Ue[0];Ie=0}if(A=A[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],b=b[0],Ie!=0)break;if(4294967286<Pe.Ja)return 3;if(ne==null||We||(ne[0]=Pe.xa?2:1),ee=[ee],De=[De],Pe.xa){if(5>A){Ie=7;break}ne=ee,ue=De,We=Z,x==null||5>A?x=0:5<=A&&x[b+0]==47&&!(x[b+4]>>5)?(Ue=[0],Pt=[0],Ke=[0],$(Je=new I,x,b,A),Zr(Je,Ue,Pt,Ke)?(ne!=null&&(ne[0]=Ue[0]),ue!=null&&(ue[0]=Pt[0]),We!=null&&(We[0]=Ke[0]),x=1):x=0):x=0}else{if(10>A){Ie=7;break}ne=De,x==null||10>A||!Bi(x,b+3,A-3)?x=0:(ue=x[b+0]|x[b+1]<<8|x[b+2]<<16,We=16383&(x[b+7]<<8|x[b+6]),x=16383&(x[b+9]<<8|x[b+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=Pe.Ja||!We||!x?x=0:(ee&&(ee[0]=We),ne&&(ne[0]=x),x=1))}if(!x||(ee=ee[0],De=De[0],Le&&(de[0]!=ee||Ce[0]!=De)))return 3;ie!=null&&(ie[0]=Pe,ie.offset=b-ie.w,t(4294967286>b-ie.w),t(ie.offset==ie.ha-A));break}return Ie==0||Ie==7&&Le&&ie==null?(Z!=null&&(Z[0]|=Pe.na!=null&&0<Pe.na.length),M!=null&&(M[0]=ee),V!=null&&(V[0]=De),0):Ie}function Ul(x,b,A){var M=b.width,V=b.height,Z=0,ee=0,ne=M,ie=V;if(b.Da=x!=null&&0<x.Da,b.Da&&(ne=x.cd,ie=x.bd,Z=x.v,ee=x.j,11>A||(Z&=-2,ee&=-2),0>Z||0>ee||0>=ne||0>=ie||Z+ne>M||ee+ie>V))return 0;if(b.v=Z,b.j=ee,b.va=Z+ne,b.o=ee+ie,b.U=ne,b.T=ie,b.da=x!=null&&0<x.da,b.da){if(!lt(ne,ie,A=[x.ib],Z=[x.hb]))return 0;b.ib=A[0],b.hb=Z[0]}return b.ob=x!=null&&x.ob,b.Kb=x==null||!x.Sd,b.da&&(b.ob=b.ib<3*M/4&&b.hb<3*V/4,b.Kb=0),1}function ql(x){if(x==null)return 2;if(11>x.S){var b=x.f.RGBA;b.fb+=(x.height-1)*b.A,b.A=-b.A}else b=x.f.kb,x=x.height,b.O+=(x-1)*b.fa,b.fa=-b.fa,b.N+=(x-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(x-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(x-1)*b.lb,b.lb=-b.lb);return 0}function _o(x,b,A,M){if(M==null||0>=x||0>=b)return 2;if(A!=null){if(A.Da){var V=A.cd,Z=A.bd,ee=-2&A.v,ne=-2&A.j;if(0>ee||0>ne||0>=V||0>=Z||ee+V>x||ne+Z>b)return 2;x=V,b=Z}if(A.da){if(!lt(x,b,V=[A.ib],Z=[A.hb]))return 2;x=V[0],b=Z[0]}}M.width=x,M.height=b;e:{var ie=M.width,de=M.height;if(x=M.S,0>=ie||0>=de||!(x>=zd&&13>x))x=2;else{if(0>=M.Rd&&M.sd==null){ee=Z=V=b=0;var Ce=(ne=ie*rd[x])*de;if(11>x||(Z=(de+1)/2*(b=(ie+1)/2),x==12&&(ee=(V=ie)*de)),(de=i(Ce+2*Z+ee))==null){x=1;break e}M.sd=de,11>x?((ie=M.f.RGBA).eb=de,ie.fb=0,ie.A=ne,ie.size=Ce):((ie=M.f.kb).y=de,ie.O=0,ie.fa=ne,ie.Fd=Ce,ie.f=de,ie.N=0+Ce,ie.Ab=b,ie.Cd=Z,ie.ea=de,ie.W=0+Ce+Z,ie.Db=b,ie.Ed=Z,x==12&&(ie.F=de,ie.J=0+Ce+2*Z),ie.Tc=ee,ie.lb=V)}if(b=1,V=M.S,Z=M.width,ee=M.height,V>=zd&&13>V)if(11>V)x=M.f.RGBA,b&=(ne=Math.abs(x.A))*(ee-1)+Z<=x.size,b&=ne>=Z*rd[V],b&=x.eb!=null;else{x=M.f.kb,ne=(Z+1)/2,Ce=(ee+1)/2,ie=Math.abs(x.fa),de=Math.abs(x.Ab);var Le=Math.abs(x.Db),ue=Math.abs(x.lb),Pe=ue*(ee-1)+Z;b&=ie*(ee-1)+Z<=x.Fd,b&=de*(Ce-1)+ne<=x.Cd,b=(b&=Le*(Ce-1)+ne<=x.Ed)&ie>=Z&de>=ne&Le>=ne,b&=x.y!=null,b&=x.f!=null,b&=x.ea!=null,V==12&&(b&=ue>=Z,b&=Pe<=x.Tc,b&=x.F!=null)}else b=0;x=b?0:2}}return x!=0||A!=null&&A.fd&&(x=ql(M)),x}var fs=64,Ka=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ja=24,hi=32,ro=8,Po=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(x){return x},K.Predictor2=function(x,b,A){return b[A+0]},K.Predictor3=function(x,b,A){return b[A+1]},K.Predictor4=function(x,b,A){return b[A-1]},K.Predictor5=function(x,b,A){return ct(ct(x,b[A+1]),b[A+0])},K.Predictor6=function(x,b,A){return ct(x,b[A-1])},K.Predictor7=function(x,b,A){return ct(x,b[A+0])},K.Predictor8=function(x,b,A){return ct(b[A-1],b[A+0])},K.Predictor9=function(x,b,A){return ct(b[A+0],b[A+1])},K.Predictor10=function(x,b,A){return ct(ct(x,b[A-1]),ct(b[A+0],b[A+1]))},K.Predictor11=function(x,b,A){var M=b[A+0];return 0>=me(M>>24&255,x>>24&255,(b=b[A-1])>>24&255)+me(M>>16&255,x>>16&255,b>>16&255)+me(M>>8&255,x>>8&255,b>>8&255)+me(255&M,255&x,255&b)?M:x},K.Predictor12=function(x,b,A){var M=b[A+0];return(zt((x>>24&255)+(M>>24&255)-((b=b[A-1])>>24&255))<<24|zt((x>>16&255)+(M>>16&255)-(b>>16&255))<<16|zt((x>>8&255)+(M>>8&255)-(b>>8&255))<<8|zt((255&x)+(255&M)-(255&b)))>>>0},K.Predictor13=function(x,b,A){var M=b[A-1];return(Se((x=ct(x,b[A+0]))>>24&255,M>>24&255)<<24|Se(x>>16&255,M>>16&255)<<16|Se(x>>8&255,M>>8&255)<<8|Se(255&x,255&M))>>>0};var ko=K.PredictorAdd0;K.PredictorAdd1=Me,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var no=K.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Cn,el=K.ColorIndexInverseTransform,ao=K.MapARGB,Rs=K.VP8LColorIndexInverseTransformAlpha,tl=K.MapAlpha,rl=K.VP8LPredictorsAdd=[];rl.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var Vl,Hl,Eo,fi,mi,nl,pi,al,vn,Ea,Mr,Ur,yn,Mn,Ds,Wc,Wl,Ao,$d,Gl,Bd,Ku,Gc,sl,ol,Ju,Yc,Xu,Qu=i(511),Zu=i(2041),eh=i(225),th=i(767),rh=0,so=Zu,Yl=eh,wa=th,ms=Qu,zd=0,gi=1,cf=2,Kc=3,Jc=4,Gr=5,Ud=6,Kl=7,il=8,Xc=9,Qc=10,Zc=[2,3,7],qd=[3,3,11],ll=[280,256,256,256,40],df=[0,1,1,1,0],Up=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vd=8,Jl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ed=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cl=null,nh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ah=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ff=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ba=[],ps=[],Aa=[],oo=1,Xl=2,ca=[],Ta=[];Co("UpsampleRgbLinePair",di,3),Co("UpsampleBgrLinePair",na,3),Co("UpsampleRgbaLinePair",ya,4),Co("UpsampleBgraLinePair",Hc,4),Co("UpsampleArgbLinePair",Vc,4),Co("UpsampleRgba4444LinePair",Zi,2),Co("UpsampleRgb565LinePair",Qi,2);var Wp=K.UpsampleRgbLinePair,Gp=K.UpsampleBgrLinePair,xi=K.UpsampleRgbaLinePair,Ql=K.UpsampleBgraLinePair,dl=K.UpsampleArgbLinePair,td=K.UpsampleRgba4444LinePair,oh=K.UpsampleRgb565LinePair,To=16,Ls=1<<To-1,zr=-227,qr=482,vi=6,aa=0,Ra=i(256),ul=i(256),Zl=i(256),Da=i(256),Hd=i(qr-zr),mf=i(qr-zr);Ts("YuvToRgbRow",di,3),Ts("YuvToBgrRow",na,3),Ts("YuvToRgbaRow",ya,4),Ts("YuvToBgraRow",Hc,4),Ts("YuvToArgbRow",Vc,4),Ts("YuvToRgba4444Row",Zi,2),Ts("YuvToRgb565Row",Qi,2);var ih=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hl=[0,2,8],pf=[8,7,6,4,4,2,2,2,1,1,1,1],Ro=1;this.WebPDecodeRGBA=function(x,b,A,M,V){var Z=gi,ee=new Ge,ne=new Xt;ee.ba=ne,ne.S=Z,ne.width=[ne.width],ne.height=[ne.height];var ie=ne.width,de=ne.height,Ce=new Et;if(Ce==null||x==null)var Le=2;else t(Ce!=null),Le=ui(x,b,A,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Le!=0?ie=0:(ie!=null&&(ie[0]=Ce.width[0]),de!=null&&(de[0]=Ce.height[0]),ie=1),ie){ne.width=ne.width[0],ne.height=ne.height[0],M!=null&&(M[0]=ne.width),V!=null&&(V[0]=ne.height);e:{if(M=new Dl,(V=new tt).data=x,V.w=b,V.ha=A,V.kd=1,b=[0],t(V!=null),((x=ui(V.data,V.w,V.ha,null,null,null,b,null,V))==0||x==7)&&b[0]&&(x=4),(b=x)==0){if(t(ee!=null),M.data=V.data,M.w=V.w+V.offset,M.ha=V.ha-V.offset,M.put=yt,M.ac=Nr,M.bc=Pr,M.ma=ee,V.xa){if((x=Fi())==null){ee=1;break e}if((function(ue,Pe){var De=[0],We=[0],Ie=[0];t:for(;;){if(ue==null)return 0;if(Pe==null)return ue.a=2,0;if(ue.l=Pe,ue.a=0,$(ue.m,Pe.data,Pe.w,Pe.ha),!Zr(ue.m,De,We,Ie)){ue.a=3;break t}if(ue.xb=Xl,Pe.width=De[0],Pe.height=We[0],!Ps(De[0],We[0],1,ue,null))break t;return 1}return t(ue.a!=0),0})(x,M)){if(M=(b=_o(M.width,M.height,ee.Oa,ee.ba))==0){t:{M=x;r:for(;;){if(M==null){M=0;break t}if(t(M.s.yc!=null),t(M.s.Ya!=null),t(0<M.s.Wb),t((A=M.l)!=null),t((V=A.ma)!=null),M.xb!=0){if(M.ca=V.ba,M.tb=V.tb,t(M.ca!=null),!Ul(V.Oa,A,Kc)){M.a=2;break r}if(!ai(M,A.width)||A.da)break r;if((A.da||$t(M.ca.S))&&As(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&As()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!re(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!os(M,M.V,M.Ba,M.c,M.i,A.o,ni))break r;V.Dc=M.Ma,M=1;break t}t(M.a!=0),M=0}M=!M}M&&(b=x.a)}else b=x.a}else{if((x=new Gu)==null){ee=1;break e}if(x.Fa=V.na,x.P=V.P,x.qc=V.Sa,Wa(x,M)){if((b=_o(M.width,M.height,ee.Oa,ee.ba))==0){if(x.Aa=0,A=ee.Oa,t((V=x)!=null),A!=null){if(0<(ie=0>(ie=A.Md)?0:100<ie?255:255*ie/100)){for(de=Ce=0;4>de;++de)12>(Le=V.pb[de]).lc&&(Le.ia=ie*pf[0>Le.lc?0:Le.lc]>>3),Ce|=Le.ia;Ce&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=A.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ue,Pe){if(ue==null)return 0;if(Pe==null)return Dn(ue,2,"NULL VP8Io parameter in VP8Decode().");if(!ue.cb&&!Wa(ue,Pe))return 0;if(t(ue.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(ue.L=0);var De=hl[ue.L];if(ue.L==2?(ue.yb=0,ue.zb=0):(ue.yb=Pe.v-De>>4,ue.zb=Pe.j-De>>4,0>ue.yb&&(ue.yb=0),0>ue.zb&&(ue.zb=0)),ue.Va=Pe.o+15+De>>4,ue.Hb=Pe.va+15+De>>4,ue.Hb>ue.za&&(ue.Hb=ue.za),ue.Va>ue.Ub&&(ue.Va=ue.Ub),0<ue.L){var We=ue.ed;for(De=0;4>De;++De){var Ie;if(ue.Qa.Cb){var Ue=ue.Qa.Lb[De];ue.Qa.Fb||(Ue+=We.Tb)}else Ue=We.Tb;for(Ie=0;1>=Ie;++Ie){var He=ue.gd[De][Ie],Ke=Ue;if(We.Pc&&(Ke+=We.vd[0],Ie&&(Ke+=We.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var Je=Ke;0<We.wb&&(Je=4<We.wb?Je>>2:Je>>1)>9-We.wb&&(Je=9-We.wb),1>Je&&(Je=1),He.dd=Je,He.tc=2*Ke+Je,He.ld=40<=Ke?2:15<=Ke?1:0}else He.tc=0;He.La=Ie}}}De=0}else Dn(ue,6,"Frame setup failed"),De=ue.a;if(De=De==0){if(De){ue.$c=0,0<ue.Aa||(ue.Ic=Ro);t:{De=ue.Ic,We=4*(Je=ue.za);var It=32*Je,jt=Je+1,lr=0<ue.L?Je*(0<ue.Aa?2:1):0,Pt=(ue.Aa==2?2:1)*Je;if((He=We+832+(Ie=3*(16*De+hl[ue.L])/2*It)+(Ue=ue.Fa!=null&&0<ue.Fa.length?ue.Kc.c*ue.Kc.i:0))!=He)De=0;else{if(He>ue.Vb){if(ue.Vb=0,ue.Ec=i(He),ue.Fc=0,ue.Ec==null){De=Dn(ue,1,"no memory during frame initialization.");break t}ue.Vb=He}He=ue.Ec,Ke=ue.Fc,ue.Ac=He,ue.Bc=Ke,Ke+=We,ue.Gd=d(It,Ha),ue.Hd=0,ue.rb=d(jt+1,si),ue.sb=1,ue.wa=lr?d(lr,Va):null,ue.Y=0,ue.D.Nb=0,ue.D.wa=ue.wa,ue.D.Y=ue.Y,0<ue.Aa&&(ue.D.Y+=Je),t(!0),ue.oc=He,ue.pc=Ke,Ke+=832,ue.ya=d(Pt,Rl),ue.aa=0,ue.D.ya=ue.ya,ue.D.aa=ue.aa,ue.Aa==2&&(ue.D.aa+=Je),ue.R=16*Je,ue.B=8*Je,Je=(It=hl[ue.L])*ue.R,It=It/2*ue.B,ue.sa=He,ue.ta=Ke+Je,ue.qa=ue.sa,ue.ra=ue.ta+16*De*ue.R+It,ue.Ha=ue.qa,ue.Ia=ue.ra+8*De*ue.B+It,ue.$c=0,Ke+=Ie,ue.mb=Ue?He:null,ue.nb=Ue?Ke:null,t(Ke+Ue<=ue.Fc+ue.Vb),zi(ue),s(ue.Ac,ue.Bc,0,We),De=1}}if(De){if(Pe.ka=0,Pe.y=ue.sa,Pe.O=ue.ta,Pe.f=ue.qa,Pe.N=ue.ra,Pe.ea=ue.Ha,Pe.Vd=ue.Ia,Pe.fa=ue.R,Pe.Rc=ue.B,Pe.F=null,Pe.J=0,!rh){for(De=-255;255>=De;++De)Qu[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)Zu[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)eh[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)th[255+De]=0>De?0:255<De?255:De;rh=1}pi=qi,al=Ui,Ea=Xs,Mr=Ll,Ur=Dr,vn=Ic,yn=la,Mn=hs,Ds=Y,Wc=he,Wl=Bl,Ao=C,$d=je,Gl=Ae,Bd=No,Ku=ii,Gc=qc,sl=Ki,ps[0]=Fd,ps[1]=$c,ps[2]=Zs,ps[3]=Yu,ps[4]=Ga,ps[5]=Od,ps[6]=jo,ps[7]=Ol,ps[8]=Bc,ps[9]=Hi,ba[0]=Qs,ba[1]=Md,ba[2]=Ml,ba[3]=Fl,ba[4]=Pa,ba[5]=ls,ba[6]=Vi,Aa[0]=Il,Aa[1]=Ld,Aa[2]=Es,Aa[3]=Wi,Aa[4]=Uc,Aa[5]=zc,Aa[6]=$l,De=1}else De=0}De&&(De=(function(Sr,wn){for(Sr.M=0;Sr.M<Sr.Va;++Sr.M){var cr,Nt=Sr.Jc[Sr.M&Sr.Xb],mt=Sr.m,_n=Sr;for(cr=0;cr<_n.za;++cr){var er=mt,jr=_n,tn=jr.Ac,Jn=jr.Bc+4*cr,Fn=jr.zc,fn=jr.ya[jr.aa+cr];if(jr.Qa.Bb?fn.$b=be(er,jr.Pa.jb[0])?2+be(er,jr.Pa.jb[2]):be(er,jr.Pa.jb[1]):fn.$b=0,jr.kc&&(fn.Ad=be(er,jr.Bd)),fn.Za=!be(er,145)+0,fn.Za){var Vn=fn.Ob,Xn=0;for(jr=0;4>jr;++jr){var ln,kr=Fn[0+jr];for(ln=0;4>ln;++ln){kr=Vp[tn[Jn+ln]][kr];for(var Fr=hf[be(er,kr[0])];0<Fr;)Fr=hf[2*Fr+be(er,kr[Fr])];kr=-Fr,tn[Jn+ln]=kr}a(Vn,Xn,tn,Jn,4),Xn+=4,Fn[0+jr]=kr}}else kr=be(er,156)?be(er,128)?1:3:be(er,163)?2:0,fn.Ob[0]=kr,s(tn,Jn,kr,4),s(Fn,0,kr,4);fn.Dd=be(er,142)?be(er,114)?be(er,183)?1:3:2:0}if(_n.m.Ka)return Dn(Sr,7,"Premature end-of-partition0 encountered.");for(;Sr.ja<Sr.za;++Sr.ja){if(_n=Nt,er=(mt=Sr).rb[mt.sb-1],tn=mt.rb[mt.sb+mt.ja],cr=mt.ya[mt.aa+mt.ja],Jn=mt.kc?cr.Ad:0)er.la=tn.la=0,cr.Za||(er.Na=tn.Na=0),cr.Hc=0,cr.Gc=0,cr.ia=0;else{var cn,Or;if(er=tn,tn=_n,Jn=mt.Pa.Xc,Fn=mt.ya[mt.aa+mt.ja],fn=mt.pb[Fn.$b],jr=Fn.ad,Vn=0,Xn=mt.rb[mt.sb-1],kr=ln=0,s(jr,Vn,0,384),Fn.Za)var bn=0,jn=Jn[3];else{Fr=i(16);var Yr=er.Na+Xn.Na;if(Yr=cl(tn,Jn[1],Yr,fn.Eb,0,Fr,0),er.Na=Xn.Na=(0<Yr)+0,1<Yr)pi(Fr,0,jr,Vn);else{var da=Fr[0]+3>>3;for(Fr=0;256>Fr;Fr+=16)jr[Vn+Fr]=da}bn=1,jn=Jn[0]}var Vr=15&er.la,Kr=15&Xn.la;for(Fr=0;4>Fr;++Fr){var On=1&Kr;for(da=Or=0;4>da;++da)Vr=Vr>>1|(On=(Yr=cl(tn,jn,Yr=On+(1&Vr),fn.Sc,bn,jr,Vn))>bn)<<7,Or=Or<<2|(3<Yr?3:1<Yr?2:jr[Vn+0]!=0),Vn+=16;Vr>>=4,Kr=Kr>>1|On<<7,ln=(ln<<8|Or)>>>0}for(jn=Vr,bn=Kr>>4,cn=0;4>cn;cn+=2){for(Or=0,Vr=er.la>>4+cn,Kr=Xn.la>>4+cn,Fr=0;2>Fr;++Fr){for(On=1&Kr,da=0;2>da;++da)Yr=On+(1&Vr),Vr=Vr>>1|(On=0<(Yr=cl(tn,Jn[2],Yr,fn.Qc,0,jr,Vn)))<<3,Or=Or<<2|(3<Yr?3:1<Yr?2:jr[Vn+0]!=0),Vn+=16;Vr>>=2,Kr=Kr>>1|On<<5}kr|=Or<<4*cn,jn|=Vr<<4<<cn,bn|=(240&Kr)<<cn}er.la=jn,Xn.la=bn,Fn.Hc=ln,Fn.Gc=kr,Fn.ia=43690&kr?0:fn.ia,Jn=!(ln|kr)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[cr.$b][cr.Za],mt.wa[mt.Y+mt.ja].La|=!Jn),_n.Ka)return Dn(Sr,7,"Premature end-of-file encountered.")}if(zi(Sr),mt=wn,_n=1,cr=(Nt=Sr).D,er=0<Nt.L&&Nt.M>=Nt.zb&&Nt.M<=Nt.Va,Nt.Aa==0)t:{if(cr.M=Nt.M,cr.uc=er,Ya(Nt,cr),_n=1,cr=(Or=Nt.D).Nb,er=(kr=hl[Nt.L])*Nt.R,tn=kr/2*Nt.B,Fr=16*cr*Nt.R,da=8*cr*Nt.B,Jn=Nt.sa,Fn=Nt.ta-er+Fr,fn=Nt.qa,jr=Nt.ra-tn+da,Vn=Nt.Ha,Xn=Nt.Ia-tn+da,Kr=(Vr=Or.M)==0,ln=Vr>=Nt.Va-1,Nt.Aa==2&&Ya(Nt,Or),Or.uc)for(On=(Yr=Nt).D.M,t(Yr.D.uc),Or=Yr.yb;Or<Yr.Hb;++Or){bn=Or,jn=On;var sa=(La=(En=Yr).D).Nb;cn=En.R;var La=La.wa[La.Y+bn],Pn=En.sa,kn=En.ta+16*sa*cn+16*bn,ua=La.dd,Jr=La.tc;if(Jr!=0)if(t(3<=Jr),En.L==1)0<bn&&Ku(Pn,kn,cn,Jr+4),La.La&&sl(Pn,kn,cn,Jr),0<jn&&Bd(Pn,kn,cn,Jr+4),La.La&&Gc(Pn,kn,cn,Jr);else{var ha=En.B,gs=En.qa,Ms=En.ra+8*sa*ha+8*bn,Qn=En.Ha,En=En.Ia+8*sa*ha+8*bn;sa=La.ld,0<bn&&(Mn(Pn,kn,cn,Jr+4,ua,sa),Wc(gs,Ms,Qn,En,ha,Jr+4,ua,sa)),La.La&&(Ao(Pn,kn,cn,Jr,ua,sa),Gl(gs,Ms,Qn,En,ha,Jr,ua,sa)),0<jn&&(yn(Pn,kn,cn,Jr+4,ua,sa),Ds(gs,Ms,Qn,En,ha,Jr+4,ua,sa)),La.La&&(Wl(Pn,kn,cn,Jr,ua,sa),$d(gs,Ms,Qn,En,ha,Jr,ua,sa))}}if(Nt.ia&&alert("todo:DitherRow"),mt.put!=null){if(Or=16*Vr,Vr=16*(Vr+1),Kr?(mt.y=Nt.sa,mt.O=Nt.ta+Fr,mt.f=Nt.qa,mt.N=Nt.ra+da,mt.ea=Nt.Ha,mt.W=Nt.Ia+da):(Or-=kr,mt.y=Jn,mt.O=Fn,mt.f=fn,mt.N=jr,mt.ea=Vn,mt.W=Xn),ln||(Vr-=kr),Vr>mt.o&&(Vr=mt.o),mt.F=null,mt.J=null,Nt.Fa!=null&&0<Nt.Fa.length&&Or<Vr&&(mt.J=en(Nt,mt,Or,Vr-Or),mt.F=Nt.mb,mt.F==null&&mt.F.length==0)){_n=Dn(Nt,3,"Could not decode alpha data.");break t}Or<mt.j&&(kr=mt.j-Or,Or=mt.j,t(!(1&kr)),mt.O+=Nt.R*kr,mt.N+=Nt.B*(kr>>1),mt.W+=Nt.B*(kr>>1),mt.F!=null&&(mt.J+=mt.width*kr)),Or<Vr&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=Or-mt.j,mt.U=mt.va-mt.v,mt.T=Vr-Or,_n=mt.put(mt))}cr+1!=Nt.Ic||ln||(a(Nt.sa,Nt.ta-er,Jn,Fn+16*Nt.R,er),a(Nt.qa,Nt.ra-tn,fn,jr+8*Nt.B,tn),a(Nt.Ha,Nt.Ia-tn,Vn,Xn+8*Nt.B,tn))}if(!_n)return Dn(Sr,6,"Output aborted.")}return 1})(ue,Pe)),Pe.bc!=null&&Pe.bc(Pe),De&=1}return De?(ue.cb=0,De):0})(x,M)||(b=x.a)}}else b=x.a}b==0&&ee.Oa!=null&&ee.Oa.fd&&(b=ql(ee.ba))}ee=b}Z=ee!=0?null:11>Z?ne.f.RGBA.eb:ne.f.kb.y}else Z=null;return Z};var rd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(K,oe){for(var L="",F=0;F<4;F++)L+=String.fromCharCode(K[oe++]);return L}function m(K,oe){return K[oe+0]|K[oe+1]<<8}function g(K,oe){return(K[oe+0]|K[oe+1]<<8|K[oe+2]<<16)>>>0}function w(K,oe){return(K[oe+0]|K[oe+1]<<8|K[oe+2]<<16|K[oe+3]<<24)>>>0}new u;var p=[0],S=[0],j=[],N=new u,P=e,k=(function(K,oe){var L={},F=0,z=!1,q=0,ge=0;if(L.frames=[],!(function(T,I){for(var G=0;G<4;G++)if(T[I+G]!="RIFF".charCodeAt(G))return!0;return!1})(K,oe)){for(w(K,oe+=4),oe+=8;oe<K.length;){var fe=h(K,oe),ye=w(K,oe+=4);oe+=4;var U=ye+(1&ye);switch(fe){case"VP8 ":case"VP8L":L.frames[F]===void 0&&(L.frames[F]={}),(D=L.frames[F]).src_off=z?ge:oe-8,D.src_size=q+ye+8,F++,z&&(z=!1,q=0,ge=0);break;case"VP8X":(D=L.header={}).feature_flags=K[oe];var $=oe+4;D.canvas_width=1+g(K,$),$+=3,D.canvas_height=1+g(K,$),$+=3;break;case"ALPH":z=!0,q=U+8,ge=oe-8;break;case"ANIM":(D=L.header).bgcolor=w(K,oe),$=oe+4,D.loop_count=m(K,$),$+=2;break;case"ANMF":var H,D;(D=L.frames[F]={}).offset_x=2*g(K,oe),oe+=3,D.offset_y=2*g(K,oe),oe+=3,D.width=1+g(K,oe),oe+=3,D.height=1+g(K,oe),oe+=3,D.duration=g(K,oe),oe+=3,H=K[oe++],D.dispose=1&H,D.blend=H>>1&1}fe!="ANMF"&&(oe+=U)}return L}})(P,0);k.response=P,k.rgbaoutput=!0,k.dataurl=!1;var E=k.header?k.header:null,O=k.frames?k.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],S=[E.canvas_width];for(var B=0;B<O.length&&O[B].blend!=0;B++);}var ae=O[0],W=N.WebPDecodeRGBA(P,ae.src_off,ae.src_size,S,p);ae.rgba=W,ae.imgwidth=S[0],ae.imgheight=p[0];for(var te=0;te<S[0]*p[0]*4;te++)j[te]=W[te];return this.width=S,this.height=p,this.data=j,this}(function(e){var t,n,a,s,i,d,c,u,h,m=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new u,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new d,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new d,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,d=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,h=new m}]);var g=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=T;Object.defineProperty(this,"pdf",{get:function(){return I}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(re){G=!!re}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(re){J=!!re}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(re){isNaN(re)||(ce=re)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(re){isNaN(re)||(se=re)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(re){var we;typeof re=="number"?we=[re,re,re,re]:((we=new Array(4))[0]=re[0],we[1]=re.length>=2?re[1]:we[0],we[2]=re.length>=3?re[2]:we[0],we[3]=re.length>=4?re[3]:we[1]),h.margin=we}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(re){pe=re}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(re){le=re}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(re){be=re}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(re){re instanceof m&&(h=re)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(re){h.path=re}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(re){Ee=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var we;we=w(re),this.ctx.fillStyle=we.style,this.ctx.isFillTransparent=we.a===0,this.ctx.fillOpacity=we.a,this.pdf.setFillColor(we.r,we.g,we.b,{a:we.a}),this.pdf.setTextColor(we.r,we.g,we.b,{a:we.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var we=w(re);this.ctx.strokeStyle=we.style,this.ctx.isStrokeTransparent=we.a===0,this.ctx.strokeOpacity=we.a,we.a===0?this.pdf.setDrawColor(255,255,255):(we.a,this.pdf.setDrawColor(we.r,we.g,we.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Q=null,Te=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(re){Q=null,Te=null,Ve=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var we;if(this.ctx.font=re,(we=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var Xe=we[1];we[2];var lt=we[3],qe=we[4];we[5];var st=we[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(Ze==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var pt=(function(dt){var Yt,Vt,Wt=[],Gt=dt.trim();if(Gt==="")return xx;if(Gt in hw)return[hw[Gt]];for(;Gt!=="";){switch(Vt=null,Yt=(Gt=mw(Gt)).charAt(0)){case'"':case"'":Vt=nI(Gt.substring(1),Yt);break;default:Vt=aI(Gt)}if(Vt===null||(Wt.push(Vt[0]),(Gt=mw(Vt[1]))!==""&&Gt.charAt(0)!==","))return xx;Gt=Gt.replace(/^,/,"")}return Wt})(st);if(this.fontFaces){var ct=(function(dt,Yt){var Vt=dt.getFontList(),Wt=JSON.stringify(Vt);if(Q===null||Te!==Wt){var Gt=(function(hr){var kt=[];return Object.keys(hr).forEach(function(_r){hr[_r].forEach(function($t){var vt=null;switch($t){case"bold":vt={family:_r,weight:"bold"};break;case"italic":vt={family:_r,style:"italic"};break;case"bolditalic":vt={family:_r,weight:"bold",style:"italic"};break;case"":case"normal":vt={family:_r}}vt!==null&&(vt.ref={name:_r,style:$t},kt.push(vt))})}),kt})(Vt);Q=(function(hr){for(var kt={},_r=0;_r<hr.length;++_r){var $t=gx(hr[_r]),vt=$t.family,pr=$t.stretch,Xt=$t.style,Et=$t.weight;kt[vt]=kt[vt]||{},kt[vt][pr]=kt[vt][pr]||{},kt[vt][pr][Xt]=kt[vt][pr][Xt]||{},kt[vt][pr][Xt][Et]=$t}return kt})(Gt.concat(Yt)),Te=Wt}return Q})(this.pdf,this.fontFaces),zt=pt.map(function(dt){return{family:dt,stretch:"normal",weight:lt,style:Xe}}),Se=(function(dt,Yt,Vt){for(var Wt=(Vt=Vt||{}).defaultFontFamily||"times",Gt=Object.assign({},rI,Vt.genericFontFamilies||{}),hr=null,kt=null,_r=0;_r<Yt.length;++_r)if(Gt[(hr=gx(Yt[_r])).family]&&(hr.family=Gt[hr.family]),dt.hasOwnProperty(hr.family)){kt=dt[hr.family];break}if(!(kt=kt||dt[Wt]))throw new Error("Could not find a font-family for the rule '"+fw(hr)+"' and default family '"+Wt+"'.");if(kt=(function($t,vt){if(vt[$t])return vt[$t];var pr=jv[$t],Xt=pr<=jv.normal?-1:1,Et=uw(vt,xC,pr,Xt);if(!Et)throw new Error("Could not find a matching font-stretch value for "+$t);return Et})(hr.stretch,kt),kt=(function($t,vt){if(vt[$t])return vt[$t];for(var pr=gC[$t],Xt=0;Xt<pr.length;++Xt)if(vt[pr[Xt]])return vt[pr[Xt]];throw new Error("Could not find a matching font-style for "+$t)})(hr.style,kt),!(kt=(function($t,vt){if(vt[$t])return vt[$t];if($t===400&&vt[500])return vt[500];if($t===500&&vt[400])return vt[400];var pr=tI[$t],Xt=uw(vt,vC,pr,$t<400?-1:1);if(!Xt)throw new Error("Could not find a matching font-weight for value "+$t);return Xt})(hr.weight,kt)))throw new Error("Failed to resolve a font for the rule '"+fw(hr)+"'.");return kt})(ct,zt);this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var me="";(lt==="bold"||parseInt(lt,10)>=700||Xe==="bold")&&(me="bold"),Xe==="italic"&&(me+="italic"),me.length===0&&(me="normal");for(var Me="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<pt.length;Ye++){if(this.pdf.internal.getFont(pt[Ye],me,{noFallback:!0,disableWarning:!0})!==void 0){Me=pt[Ye];break}if(me==="bolditalic"&&this.pdf.internal.getFont(pt[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Me=pt[Ye],me="bold";else if(this.pdf.internal.getFont(pt[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Me=pt[Ye],me="normal";break}}if(Me===""){for(var ht=0;ht<pt.length;ht++)if(ze[pt[ht]]){Me=ze[pt[ht]];break}}Me=Me===""?"Times":Me,this.pdf.setFont(Me,me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};g.prototype.setLineDash=function(T){this.lineDash=T},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){O.call(this,"fill",!1)},g.prototype.stroke=function(){O.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(T,I){if(isNaN(T)||isNaN(I))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new d(T,I));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new d(T,I)},g.prototype.closePath=function(){var T=new d(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Qr(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){T=new d(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(T.x,T.y)},g.prototype.lineTo=function(T,I){if(isNaN(T)||isNaN(I))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new d(T,I));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new d(G.x,G.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},g.prototype.quadraticCurveTo=function(T,I,G,J){if(isNaN(G)||isNaN(J)||isNaN(T)||isNaN(I))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new d(G,J)),se=this.ctx.transform.applyToPoint(new d(T,I));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new d(ce.x,ce.y)},g.prototype.bezierCurveTo=function(T,I,G,J,ce,se){if(isNaN(ce)||isNaN(se)||isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new d(ce,se)),le=this.ctx.transform.applyToPoint(new d(T,I)),be=this.ctx.transform.applyToPoint(new d(G,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:be.x,y2:be.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new d(pe.x,pe.y)},g.prototype.arc=function(T,I,G,J,ce,se){if(isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J)||isNaN(ce))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new d(T,I));T=pe.x,I=pe.y;var le=this.ctx.transform.applyToPoint(new d(0,G)),be=this.ctx.transform.applyToPoint(new d(0,0));G=Math.sqrt(Math.pow(le.x-be.x,2)+Math.pow(le.y-be.y,2))}Math.abs(ce-J)>=2*Math.PI&&(J=0,ce=2*Math.PI),this.path.push({type:"arc",x:T,y:I,radius:G,startAngle:J,endAngle:ce,counterclockwise:se})},g.prototype.arcTo=function(T,I,G,J,ce){throw new Error("arcTo not implemented.")},g.prototype.rect=function(T,I,G,J){if(isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,I),this.lineTo(T+G,I),this.lineTo(T+G,I+J),this.lineTo(T,I+J),this.lineTo(T,I),this.lineTo(T+G,I),this.lineTo(T,I)},g.prototype.fillRect=function(T,I,G,J){if(isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,I,G,J),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},g.prototype.strokeRect=function(T,I,G,J){if(isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(T,I,G,J),this.stroke())},g.prototype.clearRect=function(T,I,G,J){if(isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,I,G,J))},g.prototype.save=function(T){T=typeof T!="boolean"||T;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(I),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(T){var I,G,J,ce;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))I=0,G=0,J=0,ce=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(se!==null)I=parseInt(se[1]),G=parseInt(se[2]),J=parseInt(se[3]),ce=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)I=parseInt(se[1]),G=parseInt(se[2]),J=parseInt(se[3]),ce=parseFloat(se[4]);else{if(ce=1,typeof T=="string"&&T.charAt(0)!=="#"){var pe=new cC(T);T=pe.ok?pe.toHex():"#000000"}T.length===4?(I=T.substring(1,2),I+=I,G=T.substring(2,3),G+=G,J=T.substring(3,4),J+=J):(I=T.substring(1,3),G=T.substring(3,5),J=T.substring(5,7)),I=parseInt(I,16),G=parseInt(G,16),J=parseInt(J,16)}}return{r:I,g:G,b:J,a:ce,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(T,I,G,J){if(isNaN(I)||isNaN(G)||typeof T!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var ce=U(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;F.call(this,{text:T,x:I,y:G,scale:se,angle:ce,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(T,I,G,J){if(isNaN(I)||isNaN(G)||typeof T!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){J=isNaN(J)?void 0:J;var ce=U(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;F.call(this,{text:T,x:I,y:G,scale:se,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(T){if(typeof T!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,G=this.pdf.internal.scaleFactor,J=I.internal.getFontSize(),ce=I.getStringUnitWidth(T)*J/I.internal.scaleFactor;return new function(se){var pe=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ce*=Math.round(96*G/72*1e4)/1e4})},g.prototype.scale=function(T,I){if(isNaN(T)||isNaN(I))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(T,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.rotate=function(T){if(isNaN(T))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new u(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},g.prototype.translate=function(T,I){if(isNaN(T)||isNaN(I))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,T,I);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.transform=function(T,I,G,J,ce,se){if(isNaN(T)||isNaN(I)||isNaN(G)||isNaN(J)||isNaN(ce)||isNaN(se))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new u(T,I,G,J,ce,se);this.ctx.transform=this.ctx.transform.multiply(pe)},g.prototype.setTransform=function(T,I,G,J,ce,se){T=isNaN(T)?1:T,I=isNaN(I)?0:I,G=isNaN(G)?0:G,J=isNaN(J)?1:J,ce=isNaN(ce)?0:ce,se=isNaN(se)?0:se,this.ctx.transform=new u(T,I,G,J,ce,se)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(T,I,G,J,ce,se,pe,le,be){var Ee=this.pdf.getImageProperties(T),Q=1,Te=1,Ve=1,re=1;J!==void 0&&le!==void 0&&(Ve=le/J,re=be/ce,Q=Ee.width/J*le/J,Te=Ee.height/ce*be/ce),se===void 0&&(se=I,pe=G,I=0,G=0),J!==void 0&&le===void 0&&(le=J,be=ce),J===void 0&&le===void 0&&(le=Ee.width,be=Ee.height);var we=this.ctx.transform.decompose(),Xe=U(we.rotate.shx),lt=new u,qe=(lt=(lt=(lt=lt.multiply(we.translate)).multiply(we.skew)).multiply(we.scale)).applyToRectangle(new c(se-I*Ve,pe-G*re,J*Q,ce*Te));if(this.autoPaging){for(var st,Ze=N.call(this,qe),pt=[],ct=0;ct<Ze.length;ct+=1)pt.indexOf(Ze[ct])===-1&&pt.push(Ze[ct]);E(pt);for(var zt=pt[0],Se=pt[pt.length-1],me=zt;me<Se+1;me++){this.pdf.setPage(me);var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=me===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=me===1?0:Ye+(me-2)*ht;if(this.ctx.clip_path.length!==0){var Yt=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(st,this.posX+this.margin[3],-dt+ze+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Yt}var Vt=JSON.parse(JSON.stringify(qe));Vt=k([Vt],this.posX+this.margin[3],-dt+ze+this.ctx.prevPageLastElemOffset)[0];var Wt=(me>zt||me<Se)&&j.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,ht,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Xe),Wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Xe)};var N=function(T,I,G){var J=[];I=I||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":J.push(Math.floor((T.y+ce)/G)+1);break;case"arc":J.push(Math.floor((T.y+ce-T.radius)/G)+1),J.push(Math.floor((T.y+ce+T.radius)/G)+1);break;case"qct":var se=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);J.push(Math.floor((se.y+ce)/G)+1),J.push(Math.floor((se.y+se.h+ce)/G)+1);break;case"bct":var pe=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);J.push(Math.floor((pe.y+ce)/G)+1),J.push(Math.floor((pe.y+pe.h+ce)/G)+1);break;case"rect":J.push(Math.floor((T.y+ce)/G)+1),J.push(Math.floor((T.y+T.h+ce)/G)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)P.call(this);return J},P=function(){var T=this.fillStyle,I=this.strokeStyle,G=this.font,J=this.lineCap,ce=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=I,this.font=G,this.lineCap=J,this.lineWidth=ce,this.lineJoin=se},k=function(T,I,G){for(var J=0;J<T.length;J++)switch(T[J].type){case"bct":T[J].x2+=I,T[J].y2+=G;case"qct":T[J].x1+=I,T[J].y1+=G;default:T[J].x+=I,T[J].y+=G}return T},E=function(T){return T.sort(function(I,G){return I-G})},O=function(T,I){var G=this.fillStyle,J=this.strokeStyle,ce=this.lineCap,se=this.lineWidth,pe=Math.abs(se*this.ctx.transform.scaleX),le=this.lineJoin;if(this.autoPaging){for(var be,Ee,Q=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ve=[],re=0;re<Te.length;re++)if(Te[re].x!==void 0)for(var we=N.call(this,Te[re]),Xe=0;Xe<we.length;Xe+=1)Ve.indexOf(we[Xe])===-1&&Ve.push(we[Xe]);for(var lt=0;lt<Ve.length;lt++)for(;this.pdf.internal.getNumberOfPages()<Ve[lt];)P.call(this);E(Ve);for(var qe=Ve[0],st=Ve[Ve.length-1],Ze=qe;Ze<st+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=G,this.strokeStyle=J,this.lineCap=ce,this.lineWidth=pe,this.lineJoin=le;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Ze===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=Ze===1?0:zt+(Ze-2)*Se;if(this.ctx.clip_path.length!==0){var Me=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(be,this.posX+this.margin[3],-me+ct+this.ctx.prevPageLastElemOffset),B.call(this,T,!0),this.path=Me}if(Ee=JSON.parse(JSON.stringify(Q)),this.path=k(Ee,this.posX+this.margin[3],-me+ct+this.ctx.prevPageLastElemOffset),I===!1||Ze===0){var ze=(Ze>qe||Ze<st)&&j.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Se,null).clip().discardPath()),B.call(this,T,I),ze&&this.pdf.restoreGraphicsState()}this.lineWidth=se}this.path=Q}else this.lineWidth=pe,B.call(this,T,I),this.lineWidth=se},B=function(T,I){if((T!=="stroke"||I||!S.call(this))&&(T==="stroke"||I||!p.call(this))){for(var G,J,ce=[],se=this.path,pe=0;pe<se.length;pe++){var le=se[pe];switch(le.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:le,deltas:[],abs:[]});break;case"lt":var be=ce.length;if(se[pe-1]&&!isNaN(se[pe-1].x)&&(G=[le.x-se[pe-1].x,le.y-se[pe-1].y],be>0)){for(;be>=0;be--)if(ce[be-1].close!==!0&&ce[be-1].begin!==!0){ce[be-1].deltas.push(G),ce[be-1].abs.push(le);break}}break;case"bct":G=[le.x1-se[pe-1].x,le.y1-se[pe-1].y,le.x2-se[pe-1].x,le.y2-se[pe-1].y,le.x-se[pe-1].x,le.y-se[pe-1].y],ce[ce.length-1].deltas.push(G);break;case"qct":var Ee=se[pe-1].x+2/3*(le.x1-se[pe-1].x),Q=se[pe-1].y+2/3*(le.y1-se[pe-1].y),Te=le.x+2/3*(le.x1-le.x),Ve=le.y+2/3*(le.y1-le.y),re=le.x,we=le.y;G=[Ee-se[pe-1].x,Q-se[pe-1].y,Te-se[pe-1].x,Ve-se[pe-1].y,re-se[pe-1].x,we-se[pe-1].y],ce[ce.length-1].deltas.push(G);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(le)}}J=I?null:T==="stroke"?"stroke":"fill";for(var Xe=!1,lt=0;lt<ce.length;lt++)if(ce[lt].arc)for(var qe=ce[lt].abs,st=0;st<qe.length;st++){var Ze=qe[st];Ze.type==="arc"?te.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,I,!Xe):z.call(this,Ze.x,Ze.y),Xe=!0}else if(ce[lt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(ce[lt].begin!==!0){var pt=ce[lt].start.x,ct=ce[lt].start.y;q.call(this,ce[lt].deltas,pt,ct),Xe=!0}J&&K.call(this,J),I&&oe.call(this)}},ae=function(T){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-G;case"top":return T+I-G;case"hanging":return T+I-2*G;case"middle":return T+I/2-G;default:return T}},W=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(I,G){this.colorStops.push([I,G])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var te=function(T,I,G,J,ce,se,pe,le,be){for(var Ee=fe.call(this,G,J,ce,se),Q=0;Q<Ee.length;Q++){var Te=Ee[Q];Q===0&&(be?L.call(this,Te.x1+T,Te.y1+I):z.call(this,Te.x1+T,Te.y1+I)),ge.call(this,T,I,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}le?oe.call(this):K.call(this,pe)},K=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(T,I){this.pdf.internal.out(n(T)+" "+a(I)+" m")},F=function(T){var I;switch(T.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var G,J,ce,se=this.pdf.getTextDimensions(T.text),pe=ae.call(this,T.y),le=W.call(this,pe)-se.h,be=this.ctx.transform.applyToPoint(new d(T.x,pe));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),Q=new u;Q=(Q=(Q=Q.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Te=this.ctx.transform.applyToRectangle(new c(T.x,pe,se.w,se.h)),Ve=Q.applyToRectangle(new c(T.x,le,se.w,se.h)),re=N.call(this,Ve),we=[],Xe=0;Xe<re.length;Xe+=1)we.indexOf(re[Xe])===-1&&we.push(re[Xe]);E(we);for(var lt=we[0],qe=we[we.length-1],st=lt;st<qe+1;st++){this.pdf.setPage(st);var Ze=st===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],zt=ct-this.margin[0],Se=this.pdf.internal.pageSize.width-this.margin[1],me=Se-this.margin[3],Me=st===1?0:pt+(st-2)*zt;if(this.ctx.clip_path.length!==0){var ze=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(G,this.posX+this.margin[3],-1*Me+Ze),B.call(this,"fill",!0),this.path=ze}var Ye=k([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Me+Ze+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*T.scale),ce=this.lineWidth,this.lineWidth=ce*T.scale);var ht=this.autoPaging!=="text";if(ht||Ye.y+Ye.h<=ct){if(ht||Ye.y>=Ze&&Ye.x<=Se){var dt=ht?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Se-Ye.x)[0],Yt=k([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Me+Ze+this.ctx.prevPageLastElemOffset)[0],Vt=ht&&(st>lt||st<qe)&&j.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,zt,null).clip().discardPath()),this.pdf.text(dt,Yt.x,Yt.y,{angle:T.angle,align:I,renderingMode:T.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Ye.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-Ye.y);T.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=ce)}}else T.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*T.scale),ce=this.lineWidth,this.lineWidth=ce*T.scale),this.pdf.text(T.text,be.x+this.posX,be.y+this.posY,{angle:T.angle,align:I,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=ce)},z=function(T,I,G,J){G=G||0,J=J||0,this.pdf.internal.out(n(T+G)+" "+a(I+J)+" l")},q=function(T,I,G){return this.pdf.lines(T,I,G,null,null)},ge=function(T,I,G,J,ce,se,pe,le){this.pdf.internal.out([t(s(G+T)),t(i(J+I)),t(s(ce+T)),t(i(se+I)),t(s(pe+T)),t(i(le+I)),"c"].join(" "))},fe=function(T,I,G,J){for(var ce=2*Math.PI,se=Math.PI/2;I>G;)I-=ce;var pe=Math.abs(G-I);pe<ce&&J&&(pe=ce-pe);for(var le=[],be=J?-1:1,Ee=I;pe>1e-5;){var Q=Ee+be*Math.min(pe,se);le.push(ye.call(this,T,Ee,Q)),pe-=Math.abs(Q-Ee),Ee=Q}return le},ye=function(T,I,G){var J=(G-I)/2,ce=T*Math.cos(J),se=T*Math.sin(J),pe=ce,le=-se,be=pe*pe+le*le,Ee=be+pe*ce+le*se,Q=4/3*(Math.sqrt(2*be*Ee)-Ee)/(pe*se-le*ce),Te=pe-Q*le,Ve=le+Q*pe,re=Te,we=-Ve,Xe=J+I,lt=Math.cos(Xe),qe=Math.sin(Xe);return{x1:T*Math.cos(I),y1:T*Math.sin(I),x2:Te*lt-Ve*qe,y2:Te*qe+Ve*lt,x3:re*lt-we*qe,y3:re*qe+we*lt,x4:T*Math.cos(G),y4:T*Math.sin(G)}},U=function(T){return 180*T/Math.PI},$=function(T,I,G,J,ce,se){var pe=T+.5*(G-T),le=I+.5*(J-I),be=ce+.5*(G-ce),Ee=se+.5*(J-se),Q=Math.min(T,ce,pe,be),Te=Math.max(T,ce,pe,be),Ve=Math.min(I,se,le,Ee),re=Math.max(I,se,le,Ee);return new c(Q,Ve,Te-Q,re-Ve)},H=function(T,I,G,J,ce,se,pe,le){var be,Ee,Q,Te,Ve,re,we,Xe,lt,qe,st,Ze,pt,ct,zt=G-T,Se=J-I,me=ce-G,Me=se-J,ze=pe-ce,Ye=le-se;for(Ee=0;Ee<41;Ee++)lt=(we=(Q=T+(be=Ee/40)*zt)+be*((Ve=G+be*me)-Q))+be*(Ve+be*(ce+be*ze-Ve)-we),qe=(Xe=(Te=I+be*Se)+be*((re=J+be*Me)-Te))+be*(re+be*(se+be*Ye-re)-Xe),Ee==0?(st=lt,Ze=qe,pt=lt,ct=qe):(st=Math.min(st,lt),Ze=Math.min(Ze,qe),pt=Math.max(pt,lt),ct=Math.max(ct,qe));return new c(Math.round(st),Math.round(Ze),Math.round(pt-st),Math.round(ct-Ze))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,I,G=(T=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:I}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ut.API),(function(e){var t=function(d){var c,u,h,m,g,w,p,S,j,N;for(u=[],h=0,m=(d+=c="\0\0\0\0".slice(d.length%4||4)).length;m>h;h+=4)(g=(d.charCodeAt(h)<<24)+(d.charCodeAt(h+1)<<16)+(d.charCodeAt(h+2)<<8)+d.charCodeAt(h+3))!==0?(w=(g=((g=((g=((g=(g-(N=g%85))/85)-(j=g%85))/85)-(S=g%85))/85)-(p=g%85))/85)%85,u.push(w+33,p+33,S+33,j+33,N+33)):u.push(122);return(function(P,k){for(var E=k;E>0;E--)P.pop()})(u,c.length),String.fromCharCode.apply(String,u)+"~>"},n=function(d){var c,u,h,m,g,w=String,p="length",S=255,j="charCodeAt",N="slice",P="replace";for(d[N](-2),d=d[N](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),h=[],m=0,g=(d+=c="uuuuu"[N](d[p]%5||5))[p];g>m;m+=5)u=52200625*(d[j](m)-33)+614125*(d[j](m+1)-33)+7225*(d[j](m+2)-33)+85*(d[j](m+3)-33)+(d[j](m+4)-33),h.push(S&u>>24,S&u>>16,S&u>>8,S&u);return(function(k,E){for(var O=E;O>0;O--)k.pop()})(h,c[p]),w.fromCharCode.apply(w,h)},a=function(d){return d.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(d){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),c.test(d)===!1)return"";for(var u="",h=0;h<d.length;h+=2)u+=String.fromCharCode("0x"+(d[h]+d[h+1]));return u},i=function(d){for(var c=new Uint8Array(d.length),u=d.length;u--;)c[u]=d.charCodeAt(u);return(c=pv(c)).reduce(function(h,m){return h+String.fromCharCode(m)},"")};e.processDataByFilters=function(d,c){var u=0,h=d||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=s(h),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=a(h),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:h,reverseChain:m.reverse().join(" ")}}})(Ut.API),(function(e){e.loadFile=function(t,n,a){return(function(s,i,d){i=i!==!1,d=typeof d=="function"?d:function(){};var c=void 0;try{c=(function(u,h,m){var g=new XMLHttpRequest,w=0,p=function(S){var j=S.length,N=[],P=String.fromCharCode;for(w=0;w<j;w+=1)N.push(P(255&S.charCodeAt(w)));return N.join("")};if(g.open("GET",u,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?m(p(this.responseText)):m(void 0)}),g.send(null),h&&g.status===200)return p(g.responseText)})(s,i,d)}catch{}return c})(t,n,a)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(Ut.API),(function(e){function t(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):Qg(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):Qg(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var a=function(c){var u=Qr(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(c,u){var h=document.createElement(c);for(var m in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[m]=u.style[m];return h},i=function c(u,h){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},d=function c(u){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),h);return(m=m.setProgress(1,c,1,[c])).set(u)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(c,u){return c.__proto__=u||d.prototype,c},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(c,u){return this.then(function(){switch(u=u||(function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),u){case"string":return this.then(n).then(function(h){return this.set({src:s("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},d.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(u){var h=this.opt.jsPDF,m=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=m,m)for(var p=0;p<m.length;++p){var S=m[p],j=S.src.find(function(N){return N.format==="truetype"});j&&h.addFont(j.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,h.context2d.save(!0),u(this.prop.container,w)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(c,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},d.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},d.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},d.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(c){if(a(c)!=="object")return this;var u=Object.keys(c||{}).map(function(h){if(h in d.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(u)})},d.prototype.get=function(c,u){return this.then(function(){var h=c in d.template.prop?this.prop[c]:this.opt[c];return u?u(h):h})},d.prototype.setMargin=function(c){return this.then(function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},d.prototype.setPageSize=function(c){function u(h,m){return Math.floor(h*m/72*96)}return this.then(function(){(c=c||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},d.prototype.setProgress=function(c,u,h,m){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(c,u,h,m){return this.setProgress(c?this.progress.val+c:null,u||null,h?this.progress.n+h:null,m?this.progress.stack.concat(m):null)},d.prototype.then=function(c,u){var h=this;return this.thenCore(c,u,function(m,g){return h.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return h.updateProgress(null,m),w}).then(m,g).then(function(w){return h.updateProgress(1),w})})},d.prototype.thenCore=function(c,u,h){h=h||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),u&&(u=u.bind(m));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:d.convert(Object.assign({},m),Promise.prototype),w=h.call(g,c,u);return d.convert(w,m.__proto__)},d.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},d.prototype.thenList=function(c){var u=this;return c.forEach(function(h){u=u.thenCore(h)}),u},d.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return d.convert(u,this)},d.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},d.prototype.error=function(c){return this.then(function(){throw new Error(c)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,Ut.getPageSize=function(c,u,h){if(Qr(c)==="object"){var m=c;c=m.orientation,u=m.unit||u,h=m.format||h}u=u||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var g,w=(""+h).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var S,j=0,N=0;if(p.hasOwnProperty(w))j=p[w][1]/g,N=p[w][0]/g;else try{j=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",N>j&&(S=N,N=j,j=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",j>N&&(S=N,N=j,j=S)}return{width:N,height:j,unit:u,k:g,orientation:c}},e.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(gx):null;var h=new d(u);return u.worker?h:h.from(c).doCallback()}})(Ut.API),Ut.API.addJS=function(e){return gw=e,this.internal.events.subscribe("postPutResources",function(){lm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lm!==void 0&&pw!==void 0&&this.internal.out("/Names <</JavaScript "+lm+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var d=s[i],c=a.exec(d);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(i=0;i<h;i++){var g=n.internal.newObject();m.push(g);var w=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<m.length;i++)n.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,s,i){var d={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var d=a.children[i];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var c=this.count=this.count_r({count:0},d);if(c>0&&this.line("/Count "+c),d.options&&d.options.pageNumber){var u=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(Ut.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,a,s,i,d,c){var u,h=this.decode.DCT_DECODE,m=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,u=(function(g){for(var w,p=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,j={width:0,height:0,numcomponents:1},N=4;N<S;N+=2){if(N+=p,t.indexOf(g.charCodeAt(N+1))!==-1){w=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),j={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:w,numcomponents:g.charCodeAt(N+9)};break}p=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return j})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:h,index:a,alias:s}}return m}})(Ut.API),Ut.API.processPNG=function(e,t,n,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=zO(e,{checkCrc:!0}),d=i.width,c=i.height,u=i.channels,h=i.palette,m=i.depth;s=h&&u===1?(function(te){for(var K=te.width,oe=te.height,L=te.data,F=te.palette,z=te.depth,q=!1,ge=[],fe=[],ye=void 0,U=!1,$=0,H=0;H<F.length;H++){var D=w2(F[H],4),T=D[0],I=D[1],G=D[2],J=D[3];ge.push(T,I,G),J!=null&&(J===0?($++,fe.length<1&&fe.push(H)):J<255&&(U=!0))}if(U||$>1){q=!0,fe=void 0;var ce=K*oe;ye=new Uint8Array(ce);for(var se=new DataView(L.buffer),pe=0;pe<ce;pe++){var le=vx(se,pe,z),be=w2(F[le],4)[3];ye[pe]=be}}else $===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:L,alphaBytes:ye,needSMask:q,palette:ge,mask:fe}})(i):u===2||u===4?(function(te){for(var K=te.data,oe=te.width,L=te.height,F=te.channels,z=te.depth,q=F===2?"DeviceGray":"DeviceRGB",ge=F-1,fe=oe*L,ye=ge,U=fe*ye,$=1*fe,H=Math.ceil(U*z/8),D=Math.ceil($*z/8),T=new Uint8Array(H),I=new Uint8Array(D),G=new DataView(K.buffer),J=new DataView(T.buffer),ce=new DataView(I.buffer),se=!1,pe=0;pe<fe;pe++){for(var le=pe*F,be=0;be<ye;be++)Cw(J,vx(G,le+be,z),pe*ye+be,z);var Ee=vx(G,le+ye,z);Ee<(1<<z)-1&&(se=!0),Cw(ce,Ee,1*pe,z)}return{colorSpace:q,colorsPerPixel:ge,sMaskBitsPerComponent:se?z:void 0,colorBytes:T,alphaBytes:I,needSMask:se}})(i):(function(te){var K=te.data,oe=te.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:K instanceof Uint16Array?(function(L){for(var F=L.length,z=new Uint8Array(2*F),q=new DataView(z.buffer,z.byteOffset,z.byteLength),ge=0;ge<F;ge++)q.setUint16(2*ge,L[ge],!1);return z})(K):K,needSMask:!1}})(i);var g,w,p,S=s,j=S.colorSpace,N=S.colorsPerPixel,P=S.sMaskBitsPerComponent,k=S.colorBytes,E=S.alphaBytes,O=S.needSMask,B=S.palette,ae=S.mask,W=null;return a!==Ut.API.image_compression.NONE&&typeof pv=="function"?(W=(function(te){var K;switch(te){case Ut.API.image_compression.FAST:K=11;break;case Ut.API.image_compression.MEDIUM:K=13;break;case Ut.API.image_compression.SLOW:K=14;break;default:K=12}return K})(a),g=this.decode.FLATE_DECODE,w="/Predictor ".concat(W," /Colors ").concat(N," /BitsPerComponent ").concat(m," /Columns ").concat(d),e=ww(k,Math.ceil(d*N*m/8),N,m,a),O&&(p=ww(E,Math.ceil(d*P/8),1,P,a))):(g=void 0,w=void 0,e=k,O&&(p=E)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:g,decodeParameters:w,transparency:ae,palette:B,sMask:p,predictor:W,width:d,height:c,bitsPerComponent:m,sMaskBitsPerComponent:P,colorSpace:j}}},(function(e){e.processGIF89A=function(t,n,a,s){var i=new lI(t),d=i.width,c=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:d,height:c},m=new yx(100).encode(h,100);return e.processJPEG.call(this,m,n,a,s)},e.processGIF87A=e.processGIF89A})(Ut.API),zo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){an.log("bit decode error:"+n)}},zo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var u=this.palette[i>>7-c&1];this.data[d+4*c]=u.blue,this.data[d+4*c+1]=u.green,this.data[d+4*c+2]=u.red,this.data[d+4*c+3]=255}n!==0&&(this.pos+=4-n)}},zo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+2*s*4,c=i>>4,u=15&i,h=this.palette[c];if(this.data[d]=h.blue,this.data[d+1]=h.green,this.data[d+2]=h.red,this.data[d+3]=255,2*s+1>=this.width)break;h=this.palette[u],this.data[d+4]=h.blue,this.data[d+4+1]=h.green,this.data[d+4+2]=h.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},zo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*a;if(s<this.palette.length){var d=this.palette[s];this.data[i]=d.red,this.data[i+1]=d.green,this.data[i+2]=d.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},zo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(i&t)/t*255|0,c=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,h=i>>15?255:0,m=a*this.width*4+4*s;this.data[m]=u,this.data[m+1]=c,this.data[m+2]=d,this.data[m+3]=h}this.pos+=e}},zo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(d&t)/t*255|0,u=(d>>5&n)/n*255|0,h=(d>>11)/t*255|0,m=s*this.width*4+4*i;this.data[m]=h,this.data[m+1]=u,this.data[m+2]=c,this.data[m+3]=255}this.pos+=e}},zo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=i,this.data[d+1]=s,this.data[d+2]=a,this.data[d+3]=255}this.pos+=this.width%4}},zo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=i,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=d}},zo.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,a,s){var i=new zo(t,!1),d=i.width,c=i.height,u={data:i.getData(),width:d,height:c},h=new yx(100).encode(u,100);return e.processJPEG.call(this,h,n,a,s)}})(Ut.API),Pw.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,a,s){var i=new Pw(t),d=i.width,c=i.height,u={data:i.getData(),width:d,height:c},h=new yx(100).encode(u,100);return e.processJPEG.call(this,h,n,a,s)}})(Ut.API),Ut.API.processRGBA=function(e,t,n){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),d=new Uint8Array(s/4),c=0,u=0,h=0;h<s;h+=4){var m=a[h],g=a[h+1],w=a[h+2],p=a[h+3];i[c++]=m,i[c++]=g,i[c++]=w,d[u++]=p}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hu=Ut.API,cm=hu.getCharWidthsArray=function(e,t){var n,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:s.metadata.Unicode.widths,u=c.fof?c.fof:1,h=t.kerning?t.kerning:s.metadata.Unicode.kerning,m=h.fof?h.fof:1,g=t.doKerning!==!1,w=0,p=e.length,S=0,j=c[0]||u,N=[];for(n=0;n<p;n++)a=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+d*(1e3/i)||0)/1e3):(w=g&&Qr(h[a])==="object"&&!isNaN(parseInt(h[a][S],10))?h[a][S]/m:0,N.push((c[a]||j)/u+w)),S=a;return N},xw=hu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return hu.processArabic&&(e=hu.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,n,s)/n:cm.apply(this,arguments).reduce(function(i,d){return i+d},0)},vw=function(e,t,n,a){for(var s=[],i=0,d=e.length,c=0;i!==d&&c+t[i]<n;)c+=t[i],i++;s.push(e.slice(0,i));var u=i;for(c=0;i!==d;)c+t[i]>a&&(s.push(e.slice(u,i)),c=0,u=i),c+=t[i],i++;return u!==i&&s.push(e.slice(u,i)),s},yw=function(e,t,n){n||(n={});var a,s,i,d,c,u,h,m=[],g=[m],w=n.textIndent||0,p=0,S=0,j=e.split(" "),N=cm.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?j[0].length+2:n.lineIndent||0){var P=Array(u).join(" "),k=[];j.map(function(O){(O=O.split(/\s*\n/)).length>1?k=k.concat(O.map(function(B,ae){return(ae&&B.length?`
`:"")+B})):k.push(O[0])}),j=k,u=xw.apply(this,[P,n])}for(i=0,d=j.length;i<d;i++){var E=0;if(a=j[i],u&&a[0]==`
`&&(a=a.substr(1),E=1),w+p+(S=(s=cm.apply(this,[a,n])).reduce(function(O,B){return O+B},0))>t||E){if(S>t){for(c=vw.apply(this,[a,s,t-(w+p),t]),m.push(c.shift()),m=[c.pop()];c.length;)g.push([c.shift()]);S=s.slice(a.length-(m[0]?m[0].length:0)).reduce(function(O,B){return O+B},0)}else m=[a];g.push(m),w=S+u,p=N}else m.push(a),w+=p+S,p=N}return h=u?function(O,B){return(B?P:"")+O.join(" ")}:function(O){return O.join(" ")},g.map(h)},hu.splitTextToSize=function(e,t,n){var a,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var g=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return g.metadata[w]?{widths:g.metadata[w].widths||{0:1},kerning:g.metadata[w].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var c,u,h=[];for(c=0,u=a.length;c<u;c++)h=h.concat(yw.apply(this,[a[c],d,i]));return h},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[n[i]]=t[i],s[t[i]]=n[i];var d=function(w){return"0x"+parseInt(w,10).toString(16)},c=e.__fontmetrics__.compress=function(w){var p,S,j,N,P=["{"];for(var k in w){if(p=w[k],isNaN(parseInt(k,10))?S="'"+k+"'":(k=parseInt(k,10),S=(S=d(k).slice(2)).slice(0,-1)+s[S.slice(-1)]),typeof p=="number")p<0?(j=d(p).slice(3),N="-"):(j=d(p).slice(2),N=""),j=N+j.slice(0,-1)+s[j.slice(-1)];else{if(Qr(p)!=="object")throw new Error("Don't know what to do with value type "+Qr(p)+".");j=c(p)}P.push(S+j)}return P.push("}"),P.join("")},u=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,S,j,N,P={},k=1,E=P,O=[],B="",ae="",W=w.length-1,te=1;te<W;te+=1)(N=w[te])=="'"?p?(j=p.join(""),p=void 0):p=[]:p?p.push(N):N=="{"?(O.push([E,j]),E={},j=void 0):N=="}"?((S=O.pop())[0][S[1]]=E,j=void 0,E=S[0]):N=="-"?k=-1:j===void 0?a.hasOwnProperty(N)?(B+=a[N],j=parseInt(B,16)*k,k=1,B=""):B+=N:a.hasOwnProperty(N)?(ae+=a[N],E[j]=parseInt(ae,16)*k,k=1,j=void 0,ae=""):ae+=N;return P},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var p=w.font,S=g.Unicode[p.postScriptName];S&&(p.metadata.Unicode={},p.metadata.Unicode.widths=S.widths,p.metadata.Unicode.kerning=S.kerning);var j=m.Unicode[p.postScriptName];j&&(p.metadata.Unicode.encoding=j,p.encoding=j.codePages[0])}])})(Ut.API),(function(e){var t=function(n){for(var a=n.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var a=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(d,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(wm(c)),d.metadata=e.API.TTFFont.open(c),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(s,a)}}])})(Ut),Ut.API.addSvgAsImage=function(e,t,n,a,s,i,d,c){if(isNaN(t)||isNaN(n))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=s;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(ar.canvg?Promise.resolve(ar.canvg):Qg(()=>import("./index.es-BpWxs6-f.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(h,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),t,n,a,s,d,c)})},Ut.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,n);return this},Ut.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var a,s,i,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(d),u=[],h=0,m=0,g=0;function w(S,j){var N,P=!1;for(N=0;N<S.length;N+=1)S[N]===j&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=c.length;for(g=0;g<p;g+=1)n[c[g]].value=n[c[g]].defaultValue,n[c[g]].explicitSet=!1}if(Qr(e)==="object"){for(s in e)if(i=e[s],w(c,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&w(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(h=0;h<i.length;h+=1)if(a=!0,i[h].length===1&&typeof i[h][0]=="number")u.push(String(i[h]-1));else if(i[h].length>1){for(m=0;m<i[h].length;m+=1)typeof i[h][m]!="number"&&(a=!1);a===!0&&u.push([i[h][0]-1,i[h][1]-1].join(" "))}n[s].value="["+u.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,j=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?j.push("/"+S+" /"+n[S].value):j.push("/"+S+" "+n[S].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+d.length+c.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+i+d+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(Ut.API),(function(e){var t=e.API,n=t.pdfEscape16=function(i,d){for(var c,u=d.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],g=0,w=i.length;g<w;++g){if(c=d.metadata.characterToGlyph(i.charCodeAt(g)),d.metadata.glyIdsUsed.push(c),d.metadata.toUnicode[c]=i.charCodeAt(g),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(d.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(h[4-c.length],c)}return m.join("")},a=function(i){var d,c,u,h,m,g,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,w=(c=Object.keys(i).sort(function(p,S){return p-S})).length;g<w;g++)d=c[g],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[d]!==void 0&&i[d]!==null&&typeof i[d].toString=="function"&&(h=("0000"+i[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),u.push("<"+d+"><"+h+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(d){var c=d.font,u=d.out,h=d.newObject,m=d.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),p="",S=0;S<w.length;S++)p+=String.fromCharCode(w[S]);var j=h();m({data:p,addLength1:!0,objectId:j}),u("endobj");var N=h();m({data:a(c.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var P=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+pu(c.fontName)),u("/FontFile2 "+j+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var k=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+pu(c.fontName)),u("/FontDescriptor "+P+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+pu(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(d){var c=d.font,u=d.out,h=d.newObject,m=d.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,w="",p=0;p<g.length;p++)w+=String.fromCharCode(g[p]);var S=h();m({data:w,addLength1:!0,objectId:S}),u("endobj");var j=h();m({data:a(c.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var N=h();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+S+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+pu(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=h();for(var P=0;P<c.metadata.hmtx.widths.length;P++)c.metadata.hmtx.widths[P]=parseInt(c.metadata.hmtx.widths[P]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+pu(c.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(i)}]);var s=function(i){var d,c=i.text||"",u=i.x,h=i.y,m=i.options||{},g=i.mutex||{},w=g.pdfEscape,p=g.activeFontKey,S=g.fonts,j=p,N="",P=0,k="",E=S[j].encoding;if(S[j].encoding!=="Identity-H")return{text:c,x:u,y:h,options:m,mutex:g};for(k=c,j=p,Array.isArray(c)&&(k=c[0]),P=0;P<k.length;P+=1)S[j].metadata.hasOwnProperty("cmap")&&(d=S[j].metadata.cmap.unicode.codeMap[k[P].charCodeAt(0)]),d||k[P].charCodeAt(0)<256&&S[j].metadata.hasOwnProperty("Unicode")?N+=k[P]:N+="";var O="";return parseInt(j.slice(1))<14||E==="WinAnsiEncoding"?O=w(N,j).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(O=n(N,S[j])),g.isHex=!0,{text:O,x:u,y:h,options:m,mutex:g}};t.events.push(["postProcessText",function(i){var d=i.text||"",c=[],u={text:d,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(d)){var h=0;for(h=0;h<d.length;h+=1)Array.isArray(d[h])&&d[h].length===3?c.push([s(Object.assign({},u,{text:d[h][0]})).text,d[h][1],d[h][2]]):c.push(s(Object.assign({},u,{text:d[h]})).text);i.text=c}else i.text=s(Object.assign({},u,{text:d})).text}])})(Ut),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,a){return t.call(this),this.internal.vFS[n]=a,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Ut.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,d,c,u,h,m,g=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,E=0;this.__bidiEngine__={};var O=function(L){var F=L.charCodeAt(),z=F>>8,q=j[z];return q!==void 0?g[256*q+(255&F)]:z===252||z===253?"AL":P.test(z)?"L":z===8?"R":"N"},B=function(L){for(var F,z=0;z<L.length;z++){if((F=O(L.charAt(z)))==="L")return!1;if(F==="R")return!0}return!1},ae=function(L,F,z,q){var ge,fe,ye,U,$=F[q];switch($){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&($="AN");break;case"AL":k=!0,$="R";break;case"WS":case"BN":$="N";break;case"CS":q<1||q+1>=F.length||(ge=z[q-1])!=="EN"&&ge!=="AN"||(fe=F[q+1])!=="EN"&&fe!=="AN"?$="N":k&&(fe="AN"),$=fe===ge?fe:"N";break;case"ES":$=(ge=q>0?z[q-1]:"B")==="EN"&&q+1<F.length&&F[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&z[q-1]==="EN"){$="EN";break}if(k){$="N";break}for(ye=q+1,U=F.length;ye<U&&F[ye]==="ET";)ye++;$=ye<U&&F[ye]==="EN"?"EN":"N";break;case"NSM":if(d&&!c){for(U=F.length,ye=q+1;ye<U&&F[ye]==="NSM";)ye++;if(ye<U){var H=L[q],D=H>=1425&&H<=2303||H===64286;if(ge=F[ye],D&&(ge==="R"||ge==="AL")){$="R";break}}}$=q<1||(ge=F[q-1])==="B"?"N":z[q-1];break;case"B":k=!1,s=!0,$=E;break;case"S":i=!0,$="N"}return $},W=function(L,F,z){var q=L.split("");return z&&te(q,z,{hiLevel:E}),q.reverse(),F&&F.reverse(),q.join("")},te=function(L,F,z){var q,ge,fe,ye,U,$=-1,H=L.length,D=0,T=[],I=E?p:w,G=[];for(k=!1,s=!1,i=!1,ge=0;ge<H;ge++)G[ge]=O(L[ge]);for(fe=0;fe<H;fe++){if(U=D,T[fe]=ae(L,G,T,fe),q=240&(D=I[U][S[T[fe]]]),D&=15,F[fe]=ye=I[D][5],q>0)if(q===16){for(ge=$;ge<fe;ge++)F[ge]=1;$=-1}else $=-1;if(I[D][6])$===-1&&($=fe);else if($>-1){for(ge=$;ge<fe;ge++)F[ge]=ye;$=-1}G[fe]==="B"&&(F[fe]=0),z.hiLevel|=ye}i&&(function(J,ce,se){for(var pe=0;pe<se;pe++)if(J[pe]==="S"){ce[pe]=E;for(var le=pe-1;le>=0&&J[le]==="WS";le--)ce[le]=E}})(G,F,H)},K=function(L,F,z,q,ge){if(!(ge.hiLevel<L)){if(L===1&&E===1&&!s)return F.reverse(),void(z&&z.reverse());for(var fe,ye,U,$,H=F.length,D=0;D<H;){if(q[D]>=L){for(U=D+1;U<H&&q[U]>=L;)U++;for($=D,ye=U-1;$<ye;$++,ye--)fe=F[$],F[$]=F[ye],F[ye]=fe,z&&(fe=z[$],z[$]=z[ye],z[ye]=fe);D=U}D++}}},oe=function(L,F,z){var q=L.split(""),ge={hiLevel:E};return z||(z=[]),te(q,z,ge),(function(fe,ye,U){if(U.hiLevel!==0&&m)for(var $,H=0;H<fe.length;H++)ye[H]===1&&($=N.indexOf(fe[H]))>=0&&(fe[H]=N[$+1])})(q,z,ge),K(2,q,F,z,ge),K(1,q,F,z,ge),q.join("")};return this.__bidiEngine__.doBidiReorder=function(L,F,z){if((function(ge,fe){if(fe)for(var ye=0;ye<ge.length;ye++)fe[ye]=ye;c===void 0&&(c=B(ge)),h===void 0&&(h=B(ge))})(L,F),d||!u||h)if(d&&u&&c^h)E=c?1:0,L=W(L,F,z);else if(!d&&u&&h)E=c?1:0,L=oe(L,F,z),L=W(L,F);else if(!d||c||u||h){if(d&&!u&&c^h)L=W(L,F),c?(E=0,L=oe(L,F,z)):(E=1,L=oe(L,F,z),L=W(L,F));else if(d&&c&&!u&&h)E=1,L=oe(L,F,z),L=W(L,F);else if(!d&&!u&&c^h){var q=m;c?(E=1,L=oe(L,F,z),E=0,m=!1,L=oe(L,F,z),m=q):(E=0,L=oe(L,F,z),L=W(L,F),E=1,m=!1,L=oe(L,F,z),m=q,L=W(L,F))}}else E=0,L=oe(L,F,z);else E=c?1:0,L=oe(L,F,z);return L},this.__bidiEngine__.setOptions=function(L){L&&(d=L.isInputVisual,u=L.isOutputVisual,c=L.isInputRtl,h=L.isOutputRtl,m=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var d=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(d=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?d.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):d.push([n.doBidiReorder(s[c])]);a.text=d}else a.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(Ut),Ut.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Tc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new NI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new cI(this.contents),this.head=new uI(this),this.name=new gI(this),this.cmap=new wC(this),this.toUnicode={},this.hhea=new hI(this),this.maxp=new xI(this),this.hmtx=new vI(this),this.post=new mI(this),this.os2=new fI(this),this.loca=new jI(this),this.glyf=new yI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,c,u,h;for(h=[],d=0,c=(u=this.bbox).length;d<c;d++)t=u[d],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,a){var s,i,d,c;for(d=0,i=0,c=(t=""+t).length;0<=c?i<c:i>c;i=0<=c?++i:--i)s=t.charCodeAt(i),d+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/n)||0;return d*(n/1e3)},e.prototype.lineHeight=function(t,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var ri,Tc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,a;for(a=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var n,a,s;for(s=[],n=0,a=t.length;0<=a?n<a:n>a;n=0<=a?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,a,s,i,d,c,u;return t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),d=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^d)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*a+4294967296*s+16777216*i+65536*d+256*c+u},e.prototype.writeLongLong=function(t){var n,a;return n=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,a;for(n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push(this.readByte());return n},e.prototype.write=function(t){var n,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)n=t[a],i.push(this.writeByte(n));return i},e})(),cI=(function(){var e;function t(n){var a,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(n){var a,s,i,d,c,u,h,m,g,w,p,S,j;for(j in p=Object.keys(n).length,u=Math.log(2),g=16*Math.floor(Math.log(p)/u),d=Math.floor(g/u),m=16*p-g,(s=new Tc).writeInt(this.scalarType),s.writeShort(p),s.writeShort(g),s.writeShort(d),s.writeShort(m),i=16*p,h=s.pos+i,c=null,S=[],n)for(w=n[j],s.writeString(j),s.writeInt(e(w)),s.writeInt(h),s.writeInt(w.length),S=S.concat(w),j==="head"&&(c=h),h+=w.length;h%4;)S.push(0),h++;return s.write(S),a=2981146554-e(s.data),s.pos=c+8,s.writeUInt32(a),s.data},e=function(n){var a,s,i,d;for(n=bC.call(n);n.length%4;)n.push(0);for(i=new Tc(n),s=0,a=0,d=n.length;a<d;a=a+=4)s+=i.readUInt32();return 4294967295&s},t})(),dI={}.hasOwnProperty,Mi=function(e,t){for(var n in t)dI.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};ri=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var uI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Tc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),kw=(function(){function e(t,n){var a,s,i,d,c,u,h,m,g,w,p,S,j,N,P,k,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),w=p/2,t.pos+=6,i=(function(){var O,B;for(B=[],u=O=0;0<=w?O<w:O>w;u=0<=w?++O:--O)B.push(t.readUInt16());return B})(),t.pos+=2,j=(function(){var O,B;for(B=[],u=O=0;0<=w?O<w:O>w;u=0<=w?++O:--O)B.push(t.readUInt16());return B})(),h=(function(){var O,B;for(B=[],u=O=0;0<=w?O<w:O>w;u=0<=w?++O:--O)B.push(t.readUInt16());return B})(),m=(function(){var O,B;for(B=[],u=O=0;0<=w?O<w:O>w;u=0<=w?++O:--O)B.push(t.readUInt16());return B})(),s=(this.length-t.pos+this.offset)/2,c=(function(){var O,B;for(B=[],u=O=0;0<=s?O<s:O>s;u=0<=s?++O:--O)B.push(t.readUInt16());return B})(),u=P=0,E=i.length;P<E;u=++P)for(N=i[u],a=k=S=j[u];S<=N?k<=N:k>=N;a=S<=N?++k:--k)m[u]===0?d=a+h[u]:(d=c[m[u]/2+(a-S)-(w-u)]||0)!==0&&(d+=h[u]),this.codeMap[a]=65535&d}t.pos=g}return e.encode=function(t,n){var a,s,i,d,c,u,h,m,g,w,p,S,j,N,P,k,E,O,B,ae,W,te,K,oe,L,F,z,q,ge,fe,ye,U,$,H,D,T,I,G,J,ce,se,pe,le,be,Ee,Q;switch(q=new Tc,d=Object.keys(t).sort(function(Te,Ve){return Te-Ve}),n){case"macroman":for(j=0,N=(function(){var Te=[];for(S=0;S<256;++S)Te.push(0);return Te})(),k={0:0},i={},ge=0,$=d.length;ge<$;ge++)k[le=t[s=d[ge]]]==null&&(k[le]=++j),i[s]={old:t[s],new:k[t[s]]},N[s]=k[t[s]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(N),{charMap:i,subtable:q.data,maxGlyphID:j+1};case"unicode":for(F=[],g=[],E=0,k={},a={},P=h=null,fe=0,H=d.length;fe<H;fe++)k[B=t[s=d[fe]]]==null&&(k[B]=++E),a[s]={old:B,new:k[B]},c=k[B]-s,P!=null&&c===h||(P&&g.push(P),F.push(s),h=c),P=s;for(P&&g.push(P),g.push(65535),F.push(65535),oe=2*(K=F.length),te=2*Math.pow(Math.log(K)/Math.LN2,2),w=Math.log(te/2)/Math.LN2,W=2*K-te,u=[],ae=[],p=[],S=ye=0,D=F.length;ye<D;S=++ye){if(L=F[S],m=g[S],L===65535){u.push(0),ae.push(0);break}if(L-(z=a[L].new)>=32768)for(u.push(0),ae.push(2*(p.length+K-S)),s=U=L;L<=m?U<=m:U>=m;s=L<=m?++U:--U)p.push(a[s].new);else u.push(z-L),ae.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*K+2*p.length),q.writeUInt16(0),q.writeUInt16(oe),q.writeUInt16(te),q.writeUInt16(w),q.writeUInt16(W),se=0,T=g.length;se<T;se++)s=g[se],q.writeUInt16(s);for(q.writeUInt16(0),pe=0,I=F.length;pe<I;pe++)s=F[pe],q.writeUInt16(s);for(be=0,G=u.length;be<G;be++)c=u[be],q.writeUInt16(c);for(Ee=0,J=ae.length;Ee<J;Ee++)O=ae[Ee],q.writeUInt16(O);for(Q=0,ce=p.length;Q<ce;Q++)j=p[Q],q.writeUInt16(j);return{charMap:a,subtable:q.data,maxGlyphID:E+1}}},e})(),wC=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new kw(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var a,s;return n==null&&(n="macroman"),a=kw.encode(t,n),(s=new Tc).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),hI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),fI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(t.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),mI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="post",e.prototype.parse=function(t){var n,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var d,c,u;for(u=[],i=d=0,c=this.file.maxp.numGlyphs;0<=c?d<c:d>c;i=0<=c?++d:--d)u.push(t.readUInt32());return u}).call(this)}},e})(),pI=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="name",e.prototype.parse=function(t){var n,a,s,i,d,c,u,h,m,g,w;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(u={},i=m=0,g=a.length;m<g;i=++m)s=a[i],t.pos=s.offset,h=t.readString(s.length),d=new pI(h,s),u[w=s.nameID]==null&&(u[w]=[]),u[s.nameID].push(d);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),xI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),vI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,a,s,i,d,c,u;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)m.push(t.readInt16());return m})(),this.widths=(function(){var h,m,g,w;for(w=[],h=0,m=(g=this.metrics).length;h<m;h++)i=g[h],w.push(i.advance);return w}).call(this),a=this.widths[this.widths.length-1],u=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),bC=[].slice,yI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,a,s,i,d,c,u,h,m,g;return t in this.cache?this.cache[t]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+a,d=(c=new Tc(n.read(s))).readShort(),h=c.readShort(),g=c.readShort(),u=c.readShort(),m=c.readShort(),this.cache[t]=d===-1?new bI(c,h,g,u,m):new wI(c,d,h,g,u,m),this.cache[t]))},e.prototype.encode=function(t,n,a){var s,i,d,c,u;for(d=[],i=[],c=0,u=n.length;c<u;c++)s=t[n[c]],i.push(d.length),s&&(d=d.concat(s.encode(a)));return i.push(d.length),{table:d,offsets:i}},e})(),wI=(function(){function e(t,n,a,s,i,d){this.raw=t,this.numberOfContours=n,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),bI=(function(){function e(t,n,a,s,i){var d,c;for(this.raw=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;c=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&c;)d.pos+=1&c?4:2,128&c?d.pos+=8:64&c?d.pos+=4:8&c&&(d.pos+=2)}return e.prototype.encode=function(){var t,n,a;for(n=new Tc(bC.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),jI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,ri),e.prototype.tag="loca",e.prototype.parse=function(t){var n,a;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,d=0;d<a.length;++d)if(a[d]=s,i<n.length&&n[i]==d){++i,a[d]=s;var c=this.offsets[d],u=this.offsets[d+1]-c;u>0&&(s+=u)}for(var h=new Array(4*a.length),m=0;m<a.length;++m)h[4*m+3]=255&a[m],h[4*m+2]=(65280&a[m])>>8,h[4*m+1]=(16711680&a[m])>>16,h[4*m]=(4278190080&a[m])>>24;return h},e})(),NI=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,a,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[n],t[n]=s[a];return t},e.prototype.glyphsFor=function(t){var n,a,s,i,d,c,u;for(s={},d=0,c=t.length;d<c;d++)s[i=t[d]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(a=s[i])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(i in u=this.glyphsFor(n))a=u[i],s[i]=a;return s},e.prototype.encode=function(t,n){var a,s,i,d,c,u,h,m,g,w,p,S,j,N,P;for(s in a=wC.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),p={0:0},P=a.charMap)p[(u=P[s]).old]=u.new;for(S in w=a.maxGlyphID,d)S in p||(p[S]=w++);return m=(function(k){var E,O;for(E in O={},k)O[k[E]]=E;return O})(p),g=Object.keys(m).sort(function(k,E){return k-E}),j=(function(){var k,E,O;for(O=[],k=0,E=g.length;k<E;k++)c=g[k],O.push(m[c]);return O})(),i=this.font.glyf.encode(d,j,p),h=this.font.loca.encode(i.offsets,j),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e})();Ut.API.PDFObject=(function(){var e;function t(){}return e=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},t.convert=function(n){var a,s,i,d;if(Array.isArray(n))return"["+(function(){var c,u,h;for(h=[],c=0,u=n.length;c<u;c++)a=n[c],h.push(t.convert(a));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)d=n[s],i.push("/"+s+" "+t.convert(d));return i.push(">>"),i.join(`
`)}return""+n},t})();function jC(e,t,n,a,s){a=a||{};var i=1.15,d=s.internal.scaleFactor,c=s.internal.getFontSize()/d,u=s.getLineHeightFactor?s.getLineHeightFactor():i,h=c*u,m=/\r\n|\r|\n/g,g="",w=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(g=typeof e=="string"?e.split(m):e,w=g.length||1),n+=c*(2-i),a.valign==="middle"?n-=w/2*h:a.valign==="bottom"&&(n-=w*h),a.halign==="center"||a.halign==="right"){var p=c;if(a.halign==="center"&&(p*=.5),g&&w>=1){for(var S=0;S<g.length;S++)s.text(g[S],t-s.getStringUnitWidth(g[S])*p,n),n+=h;return s}t-=s.getStringUnitWidth(e)*p}return a.halign==="justify"?s.text(e,t,n,{maxWidth:a.maxWidth||100,align:"justify"}):s.text(e,t,n),s}var Ew={},Pu=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:Ew=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var a,s,i;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var d=this.jsPDFDocument.internal.getFont(),c=d.fontStyle,u=d.fontName;if(t.font&&(u=t.font),t.fontStyle){c=t.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),c=h[0])}if(this.jsPDFDocument.setFont(u,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var m=e.unifyColor(t.fillColor);m&&(a=this.jsPDFDocument).setFillColor.apply(a,m),m=e.unifyColor(t.textColor),m&&(s=this.jsPDFDocument).setTextColor.apply(s,m),m=e.unifyColor(t.lineColor),m&&(i=this.jsPDFDocument).setDrawColor.apply(i,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,a){return this.jsPDFDocument.splitTextToSize(t,n,a)},e.prototype.rect=function(t,n,a,s,i){return this.jsPDFDocument.rect(t,n,a,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Ew||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),Nv=function(e,t){return Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},Nv(e,t)};function NC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var SC=(function(e){NC(t,e);function t(n){var a=e.call(this)||this;return a._element=n,a}return t})(Array);function SI(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function CI(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Hm(e,t,n){n.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],s=a.map(function(i){return n.getTextWidth(i)}).reduce(function(i,d){return Math.max(i,d)},0);return s}function CC(e,t,n,a){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var d=_C(s,!1);d&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),a.y-n.y,d)}function _C(e,t){var n=e>0,a=t||t===0;return n&&a?"DF":n?"S":a?"F":null}function $p(e,t){var n,a,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function PC(e,t){var n=$p(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function _I(e,t,n,a,s){var i={},d=1.3333333333333333,c=wx(t,function(E){return s.getComputedStyle(E).backgroundColor});c!=null&&(i.fillColor=c);var u=wx(t,function(E){return s.getComputedStyle(E).color});u!=null&&(i.textColor=u);var h=kI(a,n);h&&(i.cellPadding=h);var m="borderTopColor",g=d*n,w=a.borderTopWidth;if(a.borderBottomWidth===w&&a.borderRightWidth===w&&a.borderLeftWidth===w){var p=(parseFloat(w)||0)/g;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/g,right:(parseFloat(a.borderRightWidth)||0)/g,bottom:(parseFloat(a.borderBottomWidth)||0)/g,left:(parseFloat(a.borderLeftWidth)||0)/g},i.lineWidth.top||(i.lineWidth.right?m="borderRightColor":i.lineWidth.bottom?m="borderBottomColor":i.lineWidth.left&&(m="borderLeftColor"));var S=wx(t,function(E){return s.getComputedStyle(E)[m]});S!=null&&(i.lineColor=S);var j=["left","right","center","justify"];j.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),j=["middle","bottom","top"],j.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var N=parseInt(a.fontSize||"");isNaN(N)||(i.fontSize=N/d);var P=PI(a);P&&(i.fontStyle=P);var k=(a.fontFamily||"").toLowerCase();return e.indexOf(k)!==-1&&(i.font=k),i}function PI(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function wx(e,t){var n=kC(e,t);if(!n)return null;var a=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var s=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function kC(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:kC(e.parentElement,t):n}function kI(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map(function(c){return parseInt(c||"0")/a}),d=$p(i,0);return s>d.top&&(d.top=s),s>d.bottom&&(d.bottom=s),d}function EC(e,t,n,a,s){var i,d;a===void 0&&(a=!1),s===void 0&&(s=!1);var c;typeof t=="string"?c=n.document.querySelector(t):c=t;var u=Object.keys(e.getFontList()),h=e.scaleFactor(),m=[],g=[],w=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:m,body:g,foot:w};for(var p=0;p<c.rows.length;p++){var S=c.rows[p],j=(d=(i=S?.parentElement)===null||i===void 0?void 0:i.tagName)===null||d===void 0?void 0:d.toLowerCase(),N=EI(u,h,n,S,a,s);N&&(j==="thead"?m.push(N):j==="tfoot"?w.push(N):g.push(N))}return{head:m,body:g,foot:w}}function EI(e,t,n,a,s,i){for(var d=new SC(a),c=0;c<a.cells.length;c++){var u=a.cells[c],h=n.getComputedStyle(u);if(s||h.display!=="none"){var m=void 0;i&&(m=_I(e,u,t,h,n)),d.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:m,_element:u,content:AI(u)})}}var g=n.getComputedStyle(a);if(d.length>0&&(s||g.display!=="none"))return d}function AI(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function TI(e,t,n){for(var a=0,s=[e,t,n];a<s.length;a++){var i=s[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function jl(e,t,n,a,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),d=1;d<arguments.length;d++){var c=arguments[d];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])}return i}function AC(e,t){var n=new Pu(e),a=n.getDocumentOptions(),s=n.getGlobalOptions();TI(s,a,t);var i=jl({},s,a,t),d;typeof window<"u"&&(d=window);var c=RI(s,a,t),u=DI(s,a,t),h=LI(n,i),m=FI(n,i,d);return{id:t.tableId,content:m,hooks:u,styles:c,settings:h}}function RI(e,t,n){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(u){if(u==="columnStyles"){var h=e[u],m=t[u],g=n[u];a.columnStyles=jl({},h,m,g)}else{var w=[e,t,n],p=w.map(function(S){return S[u]||{}});a[u]=jl({},p[0],p[1],p[2])}},i=0,d=Object.keys(a);i<d.length;i++){var c=d[i];s(c)}return a}function DI(e,t,n){for(var a=[e,t,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,d=a;i<d.length;i++){var c=d[i];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function LI(e,t){var n,a,s,i,d,c,u,h,m,g,w,p,S=$p(t.margin,40/e.scaleFactor()),j=(n=MI(e,t.startY))!==null&&n!==void 0?n:S.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var P;t.showHead===!0?P="everyPage":t.showHead===!1?P="never":P=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var k=(i=t.useCss)!==null&&i!==void 0?i:!1,E=t.theme||(k?"plain":"striped"),O=!!t.horizontalPageBreak,B=(d=t.horizontalPageBreakRepeat)!==null&&d!==void 0?d:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:k,theme:E,startY:j,margin:S,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=t.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:P,showFoot:N,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:O,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function MI(e,t){var n=e.getLastAutoTable(),a=e.scaleFactor(),s=e.pageNumber(),i=!1;if(n&&n.startPageNumber){var d=n.startPageNumber+n.pageNumber-1;i=d===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&n?.finalY!=null?n.finalY+20/a:null}function FI(e,t,n){var a=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var d=t.includeHiddenHtml;if(n){var c=EC(e,t.html,n,d,t.useCss)||{};a=c.head||a,s=c.body||a,i=c.foot||a}else console.error("Cannot parse html in non browser environment")}var u=t.columns||OI(a,s,i);return{columns:u,head:a,body:s,foot:i}}function OI(e,t,n){var a=e[0]||t[0]||n[0]||[],s=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var d=1,c;Array.isArray(a)?c=a[parseInt(i)]:c=a[i],typeof c=="object"&&!Array.isArray(c)&&(d=c?.colSpan||1);for(var u=0;u<d;u++){var h=void 0;Array.isArray(a)?h=s.length:h=i+(u>0?"_".concat(u):"");var m={dataKey:h};s.push(m)}}),s}var Sv=(function(){function e(t,n,a){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),II=(function(e){NC(t,e);function t(n,a,s,i,d,c){var u=e.call(this,n,a,c)||this;return u.cell=s,u.row=i,u.column=d,u.section=i.section,u}return t})(Sv),$I=(function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,a){return n+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,a){return n+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,a,s,i,d){for(var c=0,u=n;c<u.length;c++){var h=u[c],m=new II(t,this,a,s,i,d),g=h(m)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],g)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var a=0,s=this.hooks.didDrawPage;a<s.length;a++){var i=s[a];i(new Sv(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var a=0,s=this.hooks.willDrawPage;a<s.length;a++){var i=s[a];i(new Sv(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return n}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),TC=(function(){function e(t,n,a,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof SC&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=a,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(a,s){var i;return Math.max(a,((i=n.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(a){var s=n.cells[a.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var a=this;return t.reduce(function(s,i){var d=a.cells[i.index];if(!d)return 0;var c=n.getLineHeight(d.styles.fontSize),u=d.padding("vertical"),h=u+c;return h>s?h:s},0)},e})(),RC=(function(){function e(t,n,a){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var d=i!=null?""+i:"",c=/\r\n|\r|\n/g;this.text=d.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");a=this.x+s/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var a=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*n,i=a*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=$p(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e})(),BI=(function(){function e(t,n,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,a=0,s=t.allRows();a<s.length;a++){var i=s[a],d=i.cells[this.index];d&&typeof d.styles.cellWidth=="number"&&(n=Math.max(n,d.styles.cellWidth))}return n},e})();function zI(e,t){UI(e,t);var n=[],a=0;t.columns.forEach(function(i){var d=i.getMaxCustomCellWidth(t);d?i.width=d:(i.width=i.wrappedWidth,n.push(i)),a+=i.width});var s=t.getWidth(e.pageSize().width)-a;s&&(s=Cv(n,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Cv(n,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),VI(t),HI(t,e),qI(t)}function UI(e,t){var n=e.scaleFactor(),a=t.settings.horizontalPageBreak,s=PC(e,t);t.allRows().forEach(function(i){for(var d=0,c=t.columns;d<c.length;d++){var u=c[d],h=i.cells[u.index];if(h){var m=t.hooks.didParseCell;t.callCellHooks(e,m,h,i,u,null);var g=h.padding("horizontal");h.contentWidth=Hm(h.text,h.styles,e)+g;var w=Hm(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,e);if(h.minReadableWidth=w+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||a===!0)h.contentWidth>s?(h.minWidth=s,h.wrappedWidth=s):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var p=10/n;h.minWidth=h.styles.minCellWidth||p,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),t.allRows().forEach(function(i){for(var d=0,c=t.columns;d<c.length;d++){var u=c[d],h=i.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var m=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},g=m.cellWidth||m.minCellWidth;g&&typeof g=="number"&&(u.minWidth=g,u.wrappedWidth=g)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function Cv(e,t,n){for(var a=t,s=e.reduce(function(p,S){return p+S.wrappedWidth},0),i=0;i<e.length;i++){var d=e[i],c=d.wrappedWidth/s,u=a*c,h=d.width+u,m=n(d),g=h<m?m:h;t-=g-d.width,d.width=g}if(t=Math.round(t*1e10)/1e10,t){var w=e.filter(function(p){return t<0?p.width>n(p):!0});w.length&&(t=Cv(w,t,n))}return t}function qI(e){for(var t={},n=1,a=e.allRows(),s=0;s<a.length;s++)for(var i=a[s],d=0,c=e.columns;d<c.length;d++){var u=c[d],h=t[u.index];if(n>1)n--,delete i.cells[u.index];else if(h)h.cell.height+=i.height,n=h.cell.colSpan,delete i.cells[u.index],h.left--,h.left<=1&&delete t[u.index];else{var m=i.cells[u.index];if(!m)continue;if(m.height=i.height,m.rowSpan>1){var g=a.length-s,w=m.rowSpan>g?g:m.rowSpan;t[u.index]={cell:m,left:w,row:i}}}}}function VI(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var a=t[n],s=null,i=0,d=0,c=0;c<e.columns.length;c++){var u=e.columns[c];if(d-=1,d>1&&e.columns[c+1])i+=u.width,delete a.cells[u.index];else if(s){var h=s;delete a.cells[u.index],s=null,h.width=u.width+i}else{var h=a.cells[u.index];if(!h)continue;if(d=h.colSpan,i=0,h.colSpan>1){s=h,i+=u.width;continue}h.width=u.width+i}}}function HI(e,t){for(var n={count:0,height:0},a=0,s=e.allRows();a<s.length;a++){for(var i=s[a],d=0,c=e.columns;d<c.length;d++){var u=c[d],h=i.cells[u.index];if(h){t.applyStyles(h.styles,!0);var m=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=t.splitTextToSize(h.text,m+1/t.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=Aw(h.text,m,h.styles,t,"...");else if(h.styles.overflow==="hidden")h.text=Aw(h.text,m,h.styles,t,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,m);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=h.contentHeight/h.rowSpan;h.rowSpan>1&&n.count*n.height<w*h.rowSpan?n={height:w,count:h.rowSpan}:n&&n.count>0&&n.height>w&&(w=n.height),w>i.height&&(i.height=w)}}n.count--}}function Aw(e,t,n,a,s){return e.map(function(i){return WI(i,t,n,a,s)})}function WI(e,t,n,a,s){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Hm(e,n,a))return e;for(;t<Hm(e+s,n,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function DC(e,t){var n=new Pu(e),a=GI(t,n.scaleFactor()),s=new $I(t,a);return zI(n,s),n.applyStyles(n.userStyles),s}function GI(e,t){var n=e.content,a=KI(n.columns);if(n.head.length===0){var s=Tw(a,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=Tw(a,"foot");s&&n.foot.push(s)}var i=e.settings.theme,d=e.styles;return{columns:a,head:bx("head",n.head,a,d,i,t),body:bx("body",n.body,a,d,i,t),foot:bx("foot",n.foot,a,d,i,t)}}function bx(e,t,n,a,s,i){var d={},c=t.map(function(u,h){for(var m=0,g={},w=0,p=0,S=0,j=n;S<j.length;S++){var N=j[S];if(d[N.index]==null||d[N.index].left===0)if(p===0){var P=void 0;Array.isArray(u)?P=u[N.index-w-m]:P=u[N.dataKey];var k={};typeof P=="object"&&!Array.isArray(P)&&(k=P?.styles||{});var E=JI(e,N,h,s,a,i,k),O=new RC(P,E,e);g[N.dataKey]=O,g[N.index]=O,p=O.colSpan-1,d[N.index]={left:O.rowSpan-1,times:p}}else p--,w++;else d[N.index].left--,p=d[N.index].times,m++}return new TC(u,h,e,g)});return c}function Tw(e,t){var n={};return e.forEach(function(a){if(a.raw!=null){var s=YI(t,a.raw);s!=null&&(n[a.dataKey]=s)}}),Object.keys(n).length>0?n:null}function YI(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function KI(e){return e.map(function(t,n){var a,s;return typeof t=="object"?s=(a=t.dataKey)!==null&&a!==void 0?a:n:s=n,new BI(s,t,n)})}function JI(e,t,n,a,s,i,d){var c=CI(a),u;e==="head"?u=s.headStyles:e==="body"?u=s.bodyStyles:e==="foot"&&(u=s.footStyles);var h=jl({},c.table,c[e],s.styles,u),m=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},g=e==="body"?m:{},w=e==="body"&&n%2===0?jl({},c.alternateRow,s.alternateRowStyles):{},p=SI(i),S=jl({},p,h,w,g);return jl(S,d)}function XI(e,t,n){var a;n===void 0&&(n={});var s=PC(e,t),i=new Map,d=[],c=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(w){var p=t.columns.find(function(S){return S.dataKey===w||S.index===w});p&&!i.has(p.index)&&(i.set(p.index,!0),d.push(p.index),c.push(t.columns[p.index]),s-=p.wrappedWidth)});for(var h=!0,m=(a=n?.start)!==null&&a!==void 0?a:0;m<t.columns.length;){if(i.has(m)){m++;continue}var g=t.columns[m].wrappedWidth;if(h||s>=g)h=!1,d.push(m),c.push(t.columns[m]),s-=g;else break;m++}return{colIndexes:d,columns:c,lastIndex:m-1}}function QI(e,t){for(var n=[],a=0;a<t.columns.length;a++){var s=XI(e,t,{start:a});s.columns.length&&(n.push(s),a=s.lastIndex)}return n}function LC(e,t){var n=t.settings,a=n.startY,s=n.margin,i={x:s.left,y:a},d=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=a+s.bottom+d;if(n.pageBreak==="avoid"){var u=t.body,h=u.reduce(function(w,p){return w+p.height},0);c+=h}var m=new Pu(e);(n.pageBreak==="always"||n.startY!=null&&c>m.pageSize().height)&&(FC(m),i.y=s.top),t.callWillDrawPageHooks(m,i);var g=jl({},i);t.startPageNumber=m.pageNumber(),n.horizontalPageBreak?ZI(m,t,g,i):(m.applyStyles(m.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(w){return Pl(m,t,w,i,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(w,p){var S=p===t.body.length-1;Wm(m,t,w,S,g,i,t.columns)}),m.applyStyles(m.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(w){return Pl(m,t,w,i,t.columns)})),CC(m,t,g,i),t.callEndPageHooks(m,i),t.finalY=i.y,e.lastAutoTable=t,m.applyStyles(m.userStyles)}function ZI(e,t,n,a){var s=QI(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(h,m){e.applyStyles(e.userStyles),m>0?Lh(e,t,n,a,h.columns,!0):Rw(e,t,a,h.columns),e9(e,t,n,a,h.columns),jx(e,t,a,h.columns)});else for(var d=-1,c=s[0],u=function(){var h=d;if(c){e.applyStyles(e.userStyles);var m=c.columns;d>=0?Lh(e,t,n,a,m,!0):Rw(e,t,a,m),h=Dw(e,t,d+1,a,m),jx(e,t,a,m)}var g=h-d;s.slice(1).forEach(function(w){e.applyStyles(e.userStyles),Lh(e,t,n,a,w.columns,!0),Dw(e,t,d+1,a,w.columns,g),jx(e,t,a,w.columns)}),d=h};d<t.body.length-1;)u()}function Rw(e,t,n,a){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return Pl(e,t,i,n,a)})}function e9(e,t,n,a,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,d){var c=d===t.body.length-1;Wm(e,t,i,c,n,a,s)})}function Dw(e,t,n,a,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var d=Math.min(n+i,t.body.length),c=-1;return t.body.slice(n,d).forEach(function(u,h){var m=n+h===t.body.length-1,g=MC(e,t,m,a);u.canEntireRowFit(g,s)&&(Pl(e,t,u,a,s),c=n+h)}),c}function jx(e,t,n,a){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return Pl(e,t,i,n,a)})}function t9(e,t,n){var a=n.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/a);return Math.max(0,i)}function r9(e,t,n,a){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,d=0,c=n.columns;d<c.length;d++){var u=c[d],h=e.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var m=new RC(h.raw,h.styles,h.section);m=jl(m,h),m.text=[];var g=t9(h,t,a);h.text.length>g&&(m.text=h.text.splice(g,h.text.length));var w=a.scaleFactor(),p=a.getLineHeightFactor();h.contentHeight=h.getContentHeight(w,p),h.contentHeight>=t&&(h.contentHeight=t,m.styles.minCellHeight-=t),h.contentHeight>e.height&&(e.height=h.contentHeight),m.contentHeight=m.getContentHeight(w,p),m.contentHeight>i&&(i=m.contentHeight),s[u.index]=m}}var S=new TC(e.raw,-1,e.section,s,!0);S.height=i;for(var j=0,N=n.columns;j<N.length;j++){var u=N[j],m=S.cells[u.index];m&&(m.height=S.height);var h=e.cells[u.index];h&&(h.height=e.height)}return S}function n9(e,t,n,a){var s=e.pageSize().height,i=a.settings.margin,d=i.top+i.bottom,c=s-d;t.section==="body"&&(c-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var u=t.getMinimumRowHeight(a.columns,e),h=u<n;if(u>c)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var m=t.hasRowSpan(a.columns),g=t.getMaxCellHeight(a.columns)>c;return g?(m&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||a.settings.rowPageBreak==="avoid")}function Wm(e,t,n,a,s,i,d){var c=MC(e,t,a,i);if(n.canEntireRowFit(c,d))Pl(e,t,n,i,d);else if(n9(e,n,c,t)){var u=r9(n,c,t,e);Pl(e,t,n,i,d),Lh(e,t,s,i,d),Wm(e,t,u,a,s,i,d)}else Lh(e,t,s,i,d),Wm(e,t,n,a,s,i,d)}function Pl(e,t,n,a,s){a.x=t.settings.margin.left;for(var i=0,d=s;i<d.length;i++){var c=d[i],u=n.cells[c.index];if(!u){a.x+=c.width;continue}e.applyStyles(u.styles),u.x=a.x,u.y=a.y;var h=t.callCellHooks(e,t.hooks.willDrawCell,u,n,c,a);if(h===!1){a.x+=c.width;continue}a9(e,u,a);var m=u.getTextPos();jC(u.text,m.x,m.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,n,c,a),a.x+=c.width}a.y+=n.height}function a9(e,t,n){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var s=_C(a.lineWidth,a.fillColor);s&&e.rect(t.x,n.y,t.width,t.height,s)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),s9(e,t,n,a.lineWidth))}function s9(e,t,n,a){var s,i,d,c;a.top&&(s=n.x,i=n.y,d=n.x+t.width,c=n.y,a.right&&(d+=.5*a.right),a.left&&(s-=.5*a.left),u(a.top,s,i,d,c)),a.bottom&&(s=n.x,i=n.y+t.height,d=n.x+t.width,c=n.y+t.height,a.right&&(d+=.5*a.right),a.left&&(s-=.5*a.left),u(a.bottom,s,i,d,c)),a.left&&(s=n.x,i=n.y,d=n.x,c=n.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(c+=.5*a.bottom),u(a.left,s,i,d,c)),a.right&&(s=n.x+t.width,i=n.y,d=n.x+t.width,c=n.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(c+=.5*a.bottom),u(a.right,s,i,d,c));function u(h,m,g,w,p){e.getDocument().setLineWidth(h),e.getDocument().line(m,g,w,p,"S")}}function MC(e,t,n,a){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-s}function Lh(e,t,n,a,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(c){return Pl(e,t,c,a,s)}),t.callEndPageHooks(e,a);var d=t.settings.margin;CC(e,t,n,a),FC(e),t.pageNumber++,a.x=d.left,a.y=d.top,n.y=d.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return Pl(e,t,c,a,s)}),e.applyStyles(e.userStyles))}function FC(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function o9(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],s=AC(this,a),i=DC(this,s);return LC(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,a,s){jC(t,n,a,s,this)},e.API.autoTableSetDefaults=function(t){return Pu.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Pu.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var a;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Pu(this),i=EC(s,t,window,n,!1),d=i.head,c=i.body,u=((a=d[0])===null||a===void 0?void 0:a.map(function(h){return h.content}))||[];return{columns:u,rows:c,data:c}}}var Nx;function _v(e,t){var n=AC(e,t),a=DC(e,n);LC(e,a)}try{if(typeof window<"u"&&window){var Lw=window,Mw=Lw.jsPDF||((Nx=Lw.jspdf)===null||Nx===void 0?void 0:Nx.jsPDF);Mw&&o9(Mw)}}catch(e){console.error("Could not apply autoTable plugin",e)}const wl={nome:"Parking System",razaoSocial:"Parking System Ltda",cnpj:"00.000.000/0001-00",endereco:"Rua Exemplo, 123 - Centro",cidade:"Cidade - UF",telefone:"(00) 0000-0000",banco:"Banco Exemplo",agencia:"0000",conta:"00000-0"},Kh=e=>e?new Date(e).toLocaleDateString("pt-BR",{timeZone:"UTC"}):"-",Vo=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),i9=e=>e?e.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"):"-",l9=e=>{if(!e)return"-";const[t,n]=e.split("-");return`${["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][parseInt(n)-1]}/${t}`},OC=(e,t,n)=>{const a=e.internal.pageSize.getWidth();e.setFontSize(20),e.setFont("helvetica","bold"),e.text("FATURA",a/2,20,{align:"center"}),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(wl.nome,20,35),e.setFont("helvetica","normal"),e.setFontSize(8),e.text(wl.razaoSocial,20,40),e.text(`CNPJ: ${wl.cnpj}`,20,45),e.text(wl.endereco,20,50),e.text(`${wl.cidade} | Tel: ${wl.telefone}`,20,55);const s=a-20;e.setFontSize(9),e.setFont("helvetica","bold"),e.text("N Fatura:",s-60,35),e.setFont("helvetica","normal"),e.text(t.numero_fatura,s,35,{align:"right"}),e.setFont("helvetica","bold"),e.text("Perodo:",s-60,40),e.setFont("helvetica","normal"),e.text(l9(t.periodo_referencia),s,40,{align:"right"}),e.setFont("helvetica","bold"),e.text("Emisso:",s-60,45),e.setFont("helvetica","normal"),e.text(Kh(t.data_emissao),s,45,{align:"right"}),e.setFont("helvetica","bold"),e.text("Vencimento:",s-60,50),e.setFont("helvetica","normal");const i=new Date;return new Date(t.data_vencimento)<i&&t.status!=="paga"&&e.setTextColor(220,38,38),e.text(Kh(t.data_vencimento),s,50,{align:"right"}),e.setTextColor(0,0,0),e.setLineWidth(.5),e.line(20,62,a-20,62),70},IC=(e,t,n)=>(e.internal.pageSize.getWidth(),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("DADOS DO CLIENTE",20,n),e.setFontSize(9),e.setFont("helvetica","normal"),e.text(`Empresa: ${t.nome_empresa}`,20,n+7),e.text(`Razo Social: ${t.razao_social}`,20,n+12),e.text(`CNPJ: ${i9(t.cnpj)}`,20,n+17),t.endereco_completo?(e.text(`Endereo: ${t.endereco_completo}`,20,n+22),n+30):n+25),$C=(e,t)=>{const n=e.internal.pageSize.getHeight(),a=e.internal.pageSize.getWidth(),s=n-40;e.setLineWidth(.3),e.line(20,s,a-20,s),e.setFontSize(9),e.setFont("helvetica","bold"),e.text("INSTRUES DE PAGAMENTO",20,s+7),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`Banco: ${wl.banco} | Agncia: ${wl.agencia} | Conta: ${wl.conta}`,20,s+12),e.text("Pagamento tambm pode ser realizado via PIX, carto ou dinheiro no local.",20,s+17),t.status==="paga"&&(e.setFont("helvetica","bold"),e.setTextColor(34,197,94),e.text(" FATURA PAGA",a/2,s+25,{align:"center"}),e.setTextColor(0,0,0),t.data_pagamento&&(e.setFont("helvetica","normal"),e.text(`Pagamento em: ${Kh(t.data_pagamento)} via ${t.forma_pagamento}`,a/2,s+30,{align:"center"})))},c9=(e,t)=>{const n=new Ut;let a=OC(n,e);a=IC(n,t,a),n.setFontSize(9),n.setFont("helvetica","bold"),n.setFillColor(59,130,246),n.rect(20,a,160,7,"F"),n.setTextColor(255,255,255),n.text("MODALIDADE: PR-PAGO (Valor Fixo Mensal)",25,a+5),n.setTextColor(0,0,0),a+=15,n.setFontSize(11),n.setFont("helvetica","bold"),n.text("DISCRIMINAO DE VALORES",20,a),a+=8;const s=[["Valor Base do Plano",Vo(e.valor_base||0)]];if(e.valor_extras&&e.valor_extras>0&&s.push(["(+) Valores Extras",Vo(e.valor_extras)]),e.valor_descontos&&e.valor_descontos>0&&s.push(["(-) Descontos",Vo(e.valor_descontos)]),e.valor_juros&&e.valor_juros>0&&s.push(["(+) Juros por Atraso",Vo(e.valor_juros)]),_v(n,{startY:a,head:[],body:s,theme:"plain",styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:120},1:{halign:"right",cellWidth:40}}}),a=n.lastAutoTable.finalY+5,n.setFillColor(243,244,246),n.rect(20,a,160,10,"F"),n.setFontSize(12),n.setFont("helvetica","bold"),n.text("VALOR TOTAL",25,a+7),n.text(Vo(e.valor_total||0),175,a+7,{align:"right"}),a+=18,e.observacoes){n.setFontSize(10),n.setFont("helvetica","bold"),n.text("OBSERVAES",20,a),n.setFontSize(8),n.setFont("helvetica","normal");const d=n.splitTextToSize(e.observacoes,160);n.text(d,20,a+6)}$C(n,e);const i=`Fatura_${e.numero_fatura.replace(/\//g,"-")}_${t.nome_empresa.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`;n.save(i)},d9=(e,t,n=[])=>{const a=new Ut;let s=OC(a,e);if(s=IC(a,t,s),a.setFontSize(9),a.setFont("helvetica","bold"),a.setFillColor(139,92,246),a.rect(20,s,160,7,"F"),a.setTextColor(255,255,255),a.text("MODALIDADE: PS-PAGO (Cobrana por Uso)",25,s+5),a.setTextColor(0,0,0),s+=15,n&&n.length>0){a.setFontSize(11),a.setFont("helvetica","bold"),a.text(`MOVIMENTAES DO PERODO (${n.length} registros)`,20,s),s+=5;const c=n.map(u=>{const h=`${Kh(u.data_entrada)} ${u.hora_entrada?.slice(0,5)||""}`,m=u.data_saida?`${Kh(u.data_saida)} ${u.hora_saida?.slice(0,5)||""}`:"Em andamento",g=u.tempo_permanencia?u.tempo_permanencia.replace("hours","h").replace("minutes","min"):"-",w=u.valor_calculado?Vo(Number(u.valor_calculado)):"-";return[u.placa,h,m,g,w]});_v(a,{startY:s,head:[["Placa","Entrada","Sada","Tempo","Valor"]],body:c,theme:"striped",headStyles:{fillColor:[139,92,246],fontSize:8},styles:{fontSize:7,cellPadding:2},columnStyles:{0:{cellWidth:25},1:{cellWidth:35},2:{cellWidth:35},3:{cellWidth:25},4:{halign:"right",cellWidth:25}},margin:{left:20,right:20}}),s=a.lastAutoTable.finalY+10}else a.setFontSize(9),a.setFont("helvetica","italic"),a.text("Nenhuma movimentao registrada neste perodo.",20,s),s+=10;a.setFontSize(11),a.setFont("helvetica","bold"),a.text("DISCRIMINAO DE VALORES",20,s),s+=8;const i=[["Valor Base (Movimentaes)",Vo(e.valor_base||0)]];if(e.valor_extras&&e.valor_extras>0&&i.push(["(+) Valores Extras",Vo(e.valor_extras)]),e.valor_descontos&&e.valor_descontos>0&&i.push(["(-) Descontos",Vo(e.valor_descontos)]),e.valor_juros&&e.valor_juros>0&&i.push(["(+) Juros por Atraso",Vo(e.valor_juros)]),_v(a,{startY:s,head:[],body:i,theme:"plain",styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:120},1:{halign:"right",cellWidth:40}}}),s=a.lastAutoTable.finalY+5,a.setFillColor(243,244,246),a.rect(20,s,160,10,"F"),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("VALOR TOTAL",25,s+7),a.text(Vo(e.valor_total||0),175,s+7,{align:"right"}),s+=18,e.observacoes){a.setFontSize(10),a.setFont("helvetica","bold"),a.text("OBSERVAES",20,s),a.setFontSize(8),a.setFont("helvetica","normal");const c=a.splitTextToSize(e.observacoes,160);a.text(c,20,s+6)}$C(a,e);const d=`Fatura_${e.numero_fatura.replace(/\//g,"-")}_${t.nome_empresa.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`;a.save(d)},u9=(e,t,n)=>{if(!e||!t)throw new Error("Dados da fatura ou convnio no fornecidos");if(t.tipo_convenio==="pre-pago")c9(e,t);else if(t.tipo_convenio==="pos-pago")d9(e,t,n||[]);else throw new Error(`Tipo de convnio no reconhecido: ${t.tipo_convenio}`)};function h9({convenioId:e,onClose:t}){const[n,a]=v.useState(null),[s,i]=v.useState(!0),[d,c]=v.useState("dados-gerais"),[u,h]=v.useState([]),[m,g]=v.useState([]),[w,p]=v.useState(!1),[S,j]=v.useState(!1),[N,P]=v.useState(!1),[k,E]=v.useState(!1),[O,B]=v.useState(!1),[ae,W]=v.useState(!1),[te,K]=v.useState(!1);v.useEffect(()=>{F()},[e]),v.useEffect(()=>{d==="movimentacoes"?z():d==="documentos"&&q()},[d,e]);const{toast:oe}=Hr(),L=async le=>{const be=le==="ativo"?"reativar":"suspender";if(confirm(`Deseja realmente ${be} este convnio?`))try{await rt.updateConvenio(e,{status:le}),oe({title:`Convnio ${le==="ativo"?"reativado":"suspenso"}`,description:"O status foi atualizado com sucesso."}),F()}catch(Ee){console.error(`Erro ao ${be} convnio:`,Ee),alert("Erro ao atualizar status")}},F=async()=>{try{console.log("[ConvenioDetailPanel]  Fetching convenio details for ID:",e),i(!0);const le=await rt.getConvenioById(e);console.log("[ConvenioDetailPanel]  Received data:",{nome_empresa:le?.nome_empresa,planos_count:le?.planos?.length,plano_ativo:le?.planos?.find(be=>be.ativo),all_planos:le?.planos}),a(le)}catch(le){console.error("[ConvenioDetailPanel]  Error fetching details:",le)}finally{i(!1)}},z=async()=>{try{p(!0);const le=await rt.getConvenioMovimentacoes(e);h(le||[])}catch(le){console.error("Erro ao buscar movimentaes:",le)}finally{p(!1)}},q=async()=>{try{j(!0);const le=await rt.getConvenioDocumentos(e);g(le||[])}catch(le){console.error("Erro ao buscar documentos:",le)}finally{j(!1)}},ge=async le=>{const be=le.target.files?.[0];if(be){if(be.size>10*1024*1024){alert("Arquivo muito grande. Mximo 10MB.");return}try{P(!0);const Ee={nome_arquivo:be.name,tipo_documento:be.type||"application/octet-stream",tamanho_bytes:be.size,caminho_arquivo:URL.createObjectURL(be)};await rt.uploadConvenioDocumento(e,Ee),q()}catch(Ee){console.error("Erro ao enviar documento:",Ee),alert("Erro ao enviar documento")}finally{P(!1)}}},fe=async le=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{await rt.deleteConvenioDocumento(e,le),q()}catch(be){console.error("Erro ao excluir documento:",be),alert("Erro ao excluir documento")}},ye=async le=>{try{oe({title:"Gerando PDF...",description:"Aguarde enquanto o PDF da fatura  gerado."});let be=[];if(n?.tipo_convenio==="pos-pago")try{be=(await rt.getConvenioMovimentacoes(e)).filter(Q=>Q.fatura_id===le.id)}catch(Ee){console.error("Erro ao buscar movimentaes:",Ee)}u9(le,n,be),oe({title:"PDF gerado com sucesso!",description:`Fatura ${le.numero_fatura} foi baixada.`})}catch(be){console.error("Erro ao gerar PDF:",be),oe({title:"Erro ao gerar PDF",description:"No foi possvel gerar o PDF da fatura. Tente novamente.",variant:"destructive"})}},U=le=>le.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"),$=le=>new Date(le).toLocaleDateString("pt-BR"),H=le=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le),D=le=>!le||le.length===0?null:le.filter(Ee=>Ee.status==="paga"&&Ee.data_pagamento).sort((Ee,Q)=>new Date(Q.data_pagamento).getTime()-new Date(Ee.data_pagamento).getTime())[0]||null,T=(le,be,Ee)=>{const Q=new Date(Ee,be+1,0).getDate(),Te=Math.min(le,Q);return new Date(Ee,be,Te)},I=(le,be)=>{let Ee;be==="pre-pago"?Ee=le.dia_vencimento_pagamento:Ee=le.dia_vencimento_pos_pago||le.dia_vencimento_pagamento||le.dia_fechamento;const Q=new Date,Te=Q.getFullYear(),Ve=Q.getMonth();let re=T(Ee,Ve,Te);if(re<Q){const we=Ve===11?0:Ve+1,Xe=Ve===11?Te+1:Te;re=T(Ee,we,Xe)}return re},G=le=>{const be=new Date;be.setHours(0,0,0,0);const Ee=new Date(le);Ee.setHours(0,0,0,0);const Q=Ee.getTime()-be.getTime();return Math.ceil(Q/(1e3*60*60*24))},J=n?.planos?.find(le=>le.ativo),ce=D(n?.faturas||[]),se=J&&n?I(J,n.tipo_convenio):null,pe=se?G(se):null;return v.useEffect(()=>{J&&console.log("[ConvenioDetailPanel] planoAtivo data:",{id:J.id,tipo_plano:J.tipo_plano,dia_vencimento_pagamento:J.dia_vencimento_pagamento,dia_vencimento_pos_pago:J.dia_vencimento_pos_pago,dia_fechamento:J.dia_fechamento,valor_mensal:J.valor_mensal,valor_por_vaga:J.valor_por_vaga,allFields:Object.keys(J)})},[J]),console.log("ConvenioDetailPanel DEBUG:",{convenio:n?.nome_empresa,planos:n?.planos,planoAtivo:J,tipoConvenio:n?.tipo_convenio}),s?r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsx("div",{className:"text-center py-8",children:"Carregando detalhes..."})})}):n?r.jsxs(Rt,{children:[r.jsx(gr,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(gd,{className:"h-8 w-8 text-primary"}),r.jsxs("div",{children:[r.jsx(xr,{className:"text-2xl",children:n.nome_empresa}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[U(n.cnpj),"  ",n.tipo_convenio==="pre-pago"?"Pr-pago":"Ps-pago"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(za,{variant:n.status==="ativo"?"default":"secondary",children:n.status}),r.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>E(!0),children:[r.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Editar"]}),n.status==="ativo"?r.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>L("suspenso"),children:[r.jsx(Pb,{className:"h-4 w-4 mr-2"}),"Suspender"]}):r.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>L("ativo"),children:[r.jsx(Eb,{className:"h-4 w-4 mr-2"}),"Reativar"]}),r.jsx(Ne,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(tp,{className:"h-4 w-4"})})]})]})}),r.jsx(Dt,{children:r.jsxs(Hs,{value:d,onValueChange:c,children:[r.jsxs(js,{className:"grid w-full grid-cols-7",children:[r.jsxs(or,{value:"dados-gerais",children:[r.jsx(gd,{className:"h-4 w-4 mr-2"}),"Dados"]}),r.jsxs(or,{value:"plano",children:[r.jsx(Fh,{className:"h-4 w-4 mr-2"}),"Plano"]}),r.jsxs(or,{value:"veiculos",children:[r.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Veculos"]}),r.jsxs(or,{value:"financeiro",children:[r.jsx(zv,{className:"h-4 w-4 mr-2"}),"Financeiro"]}),r.jsxs(or,{value:"movimentacoes",children:[r.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Movimentaes"]}),r.jsxs(or,{value:"documentos",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Documentos"]}),r.jsxs(or,{value:"historico",children:[r.jsx(Bv,{className:"h-4 w-4 mr-2"}),"Histrico"]})]}),r.jsxs(ir,{value:"dados-gerais",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Informaes da Empresa"}),r.jsxs("dl",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Razo Social"}),r.jsx("dd",{className:"font-medium",children:n.razao_social})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"CNPJ"}),r.jsx("dd",{className:"font-medium",children:U(n.cnpj)})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Categoria"}),r.jsx("dd",{className:"font-medium capitalize",children:n.categoria})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Endereo"}),r.jsx("dd",{className:"font-medium",children:n.endereco_completo||"No informado"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Contato"}),r.jsxs("dl",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Nome"}),r.jsx("dd",{className:"font-medium",children:n.contato_nome})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Email"}),r.jsx("dd",{className:"font-medium",children:n.contato_email})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Telefone"}),r.jsx("dd",{className:"font-medium",children:n.contato_telefone})]})]}),r.jsx("h3",{className:"font-semibold mb-2 mt-4",children:"Contrato"}),r.jsxs("dl",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Data de Incio"}),r.jsx("dd",{className:"font-medium",children:$(n.data_inicio)})]}),n.data_vencimento_contrato&&r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Vencimento do Contrato"}),r.jsx("dd",{className:"font-medium",children:$(n.data_vencimento_contrato)})]})]})]})]}),n.observacoes&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Observaes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n.observacoes})]})]}),r.jsxs(ir,{value:"plano",className:"space-y-4",children:[J?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Plano Atual"}),r.jsxs("dl",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Status"}),r.jsx("dd",{children:r.jsx(za,{variant:J.ativo?"default":"secondary",children:J.ativo?"Ativo":"Inativo"})})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Tipo"}),r.jsx("dd",{className:"font-medium capitalize",children:J.tipo_plano})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Vagas Contratadas"}),r.jsx("dd",{className:"font-medium",children:J.num_vagas_contratadas})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Vagas Reservadas"}),r.jsx("dd",{className:"font-medium",children:J.num_vagas_reservadas})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Valores e Datas"}),r.jsxs("dl",{className:"space-y-2",children:[n.tipo_convenio==="pre-pago"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor do Convnio"}),r.jsx("dd",{className:"font-medium text-lg text-blue-600",children:H(J.valor_mensal||0)})]}),J.porcentagem_desconto&&Number(J.porcentagem_desconto)>0?r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor Cobrado (c/ Desconto)"}),r.jsx("dd",{className:"font-medium text-lg text-green-600",children:H((J.valor_mensal||0)*(1-Number(J.porcentagem_desconto)/100))})]}):null]}):r.jsx(r.Fragment,{children:J.valor_por_vaga&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor por Vaga"}),r.jsxs("dd",{className:"font-medium text-lg text-blue-600",children:[H(J.valor_por_vaga),"/vaga"]})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor Total Convnio"}),r.jsx("dd",{className:"font-medium text-lg",children:H(J.valor_por_vaga*J.num_vagas_contratadas)})]}),J.porcentagem_desconto&&Number(J.porcentagem_desconto)>0?r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Valor Cobrado (c/ Desconto)"}),r.jsx("dd",{className:"font-medium text-lg text-green-600",children:H(J.valor_por_vaga*J.num_vagas_contratadas*(1-Number(J.porcentagem_desconto)/100))})]}):null]})}),J.porcentagem_desconto&&Number(J.porcentagem_desconto)>0&&r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Desconto Aplicado"}),r.jsxs("dd",{className:"font-medium text-green-600",children:[Number(J.porcentagem_desconto).toFixed(2),"%"]})]}),r.jsx("div",{className:"pt-2 border-t",children:n.tipo_convenio==="pre-pago"?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"mb-2",children:[r.jsx("dt",{className:"text-sm text-muted-foreground font-semibold",children:"Dia de Vencimento"}),r.jsxs("dd",{className:"font-medium text-lg",children:["Dia ",J.dia_vencimento_pagamento||"-"]})]})}):r.jsxs(r.Fragment,{children:[J.dia_fechamento&&r.jsxs("div",{className:"mb-2",children:[r.jsx("dt",{className:"text-sm text-muted-foreground",children:"Dia de Fechamento"}),r.jsxs("dd",{className:"font-medium",children:["Dia ",J.dia_fechamento]})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("dt",{className:"text-sm text-muted-foreground font-semibold",children:"Dia de Vencimento"}),r.jsxs("dd",{className:"font-medium text-lg text-red-600",children:["Dia ",(()=>{const le=J.dia_vencimento_pos_pago||J.dia_vencimento_pagamento||J.dia_fechamento;return console.log("[Dia Vencimento Display]",{dia_vencimento_pos_pago:J.dia_vencimento_pos_pago,dia_vencimento_pagamento:J.dia_vencimento_pagamento,dia_fechamento:J.dia_fechamento,result:le}),le||"-"})()]})]})]})})]})]})]}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum plano ativo"}),J&&r.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("h4",{className:"font-semibold mb-4 text-blue-900 dark:text-blue-100",children:" Datas Importantes"}),r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Data de Contratao"}),r.jsx("dd",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:$(J.data_inicio_vigencia)})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:" ltimo Pagamento"}),ce?r.jsxs(r.Fragment,{children:[r.jsx("dd",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:$(ce.data_pagamento)}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[ce.forma_pagamento,"  ",H(ce.valor_total)]})]}):r.jsx("dd",{className:"text-sm text-gray-400 dark:text-gray-500 italic",children:"Nenhum pagamento registrado"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:" Prximo Vencimento"}),se&&r.jsxs(r.Fragment,{children:[r.jsx("dd",{className:`text-lg font-semibold ${pe===0?"text-red-600 dark:text-red-400":pe&&pe<=7&&pe>0?"text-orange-600 dark:text-orange-400":"text-blue-600 dark:text-blue-400"}`,children:$(se.toISOString())}),pe===0&&r.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium mt-1 flex items-center gap-1",children:[r.jsx("span",{children:""})," Vence hoje!"]}),pe&&pe>0&&pe<=7&&r.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1 flex items-center gap-1",children:[r.jsx("span",{children:""})," Vence em ",pe," ",pe===1?"dia":"dias"]}),pe&&pe>7&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Faltam ",pe," dias"]})]})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-800",children:[r.jsx("h5",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-3",children:"Ciclo de Faturamento"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.tipo_convenio==="pos-pago"&&J.dia_fechamento&&r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-600 dark:text-gray-400",children:"Dia de Fechamento"}),r.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Dia ",J.dia_fechamento]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-600 dark:text-gray-400",children:"Dia de Vencimento"}),r.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Dia ",n.tipo_convenio==="pre-pago"?J.dia_vencimento_pagamento:J.dia_vencimento_pos_pago||J.dia_vencimento_pagamento]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-600 dark:text-gray-400",children:"Status da Fatura Atual"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:(()=>{const le=new Date,be=`${le.getFullYear()}-${String(le.getMonth()+1).padStart(2,"0")}`,Ee=n.faturas?.find(Q=>Q.periodo_referencia===be);return Ee?Ee.status==="paga"?" Paga":Ee.status==="vencida"?" Vencida":" Pendente":" No gerada"})()})]})]})]})]}),r.jsx(Ne,{variant:"outline",onClick:()=>B(!0),children:"Alterar Plano"})]}),r.jsxs(ir,{value:"veiculos",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-semibold",children:["Veculos Autorizados (",n.veiculos?.length||0,")"]}),r.jsx(Ne,{size:"sm",onClick:()=>W(!0),children:"Adicionar Veculo"})]}),n.veiculos&&n.veiculos.length>0?r.jsx("div",{className:"space-y-2",children:n.veiculos.map(le=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ho,{className:"h-5 w-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:le.placa}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[le.modelo||"Modelo no informado","  ",le.cor||"Cor no informada"]})]})]}),r.jsx(za,{variant:le.ativo?"default":"secondary",children:le.ativo?"Ativo":"Inativo"})]},le.id))}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum veculo cadastrado"})]}),r.jsxs(ir,{value:"financeiro",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-semibold",children:["Faturas (",n.faturas?.length||0,")"]}),r.jsx(Ne,{size:"sm",onClick:()=>K(!0),children:"Gerar Fatura"})]}),n.faturas&&n.faturas.length>0?r.jsx("div",{className:"space-y-2",children:n.faturas.map(le=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:le.numero_fatura}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[le.periodo_referencia,"  Venc: ",$(le.data_vencimento)]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:H(le.valor_total)}),r.jsx(za,{variant:le.status==="paga"?"default":"secondary",children:le.status})]}),r.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>ye(le),title:"Baixar PDF da fatura",children:r.jsx(xd,{className:"h-4 w-4"})})]})]},le.id))}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma fatura gerada"})]}),r.jsxs(ir,{value:"movimentacoes",className:"space-y-4",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h3",{className:"font-semibold",children:"ltimas Movimentaes"})}),w?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando movimentaes..."}):u&&u.length>0?r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-muted",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"Data/Hora"}),r.jsx("th",{className:"p-3 text-left",children:"Placa"}),r.jsx("th",{className:"p-3 text-left",children:"Tipo"}),r.jsx("th",{className:"p-3 text-left",children:"Tempo"}),r.jsx("th",{className:"p-3 text-right",children:"Valor"}),r.jsx("th",{className:"p-3 text-center",children:"Faturado"})]})}),r.jsx("tbody",{children:u.map(le=>{const be=!!le.data_saida;return r.jsxs("tr",{className:"border-t hover:bg-muted/50",children:[r.jsxs("td",{className:"p-3",children:[r.jsx("div",{children:$(le.data_entrada)}),r.jsx("div",{className:"text-muted-foreground text-xs",children:le.hora_entrada.slice(0,5)})]}),r.jsx("td",{className:"p-3 font-medium",children:le.placa}),r.jsx("td",{className:"p-3",children:be?r.jsx(za,{variant:"outline",className:"text-red-600 border-red-200 bg-red-50",children:"Sada"}):r.jsx(za,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:"Entrada"})}),r.jsx("td",{className:"p-3 text-muted-foreground",children:le.tempo_permanencia?le.tempo_permanencia.replace("hours","h").replace("minutes","min"):"-"}),r.jsx("td",{className:"p-3 text-right font-medium",children:le.valor_calculado?H(Number(le.valor_calculado)):"-"}),r.jsx("td",{className:"p-3 text-center",children:le.faturado?r.jsx(za,{variant:"default",className:"bg-green-600",children:"Sim"}):r.jsx(za,{variant:"outline",children:"No"})})]},le.id)})})]})}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma movimentao registrada no perodo"})]}),r.jsxs(ir,{value:"documentos",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-semibold",children:["Documentos Anexados (",m.length,")"]}),r.jsxs("div",{children:[r.jsx(Fe,{type:"file",id:"upload-doc",className:"hidden",onChange:ge,disabled:N}),r.jsx(xe,{htmlFor:"upload-doc",children:r.jsxs("div",{className:`inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-3 cursor-pointer ${N?"opacity-50":""}`,children:[r.jsx(Tb,{className:"h-4 w-4 mr-2"}),N?"Enviando...":"Upload"]})})]})]}),S?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando documentos..."}):m&&m.length>0?r.jsx("div",{className:"grid grid-cols-1 gap-2",children:m.map(le=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/30",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded flex items-center justify-center text-blue-600",children:r.jsx(rs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium truncate max-w-[200px]",children:le.nome_arquivo}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(le.tamanho_bytes/1024).toFixed(1)," KB  ",$(le.created_at)]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>window.open(le.caminho_arquivo,"_blank"),children:r.jsx(xd,{className:"h-4 w-4"})}),r.jsx(Ne,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>fe(le.id),children:r.jsx(Gs,{className:"h-4 w-4"})})]})]},le.id))}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg text-muted-foreground",children:[r.jsx(rs,{className:"h-10 w-10 mx-auto mb-2 opacity-20"}),r.jsx("p",{children:"Nenhum documento anexado"}),r.jsx("p",{className:"text-xs mt-1",children:"Faa upload de contratos, aditivos e comprovantes"})]})]}),r.jsx(ir,{value:"historico",className:"space-y-4",children:n.historico&&n.historico.length>0?r.jsx("div",{className:"space-y-2",children:n.historico.map(le=>r.jsxs("div",{className:"p-3 border-l-2 border-primary pl-4",children:[r.jsx("p",{className:"font-medium",children:le.tipo_alteracao}),r.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(le.data_alteracao).toLocaleString("pt-BR")}),le.motivo&&r.jsx("p",{className:"text-sm mt-1",children:le.motivo})]},le.id))}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum histrico disponvel"})})]})}),n&&r.jsxs(r.Fragment,{children:[r.jsx(E4,{mode:"edit",convenioId:e,open:k,onOpenChange:E,initialData:{nome_empresa:n.nome_empresa,razao_social:n.razao_social,cnpj:n.cnpj||"",categoria:n.categoria,tipo_convenio:n.tipo_convenio,contato_nome:n.contato_nome,contato_email:n.contato_email,contato_telefone:n.contato_telefone,endereco_completo:n.endereco_completo,observacoes:n.observacoes,data_inicio:n.data_inicio||"",data_vencimento_contrato:n.data_vencimento_contrato,plano:J?{num_vagas_contratadas:J.num_vagas_contratadas,num_vagas_reservadas:J.num_vagas_reservadas||0,valor_por_vaga:J.valor_por_vaga,valor_mensal:J.valor_mensal,dia_vencimento_pagamento:J.dia_vencimento_pagamento,dia_fechamento:J.dia_fechamento,dia_vencimento_pos_pago:J.dia_vencimento_pos_pago||J.dia_fechamento,permite_vagas_extras:J.permite_vagas_extras,valor_vaga_extra:J.valor_vaga_extra,porcentagem_desconto:J.porcentagem_desconto}:void 0},onSuccess:()=>{F(),oe({title:"Convnio atualizado",description:"Os dados foram atualizados com sucesso."})}}),r.jsx(EF,{open:O,onOpenChange:B,convenioId:e,tipoConvenio:n.tipo_convenio,planoAtual:J,onSuccess:()=>{F(),oe({title:"Plano alterado",description:"O novo plano foi ativado com sucesso."})}}),r.jsx(A4,{open:ae,onOpenChange:W,convenioId:e,onSuccess:()=>{F(),oe({title:"Veculo adicionado",description:"O veculo foi cadastrado com sucesso."})}}),J&&r.jsx(DF,{open:te,onOpenChange:K,convenioId:e,convenioNome:n.nome_empresa,tipoConvenio:n.tipo_convenio,valorMensal:J.valor_mensal,onSuccess:()=>{F(),oe({title:"Fatura gerada",description:"A fatura foi criada com sucesso."})}})]})]}):r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Convnio no encontrado"})})})}function f9(){const[e,t]=v.useState([]),[n,a]=v.useState([]),[s,i]=v.useState(!1),[d,c]=v.useState(""),[u,h]=v.useState("todos");v.useEffect(()=>{g(),c(new Date().toISOString().slice(0,7))},[]),v.useEffect(()=>{d&&m()},[d,u]);const m=async()=>{try{i(!0);const j=await rt.getConveniosRelatoriosFaturas({periodo:d,status:u!=="todos"?u:void 0});t(j||[])}catch(j){console.error("Erro ao buscar faturas:",j)}finally{i(!1)}},g=async()=>{try{const j=await rt.getConveniosRanking();a(j||[])}catch(j){console.error("Erro ao buscar ranking:",j)}},w=()=>e.reduce((j,N)=>j+Number(N.valor_total),0),p=j=>e.filter(N=>N.status===j).length,S=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Receita Total (Ms)"}),r.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsx("div",{className:"text-2xl font-bold",children:S(w())}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length," faturas geradas"]})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Pendentes"}),r.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p("pendente")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando pagamento"})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Vencidas"}),r.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:p("vencida")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Necessitam ateno"})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Ranking Ocupao"}),r.jsx(Qh,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsx("div",{className:"text-2xl font-bold",children:"TOP 1"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[n[0]?.nome_empresa||"N/A"," (",n[0]?.taxa_ocupacao_percentual,"%)"]})]})]})]}),r.jsxs(Hs,{defaultValue:"faturas",className:"space-y-4",children:[r.jsxs(js,{children:[r.jsx(or,{value:"faturas",children:"Relatrio Financeiro"}),r.jsx(or,{value:"inadimplencia",children:"Inadimplncia"}),r.jsx(or,{value:"ranking",children:"Ranking de Ocupao"})]}),r.jsx(ir,{value:"faturas",className:"space-y-4",children:r.jsxs(Rt,{children:[r.jsx(gr,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(xr,{children:"Faturamento Mensal"}),r.jsx(pn,{children:"Lista consolidada de faturas geradas no perodo"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-[180px]",children:r.jsx(Fe,{type:"month",value:d,onChange:j=>c(j.target.value)})}),r.jsxs(vr,{value:u,onValueChange:h,children:[r.jsx(fr,{className:"w-[150px]",children:r.jsx(yr,{placeholder:"Status"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"todos",children:"Todos"}),r.jsx(Qe,{value:"pendente",children:"Pendente"}),r.jsx(Qe,{value:"paga",children:"Paga"}),r.jsx(Qe,{value:"vencida",children:"Vencida"})]})]}),r.jsx(Ne,{variant:"outline",size:"icon",children:r.jsx(xd,{className:"h-4 w-4"})})]})]})}),r.jsx(Dt,{children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Empresa"}),r.jsx(Ht,{children:"Fatura"}),r.jsx(Ht,{children:"Vencimento"}),r.jsx(Ht,{children:"Valor Total"}),r.jsx(Ht,{children:"Status"}),r.jsx(Ht,{className:"text-right",children:"Atraso"})]})}),r.jsx(Yo,{children:s?r.jsx(sn,{children:r.jsx(Mt,{colSpan:6,className:"text-center h-24",children:"Carregando..."})}):e.length===0?r.jsx(sn,{children:r.jsx(Mt,{colSpan:6,className:"text-center h-24 text-muted-foreground",children:"Nenhuma fatura encontrada para este perodo."})}):e.map(j=>r.jsxs(sn,{children:[r.jsx(Mt,{className:"font-medium",children:j.convenio?.nome_empresa}),r.jsx(Mt,{children:j.numero_fatura}),r.jsx(Mt,{children:wt(new Date(j.data_vencimento),"dd/MM/yyyy")}),r.jsx(Mt,{children:S(j.valor_total)}),r.jsx(Mt,{children:r.jsx(za,{variant:j.status==="paga"?"default":j.status==="pendente"?"secondary":"destructive",className:j.status==="paga"?"bg-green-600":"",children:j.status.toUpperCase()})}),r.jsx(Mt,{className:`text-right ${j.dias_atraso>0?"text-red-600 font-bold":""}`,children:j.dias_atraso>0?`${j.dias_atraso} dias`:"-"})]},j.id))})]})})]})}),r.jsx(ir,{value:"ranking",className:"space-y-4",children:r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Ranking de Ocupao"}),r.jsx(pn,{children:"Convnios com maior taxa de utilizao de vagas hoje"})]}),r.jsx(Dt,{children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Posio"}),r.jsx(Ht,{children:"Empresa"}),r.jsx(Ht,{children:"Vagas Contratadas"}),r.jsx(Ht,{children:"Vagas Ocupadas"}),r.jsx(Ht,{children:"Taxa de Ocupao"}),r.jsx(Ht,{children:"Barra de Progresso"})]})}),r.jsxs(Yo,{children:[n.map((j,N)=>r.jsxs(sn,{children:[r.jsxs(Mt,{className:"font-bold",children:["#",N+1]}),r.jsx(Mt,{className:"font-medium",children:j.nome_empresa}),r.jsx(Mt,{children:j.num_vagas_contratadas}),r.jsx(Mt,{children:j.vagas_ocupadas}),r.jsxs(Mt,{className:"font-bold",children:[j.taxa_ocupacao_percentual,"%"]}),r.jsx(Mt,{className:"w-[30%]",children:r.jsx("div",{className:"w-full bg-secondary h-2.5 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-2.5 rounded-full ${j.taxa_ocupacao_percentual>90?"bg-red-500":j.taxa_ocupacao_percentual>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(j.taxa_ocupacao_percentual,100)}%`}})})})]},N)),n.length===0&&r.jsx(sn,{children:r.jsx(Mt,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Nenhum dado de ocupao disponvel."})})]})]})})]})}),r.jsx(ir,{value:"inadimplencia",className:"space-y-4",children:r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Relatrio de Inadimplncia"}),r.jsx(pn,{children:"Empresas com faturas vencidas e no pagas."})]}),r.jsx(Dt,{children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Empresa"}),r.jsx(Ht,{children:"Faturas Vencidas"}),r.jsx(Ht,{children:"Valor Total Devido"}),r.jsx(Ht,{children:"Maior Atraso"}),r.jsx(Ht,{className:"text-right",children:"Aes"})]})}),r.jsx(Yo,{children:(()=>{const N=e.filter(k=>k.status==="vencida").reduce((k,E)=>{const O=E.convenio?.nome_empresa||"Desconhecida";return k[O]||(k[O]={nome:O,qtd:0,total:0,maiorAtraso:0,faturas:[]}),k[O].qtd+=1,k[O].total+=Number(E.valor_total),k[O].maiorAtraso=Math.max(k[O].maiorAtraso,E.dias_atraso),k[O].faturas.push(E),k},{}),P=Object.values(N);return P.length===0?r.jsx(sn,{children:r.jsx(Mt,{colSpan:5,className:"text-center h-24 text-muted-foreground",children:"Nenhuma inadimplncia encontrada no perodo selecionado."})}):P.map((k,E)=>r.jsxs(sn,{children:[r.jsx(Mt,{className:"font-medium text-red-600",children:k.nome}),r.jsx(Mt,{children:k.qtd}),r.jsx(Mt,{children:S(k.total)}),r.jsxs(Mt,{className:"font-bold",children:[k.maiorAtraso," dias"]}),r.jsx(Mt,{className:"text-right",children:r.jsx(Ne,{variant:"ghost",size:"sm",className:"text-blue-600",children:"Ver Detalhes"})})]},E))})()})]})})]})})]})]})}const Sx=e=>e?Array.isArray(e)?e.find(t=>t.ativo===!0)||null:e:null;function m9(){const[e,t]=v.useState(null),[n,a]=v.useState([]),[s,i]=v.useState(!0),[d,c]=v.useState(null),[u,h]=v.useState("todos"),[m,g]=v.useState("todos"),[w,p]=v.useState("todos"),[S,j]=v.useState(""),[N,P]=v.useState(!1),[k,E]=v.useState(!1);v.useEffect(()=>{O()},[]),v.useEffect(()=>{const z=setTimeout(()=>{B()},300);return()=>clearTimeout(z)},[u,m,w,S]);const O=async()=>{try{const z=await rt.getConvenioStats();t(z)}catch(z){console.error("Erro ao buscar estatsticas:",z)}},B=async()=>{try{i(!0);const z=await rt.getConvenios({status:u,tipo:m,categoria:w,busca:S});a(z||[])}catch(z){console.error("Erro ao buscar convnios:",z)}finally{i(!1)}},ae=z=>z.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"),W=z=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z),te=z=>z.status==="ativo"&&!z.inadimplente?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":z.status==="suspenso"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":z.status==="inadimplente"||z.inadimplente?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",{toast:K}=Hr(),oe=async(z,q)=>{const ge=q==="ativo"?"reativar":"suspender";if(confirm(`Deseja realmente ${ge} o convnio "${z.nome_empresa}"?`))try{await rt.updateConvenio(z.id,{status:q}),K({title:`Convnio ${q==="ativo"?"reativado":"suspenso"}`,description:`O convnio foi ${q==="ativo"?"reativado":"suspenso"} com sucesso.`}),B(),O()}catch(fe){console.error(`Erro ao ${ge} convnio:`,fe),K({title:"Erro ao atualizar status",description:"No foi possvel completar a operao.",variant:"destructive"})}},L=z=>{K({title:"Gerar Contrato",description:`Funcionalidade em desenvolvimento para: ${z.nome_empresa}`})},F=z=>z.inadimplente?"Inadimplente":z.status.charAt(0).toUpperCase()+z.status.slice(1);return v.useEffect(()=>{const z=q=>{q.key==="Escape"&&c(null)};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[]),r.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in duration-500",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Convnios"}),r.jsx("p",{className:"text-muted-foreground",children:"Gesto de contratos empresariais de estacionamento"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Ne,{onClick:()=>P(!0),children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Novo Convnio"]})})]}),r.jsxs(Hs,{defaultValue:"gerenciamento",className:"space-y-6",children:[r.jsxs(js,{children:[r.jsx(or,{value:"gerenciamento",children:"Gerenciamento"}),r.jsx(or,{value:"relatorios",children:"Relatrios"})]}),r.jsxs(ir,{value:"gerenciamento",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Convnios Ativos"}),r.jsx(gd,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e?.total_ativos||0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Empresas parcerias"})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Receita Estimada"}),r.jsx(Qh,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e?.receita_mensal_prevista.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})||"R$ 0,00"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Mensal recorrente"})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Ocupao Mdia"}),r.jsx(zP,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[e?.taxa_ocupacao_media||0,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Utilizao de vagas"})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(xr,{className:"text-sm font-medium",children:"Inadimplncia"}),r.jsx(Zm,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Dt,{children:[r.jsxs("div",{className:`text-2xl font-bold ${e?.taxa_inadimplencia?"text-red-500":""}`,children:[e?.taxa_inadimplencia||0,"%"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.total_inadimplentes||0," empresas pendentes"]})]})]})]}),r.jsxs(Rt,{children:[r.jsx(gr,{className:"pb-3",children:r.jsx(xr,{className:"text-sm font-medium",children:"Filtros e Busca"})}),r.jsx(Dt,{children:r.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ab,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(Fe,{placeholder:"Buscar por empresa ou CNPJ...",className:"pl-8",value:S,onChange:z=>j(z.target.value)})]})})})]}),d?r.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.jsx(Ne,{variant:"ghost",onClick:()=>c(null),className:"mb-4",children:" Voltar para lista"}),r.jsx(h9,{convenioId:d.id,onClose:()=>c(null)})]}):r.jsx(Rt,{children:r.jsx(Dt,{className:"p-0",children:r.jsx("div",{className:"rounded-md border",children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Status"}),r.jsx(Ht,{children:"Empresa"}),r.jsx(Ht,{children:"CNPJ"}),r.jsx(Ht,{children:"Tipo"}),r.jsx(Ht,{children:"Vagas"}),r.jsx(Ht,{children:"Valor Mensal"}),r.jsx(Ht,{children:"Vencimento"}),r.jsx(Ht,{className:"w-[50px]"})]})}),r.jsx(Yo,{children:s?r.jsx(sn,{children:r.jsx(Mt,{colSpan:8,className:"h-24 text-center",children:"Carregando..."})}):n.length===0?r.jsx(sn,{children:r.jsx(Mt,{colSpan:8,className:"h-24 text-center",children:"Nenhum convnio encontrado."})}):n.map(z=>r.jsxs(sn,{className:`cursor-pointer hover:bg-muted/50 transition-all duration-200 ${z.status==="suspenso"?"opacity-50 grayscale-[0.5]":""}`,onClick:()=>c(z),children:[r.jsx(Mt,{children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te(z)}`,children:F(z)})}),r.jsx(Mt,{className:"font-medium",children:z.nome_empresa}),r.jsx(Mt,{className:"text-muted-foreground",children:ae(z.cnpj)}),r.jsx(Mt,{className:"capitalize",children:z.tipo_convenio}),r.jsxs(Mt,{children:[(()=>{const q=Sx(z.plano_ativo);return`${q?.vagas_ocupadas||z.vagas_ocupadas||0} / ${q?.num_vagas_contratadas||0}`})(),r.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",z.taxa_ocupacao.toFixed(0),"%)"]})]}),r.jsx(Mt,{className:"font-medium",children:(()=>{const q=Sx(z.plano_ativo);return z.tipo_convenio==="pos-pago"?q?.valor_por_vaga?`${W(q.valor_por_vaga)}/vaga`:"R$ 0,00":W(q?.valor_mensal||0)})()}),r.jsx(Mt,{children:`Dia ${Sx(z.plano_ativo)?.dia_vencimento_pagamento||"-"}`}),r.jsx(Mt,{className:"flex gap-1",onClick:q=>q.stopPropagation(),children:z.status==="suspenso"?r.jsxs(Ne,{variant:"outline",size:"sm",className:"h-8 border-green-200 hover:bg-green-50 text-green-700 w-full",onClick:()=>oe(z,"ativo"),children:[r.jsx(Eb,{className:"h-3.5 w-3.5 mr-1"}),"Reativar"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ne,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:()=>L(z),title:"Gerar Contrato",children:r.jsx(rs,{className:"h-4 w-4"})}),r.jsx(Ne,{variant:"ghost",size:"icon",className:"h-8 w-8 text-amber-600 hover:text-amber-700 hover:bg-amber-50",onClick:()=>oe(z,"suspenso"),children:r.jsx(Pb,{className:"h-4 w-4"})})]})})]},z.id))})]})})})})]}),r.jsx(ir,{value:"relatorios",children:r.jsx(f9,{})})]}),r.jsx(E4,{mode:"create",open:N,onOpenChange:P,onSuccess:()=>{B(),O(),P(!1)}}),r.jsx(A4,{open:k,onOpenChange:E,convenioId:d?.id||"",onSuccess:()=>{}})]})}const Pv=({open:e,onOpenChange:t,onSuccess:n,totalRevenue:a=0})=>{const{openCashRegister:s,lastClosingAmount:i}=Zo(),{user:d}=Ss(),[c,u]=v.useState(""),[h,m]=v.useState(new Date);v.useEffect(()=>{if(e){m(new Date);const N=a>0?a:i||0;u(N>0?N.toFixed(2):"")}},[e,i,a]),v.useEffect(()=>{if(!e)return;const N=setInterval(()=>m(new Date),6e4);return()=>clearInterval(N)},[e]);const[g,w]=v.useState(!1),[p,S]=v.useState(null),j=async()=>{S(null),w(!0);try{const N=d?.name||"";if(!N)throw new Error("Operador no identificado. Faa login novamente.");const P=c?Number(c):i||0;if(isNaN(P)||P<0)throw new Error("Valor invlido. Informe um valor maior ou igual a zero.");await s(P,N),t(!1),n&&n()}catch(N){S(N.message||"Erro ao abrir caixa. Tente novamente."),console.error("Erro ao abrir caixa:",N)}finally{w(!1)}};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-md",children:[r.jsxs(Er,{children:[r.jsxs(Ar,{className:"flex items-center gap-2",children:[r.jsx(Ca,{className:"h-5 w-5 text-primary"}),"Abertura de Caixa"]}),r.jsx(Ua,{children:"Confirme os dados para iniciar o turno."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-1.5 p-3 bg-muted/40 rounded-lg border border-border/50",children:[r.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground flex items-center gap-1",children:[r.jsx(Ca,{className:"h-3 w-3"})," Data"]}),r.jsx("div",{className:"text-sm font-semibold",children:wt(h,"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 p-3 bg-muted/40 rounded-lg border border-border/50",children:[r.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground flex items-center gap-1",children:[r.jsx(Nl,{className:"h-3 w-3"})," Hora"]}),r.jsx("div",{className:"text-sm font-semibold",children:wt(h,"HH:mm")})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 p-3 bg-blue-50/50 rounded-lg border border-blue-100/50",children:[r.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-wider text-blue-600 flex items-center gap-1",children:[r.jsx(ep,{className:"h-3 w-3"})," Operador"]}),r.jsx("div",{className:"text-sm font-bold text-blue-900",children:d?.name||"No identificado"})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-sm font-medium",htmlFor:"openingAmount",children:"Valor de Abertura (Fundo de Caixa)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"R$"}),r.jsx(Fe,{id:"openingAmount",type:"number",min:0,step:"0.01",className:"pl-10 h-12 text-lg font-bold",value:c,onChange:N=>u(N.target.value),placeholder:i>0?i.toFixed(2):"0.00"})]}),r.jsx("p",{className:"text-xs text-muted-foreground bg-muted/30 p-2 rounded border border-dashed",children:a>0?`Sugerido: R$ ${a.toFixed(2)} (receita total em caixa).`:i>0?`Sugerido: R$ ${i.toFixed(2)} (ltimo fechamento).`:"Nenhum valor sugerido. Informe o valor inicial."})]}),p&&r.jsx("div",{className:"rounded-md bg-destructive/10 p-3 border border-destructive/20",children:r.jsx("p",{className:"text-sm text-destructive font-medium",children:p})})]}),r.jsxs(un,{className:"flex justify-end gap-2 sm:gap-0 sm:space-x-2",children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),disabled:g,children:"Cancelar"}),r.jsx(Ne,{onClick:j,disabled:g,className:"px-8",children:g?"Abrindo...":"Abrir Caixa"})]})]})})},BC=({isOpen:e,onClose:t,summaryData:n,onSuccess:a})=>{const[s,i]=v.useState(1),[d,c]=v.useState(""),[u,h]=v.useState(""),[m,g]=v.useState(!1),[w,p]=v.useState(null),[S,j]=v.useState(null),[N,P]=v.useState(!1),{toast:k}=Hr(),E=n||S;ft.useEffect(()=>{e&&!n&&!S&&(async()=>{try{P(!0);const te=await rt.get("/cash-register/summary");j(te)}catch(te){k({title:"Erro ao carregar dados",description:te.message||"Erro de conexo",variant:"destructive"}),t()}finally{P(!1)}})()},[e,n]);const O=async()=>{if(d)try{g(!0);const W=await rt.post("/cash-register/close",{actualAmount:Number(d),notes:u});p(W.session),i(3),k({title:"Caixa encerrado com sucesso!"})}catch(W){k({title:"Erro ao encerrar caixa",description:W.message||"Tente novamente",variant:"destructive"})}finally{g(!1)}},B=async W=>{try{const te=await rt.get(`/cash-register/report/${w.id}/${W}`,{responseType:"blob"}),K=window.URL.createObjectURL(new Blob([te])),oe=document.createElement("a");oe.href=K,oe.setAttribute("download",`fechamento_${w.id.substring(0,8)}.${W==="thermal"?"txt":W}`),document.body.appendChild(oe),oe.click(),oe.remove()}catch{k({title:"Erro ao baixar arquivo",variant:"destructive"})}};if(!e||N&&!E||!E)return null;const ae=Number(d)-E.totals.saldoFinalEsperado;return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[500px]",children:[s===1&&r.jsxs(r.Fragment,{children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:"Encerrar Turno"}),r.jsx(Ua,{children:"Confira os valores e informe o montante real em dinheiro no caixa."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Saldo Inicial:"}),r.jsxs("span",{className:"font-medium",children:["R$ ",E.totals.saldoInicial.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Receitas do Turno (+):"}),r.jsxs("span",{className:"font-medium text-emerald-600",children:["R$ ",E.totals.receitas.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Suprimentos (+):"}),r.jsxs("span",{className:"font-medium text-emerald-600",children:["R$ ",E.totals.suprimentos.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Sangrias (-):"}),r.jsxs("span",{className:"font-medium text-rose-600",children:["R$ ",E.totals.sangrias.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2 font-bold",children:[r.jsx("span",{children:"Valor Esperado:"}),r.jsxs("span",{children:["R$ ",E.totals.saldoFinalEsperado.toFixed(2)]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"actual",children:"Valor Real em Caixa (Dinheiro + Outros)"}),r.jsx(Fe,{id:"actual",type:"number",placeholder:"0,00",value:d,onChange:W=>c(W.target.value),autoFocus:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"notes",children:"Observaes do Fechamento"}),r.jsx(ea,{id:"notes",placeholder:"Justifique eventuais diferenas...",value:u,onChange:W=>h(W.target.value)})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:t,children:"Cancelar"}),r.jsx(Ne,{onClick:()=>i(2),disabled:!d,children:"Continuar"})]})]}),s===2&&r.jsxs(r.Fragment,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Confirmar Diferena"})}),r.jsxs("div",{className:"py-6 text-center space-y-4",children:[ae===0?r.jsxs("div",{className:"flex flex-col items-center gap-2 text-emerald-600",children:[r.jsx(Mh,{className:"h-12 w-12"}),r.jsx("p",{className:"font-bold text-lg",children:"Valores batem perfeitamente!"})]}):r.jsxs("div",{className:"flex flex-col items-center gap-2 text-amber-600",children:[r.jsx(Zm,{className:"h-12 w-12"}),r.jsxs("p",{className:"font-bold text-lg",children:["Existe uma diferena de R$ ",ae.toFixed(2)]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ae>0?"Sobra de caixa detectada.":"Falta de caixa detectada."})]}),r.jsx("p",{className:"text-sm px-4",children:"Ao confirmar, a sesso ser encerrada e o relatrio final ser gerado. Esta ao no pode ser desfeita."})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>i(1),disabled:m,children:"Voltar"}),r.jsx(Ne,{onClick:O,disabled:m,className:"bg-emerald-600 hover:bg-emerald-700",children:m?"Encerrando...":"Confirmar e Encerrar"})]})]}),s===3&&r.jsxs(r.Fragment,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Fechamento Concludo"})}),r.jsxs("div",{className:"py-8 text-center space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center gap-2 text-emerald-600",children:[r.jsx(Mh,{className:"h-16 w-16"}),r.jsx("h3",{className:"text-xl font-bold",children:"Tudo Pronto!"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 px-4",children:[r.jsxs(Ne,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>B("pdf"),children:[r.jsx(xd,{className:"h-5 w-5"}),r.jsx("span",{children:"PDF A4"})]}),r.jsxs(Ne,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>B("thermal"),children:[r.jsx(Pc,{className:"h-5 w-5"}),r.jsx("span",{children:"Trmico 80mm"})]}),r.jsxs(Ne,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>B("xml"),children:[r.jsx(rs,{className:"h-5 w-5"}),r.jsx("span",{children:"XML Contbil"})]}),r.jsxs(Ne,{variant:"outline",className:"flex-col h-20 gap-1",onClick:()=>{a(),t()},children:[r.jsx(Bv,{className:"h-5 w-5"}),r.jsx("span",{children:"Ver Histrico"})]})]})]}),r.jsx(un,{children:r.jsx(Ne,{className:"w-full",onClick:()=>{a(),t()},children:"Sair"})})]})]})})},p9=({isOpen:e,onClose:t,type:n,sessionId:a,onSuccess:s})=>{const[i,d]=v.useState(""),[c,u]=v.useState(""),[h,m]=v.useState(!1),{toast:g}=Hr(),w=async p=>{if(p.preventDefault(),!i||Number(i)<=0)return g({title:"Valor invlido",variant:"destructive"});try{m(!0),await rt.post("/cash-register/transaction",{sessionId:a,type:n,amount:Number(i),description:c}),g({title:`${n==="sangria"?"Sangria":"Suprimento"} realizada`,description:`O valor de R$ ${Number(i).toFixed(2)} foi registrado.`}),d(""),u(""),s()}catch(S){g({title:"Erro ao registrar operao",description:S.response?.data?.error||"Tente novamente mais tarde",variant:"destructive"})}finally{m(!1)}};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[425px]",children:[r.jsxs(Er,{children:[r.jsx(Ar,{className:"flex items-center gap-2",children:n==="sangria"?r.jsxs(r.Fragment,{children:[r.jsx(Nb,{className:"h-5 w-5 text-rose-500"})," Registrar Sangria"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fx,{className:"h-5 w-5 text-emerald-500"})," Registrar Suprimento"]})}),r.jsx(Ua,{children:n==="sangria"?"Retirada de valores do caixa para despesas ou transferncias.":"Adio de valores ao caixa para troco ou reforo de saldo."})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"amount",children:"Valor (R$)"}),r.jsx(Fe,{id:"amount",type:"number",step:"0.01",placeholder:"0,00",value:i,onChange:p=>d(p.target.value),required:!0,autoFocus:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"desc",children:"Observao / Motivo"}),r.jsx(ea,{id:"desc",placeholder:"Ex: Pagamento de fornecedor, Troco inicial...",value:c,onChange:p=>u(p.target.value),rows:3})]}),r.jsxs(un,{children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:t,disabled:h,children:"Cancelar"}),r.jsx(Ne,{type:"submit",className:n==="sangria"?"bg-rose-600 hover:bg-rose-700":"bg-emerald-600 hover:bg-emerald-700",disabled:h,children:h?"Registrando...":"Confirmar"})]})]})]})})},g9=({onSessionClose:e})=>{const[t,n]=v.useState(!0),[a,s]=v.useState(null),{toast:i}=Hr(),[d,c]=v.useState(!1),[u,h]=v.useState("sangria"),[m,g]=v.useState(!1),[w,p]=v.useState(!1),S=async()=>{try{n(!0);const B=await rt.get("/cash-register/summary");s(B)}catch(B){console.error("Error fetching summary:",B),B.status===404||B.message?.includes("404")?s(null):i({title:"Erro ao carregar resumo",description:B.message||"Erro de conexo",variant:"destructive"})}finally{n(!1)}};v.useEffect(()=>{S()},[]);const j=()=>{c(!1),S()},N=()=>{g(!1),S(),e&&e()},P=()=>{p(!1),S()};if(t)return r.jsx("div",{className:"p-8 text-center bg-card rounded-lg border border-dashed",children:"Carregando resumo financeiro..."});if(!a)return r.jsx(Rt,{className:"border-dashed",children:r.jsxs(Dt,{className:"py-12 flex flex-col items-center justify-center text-center space-y-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:r.jsx(md,{className:"h-6 w-6 text-muted-foreground"})}),r.jsxs("div",{className:"max-w-xs",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Caixa Fechado"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No h um turno aberto no momento. Abra o caixa para gerenciar operaes."}),r.jsxs(Ne,{onClick:()=>p(!0),className:"bg-emerald-600 hover:bg-emerald-700 w-full",children:[r.jsx(xu,{className:"mr-2 h-4 w-4"})," Abrir Caixa"]})]}),r.jsx(Pv,{open:w,onOpenChange:p,onSuccess:P})]})});const k=a?.session||{},E=a?.totals||{saldoInicial:0,receitas:0,suprimentos:0,sangrias:0,saldoFinalEsperado:0,porCategoria:{mensalista:0,avulso:0,convenio:0}},O=a?.stats||{totalVeiculos:0,ticketMedio:0,tempoMedio:0,picoMovimento:"N/A"};return r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[r.jsx(Rt,{className:"border-l-4 border-l-blue-500 overflow-hidden",children:r.jsxs(Dt,{className:"py-4 flex flex-wrap gap-8 items-center text-sm bg-blue-50/30",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nl,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"font-semibold",children:"Abertura:"}),r.jsx("span",{children:k?.opened_at?wt(new Date(k.opened_at),"dd/MM 's' HH:mm",{locale:ur}):"N/A"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rs,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"font-semibold",children:"Operador:"}),r.jsx("span",{children:k?.operator_name||"N/A"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(md,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"font-semibold",children:"Status:"}),r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs font-bold uppercase tracking-wider",children:"Aberto"})]}),r.jsxs("div",{className:"ml-auto flex gap-2",children:[r.jsxs(Ne,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"border-emerald-600 text-emerald-600 hover:bg-emerald-50",disabled:!!k,children:[r.jsx(xu,{className:"mr-2 h-4 w-4"})," Abrir Caixa"]}),r.jsxs(Ne,{onClick:()=>g(!0),variant:"default",size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Mx,{className:"mr-2 h-4 w-4"})," Finalizar Turno"]})]})]})}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsxs(Rt,{className:"shadow-sm border-gray-100",children:[r.jsx(gr,{className:"pb-2",children:r.jsx(xr,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Saldo Inicial"})}),r.jsxs(Dt,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",E.saldoInicial.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium",children:"Fundo de reserva"})]})]}),r.jsxs(Rt,{className:"shadow-sm border-emerald-100 bg-emerald-50/20",children:[r.jsx(gr,{className:"pb-2",children:r.jsx(xr,{className:"text-xs font-medium text-emerald-700 uppercase tracking-wider",children:"Total Entradas"})}),r.jsxs(Dt,{children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:["R$ ",(E.receitas+E.suprimentos).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsx("p",{className:"text-[10px] text-emerald-600/70 mt-1 font-medium",children:"Receitas + Suprimentos"})]})]}),r.jsxs(Rt,{className:"shadow-sm border-rose-100 bg-rose-50/20",children:[r.jsx(gr,{className:"pb-2",children:r.jsx(xr,{className:"text-xs font-medium text-rose-700 uppercase tracking-wider",children:"Total Sadas"})}),r.jsxs(Dt,{children:[r.jsxs("div",{className:"text-2xl font-bold text-rose-600",children:["R$ ",E.sangrias.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsx("p",{className:"text-[10px] text-rose-600/70 mt-1 font-medium",children:"Total de Sangrias"})]})]}),r.jsxs(Rt,{className:"bg-blue-600 text-white border-none shadow-md",children:[r.jsx(gr,{className:"pb-2",children:r.jsx(xr,{className:"text-xs font-medium opacity-80 uppercase tracking-wider",children:"Saldo em Caixa"})}),r.jsxs(Dt,{children:[r.jsxs("div",{className:"text-3xl font-black",children:["R$ ",E.saldoFinalEsperado.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsx("p",{className:"text-[10px] opacity-70 mt-1 font-medium",children:"Estimativa atual"})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(Rt,{className:"shadow-sm border-gray-100",children:[r.jsxs(gr,{children:[r.jsxs(xr,{className:"flex items-center gap-2 text-lg",children:[r.jsx(VP,{className:"h-5 w-5 text-blue-500"}),"Aes de Caixa"]}),r.jsx(pn,{children:"Movimentaes avulsas durante o turno"})]}),r.jsxs(Dt,{className:"grid grid-cols-2 gap-4",children:[r.jsxs(Ne,{variant:"outline",className:"h-28 flex-col gap-2 hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200 transition-all border-dashed",onClick:()=>{h("sangria"),c(!0)},children:[r.jsx(Nb,{className:"h-8 w-8"}),r.jsx("span",{className:"font-bold",children:"Sangria"}),r.jsx("span",{className:"text-[10px] opacity-70",children:"Sada de valor"})]}),r.jsxs(Ne,{variant:"outline",className:"h-28 flex-col gap-2 hover:bg-emerald-50 hover:text-emerald-600 hover:border-emerald-200 transition-all border-dashed",onClick:()=>{h("suprimento"),c(!0)},children:[r.jsx(Fx,{className:"h-8 w-8"}),r.jsx("span",{className:"font-bold",children:"Suprimento"}),r.jsx("span",{className:"text-[10px] opacity-70",children:"Aporte de valor"})]})]})]}),r.jsxs(Rt,{className:"shadow-sm border-gray-100",children:[r.jsx(gr,{className:"pb-4",children:r.jsxs(xr,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Mx,{className:"h-5 w-5 text-blue-500"}),"Faturamento por Categoria"]})}),r.jsxs(Dt,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-md",children:[r.jsx("span",{className:"text-sm font-medium",children:"Mensalistas"}),r.jsxs("span",{className:"font-bold",children:["R$ ",E.porCategoria.mensalista.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-md",children:[r.jsx("span",{className:"text-sm font-medium",children:"Avulsos"}),r.jsxs("span",{className:"font-bold",children:["R$ ",E.porCategoria.avulso.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-md",children:[r.jsx("span",{className:"text-sm font-medium",children:"Convnios"}),r.jsxs("span",{className:"font-bold",children:["R$ ",E.porCategoria.convenio.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between items-center py-3 px-3 mt-4 border-t-2 border-primary/10",children:[r.jsx("span",{className:"font-bold text-primary",children:"Total em Operaes"}),r.jsxs("span",{className:"font-black text-primary text-xl",children:["R$ ",E.receitas.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[r.jsx(md,{className:"h-5 w-5 text-blue-500"}),"Indicadores do Turno"]}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsx(Rt,{className:"border-none bg-blue-50/40 shadow-none",children:r.jsxs(Dt,{className:"pt-6 text-center",children:[r.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:r.jsx(Ho,{className:"h-5 w-5 text-blue-500"})}),r.jsx("div",{className:"text-2xl font-black text-blue-700",children:O.totalVeiculos}),r.jsx("div",{className:"text-[11px] font-bold text-blue-600/70 uppercase tracking-tighter",children:"Veculos"})]})}),r.jsx(Rt,{className:"border-none bg-emerald-50/40 shadow-none",children:r.jsxs(Dt,{className:"pt-6 text-center",children:[r.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:r.jsx(xu,{className:"h-5 w-5 text-emerald-500"})}),r.jsxs("div",{className:"text-2xl font-black text-emerald-700",children:["R$ ",O.ticketMedio.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),r.jsx("div",{className:"text-[11px] font-bold text-emerald-600/70 uppercase tracking-tighter",children:"Ticket Mdio"})]})}),r.jsx(Rt,{className:"border-none bg-indigo-50/40 shadow-none",children:r.jsxs(Dt,{className:"pt-6 text-center",children:[r.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:r.jsx(Nl,{className:"h-5 w-5 text-indigo-500"})}),r.jsxs("div",{className:"text-2xl font-black text-indigo-700",children:[Math.floor(O.tempoMedio/60),"h ",Math.round(O.tempoMedio%60),"m"]}),r.jsx("div",{className:"text-[11px] font-bold text-indigo-600/70 uppercase tracking-tighter",children:"Permanncia"})]})}),r.jsx(Rt,{className:"border-none bg-amber-50/40 shadow-none",children:r.jsxs(Dt,{className:"pt-6 text-center",children:[r.jsx("div",{className:"bg-white h-10 w-10 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm",children:r.jsx(Fx,{className:"h-5 w-5 text-amber-500"})}),r.jsx("div",{className:"text-2xl font-black text-amber-700",children:O.picoMovimento}),r.jsx("div",{className:"text-[11px] font-bold text-amber-600/70 uppercase tracking-tighter",children:"Pico (Horas)"})]})})]})]}),r.jsx(p9,{isOpen:d,onClose:()=>c(!1),type:u,sessionId:k.id,onSuccess:j}),r.jsx(BC,{isOpen:m,onClose:()=>g(!1),summaryData:a,onSuccess:N}),r.jsx(Pv,{open:w,onOpenChange:p,onSuccess:P})]})};var Bp="DropdownMenu",[x9]=va(Bp,[Dp]),ss=Dp(),[v9,zC]=x9(Bp),UC=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:d,modal:c=!0}=e,u=ss(t),h=v.useRef(null),[m,g]=vo({prop:s,defaultProp:i??!1,onChange:d,caller:Bp});return r.jsx(v9,{scope:t,triggerId:go(),triggerRef:h,contentId:go(),open:m,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(w=>!w),[g]),modal:c,children:r.jsx(AS,{...u,open:m,onOpenChange:g,dir:a,modal:c,children:n})})};UC.displayName=Bp;var qC="DropdownMenuTrigger",VC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,i=zC(qC,n),d=ss(n);return r.jsx(TS,{asChild:!0,...d,children:r.jsx(Lt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Gm(t,i.triggerRef),onPointerDown:ot(e.onPointerDown,c=>{!a&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:ot(e.onKeyDown,c=>{a||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});VC.displayName=qC;var y9="DropdownMenuPortal",HC=e=>{const{__scopeDropdownMenu:t,...n}=e,a=ss(t);return r.jsx(RS,{...a,...n})};HC.displayName=y9;var WC="DropdownMenuContent",GC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=zC(WC,n),i=ss(n),d=v.useRef(!1);return r.jsx(DS,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:ot(e.onCloseAutoFocus,c=>{d.current||s.triggerRef.current?.focus(),d.current=!1,c.preventDefault()}),onInteractOutside:ot(e.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,m=u.button===2||h;(!s.modal||m)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GC.displayName=WC;var w9="DropdownMenuGroup",b9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(LS,{...s,...a,ref:t})});b9.displayName=w9;var j9="DropdownMenuLabel",YC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(MS,{...s,...a,ref:t})});YC.displayName=j9;var N9="DropdownMenuItem",KC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(FS,{...s,...a,ref:t})});KC.displayName=N9;var S9="DropdownMenuCheckboxItem",JC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(OS,{...s,...a,ref:t})});JC.displayName=S9;var C9="DropdownMenuRadioGroup",_9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(IS,{...s,...a,ref:t})});_9.displayName=C9;var P9="DropdownMenuRadioItem",XC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx($S,{...s,...a,ref:t})});XC.displayName=P9;var k9="DropdownMenuItemIndicator",QC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(BS,{...s,...a,ref:t})});QC.displayName=k9;var E9="DropdownMenuSeparator",ZC=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(zS,{...s,...a,ref:t})});ZC.displayName=E9;var A9="DropdownMenuArrow",T9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(US,{...s,...a,ref:t})});T9.displayName=A9;var R9="DropdownMenuSubTrigger",e3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(qS,{...s,...a,ref:t})});e3.displayName=R9;var D9="DropdownMenuSubContent",t3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=ss(n);return r.jsx(VS,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t3.displayName=D9;var L9=UC,M9=VC,F9=HC,r3=GC,n3=YC,a3=KC,s3=JC,o3=XC,i3=QC,l3=ZC,c3=e3,d3=t3;const O9=L9,I9=M9,$9=v.forwardRef(({className:e,inset:t,children:n,...a},s)=>r.jsxs(c3,{ref:s,className:xt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...a,children:[n,r.jsx(Ov,{className:"ml-auto h-4 w-4"})]}));$9.displayName=c3.displayName;const B9=v.forwardRef(({className:e,...t},n)=>r.jsx(d3,{ref:n,className:xt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));B9.displayName=d3.displayName;const u3=v.forwardRef(({className:e,sideOffset:t=4,...n},a)=>r.jsx(F9,{children:r.jsx(r3,{ref:a,sideOffset:t,className:xt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));u3.displayName=r3.displayName;const Cm=v.forwardRef(({className:e,inset:t,...n},a)=>r.jsx(a3,{ref:a,className:xt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Cm.displayName=a3.displayName;const z9=v.forwardRef(({className:e,children:t,checked:n,...a},s)=>r.jsxs(s3,{ref:s,className:xt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i3,{children:r.jsx(Xm,{className:"h-4 w-4"})})}),t]}));z9.displayName=s3.displayName;const U9=v.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(o3,{ref:a,className:xt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i3,{children:r.jsx($v,{className:"h-2 w-2 fill-current"})})}),t]}));U9.displayName=o3.displayName;const q9=v.forwardRef(({className:e,inset:t,...n},a)=>r.jsx(n3,{ref:a,className:xt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));q9.displayName=n3.displayName;const V9=v.forwardRef(({className:e,...t},n)=>r.jsx(l3,{ref:n,className:xt("-mx-1 my-1 h-px bg-muted",e),...t}));V9.displayName=l3.displayName;const H9=()=>{const[e,t]=v.useState(!0),[n,a]=v.useState([]),[s,i]=v.useState(""),{toast:d}=Hr(),c=async()=>{try{t(!0);const m=await rt.get("/cash-register/history");a(m)}catch{d({title:"Erro ao carregar histrico",variant:"destructive"})}finally{t(!1)}};v.useEffect(()=>{c()},[]);const u=async(m,g)=>{try{const w=await rt.get(`/cash-register/report/${m}/${g}`,{responseType:"blob"}),p=window.URL.createObjectURL(new Blob([w])),S=document.createElement("a");S.href=p,S.setAttribute("download",`fechamento_${m.substring(0,8)}.${g==="thermal"?"txt":g}`),document.body.appendChild(S),S.click(),S.remove()}catch{d({title:"Erro ao baixar arquivo",variant:"destructive"})}},h=n.filter(m=>(m.operator_name||"").toLowerCase().includes(s.toLowerCase())||wt(new Date(m.closed_at),"dd/MM/yyyy").includes(s));return r.jsxs(Rt,{className:"shadow-sm border-gray-100",children:[r.jsx(gr,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs(xr,{className:"text-xl flex items-center gap-2",children:[r.jsx(Bv,{className:"h-5 w-5 text-blue-500"}),"Histrico de Turnos"]}),r.jsx(pn,{children:"Consulte fechamentos passados e re-emita relatrios"})]}),r.jsxs("div",{className:"relative w-full md:w-72",children:[r.jsx(Ab,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Fe,{placeholder:"Buscar por operador ou data...",className:"pl-10",value:s,onChange:m=>i(m.target.value)})]})]})}),r.jsx(Dt,{children:e?r.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("span",{className:"text-muted-foreground",children:"Carregando histrico..."})]}):h.length===0?r.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-2",children:[r.jsx(Ca,{className:"h-10 w-10 text-muted/30"}),r.jsx("span",{className:"text-muted-foreground font-medium",children:"Nenhum fechamento encontrado."})]}):r.jsx("div",{className:"border rounded-md overflow-hidden bg-white",children:r.jsxs(Wo,{children:[r.jsx(Go,{className:"bg-muted/50",children:r.jsxs(sn,{children:[r.jsx(Ht,{className:"w-[120px]",children:"Relatrio"}),r.jsx(Ht,{children:"Data / Hora"}),r.jsx(Ht,{children:"Operador"}),r.jsx(Ht,{children:"Valor em Caixa"}),r.jsx(Ht,{children:"Diferena"}),r.jsx(Ht,{className:"text-right",children:"Aes"})]})}),r.jsx(Yo,{children:h.map(m=>r.jsxs(sn,{className:"hover:bg-muted/30 transition-colors",children:[r.jsxs(Mt,{className:"font-bold text-primary",children:["#",m.report_sequential_number||m.id.substring(0,6)]}),r.jsx(Mt,{children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:wt(new Date(m.closed_at),"dd/MM/yyyy")}),r.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-tight",children:m?.opened_at&&m?.closed_at?`${wt(new Date(m.opened_at),"HH:mm")}  ${wt(new Date(m.closed_at),"HH:mm")}`:"N/A"})]})}),r.jsx(Mt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 text-xs font-black ring-2 ring-white",children:m?.operator_name?.[0]||"?"}),r.jsx("span",{className:"text-sm font-medium",children:m?.operator_name||"N/A"})]})}),r.jsx(Mt,{children:r.jsxs("span",{className:"font-bold text-gray-900",children:["R$ ",Number(m.actual_amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),r.jsx(Mt,{children:r.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-black uppercase ${m.difference===0?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:m.difference===0?"Exato":`R$ ${Number(m.difference).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})}),r.jsx(Mt,{className:"text-right",children:r.jsxs(O9,{children:[r.jsx(I9,{asChild:!0,children:r.jsxs(Ne,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[r.jsx(xd,{className:"h-3 w-3 mr-2"})," Relatrios"]})}),r.jsxs(u3,{align:"end",className:"w-56",children:[r.jsxs(Cm,{onClick:()=>u(m.id,"pdf"),children:[r.jsx(rs,{className:"h-4 w-4 mr-2 text-red-500"})," PDF Formal (A4)"]}),r.jsxs(Cm,{onClick:()=>u(m.id,"thermal"),children:[r.jsx(Pc,{className:"h-4 w-4 mr-2 text-blue-500"})," Trmico (80mm)"]}),r.jsxs(Cm,{onClick:()=>u(m.id,"xml"),children:[r.jsx(rs,{className:"h-4 w-4 mr-2 text-emerald-500"})," XML Contbil"]})]})]})})]},m.id))})]})})})]})},Fw=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Maro"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}];function W9({open:e,onOpenChange:t,onConfirm:n}){const a=new Date,s=a.getFullYear(),i=a.getMonth()+1,d=i===1?12:i-1,c=i===1?s-1:s,[u,h]=v.useState(d),[m,g]=v.useState(c),[w,p]=v.useState(!0),[S,j]=v.useState(!1),N=[s,s-1,s-2],P=async()=>{j(!0);try{await n({month:u,year:m,clearOperational:w}),t(!1)}catch(E){console.error("Error in dialog:",E)}finally{j(!1)}},k=Fw.find(E=>E.value===u)?.label||"";return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"sm:max-w-[500px]",children:[r.jsxs(Er,{children:[r.jsxs(Ar,{className:"flex items-center gap-2",children:[r.jsx(rs,{className:"h-5 w-5"}),"Gerar Relatrio Mensal"]}),r.jsx(Ua,{children:"Encerre o ciclo financeiro mensal e gere um relatrio completo."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"month",children:"Ms de Referncia"}),r.jsxs(vr,{value:u.toString(),onValueChange:E=>h(Number(E)),children:[r.jsx(fr,{id:"month",children:r.jsx(yr,{placeholder:"Selecione o ms"})}),r.jsx(mr,{children:Fw.map(E=>r.jsx(Qe,{value:E.value.toString(),children:E.label},E.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"year",children:"Ano"}),r.jsxs(vr,{value:m.toString(),onValueChange:E=>g(Number(E)),children:[r.jsx(fr,{id:"year",children:r.jsx(yr,{placeholder:"Selecione o ano"})}),r.jsx(mr,{children:N.map(E=>r.jsx(Qe,{value:E.toString(),children:E},E))})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Ac,{id:"clearOperational",checked:w,onCheckedChange:E=>p(E)}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(xe,{htmlFor:"clearOperational",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Limpar registros operacionais"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove todos os tickets (entrada/sada) do perodo aps arquivamento. Recomendado para iniciar novo ciclo mensal."})]})]}),r.jsxs(ki,{children:[r.jsx(md,{className:"h-4 w-4"}),r.jsxs(Ei,{children:[r.jsx("strong",{children:"Ateno:"})," Esta ao ir:",r.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1 text-sm",children:[r.jsxs("li",{children:["Arquivar todos os dados financeiros de"," ",r.jsxs("strong",{children:[k,"/",m]})]}),r.jsx("li",{children:"Gerar relatrio completo com receitas e despesas"}),r.jsx("li",{children:"Salvar snapshot de todos os pagamentos e tickets"}),w&&r.jsxs("li",{className:"text-orange-600 dark:text-orange-400",children:[r.jsx("strong",{children:"Limpar tabela operacional"})," (tickets de entrada/sada)"]})]}),r.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Apenas um relatrio por ms pode ser gerado. Certifique-se de que todos os lanamentos do perodo foram registrados."})]})]})]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>t(!1),disabled:S,children:"Cancelar"}),r.jsx(Ne,{onClick:P,disabled:S,className:"min-w-[120px]",children:S?r.jsxs(r.Fragment,{children:[r.jsx(Sb,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rs,{className:"mr-2 h-4 w-4"}),"Gerar Relatrio"]})})]})]})})}const _h="dd/mm/aaaa",h3=e=>{if(!e)return"";const[t]=e.split("T");return/^\d{4}-\d{2}-\d{2}$/.test(t)?t:""},kv=e=>{if(!e)return"";if(e.includes("/"))return e;const t=h3(e);if(!t)return"";const[n,a,s]=t.split("-");return!n||!a||!s?"":`${s}/${a}/${n}`},po=e=>{if(!e)return"";if(e.includes("-")&&/^\d{4}-\d{2}-\d{2}/.test(e))return h3(e);const t=e.replace(/\D/g,"").slice(0,8);if(t.length!==8)return"";const n=t.slice(0,2),a=t.slice(2,4);return`${t.slice(4,8)}-${a}-${n}`},Ph=e=>{const t=e.replace(/\D/g,"").slice(0,8);return t.length<=2?t:t.length<=4?`${t.slice(0,2)}/${t.slice(2)}`:`${t.slice(0,2)}/${t.slice(2,4)}/${t.slice(4)}`},G9=e=>{const t=po(e);if(!t)return null;const[n,a,s]=t.split("-").map(d=>Number(d));if(!n||!a||!s)return null;const i=new Date(n,a-1,s);return i.setHours(0,0,0,0),i},Y9=e=>{if(!e.isRecurring)return"No";const t=e.recurringFrequency||"monthly";return t==="monthly"?"Mensal":t==="weekly"?"Semanal":"Anual"},dm=e=>{const t=e.isRecurring?e.recurringFrequency||"monthly":null;return{...e,dueDate:kv(e.dueDate),paymentDate:e.paymentDate?kv(e.paymentDate):null,recurringFrequency:t}},Cx=e=>({...e,date:kv(e.date)}),Ow=e=>{const t=po(e.dueDate);if(!t)throw new Error("Data de vencimento invlida. Utilize o formato dd/mm/aaaa.");const n=e.paymentDate&&po(e.paymentDate)?po(e.paymentDate):null;if(e.paymentDate&&!n)throw new Error("Data de pagamento invlida. Utilize o formato dd/mm/aaaa.");const a=e.isRecurring?e.recurringFrequency||"monthly":null;return{name:e.name,value:e.value,dueDate:t,paymentDate:n,category:e.category,isRecurring:e.isRecurring,recurringFrequency:a,notes:e.notes}},K9=e=>{const t=po(e.date);if(!t)throw new Error("Data da receita invlida. Utilize o formato dd/mm/aaaa.");return{description:e.description,value:e.value,date:t,category:e.category,status:e.status,notes:e.notes}};function J9(){const{toast:e}=Hr(),{cashIsOpen:t,cashSession:n,openCashRegister:a,getAvulsoRevenue:s,getMonthlyRevenue:i,getTotalRevenue:d}=Zo(),{hasPermission:c}=Ss(),[u,h]=v.useState([]),[m,g]=v.useState([]),[w,p]=v.useState([]),[S,j]=v.useState([]),[N,P]=v.useState(""),[k,E]=v.useState(""),[O,B]=v.useState(!1),[ae,W]=v.useState(!1),[te,K]=v.useState(!1),[oe,L]=v.useState(null),[F,z]=v.useState(null),[q,ge]=v.useState(!1),[fe,ye]=v.useState(null),[U,$]=v.useState(null);v.useEffect(()=>{(async()=>{try{ge(!0);const Me=po(N),ze=po(k),Ye=Me&&ze?{start:Me,end:ze}:void 0;console.log("[Financeiro] Loading financial data with filters:",Ye);const[ht,dt,Yt,Vt]=await Promise.all([rt.getFinancialReport(Ye).catch(vt=>{throw console.error("[Financeiro] Error fetching financial report:",vt),vt}),rt.getExpenses(Ye).catch(vt=>(console.error("[Financeiro] Error fetching expenses:",vt),(vt.message?.includes("expenses")||vt.message?.includes("table")||vt.message?.includes("schema cache"))&&console.warn("[Financeiro] Expenses table not found. Please run CREATE-TABLES-FINANCEIRO.sql in Supabase."),[])),rt.getManualRevenues(Ye).catch(vt=>(console.error("[Financeiro] Error fetching manual revenues:",vt),(vt.message?.includes("manual_revenues")||vt.message?.includes("table")||vt.message?.includes("schema cache"))&&console.warn("[Financeiro] Manual revenues table not found. Please run CREATE-TABLES-FINANCEIRO.sql in Supabase."),[])),rt.getConveniosRelatoriosFaturas({status:"paga",data_inicio:Me,data_fim:ze}).catch(vt=>(console.error("[Financeiro] Error fetching convenios invoices:",vt),[]))]);console.log("[Financeiro] Report received:",{hasReport:!!ht,paymentsCount:ht?.payments?.length||0,total:ht?.total||0});const Wt=ht?.payments||[],Gt=vt=>vt==="monthly_customer"?"Mensalista":"Avulso",hr=Wt.map(vt=>({type:Gt(vt.target_type),date:vt.date,value:Number(vt.value)||0}));console.log("[Financeiro] Mapped records:",hr.length),h(hr);const kt=(dt||[]).map(dm);g(kt);const _r=(Yt||[]).map(vt=>{const pr={...vt,status:vt.status||"No Pago",category:vt.category||""};return console.log("[Financeiro] Manual revenue loaded:",{id:pr.id,hasStatus:!!pr.status,hasCategory:!!pr.category}),pr});console.log("[Financeiro] Manual revenues with status:",_r.length);const $t=_r.map(Cx);p($t),j(Vt||[])}catch(Me){console.error("[Financeiro] Failed to load financial data:",Me);const Ye=Me.message?.includes("table")||Me.message?.includes("schema cache")||Me.message?.includes("manual_revenues")||Me.message?.includes("expenses")?"Tabelas no encontradas. Execute o script CREATE-TABLES-FINANCEIRO.sql no Supabase SQL Editor.":Me.message||String(Me);e({title:"Erro ao carregar dados",description:Ye,variant:"destructive"}),h([]),g([]),p([])}finally{ge(!1)}})()},[N,k,e,t,n]),v.useEffect(()=>{if(!t)return;const me=Me=>{Me.preventDefault();try{localStorage.setItem("cash:pendingClose","1")}catch{}return Me.returnValue="",""};return window.addEventListener("beforeunload",me),()=>window.removeEventListener("beforeunload",me)},[t]),v.useEffect(()=>{if((typeof window<"u"?localStorage.getItem("cash:pendingClose"):null)&&t){W(!0);try{localStorage.removeItem("cash:pendingClose")}catch{}}},[t]);const H=po(N),D=po(k),T=H?new Date(H):null,I=D?new Date(`${D}T23:59:59`):null,G=u.filter(me=>{if(!T||!I)return!0;const Me=new Date(me.date);return Me>=T&&Me<=I}),J=G.filter(me=>me.type==="Avulso").reduce((me,Me)=>me+Me.value,0),ce=G.filter(me=>me.type==="Mensalista").reduce((me,Me)=>me+Me.value,0),se=J+ce,pe=v.useMemo(()=>w.reduce((me,Me)=>me+(Me.value||0),0),[w]),le=v.useMemo(()=>m.reduce((me,Me)=>me+(Me.value||0),0),[m]),be=v.useMemo(()=>S.reduce((me,Me)=>me+(Number(Me.valor_total)||0),0),[S]),Ee=se+pe+be,Q=Ee-le,Te=()=>{const me=[["Tipo","Data","Valor"],...G.map(Ye=>[Ye.type,Ye.date,Ye.value.toFixed(2)]),["Total Receitas Estacionamento","",se.toFixed(2)],["Total Receitas Manuais","",pe.toFixed(2)],["Total Receitas Convnios","",be.toFixed(2)],["Total Receitas","",Ee.toFixed(2)],["Total Despesas","",le.toFixed(2)],["Saldo Lquido","",Q.toFixed(2)]].map(Ye=>Ye.join(",")).join(`
`),Me=new Blob([me],{type:"text/csv;charset=utf-8;"}),ze=document.createElement("a");ze.href=URL.createObjectURL(Me),ze.download=`financeiro_${wt(new Date,"dd-MM-yyyy")}.csv`,ze.click(),e({title:"Relatrio exportado",description:"O arquivo CSV foi baixado com sucesso"})},Ve=()=>{const me={id:`new-${Date.now()}`,name:"",value:0,dueDate:wt(new Date,"dd/MM/yyyy"),paymentDate:null,status:"Em dia",category:"Contas",isRecurring:!1,recurringFrequency:null,notes:null};g([...m,me]),L(me.id)},re=(me,Me,ze)=>{g(Ye=>Ye.map(dt=>{if(dt.id!==me)return dt;let Yt=ze;Me==="dueDate"&&typeof ze=="string"&&(Yt=Ph(ze)),Me==="paymentDate"&&(ze?typeof ze=="string"&&(Yt=Ph(ze)):Yt=null);const Vt={...dt,[Me]:Yt};return Me==="isRecurring"&&(Yt?Vt.recurringFrequency=Vt.recurringFrequency||"monthly":Vt.recurringFrequency=null),(Me==="dueDate"||Me==="paymentDate")&&(Vt.status=we(Vt.dueDate,Vt.paymentDate)),Vt}))},we=(me,Me)=>{if(Me?!!po(Me):!1)return"Pago";const Ye=new Date;Ye.setHours(0,0,0,0);const ht=G9(me);if(!ht)return"Em dia";const dt=Math.floor((ht.getTime()-Ye.getTime())/(1e3*60*60*24));return dt<0?"Atrasado":dt<=3?"Perto do Vencimento":"Em dia"},Xe=async me=>{try{const Me=Ow(me);if(me.id.startsWith("new-")){const{id:ze}=me,Ye=await rt.createExpense(Me),ht=dm(Ye);g(dt=>dt.map(Yt=>Yt.id===ze?ht:Yt)),e({title:"Despesa criada",description:"A despesa foi registrada com sucesso"})}else{const{id:ze}=me,Ye=await rt.updateExpense(ze,Me),ht=dm(Ye);g(dt=>dt.map(Yt=>Yt.id===ze?ht:Yt)),e({title:"Despesa atualizada",description:"A despesa foi atualizada com sucesso"})}L(null)}catch(Me){e({title:"Erro",description:Me.message||"No foi possvel salvar a despesa",variant:"destructive"})}},lt=async me=>{try{const Me=wt(new Date,"dd/MM/yyyy"),ze={...me,paymentDate:Me,status:"Pago"};if(me.id.startsWith("new-"))g(Ye=>Ye.map(ht=>ht.id===me.id?ze:ht)),e({title:"Pagamento registrado",description:"A despesa foi marcada como paga"});else{const Ye=Ow(ze),ht=await rt.updateExpense(me.id,Ye),dt=dm(ht);g(Yt=>Yt.map(Vt=>Vt.id===me.id?dt:Vt)),e({title:"Pagamento registrado",description:"A despesa foi marcada como paga"})}}catch(Me){e({title:"Erro",description:Me.message||"No foi possvel registrar o pagamento",variant:"destructive"})}},qe=async me=>{if(confirm("Tem certeza que deseja excluir esta despesa?"))try{me.startsWith("new-")||await rt.deleteExpense(me),g(Me=>Me.filter(ze=>ze.id!==me)),e({title:"Despesa excluda",description:"A despesa foi removida com sucesso"})}catch(Me){e({title:"Erro",description:Me.message||"No foi possvel excluir a despesa",variant:"destructive"})}},st=()=>{const me={id:`new-${Date.now()}`,description:"",value:0,date:wt(new Date,"dd/MM/yyyy"),category:"",status:"No Pago",notes:null};p([...w,me]),z(me.id)},Ze=(me,Me,ze)=>{p(Ye=>Ye.map(ht=>{if(ht.id!==me)return ht;let dt=ze;return Me==="date"&&typeof ze=="string"&&(dt=Ph(ze)),{...ht,[Me]:dt}}))},pt=async me=>{try{const Me=K9(me);if(me.id.startsWith("new-")){const{id:ze}=me,Ye=await rt.createManualRevenue(Me),ht=Cx(Ye);p(dt=>dt.map(Yt=>Yt.id===ze?ht:Yt)),e({title:"Receita criada",description:"A receita foi registrada com sucesso"})}else{const{id:ze}=me,Ye=await rt.updateManualRevenue(ze,Me),ht=Cx(Ye);p(dt=>dt.map(Yt=>Yt.id===ze?ht:Yt)),e({title:"Receita atualizada",description:"A receita foi atualizada com sucesso"})}z(null)}catch(Me){e({title:"Erro",description:Me.message||"No foi possvel salvar a receita",variant:"destructive"})}},ct=async me=>{if(confirm("Tem certeza que deseja excluir esta receita?"))try{me.startsWith("new-")||await rt.deleteManualRevenue(me),p(Me=>Me.filter(ze=>ze.id!==me)),e({title:"Receita excluda",description:"A receita foi removida com sucesso"})}catch(Me){e({title:"Erro",description:Me.message||"No foi possvel excluir a receita",variant:"destructive"})}},zt=me=>{switch(me){case"Pago":return"bg-success/10 text-success";case"Atrasado":return"bg-destructive/10 text-destructive";case"Perto do Vencimento":return"bg-warning/10 text-warning";case"Em dia":return"bg-primary/10 text-primary";default:return"bg-muted text-muted-foreground"}},Se=async me=>{try{const Me=await rt.generateMonthlyReport(me);e({title:"Relatrio mensal gerado!",description:Me.message||"O relatrio foi gerado e arquivado com sucesso."});const ze=po(N),Ye=po(k),ht=ze&&Ye?{start:ze,end:Ye}:void 0,Yt=(await rt.getFinancialReport(ht))?.payments||[],Vt=Gt=>Gt==="monthly_customer"?"Mensalista":"Avulso",Wt=Yt.map(Gt=>({type:Vt(Gt.target_type),date:Gt.date,value:Number(Gt.value)||0}));h(Wt)}catch(Me){throw console.error("Error generating monthly report:",Me),e({title:"Erro ao gerar relatrio",description:Me.message||"No foi possvel gerar o relatrio mensal.",variant:"destructive"}),Me}};return c("viewReports")?r.jsxs("div",{className:"flex-1 p-8",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Financeiro"}),t&&n?.openedAt&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Caixa aberto em"," ",wt(new Date(n.openedAt),"dd/MM/yyyy HH:mm",{locale:ur})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ne,{variant:"outline",onClick:Te,children:[r.jsx(xd,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),r.jsxs(Ne,{variant:"outline",onClick:()=>K(!0),className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio Mensal"]}),c("openCloseCash")&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{onClick:()=>B(!0),className:"bg-green-600 hover:bg-green-700",disabled:t,children:"Abrir Caixa"}),r.jsx(Ne,{onClick:()=>W(!0),variant:"destructive",disabled:!t,children:"Finalizar Turno"})]})]})]}),r.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border mb-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Filtrar por Perodo"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"startDate",children:"Data Inicial"}),r.jsx(Fe,{id:"startDate",type:"text",inputMode:"numeric",placeholder:_h,value:N,onChange:me=>P(Ph(me.target.value)),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"endDate",children:"Data Final"}),r.jsx(Fe,{id:"endDate",type:"text",inputMode:"numeric",placeholder:_h,value:k,onChange:me=>E(Ph(me.target.value)),className:"mt-1"})]})]}),N&&k&&r.jsx(Ne,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{P(""),E("")},children:"Limpar Filtro"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita Estacionamento"}),r.jsxs("p",{className:"text-3xl font-bold text-primary",children:["R$ ",se.toFixed(2)]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avulsos: R$ ",J.toFixed(2)," | Mensalistas: R$ ",ce.toFixed(2)]})]}),r.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receitas Manuais"}),r.jsxs("p",{className:"text-3xl font-bold text-accent",children:["R$ ",pe.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sublocao e outros"})]}),r.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Despesas"}),r.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",le.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total de despesas registradas"})]}),r.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita Convnios"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["R$ ",be.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Faturas pagas no perodo"})]}),r.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border border-primary/20",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Saldo Lquido"}),r.jsxs("p",{className:`text-3xl font-bold ${Q>=0?"text-success":"text-destructive"}`,children:["R$ ",Q.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Receitas - Despesas"})]})]}),r.jsxs(Hs,{defaultValue:"shift-ops",className:"space-y-6",children:[r.jsxs(js,{className:"grid w-full grid-cols-2 md:w-auto md:flex",children:[r.jsx(or,{value:"shift-ops",children:"Operaes de Turno"}),r.jsx(or,{value:"shift-history",children:"Histrico de Turnos"}),r.jsx(or,{value:"expenses",children:"Despesas"}),r.jsx(or,{value:"revenues",children:"Receitas Manuais"})]}),r.jsx(ir,{value:"shift-ops",children:r.jsx(g9,{onSessionClose:()=>{}})}),r.jsx(ir,{value:"shift-history",children:r.jsx(H9,{})}),r.jsxs(ir,{value:"expenses",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Despesas"}),r.jsxs(Ne,{onClick:Ve,size:"sm",children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Adicionar Despesa"]})]}),r.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Valor"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Vencimento"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data Pagamento"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Recorrente"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),r.jsx("tbody",{children:m.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:'Nenhuma despesa registrada. Clique em "Adicionar Despesa" para comear.'})}):m.map((me,Me)=>(Me===0&&console.log("[Financeiro] First expense status:",{id:me.id,status:me.status,shouldShowButton:me.status!=="Pago"}),r.jsxs("tr",{className:Me%2===0?"bg-background":"bg-muted/20",children:[r.jsx("td",{className:"px-4 py-3",children:oe===me.id?r.jsx(Fe,{value:me.name,onChange:ze=>re(me.id,"name",ze.target.value),placeholder:"Nome da despesa",className:"w-full"}):r.jsx("span",{className:"font-medium",children:me.name||""})}),r.jsx("td",{className:"px-4 py-3",children:oe===me.id?r.jsx(Fe,{type:"number",step:"0.01",min:"0",value:me.value,onChange:ze=>re(me.id,"value",Number(ze.target.value)),className:"w-full"}):r.jsxs("span",{children:["R$ ",me.value.toFixed(2)]})}),r.jsx("td",{className:"px-4 py-3",children:oe===me.id?r.jsxs(vr,{value:me.category,onValueChange:ze=>re(me.id,"category",ze),children:[r.jsx(fr,{className:"w-full",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Contas",children:"Contas"}),r.jsx(Qe,{value:"Manuteno",children:"Manuteno"}),r.jsx(Qe,{value:"Pr-labore",children:"Pr-labore"}),r.jsx(Qe,{value:"Impostos",children:"Impostos"})]})]}):r.jsx("span",{children:me.category})}),r.jsx("td",{className:"px-4 py-3",children:oe===me.id?r.jsx(Fe,{type:"text",inputMode:"numeric",placeholder:_h,value:me.dueDate||"",onChange:ze=>re(me.id,"dueDate",ze.target.value),className:"w-full"}):r.jsx("span",{children:me.dueDate||""})}),r.jsx("td",{className:"px-4 py-3",children:oe===me.id?r.jsx(Fe,{type:"text",inputMode:"numeric",placeholder:_h,value:me.paymentDate||"",onChange:ze=>re(me.id,"paymentDate",ze.target.value),className:"w-full"}):r.jsx("span",{children:me.paymentDate||""})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${zt(me.status)}`,children:me.status})}),r.jsx("td",{className:"px-4 py-3",children:oe===me.id?r.jsxs("div",{className:"space-y-1",children:[r.jsxs(vr,{value:me.isRecurring?"true":"false",onValueChange:ze=>re(me.id,"isRecurring",ze==="true"),children:[r.jsx(fr,{className:"w-full",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"false",children:"No"}),r.jsx(Qe,{value:"true",children:"Sim"})]})]}),me.isRecurring&&r.jsxs(vr,{value:me.recurringFrequency||"monthly",onValueChange:ze=>re(me.id,"recurringFrequency",ze),children:[r.jsx(fr,{className:"w-full",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"monthly",children:"Mensal"}),r.jsx(Qe,{value:"weekly",children:"Semanal"}),r.jsx(Qe,{value:"yearly",children:"Anual"})]})]})]}):r.jsx("span",{className:"text-sm",children:Y9(me)})}),r.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:oe===me.id?r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>{fe&&g(ze=>ze.map(Ye=>Ye.id===me.id?fe:Ye)),L(null),ye(null)},children:"Cancelar"}),r.jsxs(Ne,{size:"sm",onClick:()=>Xe(me),disabled:!me.name||me.value<=0,children:[r.jsx(Ix,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):r.jsxs(r.Fragment,{children:[me.status!=="Pago"&&r.jsxs(Ne,{size:"sm",variant:"ghost",onClick:()=>lt(me),className:"text-green-600 hover:text-green-700",children:[r.jsx(Mh,{className:"h-4 w-4 mr-1"}),"Realizar Pagamento"]}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>{ye({...me}),L(me.id)},children:"Editar"}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>qe(me.id),children:r.jsx(Gs,{className:"h-4 w-4 text-destructive"})})]})})]},me.id)))})]})})})]}),r.jsxs(ir,{value:"revenues",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Receitas Manuais"}),r.jsxs(Ne,{onClick:st,size:"sm",children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Adicionar Receita"]})]}),r.jsx("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Descrio"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Valor"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),r.jsx("tbody",{children:w.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:'Nenhuma receita manual registrada. Clique em "Adicionar Receita" para comear.'})}):w.map((me,Me)=>r.jsxs("tr",{className:Me%2===0?"bg-background":"bg-muted/20",children:[r.jsx("td",{className:"px-4 py-3",children:F===me.id?r.jsx(Fe,{value:me.description,onChange:ze=>Ze(me.id,"description",ze.target.value),placeholder:"Descrio da receita",className:"w-full"}):r.jsx("span",{className:"font-medium",children:me.description||""})}),r.jsx("td",{className:"px-4 py-3",children:F===me.id?r.jsx(Fe,{type:"number",step:"0.01",min:"0",value:me.value,onChange:ze=>Ze(me.id,"value",Number(ze.target.value)),className:"w-full"}):r.jsxs("span",{children:["R$ ",me.value.toFixed(2)]})}),r.jsx("td",{className:"px-4 py-3",children:F===me.id?r.jsx(Fe,{value:me.category,onChange:ze=>Ze(me.id,"category",ze.target.value),placeholder:"Digite a categoria",className:"w-full"}):r.jsx("span",{children:me.category||""})}),r.jsx("td",{className:"px-4 py-3",children:F===me.id?r.jsx(Fe,{type:"text",inputMode:"numeric",placeholder:_h,value:me.date||"",onChange:ze=>Ze(me.id,"date",ze.target.value),className:"w-full"}):r.jsx("span",{children:me.date||""})}),r.jsx("td",{className:"px-4 py-3",children:F===me.id?r.jsxs(vr,{value:me.status,onValueChange:ze=>Ze(me.id,"status",ze),children:[r.jsx(fr,{className:"w-full",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Pago",children:"Pago"}),r.jsx(Qe,{value:"No Pago",children:"No Pago"})]})]}):r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${me.status==="Pago"?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:me.status})}),r.jsx("td",{className:"px-4 py-3 text-right space-x-2",children:F===me.id?r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>{U&&p(ze=>ze.map(Ye=>Ye.id===me.id?U:Ye)),z(null),$(null)},children:"Cancelar"}),r.jsxs(Ne,{size:"sm",onClick:()=>pt(me),disabled:!me.description||me.value<=0,children:[r.jsx(Ix,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>{$({...me}),z(me.id)},children:"Editar"}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>ct(me.id),children:r.jsx(Gs,{className:"h-4 w-4 text-destructive"})})]})})]},me.id))})]})})})]})]})]}),r.jsx(Pv,{open:O,onOpenChange:B,totalRevenue:Ee}),r.jsx(BC,{isOpen:ae,onClose:()=>W(!1),summaryData:null,onSuccess:()=>{}}),r.jsx(W9,{open:te,onOpenChange:K,onConfirm:Se})]}):r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para visualizar relatrios financeiros."})]})})}const _x=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function X9(){const{toast:e}=Hr(),{hasPermission:t}=Ss(),[n,a]=v.useState([]),[s,i]=v.useState(!0),[d,c]=v.useState(null),[u,h]=v.useState(!1),[m,g]=v.useState(new Date().getFullYear());v.useEffect(()=>{w()},[m]);const w=async()=>{try{i(!0);const N=await rt.getMonthlyReports({year:m,limit:12});a(N||[])}catch(N){console.error("Error loading reports:",N);const P=N.message?.includes("relation")||N.message?.includes("monthly_reports")||N.message?.includes("does not exist");e(P?{title:"Tabela no encontrada",description:"Execute o script backend/create-monthly-reports-table.sql no Supabase para criar a estrutura necessria.",variant:"destructive"}:{title:"Erro ao carregar relatrios",description:N.message||"No foi possvel carregar os relatrios mensais.",variant:"destructive"}),a([])}finally{i(!1)}},p=async N=>{try{const P=await rt.getMonthlyReportById(N.id);c(P),h(!0)}catch(P){e({title:"Erro ao carregar detalhes",description:P.message||"No foi possvel carregar os detalhes do relatrio.",variant:"destructive"})}},S=N=>{const P=j(N),k=new Blob([P],{type:"text/plain;charset=utf-8"}),E=document.createElement("a");E.href=URL.createObjectURL(k),E.download=`relatorio_mensal_${N.report_month}_${N.report_year}.txt`,E.click(),e({title:"Relatrio baixado",description:"O documento foi baixado com sucesso."})},j=N=>`

             RELATRIO FINANCEIRO MENSAL


PERODO: ${_x[N.report_month-1]}/${N.report_year}
GERADO EM: ${wt(new Date(N.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:ur})}


INFORMAES DA EMPRESA

Razo Social: ${N.company_legal_name||N.company_name}
Nome Fantasia: ${N.company_name}
CNPJ: ${N.company_cnpj}
Endereo: ${N.company_address}
Telefone: ${N.company_phone}


OPERADOR RESPONSVEL

Nome: ${N.operator_name}
ID: ${N.operator_id}


RESUMO FINANCEIRO

Receita Total:          R$ ${N.total_revenue.toFixed(2)}
   Avulsos:            R$ ${N.avulsos_revenue.toFixed(2)}
   Mensalistas:        R$ ${N.mensalistas_revenue.toFixed(2)}


FORMAS DE PAGAMENTO

Dinheiro:               R$ ${N.cash_total.toFixed(2)}
PIX:                    R$ ${N.pix_total.toFixed(2)}
Carto Dbito:          R$ ${N.debit_card_total.toFixed(2)}
Carto Crdito:         R$ ${N.credit_card_total.toFixed(2)}


ESTATSTICAS OPERACIONAIS

Total de Tickets:       ${N.total_tickets}
Tickets Encerrados:     ${N.tickets_closed}
Clientes Mensalistas:   ${N.monthly_customers_count}
Pagamentos Mensalistas: ${N.monthly_payments_count}


OBSERVAES

Este relatrio foi gerado automaticamente pelo sistema de
gesto de estacionamento. Todos os dados operacionais foram
arquivados e podem ser consultados atravs do ID do relatrio:
${N.id}

Status: ${N.status==="completed"?"Concludo":N.status}


            FIM DO RELATRIO MENSAL

`;return t("viewReports")?s?r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Relatrios Mensais"}),r.jsx("div",{className:"text-center py-12",children:"Carregando..."})]})}):r.jsxs("div",{className:"flex-1 p-8",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Relatrios Mensais"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Histrico de encerramentos mensais e relatrios financeiros"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>g(m-1),children:""}),r.jsx("span",{className:"font-semibold min-w-[80px] text-center",children:m}),r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>g(m+1),disabled:m>=new Date().getFullYear(),children:""})]})]}),n.length===0?r.jsx(Rt,{children:r.jsxs(Dt,{className:"py-12 text-center",children:[r.jsx(rs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum relatrio gerado"}),r.jsx("p",{className:"text-muted-foreground",children:'Clique em "Gerar Relatrio Mensal" na pgina Financeiro para criar seu primeiro relatrio.'})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(N=>r.jsxs(Rt,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(gr,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs(xr,{className:"text-lg",children:[_x[N.report_month-1]," ",N.report_year]}),r.jsxs(pn,{className:"text-xs mt-1",children:["Gerado em"," ",wt(new Date(N.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:ur})]})]}),r.jsx(za,{variant:N.status==="completed"?"default":"secondary",children:N.status==="completed"?"Concludo":N.status})]})}),r.jsxs(Dt,{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Receita Total:"}),r.jsxs("span",{className:"font-semibold",children:["R$ ",N.total_revenue.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Avulsos:"}),r.jsxs("span",{children:["R$ ",N.avulsos_revenue.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Mensalistas:"}),r.jsxs("span",{children:["R$ ",N.mensalistas_revenue.toFixed(2)]})]})]}),r.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:["Operador: ",N.operator_name]}),r.jsx("div",{className:"flex gap-2 pt-2",children:r.jsxs(Ne,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>p(N),children:[r.jsx(vu,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]})})]})]},N.id))})]}),r.jsx($r,{open:u,onOpenChange:h,children:r.jsx(Lr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:d&&r.jsxs(r.Fragment,{children:[r.jsxs(Er,{children:[r.jsxs(Ar,{className:"flex items-center gap-2",children:[r.jsx(rs,{className:"h-5 w-5"}),"Relatrio Mensal - ",_x[d.report_month-1],"/",d.report_year]}),r.jsxs(Ua,{children:["Gerado em"," ",wt(new Date(d.generated_at),"dd/MM/yyyy 's' HH:mm",{locale:ur})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Ca,{className:"h-4 w-4"}),"Informaes da Empresa"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Nome:"}),r.jsx("p",{className:"font-medium",children:d.company_name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"CNPJ:"}),r.jsx("p",{className:"font-medium",children:d.company_cnpj})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-muted-foreground",children:"Endereo:"}),r.jsx("p",{className:"font-medium",children:d.company_address})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(xu,{className:"h-4 w-4"}),"Resumo Financeiro"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Rt,{children:r.jsxs(Dt,{className:"pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita Total"}),r.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",d.total_revenue.toFixed(2)]})]})}),r.jsx(Rt,{children:r.jsxs(Dt,{className:"pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Avulsos"}),r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",d.avulsos_revenue.toFixed(2)]})]})}),r.jsx(Rt,{children:r.jsxs(Dt,{className:"pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensalistas"}),r.jsxs("p",{className:"text-2xl font-bold text-accent",children:["R$ ",d.mensalistas_revenue.toFixed(2)]})]})}),r.jsx(Rt,{children:r.jsxs(Dt,{className:"pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),r.jsx("p",{className:"text-2xl font-bold",children:d.total_tickets})]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Formas de Pagamento"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[r.jsx("span",{children:"Dinheiro:"}),r.jsxs("span",{className:"font-semibold",children:["R$ ",d.cash_total.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[r.jsx("span",{children:"PIX:"}),r.jsxs("span",{className:"font-semibold",children:["R$ ",d.pix_total.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[r.jsx("span",{children:"Carto Dbito:"}),r.jsxs("span",{className:"font-semibold",children:["R$ ",d.debit_card_total.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[r.jsx("span",{children:"Carto Crdito:"}),r.jsxs("span",{className:"font-semibold",children:["R$ ",d.credit_card_total.toFixed(2)]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Estatsticas Operacionais"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Total de Tickets:"}),r.jsx("span",{className:"font-semibold",children:d.total_tickets})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tickets Encerrados:"}),r.jsx("span",{className:"font-semibold",children:d.tickets_closed})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Clientes Mensalistas:"}),r.jsx("span",{className:"font-semibold",children:d.monthly_customers_count})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Pagamentos Mensalistas:"}),r.jsx("span",{className:"font-semibold",children:d.monthly_payments_count})]})]})]}),r.jsxs("div",{className:"text-sm border-t pt-4",children:[r.jsx("span",{className:"text-muted-foreground",children:"Operador responsvel:"}),r.jsx("span",{className:"ml-2 font-medium",children:d.operator_name})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsxs(Ne,{onClick:()=>S(d),className:"flex-1",children:[r.jsx(xd,{className:"h-4 w-4 mr-2"}),"Baixar Documento"]}),r.jsx(Ne,{variant:"outline",onClick:()=>h(!1),children:"Fechar"})]})]})})})]}):r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para visualizar relatrios mensais."})]})})}const Q9=({open:e,onOpenChange:t})=>{const[n,a]=v.useState([]),[s,i]=v.useState(!1),[d,c]=v.useState({startDate:"",endDate:"",action:"",actorId:""}),[u,h]=v.useState(new Set),{toast:m}=Hr(),g=async()=>{i(!0);try{const k={};d.startDate&&(k.start=new Date(d.startDate).toISOString()),d.endDate&&(k.end=new Date(d.endDate).toISOString()),d.action&&(k.action=d.action),d.actorId&&(k.actorId=d.actorId);const E=await rt.getAuditEvents(k);a(E||[])}catch(k){const E=k instanceof Error?k.message:String(k);m({title:"Erro ao carregar eventos",description:E,variant:"destructive"})}finally{i(!1)}};v.useEffect(()=>{e&&g()},[e,g]);const w=k=>{const E=new Set(u);E.has(k)?E.delete(k):E.add(k),h(E)},p=k=>({"user.create":"Criao de usurio","user.update":"Atualizao de usurio","user.delete":"Excluso de usurio","user.password.update":"Atualizao de senha","user.bulkUpdate":"Atualizao em massa","cash.open":"Abertura de caixa","cash.close":"Fechamento de caixa","ticket.create":"Criao de ticket","ticket.finalize":"Finalizao de ticket","payment.create":"Criao de pagamento","customer.create":"Criao de mensalista","customer.update":"Atualizao de mensalista","customer.delete":"Excluso de mensalista","rate.create":"Criao de tarifa","rate.update":"Atualizao de tarifa","rate.delete":"Excluso de tarifa","config.update":"Atualizao de configurao"})[k]||k,S=k=>k.includes("create")?"text-green-600":k.includes("update")?"text-blue-600":k.includes("delete")?"text-red-600":k.includes("close")||k.includes("finalize")?"text-purple-600":k.includes("open")?"text-emerald-600":"text-gray-600",j=Array.from(new Set(n.map(k=>k.action))),N=Array.from(new Set(n.map(k=>({id:k.actor_id,name:k.actor_name})))),P=k=>{if(!k)return null;try{return JSON.parse(k)}catch{return k}};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsx(Er,{children:r.jsxs(Ar,{className:"flex items-center gap-2",children:[r.jsx(kP,{className:"h-5 w-5"}),"Log de Auditoria"]})}),r.jsxs("div",{className:"bg-muted/30 rounded-lg border p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Data Incio"}),r.jsx(Fe,{type:"date",value:d.startDate,onChange:k=>c({...d,startDate:k.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Data Fim"}),r.jsx(Fe,{type:"date",value:d.endDate,onChange:k=>c({...d,endDate:k.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Ao"}),r.jsxs(vr,{value:d.action,onValueChange:k=>c({...d,action:k}),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Todas"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"",children:"Todas"}),j.map(k=>r.jsx(Qe,{value:k,children:p(k)},k))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Usurio"}),r.jsxs(vr,{value:d.actorId,onValueChange:k=>c({...d,actorId:k}),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Todos"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"",children:"Todos"}),N.map(k=>r.jsx(Qe,{value:k.id,children:k.name},k.id))]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.length," evento",n.length!==1?"s":""," encontrado",n.length!==1?"s":""]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>c({startDate:"",endDate:"",action:"",actorId:""}),children:"Limpar filtros"}),r.jsx(Ne,{size:"sm",onClick:g,disabled:s,children:s?"Carregando...":"Atualizar"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:s?r.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Carregando eventos..."}):n.length===0?r.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Nenhum evento encontrado"}):r.jsx("div",{className:"divide-y",children:n.map(k=>{const E=u.has(k.id),O=P(k.details),B=O!==null;return r.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[B?r.jsx("button",{onClick:()=>w(k.id),className:"mt-0.5 text-muted-foreground hover:text-foreground transition-colors","aria-label":E?"Recolher detalhes":"Expandir detalhes",children:E?r.jsx(Fv,{className:"h-4 w-4"}):r.jsx(Ov,{className:"h-4 w-4"})}):r.jsx("div",{className:"w-4"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`font-medium ${S(k.action)}`,children:p(k.action)}),k.target_type&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",k.target_type,")"]})]}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ep,{className:"h-3 w-3"}),k.actor_name," (",k.actor_login,")"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ca,{className:"h-3 w-3"}),wt(new Date(k.created_at),"dd/MM/yyyy 's' HH:mm",{locale:ur})]})]})]})}),E&&B&&r.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded border text-xs",children:[r.jsx("div",{className:"font-medium mb-2",children:"Detalhes:"}),r.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs overflow-x-auto",children:typeof O=="object"?JSON.stringify(O,null,2):String(O)})]})]})]})},k.id)})})})]})})},Z9=()=>{const{isAdmin:e,hasPermission:t,user:n,logout:a}=Ss(),s=Qo(),[i,d]=v.useState([]),[c,u]=v.useState(!1),[h,m]=v.useState(null),[g,w]=v.useState(!1),[p,S]=v.useState(!1),[j,N]=v.useState(!1),[P,k]=v.useState(!1),[E,O]=v.useState(!1),[B,ae]=v.useState(null),[W,te]=v.useState([]),[K,oe]=v.useState(!1),[L,F]=v.useState(null),{toast:z}=Hr(),[q,ge]=v.useState(""),[fe,ye]=v.useState(""),[U,$]=v.useState("all"),H=Object.keys({manageRates:!1,manageMonthlyCustomers:!1,viewReports:!1,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!1,manageBackups:!1}),[D,T]=v.useState("any"),I={manageRates:!1,manageMonthlyCustomers:!0,viewReports:!0,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1},G={manageRates:!0,manageMonthlyCustomers:!0,viewReports:!0,manageUsers:!0,manageCompanyConfig:!0,manageVehicleTypes:!0,openCloseCash:!0,manageBackups:!0},J={Admin:{role:"admin",permissions:{...G}},Operacional:{role:"operator",permissions:{manageRates:!1,manageMonthlyCustomers:!0,viewReports:!1,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1}},Financeiro:{role:"operator",permissions:{manageRates:!0,manageMonthlyCustomers:!1,viewReports:!0,manageUsers:!1,manageCompanyConfig:!1,manageVehicleTypes:!1,openCloseCash:!0,manageBackups:!1}}},ce=Re=>{const et=J[Re];le(gt=>({...gt,role:et.role,permissions:{...et.permissions}}))},se=Re=>{const et=J[Re];Ee(gt=>({...gt,role:et.role,permissions:{...et.permissions}}))},[pe,le]=v.useState({name:"",email:"",login:"",password:"",role:"operator",permissions:{...I}}),[be,Ee]=v.useState({name:"",email:"",login:"",role:"operator",permissions:{...I}}),[Q,Te]=v.useState(""),[Ve,re]=v.useState(""),[we,Xe]=v.useState(""),[lt,qe]=v.useState(!1),st=Re=>{const et=[],gt=Re.length>=8;gt||et.push("Mnimo de 8 caracteres");const Qt=/[a-z]/.test(Re),Nr=/[A-Z]/.test(Re),yt=/[0-9]/.test(Re),Pr=/[^A-Za-z0-9]/.test(Re),Zr=[Qt,Nr,yt,Pr].filter(Boolean).length;Zr<3&&et.push("Use 3 tipos: maiscula, minscula, nmero, smbolo");let br=0;br+=gt?1:0,br+=Zr>=2?1:0,br+=Zr>=3?1:0,br+=Re.length>=12?1:0,br+=Re.length>=16?1:0;const Wr=["Muito fraca","Fraca","Mdia","Forte","Muito forte"],Rr=["text-red-600","text-orange-500","text-yellow-600","text-green-600","text-emerald-600"],on=Math.min(br,4),xn=gt&&Zr>=3;return{score:br,label:Wr[on],color:Rr[on],valid:xn,issues:et}},Ze=v.useMemo(()=>st(pe.password||""),[pe.password]),pt=v.useMemo(()=>st(Ve||""),[Ve]),ct=async()=>{u(!0);try{const Re=await rt.getUsers();d(Re||[])}catch(Re){m(Re.message||"Erro ao carregar usurios")}finally{u(!1)}};v.useEffect(()=>{t("manageUsers")&&ct()},[e]),v.useEffect(()=>{const Re=setTimeout(()=>ye(q.trim().toLowerCase()),300);return()=>clearTimeout(Re)},[q]);const zt=v.useMemo(()=>{let Re=i.slice();return U!=="all"&&(Re=Re.filter(et=>et.role===U)),D!=="any"&&(Re=Re.filter(et=>!!(et.permissions||{})[D])),fe&&(Re=Re.filter(et=>`${et.name||""} ${et.login||""} ${et.email||""}`.toLowerCase().includes(fe))),Re},[i,U,D,fe]),Se=v.useMemo(()=>zt.length?zt.every(Re=>W.includes(Re.id)):!1,[zt,W]),me=Re=>{if(Re){const et=Array.from(new Set([...W,...zt.map(gt=>gt.id)]));te(et)}else{const et=new Set(zt.map(gt=>gt.id));te(gt=>gt.filter(Qt=>!et.has(Qt)))}},Me=(Re,et)=>{te(gt=>et?Array.from(new Set([...gt,Re])):gt.filter(Qt=>Qt!==Re))},ze=()=>{le({name:"",email:"",login:"",password:"",role:"operator",permissions:{...I}}),w(!0)},Ye=async Re=>{if(Re.preventDefault(),!Ze.valid){z({title:"Senha fraca",description:Ze.issues.join("  "),variant:"destructive"});return}try{const et=await rt.createUser(pe);z({title:"Usurio criado",description:et.name}),w(!1),ct()}catch(et){z({title:"Erro ao criar usurio",description:et.message})}},ht=Re=>{ae(Re),Ee({name:Re.name,email:Re.email,login:Re.login,role:Re.role,permissions:{...I,...Re.permissions||{}}}),S(!0)},dt=async Re=>{if(Re.preventDefault(),!!B)try{const et=await rt.updateUser(B.id,be);z({title:"Usurio atualizado",description:et.name}),S(!1),ct()}catch(et){z({title:"Erro ao atualizar",description:et.message})}},Yt=Re=>{ae(Re),Te(""),re(""),Xe(""),qe(!1),N(!0)},Vt=async Re=>{if(Re.preventDefault(),!!B){if(Ve!==we){z({title:"Senhas no conferem",description:"Confirme a nova senha corretamente."});return}if(!pt.valid){z({title:"Senha fraca",description:pt.issues.join("  "),variant:"destructive"});return}try{Q?await rt.updateOwnPassword(B.id,Q,Ve):await rt.updateUserPassword(B.id,Ve),z({title:"Senha atualizada",description:B.name}),N(!1),n&&B.id===n.id&&(a(),s("/login"))}catch(et){z({title:"Erro ao atualizar senha",description:et.message})}}},Wt=Re=>{ae(Re),k(!0)},Gt=async()=>{if(B)try{await rt.deleteUser(B.id),z({title:"Usurio removido",description:B.name}),k(!1),ct()}catch(Re){z({title:"Erro ao remover usurio",description:Re.message})}},hr=v.useMemo(()=>i.filter(Re=>Re.role==="admin").length,[i]),kt=v.useMemo(()=>i.filter(Re=>W.includes(Re.id)&&Re.role==="admin").length,[i,W]),_r=async Re=>{if(W.length){if(Re==="operator"&&hr>0&&kt===hr){z({title:"Operao bloqueada",description:"No  permitido remover o ltimo admin.",variant:"destructive"});return}try{const et=W.map(gt=>rt.updateUser(gt,{role:Re}));await Promise.all(et),z({title:"Papel atualizado",description:`${W.length} usurio(s) atualizado(s)`}),te([]),await ct()}catch(et){z({title:"Erro em atualizao em massa",description:et.message,variant:"destructive"})}}},$t=async Re=>{if(!W.length)return;const et=J[Re];try{const gt=W.map(Qt=>rt.updateUser(Qt,{role:et.role,permissions:et.permissions}));await Promise.all(gt),z({title:"Preset aplicado",description:`${Re} aplicado para ${W.length} usurio(s)`}),te([]),await ct()}catch(gt){z({title:"Erro ao aplicar preset",description:gt.message,variant:"destructive"})}},vt=async()=>{if(!L)return;const{kind:Re,value:et}=L;try{Re==="role"?await _r(et):await $t(et);try{await rt.createAuditEvent({action:"user.bulkUpdate",targetType:"user",details:{kind:Re,value:et,count:W.length,ids:W}})}catch(gt){console.warn("Failed to write bulk audit event",gt)}oe(!1),F(null)}catch{}},pr=Object.keys(I),Xt=()=>{const Re=zt.map(Nr=>({id:Nr.id,name:Nr.name,login:Nr.login,email:Nr.email,role:Nr.role,permissions:pr.reduce((yt,Pr)=>({...yt,[Pr]:!!(Nr.permissions||{})[Pr]}),{})})),et=new Blob([JSON.stringify(Re,null,2)],{type:"application/json"}),gt=URL.createObjectURL(et),Qt=document.createElement("a");Qt.href=gt,Qt.download="usuarios.json",Qt.click(),URL.revokeObjectURL(gt)},Et=()=>{const Re=["id","name","login","email","role",...pr],et=zt.map(Pr=>{const Zr=pr.map(Wr=>Pr.permissions&&Pr.permissions[Wr]?"1":"0");return[Pr.id,Pr.name,Pr.login,Pr.email,Pr.role,...Zr].map(Wr=>{const Rr=String(Wr??"");return/[",\n]/.test(Rr)?'"'+Rr.replace(/"/g,'""')+'"':Rr}).join(",")}),gt=[Re.join(","),...et].join(`
`),Qt=new Blob([gt],{type:"text/csv;charset=utf-8;"}),Nr=URL.createObjectURL(Qt),yt=document.createElement("a");yt.href=Nr,yt.download="usuarios.csv",yt.click(),URL.revokeObjectURL(Nr)};return t("manageUsers")?r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Usurios"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ne,{variant:"outline",onClick:()=>O(!0),children:"Log de Auditoria"}),r.jsx(Ne,{variant:"outline",onClick:Et,children:"Exportar CSV"}),r.jsx(Ne,{variant:"outline",onClick:Xt,children:"Exportar JSON"}),t("manageUsers")&&r.jsx(Ne,{onClick:ze,children:"Criar usurio"})]})]}),c&&r.jsx("p",{children:"Carregando..."}),h&&r.jsx("p",{className:"text-red-600",children:h}),r.jsxs("div",{className:"bg-card rounded-lg border p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Buscar"}),r.jsx(Fe,{placeholder:"Nome, login ou email",value:q,onChange:Re=>ge(Re.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Papel"}),r.jsxs(vr,{value:U,onValueChange:Re=>$(Re),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Todos"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"all",children:"Todos"}),r.jsx(Qe,{value:"admin",children:"Admin"}),r.jsx(Qe,{value:"operator",children:"Operador"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Permisso"}),r.jsxs(vr,{value:D,onValueChange:Re=>T(Re),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Qualquer"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"any",children:"Qualquer"}),H.map(Re=>r.jsx(Qe,{value:Re,children:Px(Re)},Re))]})]})]})]}),(q||U!=="all"||D!=="any")&&r.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[zt.length," resultados"]}),r.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{ge(""),$("all"),T("any")},children:"Limpar filtros"})]})]}),W.length>0&&r.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-900 rounded-md p-3 mb-3 flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"text-sm",children:["Selecionados: ",W.length]}),r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.jsxs(vr,{onValueChange:Re=>{F({kind:"role",value:Re}),oe(!0)},children:[r.jsx(fr,{className:"w-[170px]",children:r.jsx(yr,{placeholder:"Definir papel"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"admin",children:"Admin"}),r.jsx(Qe,{value:"operator",children:"Operador"})]})]}),r.jsxs(vr,{onValueChange:Re=>{F({kind:"preset",value:Re}),oe(!0)},children:[r.jsx(fr,{className:"w-[200px]",children:r.jsx(yr,{placeholder:"Aplicar preset"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Admin",children:"Admin"}),r.jsx(Qe,{value:"Operacional",children:"Operacional"}),r.jsx(Qe,{value:"Financeiro",children:"Financeiro"})]})]}),r.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>te([]),children:"Limpar seleo"})]})]}),r.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium w-10",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Se,onChange:Re=>me(Re.target.checked),"aria-label":"Selecionar todos"})}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Login"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Email"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Papel"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Aes"})]})}),r.jsx("tbody",{children:zt.map(Re=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:W.includes(Re.id),onChange:et=>Me(Re.id,et.target.checked),"aria-label":`Selecionar ${Re.name}`})}),r.jsx("td",{className:"px-4 py-3",children:Re.name}),r.jsx("td",{className:"px-4 py-3",children:Re.login}),r.jsx("td",{className:"px-4 py-3",children:Re.email}),r.jsx("td",{className:"px-4 py-3",children:Re.role}),r.jsx("td",{className:"px-4 py-3 text-right flex gap-1 justify-end",children:t("manageUsers")&&r.jsxs(r.Fragment,{children:[r.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>ht(Re),children:"Editar"}),r.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>Yt(Re),children:"Senha"}),r.jsx(Ne,{variant:"destructive",size:"sm",onClick:()=>Wt(Re),children:"Excluir"})]})})]},Re.id))})]})}),r.jsx($r,{open:g,onOpenChange:w,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Novo usurio"})}),r.jsxs("form",{onSubmit:Ye,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Presets rpidos"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>ce("Admin"),children:"Admin"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>ce("Operacional"),children:"Operacional"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>ce("Financeiro"),children:"Financeiro"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nome"}),r.jsx(Fe,{value:pe.name,onChange:Re=>le({...pe,name:Re.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(Fe,{type:"email",value:pe.email,onChange:Re=>le({...pe,email:Re.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Login"}),r.jsx(Fe,{value:pe.login,onChange:Re=>le({...pe,login:Re.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Senha"}),r.jsx(Fe,{type:lt?"text":"password",value:pe.password,onChange:Re=>le({...pe,password:Re.target.value}),required:!0}),pe.password&&r.jsxs("p",{className:`text-xs mt-1 ${Ze.color}`,children:["Fora da senha: ",Ze.label]}),!Ze.valid&&pe.password&&r.jsx("p",{className:"text-xs text-muted-foreground",children:Ze.issues.join("  ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Papel"}),r.jsxs(vr,{value:pe.role,onValueChange:Re=>le({...pe,role:Re,permissions:Re==="admin"?{...G}:{...I}}),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"operator",children:"Operador"}),r.jsx(Qe,{value:"admin",children:"Admin"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Permisses"}),Object.keys(I).map(Re=>r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ac,{checked:pe.permissions[Re],onCheckedChange:et=>le({...pe,permissions:{...pe.permissions,[Re]:!!et}})}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[Px(Re),r.jsxs(ky,{children:[r.jsx(Ey,{className:"cursor-help",children:r.jsx(Ox,{className:"h-4 w-4 text-muted-foreground"})}),r.jsx(Wx,{className:"max-w-xs",children:Iw(Re)})]})]})]},Re))]}),r.jsxs(un,{children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),r.jsx(Ne,{type:"submit",children:"Criar"})]})]})]})}),r.jsx($r,{open:p,onOpenChange:S,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Editar usurio"})}),r.jsxs("form",{onSubmit:dt,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Presets rpidos"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>se("Admin"),children:"Admin"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>se("Operacional"),children:"Operacional"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>se("Financeiro"),children:"Financeiro"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nome"}),r.jsx(Fe,{value:be.name,onChange:Re=>Ee({...be,name:Re.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(Fe,{type:"email",value:be.email,onChange:Re=>Ee({...be,email:Re.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Login"}),r.jsx(Fe,{value:be.login,onChange:Re=>Ee({...be,login:Re.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Papel"}),r.jsxs(vr,{value:be.role,onValueChange:Re=>Ee({...be,role:Re,permissions:Re==="admin"?{...G}:{...be.permissions}}),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"operator",children:"Operador"}),r.jsx(Qe,{value:"admin",children:"Admin"})]})]})]}),be.role==="admin"?r.jsx("div",{className:"text-xs text-muted-foreground",children:"Admins possuem acesso total por padro."}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Permisses"}),Object.keys(I).map(Re=>r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ac,{checked:be.permissions[Re],onCheckedChange:et=>Ee({...be,permissions:{...be.permissions,[Re]:!!et}})}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[Px(Re),r.jsxs(ky,{children:[r.jsx(Ey,{className:"cursor-help",children:r.jsx(Ox,{className:"h-4 w-4 text-muted-foreground"})}),r.jsx(Wx,{className:"max-w-xs",children:Iw(Re)})]})]})]},Re))]}),r.jsxs(un,{children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),r.jsx(Ne,{type:"submit",children:"Salvar"})]})]})]})}),r.jsx($r,{open:j,onOpenChange:N,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Atualizar senha"})}),r.jsxs("form",{onSubmit:Vt,className:"space-y-3",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:"Administradores podem redefinir senhas sem informar a senha atual. Usurios comuns devem informar a senha atual."}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Senha atual (somente se for sua prpria conta)"}),r.jsx(Fe,{type:lt?"text":"password",value:Q,onChange:Re=>Te(Re.target.value),placeholder:"Opcional para admin"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nova senha"}),r.jsx(Fe,{type:lt?"text":"password",value:Ve,onChange:Re=>re(Re.target.value),required:!0}),Ve&&r.jsxs("p",{className:`text-xs mt-1 ${pt.color}`,children:["Fora da senha: ",pt.label]}),!pt.valid&&Ve&&r.jsx("p",{className:"text-xs text-muted-foreground",children:pt.issues.join("  ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confirmar nova senha"}),r.jsx(Fe,{type:lt?"text":"password",value:we,onChange:Re=>Xe(Re.target.value),required:!0})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"showPasswords",type:"checkbox",checked:lt,onChange:Re=>qe(Re.target.checked),className:"h-4 w-4"}),r.jsx("label",{htmlFor:"showPasswords",className:"text-sm cursor-pointer select-none",children:"Mostrar senhas"})]}),r.jsxs(un,{children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),r.jsx(Ne,{type:"submit",children:"Atualizar"})]})]})]})}),r.jsx($r,{open:P,onOpenChange:k,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Excluir usurio"})}),r.jsxs("p",{children:["Tem certeza que deseja excluir ",B?.name,"? Esta ao no pode ser desfeita."]}),r.jsxs(un,{children:[r.jsx(Ne,{variant:"outline",onClick:()=>k(!1),children:"Cancelar"}),r.jsx(Ne,{variant:"destructive",onClick:Gt,children:"Excluir"})]})]})}),r.jsx($r,{open:K,onOpenChange:oe,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsx(Ar,{children:"Confirmar ao em massa"})}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:["Voc est prestes a aplicar"," ",r.jsx("span",{className:"font-medium",children:L?.kind==="role"?`o papel "${L?.value}"`:`o preset "${L?.value}"`})," ","em ",r.jsx("span",{className:"font-medium",children:W.length})," usurio(s)."]}),L?.kind==="role"&&L?.value==="operator"&&kt===hr&&hr>0&&r.jsx("p",{className:"text-red-600",children:"Ateno: isso removeria o ltimo admin, o que no  permitido."})]}),r.jsxs(un,{children:[r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>{oe(!1),F(null)},children:"Cancelar"}),r.jsx(Ne,{onClick:vt,children:"Confirmar"})]})]})}),r.jsx(Q9,{open:E,onOpenChange:O})]})}):r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no tem permisso para ver esta pgina."})]})})};function Px(e){return{manageRates:"Gerenciar tarifas",manageMonthlyCustomers:"Gerenciar mensalistas",viewReports:"Ver relatrios",manageUsers:"Gerenciar usurios",manageCompanyConfig:"Configuraes da empresa",manageVehicleTypes:"Tipos de veculos",openCloseCash:"Abrir/Fechar caixa",manageBackups:"Gerenciar backups"}[e]||e}function Iw(e){return{manageRates:"Permite criar, editar e remover tarifas. Usurios sem esta permisso s conseguem visualizar as tarifas.",manageMonthlyCustomers:"Permite cadastrar, editar e excluir mensalistas, bem como registrar pagamentos de planos mensais.",viewReports:"Permite acessar relatrios financeiros e operacionais. Sem esta permisso, a pgina de relatrios fica inacessvel.",manageUsers:"Permite criar, editar, redefinir senha e excluir usurios, alm de gerenciar papis e permisses.",manageCompanyConfig:"Permite alterar configuraes gerais da empresa (nome, CNPJ, recibos, etc.). Sem esta permisso o formulrio fica somente leitura.",manageVehicleTypes:"Permite gerenciar os tipos de veculos disponveis (criar, editar, remover).",openCloseCash:"Permite abrir e fechar o caixa, alm de registrar entradas/sadas avulsas e finalizar tickets.",manageBackups:"Permite criar, baixar, restaurar e excluir backups do sistema, bem como configurar backups automticos programados."}[e]||"Permisso do sistema."}var f3="AlertDialog",[e$]=va(f3,[yj]),El=yj(),m3=e=>{const{__scopeAlertDialog:t,...n}=e,a=El(t);return r.jsx(Mj,{...a,...n,modal:!0})};m3.displayName=f3;var t$="AlertDialogTrigger",p3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=El(n);return r.jsx(cD,{...s,...a,ref:t})});p3.displayName=t$;var r$="AlertDialogPortal",g3=e=>{const{__scopeAlertDialog:t,...n}=e,a=El(t);return r.jsx(Fj,{...a,...n})};g3.displayName=r$;var n$="AlertDialogOverlay",x3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=El(n);return r.jsx(h0,{...s,...a,ref:t})});x3.displayName=n$;var ku="AlertDialogContent",[a$,s$]=e$(ku),o$=Jw("AlertDialogContent"),v3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...s}=e,i=El(n),d=v.useRef(null),c=rr(t,d),u=v.useRef(null);return r.jsx(sD,{contentName:ku,titleName:y3,docsSlug:"alert-dialog",children:r.jsx(a$,{scope:n,cancelRef:u,children:r.jsxs(f0,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:ot(s.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[r.jsx(o$,{children:a}),r.jsx(l$,{contentRef:d})]})})})});v3.displayName=ku;var y3="AlertDialogTitle",w3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=El(n);return r.jsx(m0,{...s,...a,ref:t})});w3.displayName=y3;var b3="AlertDialogDescription",j3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=El(n);return r.jsx(p0,{...s,...a,ref:t})});j3.displayName=b3;var i$="AlertDialogAction",N3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=El(n);return r.jsx(g0,{...s,...a,ref:t})});N3.displayName=i$;var S3="AlertDialogCancel",C3=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=s$(S3,n),i=El(n),d=rr(t,s);return r.jsx(g0,{...i,...a,ref:d})});C3.displayName=S3;var l$=({contentRef:e})=>{const t=`\`${ku}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ku}\` by passing a \`${b3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ku}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},c$=m3,d$=p3,u$=g3,_3=x3,P3=v3,k3=N3,E3=C3,A3=w3,T3=j3;const R3=c$,h$=d$,f$=u$,D3=v.forwardRef(({className:e,...t},n)=>r.jsx(_3,{className:xt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));D3.displayName=_3.displayName;const O0=v.forwardRef(({className:e,...t},n)=>r.jsxs(f$,{children:[r.jsx(D3,{}),r.jsx(P3,{ref:n,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));O0.displayName=P3.displayName;const I0=({className:e,...t})=>r.jsx("div",{className:xt("flex flex-col space-y-2 text-center sm:text-left",e),...t});I0.displayName="AlertDialogHeader";const $0=({className:e,...t})=>r.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$0.displayName="AlertDialogFooter";const B0=v.forwardRef(({className:e,...t},n)=>r.jsx(A3,{ref:n,className:xt("text-lg font-semibold",e),...t}));B0.displayName=A3.displayName;const z0=v.forwardRef(({className:e,...t},n)=>r.jsx(T3,{ref:n,className:xt("text-sm text-muted-foreground",e),...t}));z0.displayName=T3.displayName;const U0=v.forwardRef(({className:e,...t},n)=>r.jsx(k3,{ref:n,className:xt(n0(),e),...t}));U0.displayName=k3.displayName;const q0=v.forwardRef(({className:e,...t},n)=>r.jsx(E3,{ref:n,className:xt(n0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));q0.displayName=E3.displayName;var zp="Switch",[m$]=va(zp),[p$,g$]=m$(zp),L3=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:d,disabled:c,value:u="on",onCheckedChange:h,form:m,...g}=e,[w,p]=v.useState(null),S=rr(t,E=>p(E)),j=v.useRef(!1),N=w?m||!!w.closest("form"):!0,[P,k]=vo({prop:s,defaultProp:i??!1,onChange:h,caller:zp});return r.jsxs(p$,{scope:n,checked:P,disabled:c,children:[r.jsx(Lt.button,{type:"button",role:"switch","aria-checked":P,"aria-required":d,"data-state":I3(P),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:S,onClick:ot(e.onClick,E=>{k(O=>!O),N&&(j.current=E.isPropagationStopped(),j.current||E.stopPropagation())})}),N&&r.jsx(O3,{control:w,bubbles:!j.current,name:a,value:u,checked:P,required:d,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});L3.displayName=zp;var M3="SwitchThumb",F3=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,s=g$(M3,n);return r.jsx(Lt.span,{"data-state":I3(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});F3.displayName=M3;var x$="SwitchBubbleInput",O3=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:a=!0,...s},i)=>{const d=v.useRef(null),c=rr(d,i),u=Cp(n),h=op(t);return v.useEffect(()=>{const m=d.current;if(!m)return;const g=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==n&&p){const S=new Event("click",{bubbles:a});p.call(m,n),m.dispatchEvent(S)}},[u,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});O3.displayName=x$;function I3(e){return e?"checked":"unchecked"}var $3=L3,v$=F3;const qt=v.forwardRef(({className:e,...t},n)=>r.jsx($3,{className:xt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:r.jsx(v$,{className:xt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qt.displayName=$3.displayName;const y$=[{value:"generic_escpos",label:"Generic ESC/POS (Compatvel)"},{value:"epson_tm_t20",label:"Epson TM-T20"},{value:"epson_tm_t88",label:"Epson TM-T88"},{value:"bematech_mp4200",label:"Bematech MP-4200"},{value:"bematech_mp100",label:"Bematech MP-100"},{value:"daruma_dr700",label:"Daruma DR-700"},{value:"elgin_i9",label:"Elgin i9"},{value:"elgin_i7",label:"Elgin i7"},{value:"nitere_nscale",label:"Nitere NScale"},{value:"sweda_si300",label:"Sweda SI-300"}],w$=[{value:"usb",label:"USB"},{value:"network",label:"Rede (Wi-Fi/Ethernet)"},{value:"bluetooth",label:"Bluetooth"},{value:"serial",label:"Serial (COM)"}];function b$({config:e,onChange:t,onSave:n,onPreview:a}){const{toast:s}=Hr(),[i,d]=v.useState([]),[c,u]=v.useState(!1),h=async()=>{u(!0);try{"getInstalledRelatedApps"in navigator&&s({title:"Deteco de impressoras",description:"Selecione manualmente a impressora nas configuraes do navegador ao imprimir."}),d(["Impressora Padro do Sistema"])}catch(g){console.error("Error detecting printers:",g),s({title:"Erro ao detectar impressoras",description:"Use o dilogo de impresso do navegador para selecionar a impressora.",variant:"destructive"})}finally{u(!1)}};v.useEffect(()=>{h()},[]);const m=g=>{const w=g.target.files?.[0];if(!w)return;if(!w.type.startsWith("image/")){s({title:"Arquivo invlido",description:"Por favor, selecione uma imagem (PNG, JPG, etc.)",variant:"destructive"});return}const p=new FileReader;p.onload=S=>{const j=S.target?.result;t({...e,logoUrl:j,logoEnabled:!0}),s({title:"Logo carregada",description:"A logo ser exibida nos recibos impressos."})},p.readAsDataURL(w)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsxs(xr,{className:"flex items-center gap-2",children:[r.jsx(Pc,{className:"h-5 w-5"}),"Configurao da Impressora"]}),r.jsx(pn,{children:"Configure a impressora trmica para emisso de recibos"})]}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"printerModel",children:"Modelo da Impressora"}),r.jsxs(vr,{value:e.printerModel,onValueChange:g=>t({...e,printerModel:g}),children:[r.jsx(fr,{id:"printerModel",children:r.jsx(yr,{})}),r.jsx(mr,{children:y$.map(g=>r.jsx(Qe,{value:g.value,children:g.label},g.value))})]})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"connectionType",children:"Tipo de Conexo"}),r.jsxs(vr,{value:e.connectionType,onValueChange:g=>t({...e,connectionType:g}),children:[r.jsx(fr,{id:"connectionType",children:r.jsx(yr,{})}),r.jsx(mr,{children:w$.map(g=>r.jsx(Qe,{value:g.value,children:g.label},g.value))})]})]})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"paperWidth",children:"Largura do Papel"}),r.jsxs(vr,{value:e.paperWidth,onValueChange:g=>t({...e,paperWidth:g}),children:[r.jsx(fr,{id:"paperWidth",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"58mm",children:"58mm (Mini)"}),r.jsx(Qe,{value:"80mm",children:"80mm (Padro)"})]})]})]}),e.connectionType==="usb"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"usbVendorId",children:"Vendor ID (USB)"}),r.jsx(Fe,{id:"usbVendorId",value:e.usbVendorId||"",onChange:g=>t({...e,usbVendorId:g.target.value}),placeholder:"Ex: 0x0416"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Utilize o ID hexadecimal da impressora (ex.: 0x0416). Consulte o gerenciador de dispositivos do sistema operacional."})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"usbProductId",children:"Product ID (USB)"}),r.jsx(Fe,{id:"usbProductId",value:e.usbProductId||"",onChange:g=>t({...e,usbProductId:g.target.value}),placeholder:"Ex: 0x5011"})]})]}),e.connectionType==="network"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"networkHost",children:"Endereo IP da Impressora"}),r.jsx(Fe,{id:"networkHost",value:e.networkHost||"",onChange:g=>t({...e,networkHost:g.target.value}),placeholder:"Ex: 192.168.0.50"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"networkPort",children:"Porta"}),r.jsx(Fe,{id:"networkPort",type:"number",value:e.networkPort!=null?String(e.networkPort):"9100",onChange:g=>t({...e,networkPort:Number(g.target.value)||9100}),placeholder:"9100"})]})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"defaultPrinter",children:"Nome da Impressora (opcional)"}),r.jsx(Fe,{id:"defaultPrinter",value:e.defaultPrinter,onChange:g=>t({...e,defaultPrinter:g.target.value}),placeholder:"Ex: Epson TM-T20"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe em branco para usar a impressora padro do sistema"})]})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Recursos ESC/POS"}),r.jsx(pn,{children:"Ative recursos especiais da impressora trmica"})]}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(xe,{htmlFor:"autoprint",children:"Impresso Automtica"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Imprime automaticamente sem mostrar dilogo"})]}),r.jsx(qt,{id:"autoprint",checked:e.autoprint,onCheckedChange:g=>t({...e,autoprint:g})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(xe,{htmlFor:"enableCut",children:"Corte Automtico"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Corta o papel aps imprimir o recibo"})]}),r.jsx(qt,{id:"enableCut",checked:e.enableCut,onCheckedChange:g=>t({...e,enableCut:g})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(xe,{htmlFor:"enableBeep",children:"Sinal Sonoro"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Emite um beep ao finalizar impresso"})]}),r.jsx(qt,{id:"enableBeep",checked:e.enableBeep,onCheckedChange:g=>t({...e,enableBeep:g})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(xe,{htmlFor:"enableDrawer",children:"Abertura de Gaveta"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Abre a gaveta de dinheiro automaticamente"})]}),r.jsx(qt,{id:"enableDrawer",checked:e.enableDrawer,onCheckedChange:g=>t({...e,enableDrawer:g})})]})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Personalizao do Layout"}),r.jsx(pn,{children:"Configure cabealho, rodap e logo do recibo"})]}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(xe,{htmlFor:"logoUpload",children:"Logo da Empresa"}),r.jsx(qt,{checked:e.logoEnabled,onCheckedChange:g=>t({...e,logoEnabled:g})})]}),e.logoEnabled&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fe,{id:"logoUpload",type:"file",accept:"image/*",onChange:m,className:"flex-1"}),r.jsx(Ne,{variant:"outline",size:"icon",onClick:()=>document.getElementById("logoUpload")?.click(),children:r.jsx(Tb,{className:"h-4 w-4"})})]}),e.logoUrl&&r.jsx("div",{className:"border rounded p-2 flex justify-center bg-muted",children:r.jsx("img",{src:e.logoUrl,alt:"Logo",className:"max-h-24 object-contain"})})]})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"headerText",children:"Texto do Cabealho"}),r.jsx(ea,{id:"headerText",value:e.headerText,onChange:g=>t({...e,headerText:g.target.value}),placeholder:"Ex: Estacionamento 24h - Seguro e Confivel",rows:2})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"footerText",children:"Texto do Rodap"}),r.jsx(ea,{id:"footerText",value:e.footerText,onChange:g=>t({...e,footerText:g.target.value}),placeholder:"Ex: Obrigado pela preferncia! Volte sempre!",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"fontSize",children:"Tamanho da Fonte"}),r.jsxs(vr,{value:e.fontSize,onValueChange:g=>t({...e,fontSize:g}),children:[r.jsx(fr,{id:"fontSize",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"small",children:"Pequena"}),r.jsx(Qe,{value:"normal",children:"Normal"}),r.jsx(Qe,{value:"large",children:"Grande"})]})]})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"lineSpacing",children:"Espaamento"}),r.jsxs(vr,{value:e.lineSpacing,onValueChange:g=>t({...e,lineSpacing:g}),children:[r.jsx(fr,{id:"lineSpacing",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"compact",children:"Compacto"}),r.jsx(Qe,{value:"normal",children:"Normal"}),r.jsx(Qe,{value:"relaxed",children:"Relaxado"})]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(Ne,{variant:"outline",onClick:a,children:[r.jsx(vu,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),r.jsxs(Ne,{onClick:n,children:[r.jsx(Ix,{className:"h-4 w-4 mr-2"}),"Salvar Configuraes"]})]})]})}function j$({open:e,onOpenChange:t,printerConfig:n,companyInfo:a}){const s=()=>{window.print()},i={number:"000123",date:new Date,plate:"ABC-1234",vehicleType:"Carro",entryTime:new Date(Date.now()-72e5),exitTime:new Date,duration:"2h 00min",value:20,paymentMethod:"Dinheiro",operator:"Joo Silva"},d={small:"text-xs",normal:"text-sm",large:"text-base"}[n.fontSize]||"text-sm",c={compact:"leading-tight",normal:"leading-normal",relaxed:"leading-relaxed"}[n.lineSpacing]||"leading-normal";return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:"Visualizao de Impresso"}),r.jsxs(Ua,{children:["Preview do recibo configurado para ",n.paperWidth]})]}),r.jsx("div",{className:"my-4",children:r.jsxs("div",{className:`thermal-receipt-preview ${n.paperWidth==="58mm"?"thermal-58mm":"thermal-80mm"} ${d} ${c}`,style:{paddingTop:`${n.margins.top}px`,paddingBottom:`${n.margins.bottom}px`,paddingLeft:`${n.margins.left}px`,paddingRight:`${n.margins.right}px`},children:[n.logoEnabled&&n.logoUrl&&r.jsx("div",{className:"receipt-logo",children:r.jsx("img",{src:n.logoUrl,alt:"Logo"})}),r.jsxs("div",{className:"receipt-header",children:[r.jsx("div",{className:"company-name",children:a.name}),a.legalName&&r.jsx("div",{className:"company-legal",children:a.legalName}),a.cnpj&&r.jsxs("div",{className:"company-info",children:["CNPJ: ",a.cnpj]}),a.address&&r.jsx("div",{className:"company-info",children:a.address}),a.phone&&r.jsxs("div",{className:"company-info",children:["Tel: ",a.phone]}),n.headerText&&r.jsx("div",{className:"header-text",children:n.headerText})]}),r.jsx("div",{className:"receipt-divider",children:""}),r.jsxs("div",{className:"receipt-body",children:[r.jsx("div",{className:"receipt-title",children:"RECIBO DE ESTACIONAMENTO"}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"N:"}),r.jsx("span",{className:"receipt-value",children:i.number})]}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Data:"}),r.jsx("span",{className:"receipt-value",children:wt(i.date,"dd/MM/yyyy 's' HH:mm",{locale:ur})})]}),r.jsx("div",{className:"receipt-divider-light",children:"-------------------------------"}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Placa:"}),r.jsx("span",{className:"receipt-value font-bold",children:i.plate})]}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Veculo:"}),r.jsx("span",{className:"receipt-value",children:i.vehicleType})]}),r.jsx("div",{className:"receipt-divider-light",children:"-------------------------------"}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Entrada:"}),r.jsx("span",{className:"receipt-value",children:wt(i.entryTime,"dd/MM/yyyy HH:mm",{locale:ur})})]}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Sada:"}),r.jsx("span",{className:"receipt-value",children:wt(i.exitTime,"dd/MM/yyyy HH:mm",{locale:ur})})]}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Permanncia:"}),r.jsx("span",{className:"receipt-value",children:i.duration})]}),r.jsx("div",{className:"receipt-divider",children:""}),r.jsxs("div",{className:"receipt-row receipt-total",children:[r.jsx("span",{className:"font-bold",children:"VALOR:"}),r.jsxs("span",{className:"receipt-value font-bold text-lg",children:["R$ ",i.value.toFixed(2)]})]}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Forma Pgto:"}),r.jsx("span",{className:"receipt-value",children:i.paymentMethod})]}),r.jsx("div",{className:"receipt-divider",children:""}),r.jsxs("div",{className:"receipt-row",children:[r.jsx("span",{children:"Operador:"}),r.jsx("span",{className:"receipt-value",children:i.operator})]})]}),n.footerText&&r.jsx("div",{className:"receipt-footer",children:r.jsx("div",{className:"footer-text",children:n.footerText})}),r.jsx("div",{className:"receipt-cut-line",children:" - - - - - - - - - - - - - - - - - -"})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(Ne,{variant:"outline",onClick:()=>t(!1),children:[r.jsx(tp,{className:"h-4 w-4 mr-2"}),"Fechar"]}),r.jsxs(Ne,{onClick:s,children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Imprimir Teste"]})]})]})})}const N$=()=>{const[e,t]=v.useState({enabled:!1,schedule:"0 2 * * *",retentionDays:30}),[n,a]=v.useState(!1),[s,i]=v.useState(!1),{toast:d}=Hr(),c=async()=>{a(!0);try{const g=await rt.getBackupConfig();t(g)}catch(g){console.error("Erro ao carregar configurao de backup:",g);const w=g instanceof Error?g.message:String(g);!w.includes("404")&&!w.includes("Not Found")&&d({title:"Erro ao carregar configurao",description:w,variant:"destructive"})}finally{a(!1)}};v.useEffect(()=>{c()},[c]);const u=async()=>{i(!0);try{await rt.updateBackupConfig(e),d({title:"Configurao salva",description:"As configuraes de backup foram atualizadas"})}catch(g){const w=g instanceof Error?g.message:String(g);d({title:"Erro ao salvar",description:w,variant:"destructive"})}finally{i(!1)}},h=async()=>{try{await rt.triggerAutoBackup(),d({title:"Backup iniciado",description:"Um backup automtico est sendo criado"})}catch(g){const w=g instanceof Error?g.message:String(g);d({title:"Erro",description:w,variant:"destructive"})}},m={"0 2 * * *":"Diariamente s 2:00 AM","0 0 * * 0":"Semanalmente aos domingos  meia-noite","0 3 1 * *":"Mensalmente no dia 1 s 3:00 AM","0 */6 * * *":"A cada 6 horas"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold mb-2 flex items-center gap-2",children:[r.jsx(RP,{className:"h-5 w-5"}),"Backups Automticos"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure backups automticos regulares para proteger seus dados"})]}),n?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando configuraes..."}):r.jsxs("div",{className:"space-y-6 bg-card border rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(xe,{className:"text-base font-medium",children:"Ativar backups automticos"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Criar backups automaticamente no horrio agendado"})]}),r.jsx(qt,{checked:e.enabled,onCheckedChange:g=>t({...e,enabled:g})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(xe,{className:"flex items-center gap-2",children:[r.jsx(Nl,{className:"h-4 w-4"}),"Agendamento (Cron Expression)"]}),r.jsx(Fe,{value:e.schedule,onChange:g=>t({...e,schedule:g.target.value}),placeholder:"0 2 * * *",disabled:!e.enabled}),r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsx("p",{className:"font-medium",children:"Exemplos comuns:"}),Object.entries(m).map(([g,w])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("code",{className:"bg-muted px-2 py-0.5 rounded text-xs",children:g}),r.jsx("span",{className:"text-xs",children:w})]},g))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(xe,{className:"flex items-center gap-2",children:[r.jsx(Ca,{className:"h-4 w-4"}),"Reteno (dias)"]}),r.jsx(Fe,{type:"number",min:"1",max:"365",value:e.retentionDays,onChange:g=>t({...e,retentionDays:parseInt(g.target.value)||30}),disabled:!e.enabled}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Backups automticos mais antigos que ",e.retentionDays," dias sero removidos automaticamente"]})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[r.jsx(Ne,{onClick:u,disabled:s,children:s?"Salvando...":"Salvar Configuraes"}),r.jsx(Ne,{variant:"outline",onClick:h,disabled:!e.enabled,children:"Executar Backup Agora"})]}),e.enabled&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-green-900",children:[r.jsx(S$,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Backups automticos ativos"}),r.jsxs("p",{className:"text-sm text-green-800",children:["Prximo backup: ",m[e.schedule]||e.schedule]})]})]})})]})]})};function S$({className:e}){return r.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function C$(){const{toast:e}=Hr(),{hasPermission:t,isAdmin:n}=Ss();Qo();const[a,s]=v.useState(!1),[i,d]=v.useState(!1),[c,u]=v.useState({name:"",legalName:"",cnpj:"",address:"",phone:"",primaryColor:"#000000",receiptCounter:0,printerConfig:{printerModel:"generic_escpos",paperWidth:"80mm",connectionType:"usb",autoprint:!1,defaultPrinter:"",enableCut:!0,enableBeep:!1,enableDrawer:!1,logoUrl:"",logoEnabled:!1,headerText:"",footerText:"Obrigado pela preferncia!",fontSize:"normal",lineSpacing:"normal",margins:{top:10,bottom:10,left:5,right:5},usbVendorId:"",usbProductId:"",networkHost:"",networkPort:9100}}),[h,m]=v.useState(!1),g=async()=>{try{const p=await rt.getCompanyConfig();u({...p,printerConfig:p.printerConfig||{printerModel:"generic_escpos",paperWidth:"80mm",connectionType:"usb",autoprint:!1,defaultPrinter:"",enableCut:!0,enableBeep:!1,enableDrawer:!1,logoUrl:"",logoEnabled:!1,headerText:"",footerText:"Obrigado pela preferncia!",fontSize:"normal",lineSpacing:"normal",margins:{top:10,bottom:10,left:5,right:5},usbVendorId:"",usbProductId:"",networkHost:"",networkPort:9100}})}catch(p){console.error("Erro ao buscar configuraes:",p)}};v.useEffect(()=>{g()},[]);const w=async p=>{if(p.preventDefault(),!!t("manageCompanyConfig"))try{await rt.updateCompanyConfig(c),e({title:"Configuraes salvas",description:"As informaes da empresa foram atualizadas com sucesso"}),window.dispatchEvent(new CustomEvent("companyConfigUpdated")),g()}catch(S){console.error(S),e({title:"Erro",description:"No foi possvel atualizar as configuraes",variant:"destructive"})}};return r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuraes"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Dados da empresa, impressora e personalizao"})]}),r.jsxs(Hs,{defaultValue:"company",className:"w-full",children:[r.jsxs(js,{className:"grid w-full grid-cols-3 mb-6",children:[r.jsx(or,{value:"company",children:"Informaes da Empresa"}),r.jsx(or,{value:"printer",children:"Configurao de Impressora"}),r.jsx(or,{value:"backup",children:"Backups Automticos"})]}),r.jsx(ir,{value:"company",children:r.jsx("div",{className:"bg-card p-6 rounded-lg shadow-sm border",children:r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"name",children:"Nome da Empresa *"}),r.jsx(Fe,{id:"name",value:c.name,onChange:p=>u({...c,name:p.target.value}),placeholder:"Estacionamento Exemplo"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"legalName",children:"Razo Social"}),r.jsx(Fe,{id:"legalName",value:c.legalName,onChange:p=>u({...c,legalName:p.target.value}),placeholder:"Empresa Exemplo Ltda"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"cnpj",children:"CNPJ"}),r.jsx(Fe,{id:"cnpj",value:c.cnpj,onChange:p=>u({...c,cnpj:p.target.value}),placeholder:"00.000.000/0000-00"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"address",children:"Endereo"}),r.jsx(Fe,{id:"address",value:c.address,onChange:p=>u({...c,address:p.target.value}),placeholder:"Rua Exemplo, 123 - Bairro - Cidade/UF"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"phone",children:"Telefone / WhatsApp"}),r.jsx(Fe,{id:"phone",value:c.phone,onChange:p=>u({...c,phone:p.target.value}),placeholder:"(00) 00000-0000"})]}),r.jsxs("div",{children:[r.jsx(xe,{htmlFor:"primaryColor",children:"Cor Primria"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx(Fe,{id:"primaryColor",type:"color",value:c.primaryColor,onChange:p=>u({...c,primaryColor:p.target.value}),className:"w-20 h-10"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:c.primaryColor})]})]}),r.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Contador de Recibos:"})," ",c.receiptCounter.toString().padStart(6,"0")]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"O contador  incrementado automaticamente a cada recibo emitido"})]}),r.jsx("div",{className:"flex justify-end pt-4",children:t("manageCompanyConfig")?r.jsx(Ne,{type:"submit",children:"Salvar Configuraes"}):r.jsx("p",{className:"text-xs text-muted-foreground",children:"Visualizao somente. Sem permisso para editar."})})]})})}),r.jsx(ir,{value:"printer",children:r.jsx(b$,{config:c.printerConfig||{},onChange:p=>u({...c,printerConfig:p}),onSave:()=>w({preventDefault:()=>{}}),onPreview:()=>m(!0)})}),r.jsx(ir,{value:"backup",children:r.jsx(N$,{})})]}),n&&r.jsx("div",{className:"mt-8 bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Zm,{className:"h-5 w-5 text-destructive mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"rea de Manuteno"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Esta ao ir resetar o sistema para o estado inicial (first-run). Todos os dados sero limpos e voc precisar executar o wizard de configurao novamente."}),r.jsxs(R3,{open:a,onOpenChange:s,children:[r.jsx(h$,{asChild:!0,children:r.jsxs(Ne,{variant:"destructive",size:"sm",children:[r.jsx($P,{className:"mr-2 h-4 w-4"}),"Resetar para First-Run"]})}),r.jsxs(O0,{children:[r.jsxs(I0,{children:[r.jsx(B0,{children:"Confirmar Reset do Sistema"}),r.jsxs(z0,{className:"space-y-3",children:[r.jsx("p",{children:r.jsx("strong",{children:"Esta ao  irreversvel!"})}),r.jsx("p",{children:"O sistema ser resetado para o estado inicial. Isso ir:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[r.jsx("li",{children:"Limpar todos os tickets, clientes mensalistas e pagamentos"}),r.jsx("li",{children:"Remover todas as tarifas e tipos de veculos"}),r.jsx("li",{children:"Deletar todos os usurios (exceto voc, temporariamente)"}),r.jsx("li",{children:"Resetar as configuraes da empresa"}),r.jsx("li",{children:"Marcar o setup como no concludo"})]}),r.jsx("p",{className:"pt-2",children:"Aps o reset, voc ser redirecionado para o wizard de configurao inicial."})]})]}),r.jsxs($0,{children:[r.jsx(q0,{disabled:i,children:"Cancelar"}),r.jsx(U0,{onClick:async()=>{d(!0);try{await rt.resetToFirstRun(),e({title:"Sistema resetado",description:"O sistema foi resetado com sucesso. Redirecionando..."}),setTimeout(()=>{window.location.href="/setup"},1500)}catch(p){e({title:"Erro ao resetar",description:p.message||"Falha ao resetar o sistema",variant:"destructive"}),s(!1)}finally{d(!1)}},disabled:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:i?"Resetando...":"Confirmar Reset"})]})]})]})]})]})}),r.jsx(j$,{open:h,onOpenChange:m,printerConfig:c.printerConfig||{},companyInfo:{name:c.name,legalName:c.legalName,cnpj:c.cnpj,address:c.address,phone:c.phone}})]})})}function _$({rateId:e,onClose:t}){const{toast:n}=Hr(),[a,s]=v.useState([]),[i,d]=v.useState(!0),[c,u]=v.useState(!1),[h,m]=v.useState(null),[g,w]=v.useState("first_hour"),[p,S]=v.useState(""),[j,N]=v.useState(""),[P,k]=v.useState("0");v.useEffect(()=>{E()},[e]);const E=async()=>{try{d(!0),console.log(" Loading pricing rules for rate ID:",e);const F=await rt.getPricingRules(e);console.log(" Pricing rules loaded:",F),s(F)}catch(F){const z=F;console.error(" Error loading pricing rules:",F),console.error("Error details:",{message:F.message,status:F.status,rateId:e}),n({title:"Erro ao carregar regras",description:z.message||"No foi possvel carregar as regras de precificao.",variant:"destructive"})}finally{d(!1)}},O=async()=>{try{const F=te();await rt.createPricingRule(F),n({title:"Regra criada",description:"Regra de precificao criada com sucesso."}),K(),E()}catch(F){n({title:"Erro ao criar regra",description:F.message,variant:"destructive"})}},B=async()=>{if(h)try{const F=te();await rt.updatePricingRule(h.id,F),n({title:"Regra atualizada",description:"Regra de precificao atualizada com sucesso."}),K(),E()}catch(F){n({title:"Erro ao atualizar regra",description:F.message,variant:"destructive"})}},ae=async F=>{if(confirm("Deseja realmente excluir esta regra?"))try{await rt.deletePricingRule(F),n({title:"Regra excluda",description:"Regra de precificao excluda com sucesso."}),E()}catch(z){n({title:"Erro ao excluir regra",description:z.message,variant:"destructive"})}},W=async(F,z)=>{try{await rt.togglePricingRule(F,!z),n({title:z?"Regra desativada":"Regra ativada",description:`Regra ${z?"desativada":"ativada"} com sucesso.`}),E()}catch(q){n({title:"Erro ao alterar status",description:q.message,variant:"destructive"})}},te=()=>{const F=parseFloat(p);switch(g){case"first_hour":return{rateId:e,ruleType:g,conditions:{},valueAdjustment:{type:"override",value:F},priority:parseInt(P)||1,description:j||`Primeira hora: R$ ${F.toFixed(2)}`};case"daily_max":return{rateId:e,ruleType:g,conditions:{},valueAdjustment:{type:"cap",value:F},priority:parseInt(P)||99,description:j||`Valor mximo dirio: R$ ${F.toFixed(2)}`};case"time_range":return{rateId:e,ruleType:g,conditions:{hour_start:8,hour_end:18,days_of_week:[1,2,3,4,5]},valueAdjustment:{type:"multiplier",value:F},priority:parseInt(P)||3,description:j||`Horrio de pico: ${F}x`};case"hourly_progression":return{rateId:e,ruleType:g,conditions:{},valueAdjustment:{type:"progressive",ranges:[{from:0,to:2,value:F},{from:2,to:5,value:F*.8},{from:5,to:999,value:F*.6}]},priority:parseInt(P)||2,description:j||`Preo progressivo a partir de R$ ${F.toFixed(2)}`};default:throw new Error("Tipo de regra invlido")}},K=()=>{w("first_hour"),S(""),N(""),k("0"),m(null),u(!1)},oe=F=>{m(F),w(F.ruleType);const z=F.valueAdjustment;"value"in z&&typeof z.value=="number"?S(z.value.toString()):"ranges"in z&&Array.isArray(z.ranges)&&z.ranges.length>0&&S(z.ranges[0].value.toString()),N(F.description),k(F.priority.toString()),u(!0)},L=F=>({first_hour:"Primeira Hora",daily_max:"Mximo Dirio",time_range:"Faixa Horria",hourly_progression:"Preo Progressivo"})[F]||F;return i?r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando regras..."})})}):r.jsx("div",{className:"space-y-4",children:r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Regras de Precificao Avanada"}),r.jsx(pn,{children:"Configure regras especiais de preo baseadas em tempo (primeira hora, mximo dirio, etc.)"})]}),r.jsx(Dt,{children:c?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Tipo de Regra"}),r.jsxs(vr,{value:g,onValueChange:w,children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"first_hour",children:"Primeira Hora"}),r.jsx(Qe,{value:"daily_max",children:"Mximo Dirio"}),r.jsx(Qe,{value:"time_range",children:"Faixa Horria (Pico)"}),r.jsx(Qe,{value:"hourly_progression",children:"Preo Progressivo"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Valor (R$)"}),r.jsx(Fe,{type:"number",step:"0.01",value:p,onChange:F=>S(F.target.value),placeholder:"Ex: 10.00"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[g==="first_hour"&&"Valor fixo para a primeira hora",g==="daily_max"&&"Valor mximo cobrado por dia",g==="time_range"&&"Multiplicador (ex: 1.5 = 150%)",g==="hourly_progression"&&"Valor base (ser reduzido progressivamente)"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Descrio (Opcional)"}),r.jsx(Fe,{value:j,onChange:F=>N(F.target.value),placeholder:"Ex: Primeira hora: R$ 10,00"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Prioridade"}),r.jsx(Fe,{type:"number",value:P,onChange:F=>k(F.target.value),placeholder:"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Menor nmero = maior prioridade. Sugerido: primeira hora=1, progressivo=2, faixa horria=3, mximo dirio=99"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ne,{onClick:h?B:O,className:"flex-1",children:[h?"Atualizar":"Criar"," Regra"]}),r.jsx(Ne,{variant:"outline",onClick:K,children:"Cancelar"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Ne,{onClick:()=>u(!0),className:"w-full",children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Adicionar Nova Regra"]}),a.length===0?r.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:"Nenhuma regra configurada. Clique acima para adicionar."}):r.jsx("div",{className:"space-y-2",children:a.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:L(F.ruleType)}),!F.isActive&&r.jsx("span",{className:"text-xs bg-gray-200 px-2 py-0.5 rounded",children:"Inativa"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:F.description}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Prioridade: ",F.priority]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>W(F.id,F.isActive),children:F.isActive?r.jsx(qP,{className:"h-4 w-4 text-green-600"}):r.jsx(UP,{className:"h-4 w-4 text-gray-400"})}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>oe(F),children:r.jsx(Qm,{className:"h-4 w-4"})}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>ae(F.id),children:r.jsx(Gs,{className:"h-4 w-4 text-destructive"})})]})]},F.id))})]})})]})})}var P$="Separator",$w="horizontal",k$=["horizontal","vertical"],B3=v.forwardRef((e,t)=>{const{decorative:n,orientation:a=$w,...s}=e,i=E$(a)?a:$w,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(Lt.div,{"data-orientation":i,...c,...s,ref:t})});B3.displayName=P$;function E$(e){return k$.includes(e)}var z3=B3;const U3=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(z3,{ref:s,decorative:n,orientation:t,className:xt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));U3.displayName=z3.displayName;const Bw={daily:"Diria",overnight:"Pernoite",weekly:"Semanal",biweekly:"Quinzenal"},Ev=[{value:0,label:"Domingo"},{value:1,label:"Segunda-feira"},{value:2,label:"Tera-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"Sbado"}],kx="__CURRENT_RATE__";function wc(e){return e?e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():""}function Ex(e){const t=wc(e);return t.includes("daily")||t.includes("diaria")?"daily":t.includes("overnight")||t.includes("pernoite")?"overnight":t.includes("weekly")||t.includes("semanal")?"weekly":t.includes("biweekly")||t.includes("quinzenal")?"biweekly":null}function A$(e){const t=wc(e);return t.includes("diaria")?"daily":t.includes("pernoite")?"overnight":t.includes("semanal")?"weekly":t.includes("quinzenal")?"biweekly":"daily"}function zw(e){return e?e.length===5?e:e.slice(0,5):"--:--"}function Uw(e){const t=Ev.find(n=>n.value===e);return t?t.label:"Dia"}function T$(e){if(!e)return"";try{const t=new Date(e);return wt(t,"dd/MM/yyyy HH:mm")}catch{return e}}function R$({rate:e,allRates:t,onClose:n,onUpdated:a}){const{toast:s}=Hr(),{updateRate:i}=Zo(),[d,c]=v.useState("windows"),[u,h]=v.useState([]),[m,g]=v.useState([]),[w,p]=v.useState(e.config||{}),[S,j]=v.useState(!0),[N,P]=v.useState(!1),k=v.useMemo(()=>t.filter(D=>D.id!==e.id&&wc(D.vehicleType)===wc(e.vehicleType)&&wc(D.rateType).includes("hora")),[t,e.id,e.rateType,e.vehicleType]),E=v.useMemo(()=>t.filter(D=>D.id!==e.id&&wc(D.vehicleType)===wc(e.vehicleType)&&wc(D.rateType)!=="mensal"),[t,e.id,e.vehicleType]),O=A$(e.rateType),[B,ae]=v.useState({id:"",windowType:O,startTime:"",endTime:"",startDay:1,endDay:5,durationLimitMinutes:"",extraRateId:"",isActive:!0,metadata:""}),[W,te]=v.useState({id:"",targetRateId:"",thresholdAmount:"",autoApply:!1}),K=`${e.vehicleType} - ${e.rateType}`;v.useEffect(()=>{oe()},[e.id]),v.useEffect(()=>{L(),F()},[e.id]);const oe=async()=>{try{j(!0);const[D,T]=await Promise.all([rt.getRateTimeWindows(e.id),rt.getRateThresholds(e.id)]);h(D||[]),g(T||[]),p(e.config||{})}catch(D){console.error("Erro ao carregar dados avanados da tarifa:",D),s({title:"Erro ao carregar configuraes",description:"No foi possvel carregar as configuraes avanadas desta tarifa.",variant:"destructive"})}finally{j(!1)}},L=()=>{ae({id:"",windowType:O,startTime:"",endTime:"",startDay:1,endDay:5,durationLimitMinutes:"",extraRateId:"",isActive:!0,metadata:""})},F=()=>{te({id:"",targetRateId:"",thresholdAmount:"",autoApply:!1})},z=D=>{c("windows"),ae({id:D.id,windowType:Ex(D.window_type)||O,startTime:D.start_time||"",endTime:D.end_time||"",startDay:D.start_day??1,endDay:D.end_day??5,durationLimitMinutes:D.duration_limit_minutes?.toString()||"",extraRateId:D.extra_rate_id||"",isActive:D.is_active,metadata:JSON.stringify(D.metadata||{},null,2)})},q=D=>{c("thresholds"),te({id:D.id,targetRateId:D.target_rate_id,thresholdAmount:D.threshold_amount.toString(),autoApply:D.auto_apply})},ge=async D=>{D.preventDefault(),P(!0);try{const T={windowType:B.windowType,startTime:B.startTime||null,endTime:B.endTime||null,startDay:B.startDay,endDay:B.endDay,durationLimitMinutes:B.durationLimitMinutes?Number(B.durationLimitMinutes):null,extraRateId:B.extraRateId||null,isActive:B.isActive,metadata:D$(B.metadata)};if((B.windowType==="daily"||B.windowType==="overnight")&&(!B.startTime||!B.endTime))throw new Error("Informe horrio de incio e trmino.");if((B.windowType==="weekly"||B.windowType==="biweekly")&&!B.durationLimitMinutes)throw new Error("Informe o limite de durao em minutos.");B.id?(await rt.updateRateTimeWindow(B.id,T),s({title:"Janela atualizada com sucesso."})):(await rt.createRateTimeWindow(e.id,T),s({title:"Janela criada com sucesso."})),L(),oe(),a?.()}catch(T){s({title:"Erro ao salvar janela",description:T.message||"Verifique os campos e tente novamente.",variant:"destructive"})}finally{P(!1)}},fe=async D=>{if(confirm("Confirmar excluso desta janela?"))try{await rt.deleteRateTimeWindow(D.id),s({title:"Janela removida com sucesso."}),oe(),a?.()}catch(T){s({title:"Erro ao remover janela",description:T.message,variant:"destructive"})}},ye=async D=>{D.preventDefault(),P(!0);try{if(!W.targetRateId)throw new Error("Selecione a tarifa alvo.");if(!W.thresholdAmount)throw new Error("Informe o valor limite para sugesto.");const T={targetRateId:W.targetRateId,thresholdAmount:Number(W.thresholdAmount),autoApply:W.autoApply};W.id?(await rt.updateRateThreshold(W.id,T),s({title:"Sugesto atualizada com sucesso."})):(await rt.createRateThreshold(e.id,T),s({title:"Sugesto criada com sucesso."})),F(),oe(),a?.()}catch(T){s({title:"Erro ao salvar sugesto",description:T.message,variant:"destructive"})}finally{P(!1)}},U=async D=>{if(confirm("Remover esta sugesto automtica?"))try{await rt.deleteRateThreshold(D.id),s({title:"Sugesto removida com sucesso."}),oe(),a?.()}catch(T){s({title:"Erro ao remover sugesto",description:T.message,variant:"destructive"})}},$=D=>{const T=Ex(D.window_type)||"daily";return r.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(za,{variant:D.is_active?"default":"secondary",children:Bw[T]}),!D.is_active&&r.jsx("span",{className:"text-xs text-muted-foreground",children:"(Inativa)"})]}),r.jsxs("p",{className:"text-sm",children:["Horrio:"," ",r.jsxs("span",{className:"font-medium",children:[zw(D.start_time),"  ",zw(D.end_time)]})]}),(T==="weekly"||T==="biweekly")&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[Uw(D.start_day),"  ",Uw(D.end_day),"  limite:"," ",D.duration_limit_minutes?`${D.duration_limit_minutes} min`:"no definido"]}),D.extra_rate_id&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tarifa extra:"," ",t.find(I=>I.id===D.extra_rate_id)?.rateType||D.extra_rate_id]}),D.metadata&&Object.keys(D.metadata).length>0&&r.jsx("pre",{className:"bg-muted/60 rounded-md p-2 text-[11px] text-muted-foreground overflow-x-auto",children:JSON.stringify(D.metadata,null,2)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>z(D),children:"Editar"}),r.jsx(Ne,{variant:"destructive",size:"sm",onClick:()=>fe(D),children:"Excluir"})]})]},D.id)},H=D=>{const T=t.find(I=>I.id===D.target_rate_id);return r.jsxs("div",{className:"border rounded-lg p-3 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(za,{variant:D.auto_apply?"default":"outline",children:D.auto_apply?"Aplicao automtica":"Sugesto"}),T&&r.jsxs("span",{className:"text-sm font-medium",children:[T.vehicleType," - ",T.rateType]})]}),r.jsxs("p",{className:"text-sm",children:["Valor limite:"," ",r.jsxs("span",{className:"font-medium",children:["R$ ",Number(D.threshold_amount).toFixed(2)]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criado em: ",T$(D.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>q(D),children:"Editar"}),r.jsx(Ne,{variant:"destructive",size:"sm",onClick:()=>U(D),children:"Excluir"})]})]},D.id)};return S?r.jsx(Rt,{children:r.jsx(Dt,{className:"py-12",children:r.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando configuraes avanadas..."})})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Configuraes Avanadas"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ajuste janelas de tempo, sugestes de tarifa e regras especiais para ",K]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[e.unit&&r.jsxs(za,{variant:"outline",children:["Valor base: R$ ",e.value.toFixed(2),"/",e.unit]}),r.jsx(za,{variant:"outline",children:e.vehicleType}),r.jsx(za,{variant:"outline",children:e.rateType}),n&&r.jsx(Ne,{variant:"outline",onClick:n,children:"Fechar"})]})]}),r.jsxs(Hs,{value:d,onValueChange:c,className:"space-y-4",children:[r.jsxs(js,{children:[r.jsx(or,{value:"windows",children:"Janelas de Tempo"}),r.jsx(or,{value:"thresholds",children:"Sugestes Automticas"}),r.jsx(or,{value:"config",children:"Configuraes da Tarifa"}),r.jsx(or,{value:"rules",children:"Regras Avanadas"})]}),r.jsxs(ir,{value:"windows",className:"space-y-4",children:[r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Janelas de Tempo"}),r.jsx(pn,{children:"Configure horrios vlidos para esta tarifa. Voc pode definir mltiplas janelas por tipo."})]}),r.jsx(Dt,{children:r.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Tipo de Janela"}),r.jsxs(vr,{value:B.windowType,onValueChange:D=>ae(T=>({...T,windowType:D})),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"daily",children:"Diria"}),r.jsx(Qe,{value:"overnight",children:"Pernoite"}),r.jsx(Qe,{value:"weekly",children:"Semanal"}),r.jsx(Qe,{value:"biweekly",children:"Quinzenal"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Status"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Ative/desative temporariamente a janela"})]}),r.jsx(qt,{checked:B.isActive,onCheckedChange:D=>ae(T=>({...T,isActive:D}))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Horrio Inicial"}),r.jsx(Fe,{type:"time",value:B.startTime,onChange:D=>ae(T=>({...T,startTime:D.target.value})),required:B.windowType==="daily"||B.windowType==="overnight"})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Horrio Final"}),r.jsx(Fe,{type:"time",value:B.endTime,onChange:D=>ae(T=>({...T,endTime:D.target.value})),required:B.windowType==="daily"||B.windowType==="overnight"})]})]}),(B.windowType==="weekly"||B.windowType==="biweekly")&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Dia Inicial"}),r.jsxs(vr,{value:String(B.startDay),onValueChange:D=>ae(T=>({...T,startDay:Number(D)})),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsx(mr,{children:Ev.map(D=>r.jsx(Qe,{value:String(D.value),children:D.label},D.value))})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Dia Final"}),r.jsxs(vr,{value:String(B.endDay),onValueChange:D=>ae(T=>({...T,endDay:Number(D)})),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsx(mr,{children:Ev.map(D=>r.jsx(Qe,{value:String(D.value),children:D.label},D.value))})]})]})]}),(B.windowType==="weekly"||B.windowType==="biweekly")&&r.jsxs("div",{children:[r.jsx(xe,{children:"Limite (minutos)"}),r.jsx(Fe,{type:"number",min:"0",placeholder:"Ex: 1440",value:B.durationLimitMinutes,onChange:D=>ae(T=>({...T,durationLimitMinutes:D.target.value}))}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo mximo coberto pela tarifa. Ultrapassando, ser cobrada hora extra."})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Tarifa para hora extra (opcional)"}),r.jsxs(vr,{value:B.extraRateId||kx,onValueChange:D=>ae(T=>({...T,extraRateId:D===kx?"":D})),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione uma tarifa de hora/frao"})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:kx,children:"Padro (hora/frao atual)"}),k.map(D=>r.jsxs(Qe,{value:D.id,children:[D.vehicleType," - ",D.rateType," (R$ ",D.value.toFixed(2),"/",D.unit,")"]},D.id))]})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Metadata (JSON opcional)"}),r.jsx(ea,{className:"font-mono text-xs",rows:4,placeholder:'Ex: { "observacao": "Especial feriados" }',value:B.metadata,onChange:D=>ae(T=>({...T,metadata:D.target.value}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{type:"submit",disabled:N,className:"flex-1",children:B.id?"Atualizar Janela":"Adicionar Janela"}),B.id&&r.jsx(Ne,{type:"button",variant:"outline",onClick:L,children:"Cancelar"})]})]})})]}),r.jsx("div",{className:"space-y-4",children:["daily","overnight","weekly","biweekly"].map(D=>{const T=u.filter(I=>Ex(I.window_type)===D);return T.length?r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:Bw[D]}),r.jsxs(pn,{children:[D==="daily"&&"Intervalos cobertos pela tarifa diria.",D==="overnight"&&"Perodos de pernoite. Horas alm do fim sero cobradas como extra.",D==="weekly"&&"Controle de planos semanais com limite mximo de permanncia.",D==="biweekly"&&"Controle de planos quinzenais com limite mximo de permanncia."]})]}),r.jsx(Dt,{className:"space-y-3",children:T.map($)})]},D):null})})]}),r.jsxs(ir,{value:"thresholds",className:"space-y-4",children:[r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Sugestes Automticas"}),r.jsx(pn,{children:"Configure o valor mximo para sugerir (ou aplicar automaticamente) outra tarifa."})]}),r.jsx(Dt,{children:r.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Tarifa alvo"}),r.jsxs(vr,{value:W.targetRateId,onValueChange:D=>te(T=>({...T,targetRateId:D})),children:[r.jsx(fr,{children:r.jsx(yr,{placeholder:"Selecione a tarifa de destino"})}),r.jsx(mr,{children:E.map(D=>r.jsxs(Qe,{value:D.id,children:[D.vehicleType," - ",D.rateType," (R$ ",D.value.toFixed(2),")"]},D.id))})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Valor limite (R$)"}),r.jsx(Fe,{type:"number",step:"0.01",value:W.thresholdAmount,onChange:D=>te(T=>({...T,thresholdAmount:D.target.value})),placeholder:"Ex: 30.00",required:!0})]})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Aplicar automaticamente?"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Se ativado, a tarifa ser trocada sem necessidade de confirmao."})]}),r.jsx(qt,{checked:W.autoApply,onCheckedChange:D=>te(T=>({...T,autoApply:D}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{type:"submit",disabled:N,className:"flex-1",children:W.id?"Atualizar Sugesto":"Adicionar Sugesto"}),W.id&&r.jsx(Ne,{type:"button",variant:"outline",onClick:F,children:"Cancelar"})]})]})})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Limites configurados"}),r.jsx(pn,{children:"Quando o valor atual de cobrana exceder o limite, uma sugesto de troca ser exibida para o operador."})]}),r.jsx(Dt,{className:"space-y-3",children:m.length===0?r.jsx("p",{className:"text-center text-sm text-muted-foreground py-6",children:"Nenhuma sugesto configurada ainda."}):m.map(H)})]})]}),r.jsx(ir,{value:"config",children:r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Configurao da Tarifa"}),r.jsx(pn,{children:"Ajuste parmetros complementares da tarifa, como tolerncia e valores padro."})]}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Minutos de cortesia"}),r.jsx(Fe,{type:"number",min:"0",value:String(w.courtesyMinutes??e.courtesyMinutes??0),onChange:D=>p(T=>({...T,courtesyMinutes:Number(D.target.value)}))}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo tolerado antes de cobrar a prxima frao em Hora/Frao."})]}),r.jsx(U3,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Observaes adicionais"}),r.jsx(ea,{rows:4,placeholder:"Notas internas, instrues especiais, etc.",value:w.metadata?.notes||"",onChange:D=>p(T=>({...T,metadata:{...T.metadata||{},notes:D.target.value}}))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ne,{onClick:async()=>{try{const D=await i(e.id,{config:w,courtesyMinutes:w.courtesyMinutes??e.courtesyMinutes});p(D?.config||{}),s({title:"Configurao da tarifa atualizada."}),a?.()}catch(D){s({title:"Erro ao salvar configurao",description:D.message,variant:"destructive"})}},children:"Salvar configuraes"})})]})]})}),r.jsx(ir,{value:"rules",children:r.jsx(_$,{rateId:e.id,onClose:n})})]})]})}function D$(e){if(!e||!e.trim())return{};try{return JSON.parse(e)}catch{throw new Error("Metadata invlido. Informe um JSON vlido.")}}function L$(){const{rates:e,addRate:t,updateRate:n,deleteRate:a}=Zo(),{hasPermission:s}=Ss(),{toast:i}=Hr(),[d,c]=v.useState(null),[u,h]=v.useState(null),[m,g]=v.useState({vehicleType:"Carro",rateType:"Hora/Frao",value:"",unit:"hora",courtesyMinutes:"10"}),w=async E=>{E.preventDefault();const O={vehicleType:m.vehicleType,rateType:m.rateType,value:parseFloat(m.value),unit:m.unit,courtesyMinutes:parseInt(m.courtesyMinutes)};try{d?(await n(d,O),i({title:"Tarifa atualizada com sucesso"})):(await t(O),i({title:"Tarifa adicionada com sucesso"})),j()}catch{i({title:"Erro ao salvar tarifa",description:"Tente novamente",variant:"destructive"})}},p=E=>{c(E.id),g({vehicleType:E.vehicleType,rateType:E.rateType,value:E.value.toString(),unit:E.unit,courtesyMinutes:E.courtesyMinutes.toString()}),window.scrollTo({top:0,behavior:"smooth"})},S=async E=>{if(confirm("Tem certeza que deseja excluir esta tarifa?"))try{await a(E),i({title:"Tarifa excluda com sucesso"})}catch{i({title:"Erro ao excluir tarifa",variant:"destructive"})}},j=()=>{c(null),g({vehicleType:"Carro",rateType:"Hora/Frao",value:"",unit:"hora",courtesyMinutes:"10"})},N=e.filter(E=>E.vehicleType===m.vehicleType),P=u&&e.find(E=>E.id===u)||null,k=s("manageRates");return r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Tarifas"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure os valores e tipos de tarifas para cada tipo de veculo"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Rt,{className:k?"":"opacity-50 pointer-events-none select-none",children:[r.jsxs(gr,{children:[r.jsx(xr,{children:d?"Editar Tarifa":"Adicionar Nova Tarifa"}),r.jsx(pn,{children:d?"Atualize as informaes da tarifa selecionada":"Preencha os campos abaixo para criar uma nova tarifa"})]}),r.jsx(Dt,{children:r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Tipo de Veculo"}),r.jsx(RN,{value:m.vehicleType,onValueChange:E=>g({...m,vehicleType:E})})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Tipo de Tarifa"}),r.jsxs(vr,{value:m.rateType,onValueChange:E=>g({...m,rateType:E}),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Hora/Frao",children:"Hora/Frao"}),r.jsx(Qe,{value:"Diria",children:"Diria"}),r.jsx(Qe,{value:"Pernoite",children:"Pernoite"}),r.jsx(Qe,{value:"Semanal",children:"Semanal"}),r.jsx(Qe,{value:"Quinzenal",children:"Quinzenal"}),r.jsx(Qe,{value:"Mensal",children:"Mensal"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Valor (R$)"}),r.jsx(Fe,{type:"number",step:"0.01",value:m.value,onChange:E=>g({...m,value:E.target.value}),placeholder:"0.00",required:!0})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Unidade"}),r.jsx(Fe,{value:m.unit,onChange:E=>g({...m,unit:E.target.value}),placeholder:"hora, dia, ms...",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Minutos de Cortesia"}),r.jsx(Fe,{type:"number",value:m.courtesyMinutes,onChange:E=>g({...m,courtesyMinutes:E.target.value}),placeholder:"10",min:"0",required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tempo de tolerncia antes de cobrar a prxima frao"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[k&&r.jsxs(Ne,{type:"submit",className:"flex-1",children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),d?"Atualizar Tarifa":"Adicionar Tarifa"]}),d&&k&&r.jsx(Ne,{type:"button",variant:"outline",onClick:j,children:"Cancelar"})]})]})})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsxs(xr,{children:["Tarifas Cadastradas - ",m.vehicleType]}),r.jsxs(pn,{children:[N.length," ",N.length===1?"tarifa cadastrada":"tarifas cadastradas"]})]}),r.jsx(Dt,{children:r.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:N.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsxs("p",{className:"text-muted-foreground text-sm",children:["Nenhuma tarifa cadastrada para ",m.vehicleType]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use o formulrio ao lado para adicionar a primeira tarifa"})]}):N.map(E=>r.jsxs("div",{className:`bg-muted/50 p-4 rounded-lg flex items-center justify-between transition-colors hover:bg-muted ${d===E.id?"ring-2 ring-primary":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"font-medium",children:[E.vehicleType," - ",E.rateType]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",E.value.toFixed(2),"/",E.unit,E.courtesyMinutes>0&&`  ${E.courtesyMinutes}min cortesia`]})]}),r.jsx("div",{className:"flex gap-2",children:k&&r.jsxs(r.Fragment,{children:[r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>h(E.id),title:"Regras avanadas",children:r.jsx(Uv,{className:"h-4 w-4"})}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>p(E),title:"Editar tarifa",children:r.jsx(Qm,{className:"h-4 w-4"})}),r.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>S(E.id),title:"Excluir tarifa",className:"text-destructive hover:text-destructive",children:r.jsx(Gs,{className:"h-4 w-4"})})]})})]},E.id))})})]})]}),P&&r.jsx("div",{className:"mt-6",children:r.jsx(R$,{rate:P,allRates:e,onClose:()=>h(null),onUpdated:()=>{d===P.id&&g(E=>({...E,courtesyMinutes:(P.courtesyMinutes??0).toString()}))}})})]})})}const M$=()=>{const{toast:e}=Hr(),[t,n]=v.useState(!1),[a,s]=v.useState(!1),[i,d]=v.useState(!1),[c,u]=v.useState(!1),[h,m]=v.useState(!1),[g,w]=v.useState(""),[p,S]=v.useState(587),[j,N]=v.useState(""),[P,k]=v.useState(""),[E,O]=v.useState(!1),[B,ae]=v.useState(""),[W,te]=v.useState(!1),[K,oe]=v.useState(""),[L,F]=v.useState(""),[z,q]=v.useState(""),[ge,fe]=v.useState(!1),[ye,U]=v.useState(""),[$,H]=v.useState(""),[D,T]=v.useState(""),[I,G]=v.useState("");v.useEffect(()=>{J()},[]);const J=async()=>{n(!0);try{const Q=localStorage.getItem("token"),Te=await fetch("/api/integrations/configs/smtp",{headers:{Authorization:`Bearer ${Q}`}});if(Te.ok){const we=await Te.json();m(we.enabled),w(we.config.host||""),S(we.config.port||587),N(we.config.user||""),k(we.config.pass||""),O(we.config.secure||!1),ae(we.config.fromEmail||"")}const Ve=await fetch("/api/integrations/configs/sms",{headers:{Authorization:`Bearer ${Q}`}});if(Ve.ok){const we=await Ve.json();te(we.enabled),oe(we.config.accountSid||""),F(we.config.authToken||""),q(we.config.fromNumber||"")}const re=await fetch("/api/integrations/configs/whatsapp",{headers:{Authorization:`Bearer ${Q}`}});if(re.ok){const we=await re.json();fe(we.enabled),U(we.config.phoneNumberId||""),H(we.config.accessToken||"")}}catch(Q){console.error("Error loading configs:",Q),e({variant:"destructive",title:"Erro",description:"Erro ao carregar configuraes"})}finally{n(!1)}},ce=async()=>{n(!0);try{const Q=localStorage.getItem("token");if((await fetch("/api/integrations/configs/smtp",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({enabled:h,config:{host:g,port:p,user:j,pass:P,secure:E,fromEmail:B}})})).ok)e({title:"Sucesso",description:"Configurao SMTP salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{e({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao SMTP"})}finally{n(!1)}},se=async()=>{n(!0);try{const Q=localStorage.getItem("token");if((await fetch("/api/integrations/configs/sms",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({enabled:W,config:{accountSid:K,authToken:L,fromNumber:z}})})).ok)e({title:"Sucesso",description:"Configurao SMS salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{e({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao SMS"})}finally{n(!1)}},pe=async()=>{n(!0);try{const Q=localStorage.getItem("token");if((await fetch("/api/integrations/configs/whatsapp",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({enabled:ge,config:{phoneNumberId:ye,accessToken:$}})})).ok)e({title:"Sucesso",description:"Configurao WhatsApp salva com sucesso"});else throw new Error("Erro ao salvar configurao")}catch{e({variant:"destructive",title:"Erro",description:"Erro ao salvar configurao WhatsApp"})}finally{n(!1)}},le=async()=>{if(!D){e({variant:"destructive",title:"Erro",description:"Informe um email para teste"});return}s(!0);try{const Q=localStorage.getItem("token"),Te=await fetch("/api/integrations/test-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({to:D})});if(Te.ok)e({title:"Email Enviado",description:"Email de teste enviado com sucesso!"});else{const Ve=await Te.json();throw new Error(Ve.error||"Erro ao enviar email")}}catch(Q){e({variant:"destructive",title:"Erro",description:Q.message||"Erro ao enviar email de teste"})}finally{s(!1)}},be=async()=>{if(!I){e({variant:"destructive",title:"Erro",description:"Informe um telefone para teste"});return}d(!0);try{const Q=localStorage.getItem("token"),Te=await fetch("/api/integrations/test-sms",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({to:I})});if(Te.ok)e({title:"SMS Enviado",description:"SMS de teste enviado com sucesso!"});else{const Ve=await Te.json();throw new Error(Ve.error||"Erro ao enviar SMS")}}catch(Q){e({variant:"destructive",title:"Erro",description:Q.message||"Erro ao enviar SMS de teste"})}finally{d(!1)}},Ee=async()=>{if(!I){e({variant:"destructive",title:"Erro",description:"Informe um telefone para teste"});return}u(!0);try{const Q=localStorage.getItem("token"),Te=await fetch("/api/integrations/test-whatsapp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({to:I})});if(Te.ok)e({title:"WhatsApp Enviado",description:"Mensagem de teste enviada com sucesso!"});else{const Ve=await Te.json();throw new Error(Ve.error||"Erro ao enviar WhatsApp")}}catch(Q){e({variant:"destructive",title:"Erro",description:Q.message||"Erro ao enviar WhatsApp de teste"})}finally{u(!1)}};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Integraes"}),r.jsx("p",{className:"text-muted-foreground",children:"Configure integraes com servios externos"})]}),r.jsxs(Hs,{defaultValue:"email",className:"space-y-4",children:[r.jsxs(js,{children:[r.jsxs(or,{value:"email",children:[r.jsx(Cb,{className:"w-4 h-4 mr-2"}),"Email (SMTP)"]}),r.jsxs(or,{value:"sms",children:[r.jsx(kb,{className:"w-4 h-4 mr-2"}),"SMS"]}),r.jsxs(or,{value:"whatsapp",children:[r.jsx(OP,{className:"w-4 h-4 mr-2"}),"WhatsApp"]}),r.jsxs(or,{value:"webhooks",children:[r.jsx(HP,{className:"w-4 h-4 mr-2"}),"Webhooks"]})]}),r.jsx(ir,{value:"email",children:r.jsxs(Rt,{children:[r.jsx(gr,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(xr,{children:"Configurao SMTP"}),r.jsx(pn,{children:"Configure o servidor de email para envio de recibos e notificaes"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xe,{htmlFor:"smtp-enabled",children:"Ativo"}),r.jsx(qt,{id:"smtp-enabled",checked:h,onCheckedChange:m})]})]})}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"smtp-host",children:"Host SMTP"}),r.jsx(Fe,{id:"smtp-host",placeholder:"smtp.gmail.com",value:g,onChange:Q=>w(Q.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"smtp-port",children:"Porta"}),r.jsx(Fe,{id:"smtp-port",type:"number",placeholder:"587",value:p,onChange:Q=>S(parseInt(Q.target.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"smtp-user",children:"Usurio / Email"}),r.jsx(Fe,{id:"smtp-user",type:"email",placeholder:"seu@email.com",value:j,onChange:Q=>N(Q.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"smtp-pass",children:"Senha"}),r.jsx(Fe,{id:"smtp-pass",type:"password",placeholder:"",value:P,onChange:Q=>k(Q.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"smtp-from",children:"Email de Envio"}),r.jsx(Fe,{id:"smtp-from",type:"email",placeholder:"noreply@estacionamento.com",value:B,onChange:Q=>ae(Q.target.value)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qt,{id:"smtp-secure",checked:E,onCheckedChange:O}),r.jsx(xe,{htmlFor:"smtp-secure",children:"Usar SSL/TLS"})]}),r.jsx(ki,{children:r.jsxs(Ei,{className:"text-sm",children:[r.jsx("strong",{children:"Gmail:"}),' Use smtp.gmail.com, porta 587, e crie uma "Senha de app" nas configuraes de segurana do Google.']})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{onClick:ce,disabled:t,children:"Salvar Configurao"}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsx(Fe,{placeholder:"email@teste.com",value:D,onChange:Q=>T(Q.target.value),className:"w-64"}),r.jsxs(Ne,{variant:"outline",onClick:le,disabled:a||!h,children:[a?"Enviando...":"Testar Email",r.jsx(Og,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),r.jsx(ir,{value:"sms",children:r.jsxs(Rt,{children:[r.jsx(gr,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(xr,{children:"Configurao SMS (Twilio)"}),r.jsx(pn,{children:"Configure o Twilio para envio de SMS"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xe,{htmlFor:"sms-enabled",children:"Ativo"}),r.jsx(qt,{id:"sms-enabled",checked:W,onCheckedChange:te})]})]})}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"twilio-sid",children:"Account SID"}),r.jsx(Fe,{id:"twilio-sid",placeholder:"AC...",value:K,onChange:Q=>oe(Q.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"twilio-token",children:"Auth Token"}),r.jsx(Fe,{id:"twilio-token",type:"password",placeholder:"",value:L,onChange:Q=>F(Q.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"twilio-from",children:"Nmero de Envio"}),r.jsx(Fe,{id:"twilio-from",placeholder:"+5511999999999",value:z,onChange:Q=>q(Q.target.value)})]}),r.jsx(ki,{children:r.jsxs(Ei,{className:"text-sm",children:["Obtenha suas credenciais no"," ",r.jsx("a",{href:"https://console.twilio.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Console Twilio"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{onClick:se,disabled:t,children:"Salvar Configurao"}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsx(Fe,{placeholder:"+5511999999999",value:I,onChange:Q=>G(Q.target.value),className:"w-64"}),r.jsxs(Ne,{variant:"outline",onClick:be,disabled:i||!W,children:[i?"Enviando...":"Testar SMS",r.jsx(Og,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),r.jsx(ir,{value:"whatsapp",children:r.jsxs(Rt,{children:[r.jsx(gr,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(xr,{children:"Configurao WhatsApp Business"}),r.jsx(pn,{children:"Configure a API do WhatsApp Business"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xe,{htmlFor:"whatsapp-enabled",children:"Ativo"}),r.jsx(qt,{id:"whatsapp-enabled",checked:ge,onCheckedChange:fe})]})]})}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"whatsapp-phone-id",children:"Phone Number ID"}),r.jsx(Fe,{id:"whatsapp-phone-id",placeholder:"123456789012345",value:ye,onChange:Q=>U(Q.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"whatsapp-token",children:"Access Token"}),r.jsx(Fe,{id:"whatsapp-token",type:"password",placeholder:"",value:$,onChange:Q=>H(Q.target.value)})]}),r.jsx(ki,{children:r.jsxs(Ei,{className:"text-sm",children:["Configure no"," ",r.jsx("a",{href:"https://developers.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Meta for Developers"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{onClick:pe,disabled:t,children:"Salvar Configurao"}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsx(Fe,{placeholder:"+5511999999999",value:I,onChange:Q=>G(Q.target.value),className:"w-64"}),r.jsxs(Ne,{variant:"outline",onClick:Ee,disabled:c||!ge,children:[c?"Enviando...":"Testar WhatsApp",r.jsx(Og,{className:"w-4 h-4 ml-2"})]})]})]})]})]})}),r.jsx(ir,{value:"webhooks",children:r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Webhooks"}),r.jsx(pn,{children:"Configure webhooks para integraes personalizadas"})]}),r.jsx(Dt,{children:r.jsx(ki,{children:r.jsx(Ei,{children:"Webhooks permitem enviar eventos do sistema para URLs externas. Em breve!"})})})]})})]})]})},F$=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function qw(e){return`${F$[e.getMonth()]}/${e.getFullYear()}`}function kh(e,t){const n=t||Nd,a="--------------------------------";return["parking_ticket","monthly_payment","general_receipt"].includes(e)?e==="monthly_payment"?`${a}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${a}
${n.name||"Nome da Empresa"}
${n.legalName||"Razo Social"}
CNPJ: ${n.cnpj||"00.000.000/0000-00"}
${n.address||"Endereo da Empresa"}
Tel: ${n.phone||"(00) 0000-0000"}
${a}

RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

CLIENTE: {{customerName}}
CPF/CNPJ: {{customerDocument}}
Telefone: {{customerPhone}}
Email: {{customerEmail}}

PLANO: {{planName}}
Referncia: {{reference}}
Contrato: {{contractNumber}}
Perodo: {{contractPeriod}}
Vaga: {{parkingSlot}}

Vencimento: {{dueDate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Data Pagamento: {{paymentDate}}
Operador: {{operator}}

${a}
Documento sem validade fiscal
${a}
Obrigado pela preferncia!
 2025 ProParking App
`:`${a}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${a}
${n.name||"Nome da Empresa"}
${n.legalName||"Razo Social"}
CNPJ: ${n.cnpj||"00.000.000/0000-00"}
${n.address||"Endereo da Empresa"}
Tel: ${n.phone||"(00) 0000-0000"}
${a}

RECIBO DE REEMBOLSO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

SOLICITANTE: {{recipientName}}
CPF: {{recipientCpf}}

Placa: {{plate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Emitido por: {{issuedBy}}

Descrio:
{{description}}

Observaes:
{{notes}}

${a}
Documento sem validade fiscal
${a}
Obrigado pela preferncia!
 2025 ProParking App
`:`${a}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${a}
${n.name||"Nome da Empresa"}
${n.legalName||"Razo Social"}
CNPJ: ${n.cnpj||"00.000.000/0000-00"}
${n.address||"Endereo da Empresa"}
Tel: ${n.phone||"(00) 0000-0000"}
${a}

RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}

${a}
Documento sem validade fiscal
${a}
Obrigado pela preferncia!
 2025 ProParking App
`}function um(e){const t=e||Nd,n="--------------------------------",a=`${n}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${n}
${t.name||"Nome da Empresa"}
${t.legalName||"Razo Social"}
CNPJ: ${t.cnpj||"00.000.000/0000-00"}
${t.address||"Endereo da Empresa"}
Tel: ${t.phone||"(00) 0000-0000"}
${n}

TICKET DE ENTRADA
RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}
Placa: {{plate}}
Tipo: {{vehicleType}}
Entrada: {{entryTime}}
Operador: {{operator}}

${n}
Documento sem validade fiscal
${n}
Obrigado pela preferncia!
 2025 ProParking App
`,s=`${n}
 PROPARKING APP - 2025
Sistema de Gesto de Estacionamento
${n}
${t.name||"Nome da Empresa"}
${t.legalName||"Razo Social"}
CNPJ: ${t.cnpj||"00.000.000/0000-00"}
${t.address||"Endereo da Empresa"}
Tel: ${t.phone||"(00) 0000-0000"}
${n}

TICKET DE SADA
RECIBO: {{receiptNumber}}
Data: {{date}}
Hora: {{time}}
Placa: {{plate}}
Tipo: {{vehicleType}}

Entrada: {{entryTime}}
Sada: {{exitTime}}
Durao: {{duration}}

Tarifa: {{rate}}
Valor: {{value}}
Pagamento: {{paymentMethod}}
Operador: {{operator}}

${n}
Documento sem validade fiscal
${n}
Obrigado pela preferncia!
 2025 ProParking App
`;return{entry:a,exit:s}}function O$(e,t,n){const a=n||Nd,s=new Date;if(e==="monthly_payment"){const d=new Date(s);d.setDate(d.getDate()+20);const c=new Date(s);c.setMonth(c.getMonth()-1);const u=new Date(c);u.setMonth(u.getMonth()+1);const h={receiptNumber:"000321",issuedAt:s,customer:{name:"Joo Henrique Souza",document:"CPF 123.456.789-00",phone:"(11) 91234-5678",email:"joao.souza@email.com"},vehicle:{plate:"ABC-1D23",model:"SUV",color:"Prata"},plan:{name:"Mensalidade Premium 24h",description:"Acesso 24h, vaga coberta, 1 veculo cadastrado",reference:qw(s)},payment:{method:"Pix",amount:420.5,dueDate:d,paidAt:s,status:"Pago",transactionId:"PIX-9F3A2",receivedBy:"Maria Operadora"},contract:{start:c,end:u,number:"CN-2025-083"},slot:"Vaga 12 - Setor B",notes:"Tag 0152 liberada. Vaga exclusiva na rea coberta.",company:a,customFieldValues:{referenceMonth:qw(s),contractNumber:"CN-2025-083",contractStart:bl(c),contractEnd:bl(u),contractPeriod:`${bl(c)} a ${bl(u)}`,parkingSlot:"Vaga 12 - Setor B",customerName:"Joo Henrique Souza",customerDocument:"CPF 123.456.789-00",customerPhone:"(11) 91234-5678",customerEmail:"joao.souza@email.com",description:"Mensalidade do plano premium com vaga coberta e tag de acesso."}};return Array.isArray(t.customFields)&&t.customFields.forEach((m,g)=>{h.customFieldValues[m.name]||(h.customFieldValues[m.name]=m.defaultValue||`Valor de exemplo ${g+1}`)}),h}if(e==="parking_ticket"){const d=new Date(s);d.setHours(d.getHours()-2);const c=new Date(s),u={receiptNumber:"ENT-001",issuedAt:d,vehicle:{plate:"ABC-1234",vehicleType:"Carro",entryTime:d},payment:{method:"No aplicvel",amount:0,paidAt:d},operator:"Operador Exemplo",company:a,customFieldValues:{}},h={receiptNumber:"SAI-001",issuedAt:c,vehicle:{plate:"ABC-1234",vehicleType:"Carro",entryTime:d,exitTime:c,duration:"2h 15min"},payment:{method:"Dinheiro",amount:15,paidAt:c},operator:"Operador Exemplo",company:a,customFieldValues:{}};return Array.isArray(t.customFields)&&t.customFields.forEach((m,g)=>{u.customFieldValues[m.name]=m.defaultValue||`Valor de exemplo ${g+1}`,h.customFieldValues[m.name]=m.defaultValue||`Valor de exemplo ${g+1}`}),{entry:u,exit:h}}const i={receiptNumber:"000145",issuedAt:s,customer:{name:"Cliente Exemplo",document:"CPF 000.000.000-00"},vehicle:{plate:"XYZ-9A88"},payment:{method:"Dinheiro",amount:35.9,paidAt:s},notes:"Recibo gerado para demonstrao.",company:a,customFieldValues:{}};return Array.isArray(t.customFields)&&t.customFields.forEach((d,c)=>{i.customFieldValues[d.name]=d.defaultValue||`Valor de exemplo ${c+1}`}),i}function fu({template:e,sample:t,company:n}){const a=e.primaryColor||"#000000",s=e.secondaryColor||"#666666",i=e.fontFamily||"Arial, sans-serif",d=n||Nd,c=(e.customFields||[]).map(u=>({label:u.label||u.name,value:eS(u,t)})).filter(u=>u.value);return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"mx-auto w-full max-w-[480px] rounded-lg border bg-white shadow",style:{fontFamily:i},children:[r.jsxs("div",{className:"border-b p-6 text-center",style:{borderColor:`${s}55`},children:[e.showLogo&&r.jsx("div",{className:"mb-3 flex justify-center",children:r.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full border border-dashed border-muted-foreground/60 text-[10px] text-muted-foreground",children:"LOGO"})}),e.showCompanyName&&r.jsx("h2",{className:"text-xl font-bold",style:{color:a},children:d?.name||Nd.name}),e.showCompanyDetails&&r.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[d?.legalName&&r.jsx("p",{children:d.legalName}),d?.cnpj&&r.jsxs("p",{children:["CNPJ: ",d.cnpj]}),d?.address&&r.jsx("p",{children:d.address}),d?.phone&&r.jsxs("p",{children:["Tel: ",d.phone]})]}),e.headerText&&r.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:e.headerText})]}),r.jsxs("div",{className:"space-y-6 p-6 text-sm text-slate-700",children:[r.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[e.showReceiptNumber&&t.receiptNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Recibo"}),r.jsxs("p",{className:"font-medium",children:["#",t.receiptNumber]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Data de Emisso"}),r.jsx("p",{className:"font-medium",children:bl(t.payment?.paidAt||t.issuedAt)}),e.showTime&&r.jsx("p",{className:"text-xs text-muted-foreground",children:ZN(t.payment?.paidAt||t.issuedAt)})]}),e.templateType==="monthly_payment"&&t.payment?.dueDate&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Vencimento"}),r.jsx("p",{className:"font-medium",children:bl(t.payment.dueDate)})]}),e.showPaymentMethod&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Pagamento"}),r.jsx("p",{className:"font-medium",children:t.payment?.method})]}),e.showPlate&&t.vehicle?.plate&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Placa"}),r.jsx("p",{className:"font-medium",children:t.vehicle.plate})]}),e.templateType==="monthly_payment"&&t.slot&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Vaga"}),r.jsx("p",{className:"font-medium",children:t.slot})]})]}),r.jsxs("section",{className:"rounded-lg border border-dashed border-muted-foreground/40 p-4",children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Resumo do Pagamento"}),r.jsx("p",{className:"text-2xl font-semibold",style:{color:a},children:Im(t.payment?.amount)}),e.templateType==="monthly_payment"&&t.plan?.reference&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Referncia: ",t.plan.reference]}),e.templateType==="monthly_payment"&&t.plan?.name&&r.jsx("p",{className:"text-sm text-muted-foreground",children:t.plan.name}),e.showOperator&&t.payment?.receivedBy&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Recebido por: ",t.payment.receivedBy]}),t.payment?.transactionId&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Transao: ",t.payment.transactionId]})]}),r.jsxs("section",{className:"grid gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Cliente"}),r.jsx("p",{className:"font-medium",children:t.customer?.name}),t.customer?.document&&r.jsx("p",{className:"text-xs text-muted-foreground",children:t.customer.document}),t.customer?.phone&&r.jsx("p",{className:"text-xs text-muted-foreground",children:t.customer.phone})]}),e.customFields?.length>0&&c.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"mb-2 text-xs uppercase text-muted-foreground",children:"Informaes"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:c.map(u=>r.jsxs("div",{className:"rounded bg-muted px-3 py-2 text-xs",children:[r.jsx("p",{className:"font-medium text-muted-foreground",children:u.label}),r.jsx("p",{className:"text-slate-700",children:u.value})]},u.label))})]})]}),t.notes&&r.jsxs("section",{className:"rounded-lg bg-muted/60 p-3 text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-slate-600",children:"Observaes"}),r.jsx("p",{children:t.notes})]}),e.termsAndConditions&&r.jsxs("section",{className:"rounded-lg border border-dashed border-muted-foreground/60 p-3 text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-slate-600",children:"Termos e Condies"}),r.jsx("p",{children:e.termsAndConditions})]}),(e.showQrCode||e.showBarcode)&&r.jsxs("section",{className:"flex flex-col items-center gap-4",children:[e.showQrCode&&r.jsx("div",{className:"flex h-28 w-28 items-center justify-center rounded border border-dashed border-muted-foreground/70 text-[10px] text-muted-foreground",children:"QR CODE"}),e.showBarcode&&r.jsxs("div",{className:"flex h-16 w-full max-w-[320px] items-center justify-center rounded border border-dashed border-muted-foreground/70 text-[10px] text-muted-foreground",children:["BARRAS (",e.barcodeType||"CODE128",")"]})]}),e.showSignatureLine&&r.jsx("section",{className:"pt-6",children:r.jsx("div",{className:"border-t border-dashed border-muted-foreground/60 pt-3 text-center text-xs text-muted-foreground",children:"Assinatura do Responsvel"})})]}),e.footerText&&r.jsx("div",{className:"px-6 pb-6 text-center text-xs text-muted-foreground",children:e.footerText})]}),r.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Este preview representa o modelo em PDF enviado por e-mail/WhatsApp ao cliente."})]})}function I$(){const{toast:e}=Hr(),[t,n]=v.useState([]),[a,s]=v.useState("all"),[i,d]=v.useState(!1),[c,u]=v.useState(!1),[h,m]=v.useState(!1),[g,w]=v.useState(null),[p,S]=v.useState(null),[j,N]=v.useState(!1),[P,k]=v.useState(null),[E,O]=v.useState(null),[B,ae]=v.useState(""),[W,te]=v.useState(""),[K,oe]=v.useState(""),[L,F]=v.useState(null),[z,q]=v.useState("thermal"),[ge,fe]=v.useState(!1),[ye,U]=v.useState(""),[$,H]=v.useState({templateName:"",templateType:"general_receipt",description:"",isActive:!0,isDefault:!1,showLogo:!0,showCompanyName:!0,showCompanyDetails:!0,showReceiptNumber:!0,showDate:!0,showTime:!0,showPlate:!0,showValue:!0,showPaymentMethod:!0,showSignatureLine:!0,showVehicleType:!1,showEntryTime:!1,showExitTime:!1,showDuration:!1,showRate:!1,showOperator:!1,showQrCode:!1,showBarcode:!1,barcodeType:"CODE128",primaryColor:"#000000",secondaryColor:"#666666",fontFamily:"Arial",customFields:[]});v.useEffect(()=>{D()},[a]),v.useEffect(()=>{(async()=>{try{const Te=await rt.getCompanyConfig();F(Te)}catch(Te){console.error("Erro ao carregar configurao da empresa:",Te)}})()},[]),v.useEffect(()=>{if(!P){O(null),ae(""),te(""),oe("");return}const Q=O$(P.templateType,P,L);if(O(Q),P.templateType==="parking_ticket"&&Q&&typeof Q=="object"&&"entry"in Q&&"exit"in Q){const Te=Q;te(xm(P,Te.entry,L)),oe(xm(P,Te.exit,L)),ae("")}else ae(xm(P,Q,L)),te(""),oe("")},[P,L]);const D=async()=>{try{const Q=await rt.getReceiptTemplates(a),Te=Array.isArray(Q)?Q:[];n(Te),k(Ve=>{if(!Te.length)return null;if(Ve){const we=Te.find(Xe=>Xe.id===Ve.id);if(we)return we}return Te.find(we=>we.templateType!=="parking_ticket")||Te[0]})}catch(Q){console.error("Error fetching templates:",Q),n([]),k(null),e({variant:"destructive",title:"Erro",description:"Erro ao carregar modelos de recibo"})}},T=Q=>{k(Q),q("thermal"),u(!0)},I=Q=>{if(!Q){k(null);return}const Ve=(Array.isArray(t)?t:[]).find(re=>re.id===Q)||null;k(Ve)},G=()=>{w(null),fe(!1),U("");const Q="general_receipt",Te=kh(Q,L);H({templateName:"",templateType:Q,description:"",isActive:!0,isDefault:!1,showLogo:!0,showCompanyName:!0,showCompanyDetails:!0,showReceiptNumber:!0,showDate:!0,showTime:!0,showPlate:!0,showValue:!0,showPaymentMethod:!0,showSignatureLine:!0,showVehicleType:!1,showEntryTime:!1,showExitTime:!1,showDuration:!1,showRate:!1,showOperator:!1,showQrCode:!1,showBarcode:!1,barcodeType:"CODE128",primaryColor:"#000000",secondaryColor:"#666666",fontFamily:"Arial",customFields:[],customTemplateText:Te}),d(!0)},J=Q=>{w(Q);const Te=!["parking_ticket","monthly_payment","general_receipt"].includes(Q.templateType);fe(Te),U(Te?Q.templateType:"");const Ve={...Q};if(Q.templateType==="parking_ticket"){if(!Ve.customTemplateTextEntry||!Ve.customTemplateTextExit){const re=um(L);Ve.customTemplateTextEntry=Ve.customTemplateTextEntry||re.entry,Ve.customTemplateTextExit=Ve.customTemplateTextExit||re.exit}}else Te||Ve.customTemplateText||(Ve.customTemplateText=kh(Q.templateType,L));H(Ve),d(!0)},ce=async()=>{if(ge&&(!ye||ye.trim()==="")){e({title:"Erro",description:"Digite o nome do tipo de recibo",variant:"destructive"});return}if(!$.templateName||!$.templateType||$.templateType.trim()===""){e({title:"Erro",description:"Nome e tipo so obrigatrios",variant:"destructive"});return}N(!0);try{g?await rt.updateReceiptTemplate(g.id,$):await rt.createReceiptTemplate($),e({title:"Sucesso",description:g?"Template atualizado":"Template criado"}),d(!1),D()}catch(Q){e({title:"Erro",description:Q.message||"No foi possvel salvar o template",variant:"destructive"})}finally{N(!1)}},se=async()=>{if(p){N(!0);try{await rt.deleteReceiptTemplate(p.id),e({title:"Template excludo",description:"O template foi removido com sucesso"}),m(!1),S(null),D()}catch(Q){e({title:"Erro",description:Q.message||"No foi possvel excluir o template",variant:"destructive"})}finally{N(!1)}}},pe=async Q=>{try{await rt.setDefaultReceiptTemplate(Q.id),e({title:"Template padro definido",description:`"${Q.templateName}" agora  o template padro`}),D()}catch(Te){e({title:"Erro",description:Te.message||"No foi possvel definir como padro",variant:"destructive"})}},le=async Q=>{try{await rt.cloneReceiptTemplate(Q.id),e({title:"Template duplicado",description:"Uma cpia do template foi criada"}),D()}catch(Te){e({title:"Erro",description:Te.message||"No foi possvel duplicar o template",variant:"destructive"})}},be=Q=>({parking_ticket:"Ticket de Estacionamento",monthly_payment:"Mensalista",general_receipt:"Recibo de Reembolso"})[Q]||Q,Ee=Array.isArray(t)?t:[];return r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Modelos de Recibos"}),r.jsx("p",{className:"text-muted-foreground",children:"Gerencie templates personalizados para diferentes tipos de recibos"})]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs(vr,{value:a,onValueChange:s,children:[r.jsx(fr,{className:"w-64",children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"all",children:"Todos os Tipos"}),r.jsx(Qe,{value:"parking_ticket",children:"Ticket de Estacionamento"}),r.jsx(Qe,{value:"monthly_payment",children:"Mensalista"}),r.jsx(Qe,{value:"general_receipt",children:"Recibo de Reembolso"}),r.jsx(Qe,{value:"cash_closing_thermal",children:"Fechamento de Caixa (Trmico)"}),r.jsx(Qe,{value:"cash_closing_pdf",children:"Fechamento de Caixa (PDF)"})]})]}),r.jsxs(Ne,{onClick:G,children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Novo Template"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ee.length===0?r.jsxs("div",{className:"col-span-full text-center py-12",children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum template encontrado. Crie seu primeiro template!"}),r.jsxs(Ne,{onClick:G,children:[r.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Template"]})]}):Ee.map(Q=>r.jsxs("div",{className:`bg-card border rounded-lg p-6 hover:shadow-md transition-shadow ${Q.id===P?.id?"border-primary ring-1 ring-primary/30":Q.isDefault?"border-primary":""}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold",children:Q.templateName}),Q.isDefault&&r.jsx(dy,{className:"h-4 w-4 text-primary fill-primary"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:be(Q.templateType)})]}),r.jsx("div",{className:`px-2 py-1 rounded text-xs ${Q.isActive?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:Q.isActive?"Ativo":"Inativo"})]}),Q.description&&r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:Q.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground mb-4",children:[Q.showQrCode&&r.jsx("span",{className:"bg-muted px-2 py-1 rounded",children:"QR Code"}),Q.showBarcode&&r.jsx("span",{className:"bg-muted px-2 py-1 rounded",children:"Cdigo de Barras"}),Q.customFields?.length>0&&r.jsxs("span",{className:"bg-muted px-2 py-1 rounded",children:[Q.customFields.length," campos extras"]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>T(Q),className:"flex-1",children:[r.jsx(vu,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),r.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>J(Q),className:"flex-1",children:[r.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Editar"]}),r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>le(Q),children:r.jsx(TP,{className:"h-3 w-3"})}),!Q.isDefault&&r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>pe(Q),children:r.jsx(dy,{className:"h-3 w-3"})}),r.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>{S(Q),m(!0)},disabled:Q.isDefault,children:r.jsx(Gs,{className:"h-3 w-3"})})]})]},Q.id))}),Ee.length>0&&r.jsxs("section",{className:"mt-12 space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Pr-visualizao Rpida"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja como o comprovante  renderizado antes de aplicar alteraes nos modelos."})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(vr,{value:P?.id,onValueChange:I,children:[r.jsx(fr,{className:"min-w-[240px]",children:r.jsx(yr,{placeholder:"Selecione um template"})}),r.jsx(mr,{children:Ee.map(Q=>r.jsxs(Qe,{value:Q.id,children:[Q.templateName,"  ",be(Q.templateType)]},Q.id))})]}),r.jsxs(Ne,{variant:"outline",onClick:()=>P&&T(P),disabled:!P,children:[r.jsx(FP,{className:"h-4 w-4 mr-2"}),"Abrir em modal"]})]})]}),P&&E?r.jsxs(Hs,{value:z,onValueChange:Q=>q(Q),className:"space-y-4",children:[r.jsxs(js,{className:"grid w-full max-w-[320px] grid-cols-2",children:[r.jsx(or,{value:"thermal",children:"Impressora Trmica"}),r.jsx(or,{value:"pdf",children:"Modelo PDF (completo)"})]}),r.jsx(ir,{value:"thermal",className:"space-y-3",children:P.templateType==="parking_ticket"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:W||"Preview indisponvel para este template."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:K||"Preview indisponvel para este template."})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:B||"Preview indisponvel para este template."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulao textual de um cupom de 58 mm com dados fictcios."})]})}),r.jsx(ir,{value:"pdf",className:"pt-4",children:P.templateType==="parking_ticket"&&E&&typeof E=="object"&&"entry"in E&&"exit"in E?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),r.jsx(fu,{template:P,sample:E.entry,company:L})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),r.jsx(fu,{template:P,sample:E.exit,company:L})]})]}):r.jsx(fu,{template:P,sample:E,company:L})})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione um template para visualizar o recibo em tempo real."})]}),r.jsx($r,{open:i,onOpenChange:d,children:r.jsxs(Lr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:g?"Editar Template":"Novo Template"}),r.jsx(Ua,{children:"Configure os campos e estilos do recibo"})]}),r.jsxs(Hs,{defaultValue:"basic",children:[r.jsxs(js,{className:"grid w-full grid-cols-5",children:[r.jsx(or,{value:"basic",children:"Bsico"}),r.jsx(or,{value:"fields",children:"Campos"}),r.jsx(or,{value:"footer",children:"Rodap"}),r.jsx(or,{value:"template",children:"Template Livre"}),r.jsx(or,{value:"email",children:"Email/WhatsApp"})]}),r.jsxs(ir,{value:"basic",className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Nome do Template *"}),r.jsx(Fe,{value:$.templateName,onChange:Q=>H({...$,templateName:Q.target.value}),placeholder:"Ex: Recibo Padro Vermelho"})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Tipo *"}),ge?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Fe,{placeholder:"Digite o nome do tipo (ex: Recibo de Lavagem)",value:ye,onChange:Q=>{const Te=Q.target.value.trim();U(Te),H({...$,templateType:Te})},className:"flex-1"}),r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>{fe(!1),U(""),H({...$,templateType:"general_receipt",customTemplateText:kh("general_receipt",L)})},children:"Cancelar"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite um nome nico para o novo tipo de recibo"})]}):r.jsxs(vr,{value:$.templateType||"",onValueChange:Q=>{if(Q==="__create_new__")fe(!0),U(""),H({...$,templateType:"",customTemplateText:"",customTemplateTextEntry:void 0,customTemplateTextExit:void 0});else{const Te=Q;if(Te==="parking_ticket"){const Ve=um(L);H({...$,templateType:Te,customTemplateText:void 0,customTemplateTextEntry:$.customTemplateTextEntry||Ve.entry,customTemplateTextExit:$.customTemplateTextExit||Ve.exit})}else{const re=!$.customTemplateText||$.customTemplateText.trim()===""?kh(Te,L):$.customTemplateText;H({...$,templateType:Te,customTemplateText:re,customTemplateTextEntry:void 0,customTemplateTextExit:void 0})}}},children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"parking_ticket",children:"Ticket de Estacionamento"}),r.jsx(Qe,{value:"monthly_payment",children:"Mensalista"}),r.jsx(Qe,{value:"general_receipt",children:"Recibo de Reembolso"}),r.jsx(Qe,{value:"__create_new__",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Sa,{className:"h-4 w-4"}),"Criar Novo +"]})})]})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Descrio"}),r.jsx(ea,{value:$.description,onChange:Q=>H({...$,description:Q.target.value}),placeholder:"Descreva o propsito deste template",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Template Ativo"}),r.jsx(qt,{checked:$.isActive,onCheckedChange:Q=>H({...$,isActive:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Template Padro"}),r.jsx(qt,{checked:$.isDefault,onCheckedChange:Q=>H({...$,isDefault:Q})})]})]}),r.jsxs("div",{className:"space-y-3 border-t pt-4",children:[r.jsx("h4",{className:"font-medium",children:"Cabealho"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Mostrar Logo"}),r.jsx(qt,{checked:$.showLogo,onCheckedChange:Q=>H({...$,showLogo:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Mostrar Nome da Empresa"}),r.jsx(qt,{checked:$.showCompanyName,onCheckedChange:Q=>H({...$,showCompanyName:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between col-span-2",children:[r.jsx(xe,{className:"text-sm",children:"Mostrar Detalhes da Empresa"}),r.jsx(qt,{checked:$.showCompanyDetails,onCheckedChange:Q=>H({...$,showCompanyDetails:Q})})]})]})]})]}),r.jsxs(ir,{value:"fields",className:"space-y-6",children:[$.templateType==="parking_ticket"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),r.jsx("h4",{className:"font-semibold text-lg",children:"Ticket de Entrada"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure quais campos aparecero no ticket impresso quando um veculo entra no estacionamento."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Nmero do Recibo"}),r.jsx(qt,{checked:$.showReceiptNumber,onCheckedChange:Q=>H({...$,showReceiptNumber:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Data"}),r.jsx(qt,{checked:$.showDate,onCheckedChange:Q=>H({...$,showDate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio"}),r.jsx(qt,{checked:$.showTime,onCheckedChange:Q=>H({...$,showTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Placa"}),r.jsx(qt,{checked:$.showPlate,onCheckedChange:Q=>H({...$,showPlate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Tipo de Veculo"}),r.jsx(qt,{checked:$.showVehicleType,onCheckedChange:Q=>H({...$,showVehicleType:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio de Entrada"}),r.jsx(qt,{checked:$.showEntryTime,onCheckedChange:Q=>H({...$,showEntryTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Operador"}),r.jsx(qt,{checked:$.showOperator,onCheckedChange:Q=>H({...$,showOperator:Q})})]})]})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),r.jsx("h4",{className:"font-semibold text-lg",children:"Ticket de Sada"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure quais campos aparecero no ticket impresso quando um veculo sai do estacionamento."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Nmero do Recibo"}),r.jsx(qt,{checked:$.showReceiptNumber,onCheckedChange:Q=>H({...$,showReceiptNumber:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Data"}),r.jsx(qt,{checked:$.showDate,onCheckedChange:Q=>H({...$,showDate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio"}),r.jsx(qt,{checked:$.showTime,onCheckedChange:Q=>H({...$,showTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Placa"}),r.jsx(qt,{checked:$.showPlate,onCheckedChange:Q=>H({...$,showPlate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Tipo de Veculo"}),r.jsx(qt,{checked:$.showVehicleType,onCheckedChange:Q=>H({...$,showVehicleType:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio de Entrada"}),r.jsx(qt,{checked:$.showEntryTime,onCheckedChange:Q=>H({...$,showEntryTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio de Sada"}),r.jsx(qt,{checked:$.showExitTime,onCheckedChange:Q=>H({...$,showExitTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Durao"}),r.jsx(qt,{checked:$.showDuration,onCheckedChange:Q=>H({...$,showDuration:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Tarifa"}),r.jsx(qt,{checked:$.showRate,onCheckedChange:Q=>H({...$,showRate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Valor"}),r.jsx(qt,{checked:$.showValue,onCheckedChange:Q=>H({...$,showValue:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Forma de Pagamento"}),r.jsx(qt,{checked:$.showPaymentMethod,onCheckedChange:Q=>H({...$,showPaymentMethod:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Operador"}),r.jsx(qt,{checked:$.showOperator,onCheckedChange:Q=>H({...$,showOperator:Q})})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h4",{className:"font-medium",children:"Campos do Recibo"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Nmero do Recibo"}),r.jsx(qt,{checked:$.showReceiptNumber,onCheckedChange:Q=>H({...$,showReceiptNumber:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Data"}),r.jsx(qt,{checked:$.showDate,onCheckedChange:Q=>H({...$,showDate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio"}),r.jsx(qt,{checked:$.showTime,onCheckedChange:Q=>H({...$,showTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Placa"}),r.jsx(qt,{checked:$.showPlate,onCheckedChange:Q=>H({...$,showPlate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Tipo de Veculo"}),r.jsx(qt,{checked:$.showVehicleType,onCheckedChange:Q=>H({...$,showVehicleType:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio de Entrada"}),r.jsx(qt,{checked:$.showEntryTime,onCheckedChange:Q=>H({...$,showEntryTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Horrio de Sada"}),r.jsx(qt,{checked:$.showExitTime,onCheckedChange:Q=>H({...$,showExitTime:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Durao"}),r.jsx(qt,{checked:$.showDuration,onCheckedChange:Q=>H({...$,showDuration:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Tarifa"}),r.jsx(qt,{checked:$.showRate,onCheckedChange:Q=>H({...$,showRate:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Valor"}),r.jsx(qt,{checked:$.showValue,onCheckedChange:Q=>H({...$,showValue:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Forma de Pagamento"}),r.jsx(qt,{checked:$.showPaymentMethod,onCheckedChange:Q=>H({...$,showPaymentMethod:Q})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-sm",children:"Operador"}),r.jsx(qt,{checked:$.showOperator,onCheckedChange:Q=>H({...$,showOperator:Q})})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Estilo"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(xe,{className:"text-sm",children:"Cor Primria"}),r.jsx(Fe,{type:"color",value:$.primaryColor,onChange:Q=>H({...$,primaryColor:Q.target.value})})]}),r.jsxs("div",{children:[r.jsx(xe,{className:"text-sm",children:"Cor Secundria"}),r.jsx(Fe,{type:"color",value:$.secondaryColor,onChange:Q=>H({...$,secondaryColor:Q.target.value})})]}),r.jsxs("div",{children:[r.jsx(xe,{className:"text-sm",children:"Fonte"}),r.jsxs(vr,{value:$.fontFamily,onValueChange:Q=>H({...$,fontFamily:Q}),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"Arial",children:"Arial"}),r.jsx(Qe,{value:"Helvetica",children:"Helvetica"}),r.jsx(Qe,{value:"Times New Roman",children:"Times New Roman"}),r.jsx(Qe,{value:"Courier",children:"Courier"})]})]})]})]})]})]}),r.jsxs(ir,{value:"footer",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"QR Code"}),r.jsx(qt,{checked:$.showQrCode,onCheckedChange:Q=>H({...$,showQrCode:Q})})]}),$.showQrCode&&r.jsxs("div",{className:"col-span-2",children:[r.jsx(xe,{className:"text-sm",children:"Dados do QR Code (use variveis)"}),r.jsx(Fe,{value:$.qrCodeData||"",onChange:Q=>H({...$,qrCodeData:Q.target.value}),placeholder:"{{receiptNumber}}|{{plate}}|{{value}}"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Cdigo de Barras"}),r.jsx(qt,{checked:$.showBarcode,onCheckedChange:Q=>H({...$,showBarcode:Q})})]}),$.showBarcode&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx(xe,{className:"text-sm",children:"Dados do Cdigo de Barras"}),r.jsx(Fe,{value:$.barcodeData||"",onChange:Q=>H({...$,barcodeData:Q.target.value}),placeholder:"{{receiptNumber}}"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx(xe,{className:"text-sm",children:"Tipo"}),r.jsxs(vr,{value:$.barcodeType,onValueChange:Q=>H({...$,barcodeType:Q}),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"CODE128",children:"CODE128"}),r.jsx(Qe,{value:"EAN13",children:"EAN13"}),r.jsx(Qe,{value:"CODE39",children:"CODE39"})]})]})]})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Termos e Condies"}),r.jsx(ea,{value:$.termsAndConditions||"",onChange:Q=>H({...$,termsAndConditions:Q.target.value}),rows:3,placeholder:"Documento sem validade fiscal..."})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Texto do Rodap"}),r.jsx(ea,{value:$.footerText||"",onChange:Q=>H({...$,footerText:Q.target.value}),rows:2,placeholder:"Obrigado pela preferncia!"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Linha de Assinatura"}),r.jsx(qt,{checked:$.showSignatureLine,onCheckedChange:Q=>H({...$,showSignatureLine:Q})})]})]}),r.jsx(ir,{value:"template",className:"space-y-4",children:$.templateType==="parking_ticket"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-base font-semibold",children:"Template de Entrada"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{const Q=um(L);H({...$,customTemplateTextEntry:Q.entry})},children:"Restaurar Padro"})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso para o ticket de entrada. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{operator}}"]}),r.jsx(ea,{value:$.customTemplateTextEntry||"",onChange:Q=>H({...$,customTemplateTextEntry:Q.target.value}),placeholder:"Digite ou edite o template de entrada...",rows:15,className:"font-mono text-xs"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-base font-semibold",children:"Template de Sada"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{const Q=um(L);H({...$,customTemplateTextExit:Q.exit})},children:"Restaurar Padro"})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso para o ticket de sada. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}"]}),r.jsx(ea,{value:$.customTemplateTextExit||"",onChange:Q=>H({...$,customTemplateTextExit:Q.target.value}),placeholder:"Digite ou edite o template de sada...",rows:15,className:"font-mono text-xs"})]}),r.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[r.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),r.jsx("p",{className:"text-muted-foreground",children:"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Template de Impresso (Texto Livre)"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{const Q=kh($.templateType||"general_receipt",L);H({...$,customTemplateText:Q})},children:"Restaurar Padro"})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template de impresso. Use variveis como"," ","{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{value}}, etc."]}),r.jsx(ea,{value:$.customTemplateText||"",onChange:Q=>H({...$,customTemplateText:Q.target.value}),placeholder:"Digite ou edite o template de impresso...",rows:20,className:"font-mono text-xs"}),r.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[r.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),r.jsxs("p",{className:"text-muted-foreground",children:[$.templateType==="monthly_payment"&&r.jsx(r.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{customerName}}, {{customerDocument}}, {{customerPhone}}, {{customerEmail}}, {{planName}}, {{reference}}, {{contractNumber}}, {{contractPeriod}}, {{parkingSlot}}, {{dueDate}}, {{value}}, {{paymentMethod}}, {{paymentDate}}, {{operator}}"}),$.templateType==="general_receipt"&&r.jsx(r.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{customerName}}, {{customerDocument}}, {{plate}}, {{value}}, {{paymentMethod}}, {{operator}}, {{notes}}"})]})]})]})}),r.jsxs(ir,{value:"email",className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Assunto do Email"}),r.jsx(Fe,{value:$.emailSubject||"",onChange:Q=>H({...$,emailSubject:Q.target.value}),placeholder:"Recibo #{{receiptNumber}} - {{companyName}}"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{className:"text-base font-semibold",children:"Template PDF/Email (HTML)"}),r.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:async()=>{try{const Te=await fetch(`/api/receipt-templates?type=${$.templateType}&default=true`);if(Te.ok){const Ve=await Te.json();if(Ve&&Ve.length>0&&Ve[0].emailBodyHtml){H({...$,emailBodyHtml:Ve[0].emailBodyHtml});return}}}catch(Te){console.error("Erro ao buscar template padro:",Te)}const Q=$.templateType==="monthly_payment"?`<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recibo Mensalista - ProParking App</title>
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <div style="background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden;">
    <div style="background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); padding: 30px 20px; text-align: center; color: white;">
      <h1 style="margin: 0; font-size: 28px; font-weight: 700;">PROPARKING APP - 2025</h1>
    </div>
    <div style="padding: 24px;">
      <h2>Recibo #{{receiptNumber}}</h2>
      <p><strong>Cliente:</strong> {{customerName}}</p>
      <p><strong>Valor:</strong> R$ {{value}}</p>
      <p><strong>Data:</strong> {{date}}</p>
    </div>
  </div>
</body>
</html>`:`<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recibo - ProParking App</title>
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <div style="background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden;">
    <div style="background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); padding: 30px 20px; text-align: center; color: white;">
      <h1 style="margin: 0; font-size: 28px; font-weight: 700;">PROPARKING APP - 2025</h1>
    </div>
    <div style="padding: 24px;">
      <h2>Recibo #{{receiptNumber}}</h2>
      <p><strong>Valor:</strong> R$ {{value}}</p>
      <p><strong>Data:</strong> {{date}}</p>
    </div>
  </div>
</body>
</html>`;H({...$,emailBodyHtml:Q})},children:"Restaurar Padro"})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Edite livremente o template HTML para PDF/Email. Use variveis como"," ",$.templateType==="monthly_payment"?"{{receiptNumber}}, {{customerName}}, {{plates}}, {{value}}, {{date}}, {{referenceMonth}}, {{paymentMethod}}, {{dueDate}}, {{companyName}}, etc.":$.templateType==="general_receipt"?"{{receiptNumber}}, {{recipientName}}, {{recipientCpf}}, {{plate}}, {{value}}, {{date}}, {{time}}, {{paymentMethod}}, {{description}}, {{issuedBy}}, {{companyName}}, etc.":"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{value}}, {{paymentMethod}}, {{companyName}}, etc."]}),r.jsxs(Hs,{defaultValue:"editor",className:"w-full",children:[r.jsxs(js,{className:"grid w-full grid-cols-2",children:[r.jsx(or,{value:"editor",children:"Editor HTML"}),r.jsx(or,{value:"preview",children:"Preview"})]}),r.jsxs(ir,{value:"editor",className:"space-y-2",children:[r.jsx(ea,{value:$.emailBodyHtml||"",onChange:Q=>H({...$,emailBodyHtml:Q.target.value}),rows:20,placeholder:"<!DOCTYPE html>...",className:"font-mono text-xs"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Dica: Use variveis entre chaves duplas, ex: ","{{receiptNumber}}"]})]}),r.jsxs(ir,{value:"preview",className:"space-y-2",children:[r.jsx("div",{className:"border rounded-lg p-4 bg-white max-h-[600px] overflow-auto",children:$.emailBodyHtml?r.jsx("div",{dangerouslySetInnerHTML:{__html:$.emailBodyHtml.replace(/\{\{receiptNumber\}\}/g,"001234").replace(/\{\{customerName\}\}/g,"Cliente Exemplo").replace(/\{\{plates\}\}/g,"ABC-1234").replace(/\{\{value\}\}/g,"150,00").replace(/\{\{date\}\}/g,"15/01/2025").replace(/\{\{time\}\}/g,"14:30").replace(/\{\{referenceMonth\}\}/g,"Janeiro/2025").replace(/\{\{paymentMethod\}\}/g,"PIX").replace(/\{\{dueDate\}\}/g,"15/02/2025").replace(/\{\{recipientName\}\}/g,"Joo Silva").replace(/\{\{recipientCpf\}\}/g,"000.000.000-00").replace(/\{\{plate\}\}/g,"XYZ-9876").replace(/\{\{description\}\}/g,"Reembolso de estacionamento").replace(/\{\{issuedBy\}\}/g,"Operador Exemplo").replace(/\{\{companyName\}\}/g,L?.name||"Nome da Empresa").replace(/\{\{companyLegalName\}\}/g,L?.legalName||"Razo Social").replace(/\{\{companyCnpj\}\}/g,L?.cnpj||"00.000.000/0000-00").replace(/\{\{companyAddress\}\}/g,L?.address||"Endereo da Empresa").replace(/\{\{companyPhone\}\}/g,L?.phone||"(00) 0000-0000")}}):r.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Digite o HTML do template para ver o preview"})}),r.jsx("p",{className:"text-xs text-muted-foreground",children:" Preview com dados de exemplo. As variveis sero substitudas pelos dados reais ao enviar."})]})]})]}),r.jsxs("div",{children:[r.jsx(xe,{children:"Mensagem WhatsApp"}),r.jsx(ea,{value:$.whatsappMessage||"",onChange:Q=>H({...$,whatsappMessage:Q.target.value}),rows:4,placeholder:"RECIBO #{{receiptNumber}}\\nPlaca: {{plate}}\\nValor: R$ {{value}}"})]}),r.jsxs("div",{className:"bg-muted p-3 rounded text-xs",children:[r.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),r.jsxs("p",{className:"text-muted-foreground",children:[$.templateType==="monthly_payment"&&r.jsx(r.Fragment,{children:"{{receiptNumber}}, {{customerName}}, {{plates}}, {{value}}, {{date}}, {{referenceMonth}}, {{paymentMethod}}, {{dueDate}}, {{companyName}}, {{companyLegalName}}, {{companyCnpj}}, {{companyAddress}}, {{companyPhone}}"}),$.templateType==="general_receipt"&&r.jsx(r.Fragment,{children:"{{receiptNumber}}, {{recipientName}}, {{recipientCpf}}, {{plate}}, {{value}}, {{date}}, {{time}}, {{paymentMethod}}, {{description}}, {{issuedBy}}, {{companyName}}, {{companyLegalName}}, {{companyCnpj}}, {{companyAddress}}, {{companyPhone}}"}),$.templateType==="parking_ticket"&&r.jsx(r.Fragment,{children:"{{receiptNumber}}, {{date}}, {{time}}, {{plate}}, {{vehicleType}}, {{entryTime}}, {{exitTime}}, {{duration}}, {{rate}}, {{value}}, {{paymentMethod}}, {{operator}}, {{companyName}}, {{companyLegalName}}, {{companyCnpj}}, {{companyAddress}}, {{companyPhone}}"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx(Ne,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),r.jsx(Ne,{onClick:ce,disabled:j,children:j?"Salvando...":g?"Atualizar":"Criar"})]})]})}),r.jsx($r,{open:c,onOpenChange:u,children:r.jsxs(Lr,{className:"max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:"Preview do Template"}),r.jsx(Ua,{children:P?`Visualizando "${P.templateName}".`:"Selecione um template para visualizar."})]}),P&&E?r.jsxs(Hs,{value:z,onValueChange:Q=>q(Q),children:[r.jsxs(js,{className:"grid w-full grid-cols-2",children:[r.jsx(or,{value:"thermal",children:"Impressora Trmica"}),r.jsx(or,{value:"pdf",children:"Modelo PDF (completo)"})]}),r.jsx(ir,{value:"thermal",className:"space-y-3",children:P.templateType==="parking_ticket"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:W||"Preview indisponvel para este template."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[400px] overflow-auto",children:K||"Preview indisponvel para este template."})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"rounded border bg-muted/50 p-4 font-mono text-xs whitespace-pre-wrap leading-relaxed max-h-[520px] overflow-auto",children:B||"Preview indisponvel para este template."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulao em texto monoespaado de um cupom de 58 mm com dados fictcios de mensalista."})]})}),r.jsx(ir,{value:"pdf",className:"pt-4",children:P.templateType==="parking_ticket"&&E&&typeof E=="object"&&"entry"in E&&"exit"in E?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Entrada"}),r.jsx(fu,{template:P,sample:E.entry,company:L})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Ticket de Sada"}),r.jsx(fu,{template:P,sample:E.exit,company:L})]})]}):r.jsx(fu,{template:P,sample:E,company:L})})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum template selecionado para visualizao."})]})}),r.jsx(R3,{open:h,onOpenChange:m,children:r.jsxs(O0,{children:[r.jsxs(I0,{children:[r.jsx(B0,{children:"Confirmar Excluso"}),r.jsxs(z0,{children:['Tem certeza que deseja excluir o template "',p?.templateName,'"? Esta ao no pode ser desfeita.']})]}),r.jsxs($0,{children:[r.jsx(q0,{children:"Cancelar"}),r.jsx(U0,{onClick:se,disabled:j,children:j?"Excluindo...":"Excluir"})]})]})})]})})}const fo="https://theproparking-backend-1rxk.onrender.com",gc=()=>localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token"),Vw=e=>["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"][e]||"Desconhecido";function $$(){const{toast:e}=Hr(),[t,n]=v.useState("horarios"),[a,s]=v.useState([]),[i,d]=v.useState(null),[c,u]=v.useState(!1),[h,m]=v.useState([]),[g,w]=v.useState(null),[p,S]=v.useState(!1),[j,N]=v.useState([]),[P,k]=v.useState(null),[E,O]=v.useState(!1);v.useEffect(()=>{console.log("[DEBUG] Component mounted"),console.log("[DEBUG] API_BASE_URL:",fo),console.log("[DEBUG] import.meta.env.VITE_API_URL:","https://theproparking-backend-1rxk.onrender.com")},[]),v.useEffect(()=>{console.log("[DEBUG] businessHours state updated, count:",a.length),a.length>0&&console.log("[DEBUG] First business hour:",a[0])},[a]),v.useEffect(()=>{B(),ae(),W()},[]);const B=async()=>{try{const U=gc();if(console.log("[DEBUG] Fetching business hours from:",`${fo}/business-hours`),console.log("[DEBUG] Token exists:",!!U),console.log("[DEBUG] Token value (first 20 chars):",U?.substring(0,20)),!U){console.error("[DEBUG] No authentication token found!"),e({title:"Erro",description:"Voc no est autenticado. Faa login novamente.",variant:"destructive"});return}const $=await fetch(`${fo}/business-hours`,{headers:{Authorization:`Bearer ${U}`}});console.log("[DEBUG] Response status:",$.status);const H=await $.json();console.log("[DEBUG] Business hours data received:",H),H.success?(console.log("[DEBUG] Setting business hours, count:",H.data?.length),s(H.data)):(console.error("[DEBUG] API returned success=false:",H.error),e({title:"Erro",description:H.error||"Falha ao carregar horrios",variant:"destructive"}))}catch(U){console.error("[DEBUG] Error fetching business hours:",U),e({title:"Erro",description:"Falha ao carregar horrios",variant:"destructive"})}},ae=async()=>{try{const U=gc(),H=await(await fetch(`${fo}/holidays`,{headers:{Authorization:`Bearer ${U}`}})).json();H.success&&m(H.data)}catch(U){console.error("Error:",U),e({title:"Erro",description:"Falha ao carregar feriados",variant:"destructive"})}},W=async()=>{try{const U=gc(),H=await(await fetch(`${fo}/special-events`,{headers:{Authorization:`Bearer ${U}`}})).json();H.success&&N(H.data)}catch(U){console.error("Error:",U),e({title:"Erro",description:"Falha ao carregar eventos",variant:"destructive"})}},te=U=>{d(U),u(!0)},K=async U=>{try{const $=gc();(await(await fetch(`${fo}/business-hours/${U.id}`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(U)})).json()).success&&(e({title:"Sucesso",description:"Horrio atualizado"}),B(),u(!1))}catch{e({title:"Erro",description:"Falha ao salvar horrio",variant:"destructive"})}},oe=U=>{w(U),S(!0)},L=()=>{w(null),S(!0)},F=async U=>{try{const $=gc(),H=U.id?`${fo}/holidays/${U.id}`:`${fo}/holidays`,D=U.id?"PUT":"POST";(await(await fetch(H,{method:D,headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(U)})).json()).success&&(e({title:"Sucesso",description:"Feriado salvo"}),ae(),S(!1))}catch{e({title:"Erro",description:"Falha ao salvar feriado",variant:"destructive"})}},z=async U=>{if(confirm("Excluir feriado?"))try{const $=gc();(await(await fetch(`${fo}/holidays/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}})).json()).success&&(e({title:"Sucesso",description:"Feriado excludo"}),ae())}catch{e({title:"Erro",description:"Falha ao excluir",variant:"destructive"})}},q=U=>{k(U),O(!0)},ge=()=>{k(null),O(!0)},fe=async U=>{try{const $=gc(),H=U.id?`${fo}/special-events/${U.id}`:`${fo}/special-events`,D=U.id?"PUT":"POST";(await(await fetch(H,{method:D,headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(U)})).json()).success&&(e({title:"Sucesso",description:"Evento salvo"}),W(),O(!1))}catch{e({title:"Erro",description:"Falha ao salvar evento",variant:"destructive"})}},ye=async U=>{if(confirm("Excluir evento?"))try{const $=gc();(await(await fetch(`${fo}/special-events/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}})).json()).success&&(e({title:"Sucesso",description:"Evento excludo"}),W())}catch{e({title:"Erro",description:"Falha ao excluir",variant:"destructive"})}};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Horrios e Feriados"}),r.jsxs(Hs,{value:t,onValueChange:n,children:[r.jsxs(js,{className:"grid w-full grid-cols-3",children:[r.jsxs(or,{value:"horarios",children:[r.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Horrios"]}),r.jsxs(or,{value:"feriados",children:[r.jsx(Ca,{className:"w-4 h-4 mr-2"}),"Feriados"]}),r.jsxs(or,{value:"eventos",children:[r.jsx(Ca,{className:"w-4 h-4 mr-2"}),"Eventos"]})]}),r.jsx(ir,{value:"horarios",children:r.jsxs(Rt,{children:[r.jsx(gr,{children:r.jsx(xr,{children:"Horrios de Funcionamento"})}),r.jsx(Dt,{children:a.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum horrio configurado. Verifique o console para detalhes."}):a.map(U=>{console.log("[DEBUG] Rendering hour:",U);const $=Vw(U.day_of_week);return r.jsxs("div",{className:"flex justify-between p-4 border rounded mb-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:$}),":"," ",U.is_open?`${U.open_time} - ${U.close_time}`:"Fechado"]}),r.jsx(Ne,{size:"icon",variant:"ghost",onClick:()=>te(U),children:r.jsx(Nc,{className:"w-4 h-4"})})]},U.id)})})]})}),r.jsxs(ir,{value:"feriados",children:[r.jsxs(Ne,{onClick:L,className:"mb-4",children:[r.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Nome"}),r.jsx(Ht,{children:"Data"}),r.jsx(Ht,{children:"Aes"})]})}),r.jsx(Yo,{children:h.map(U=>r.jsxs(sn,{children:[r.jsx(Mt,{children:U.name}),r.jsx(Mt,{children:new Date(U.date).toLocaleDateString("pt-BR")}),r.jsxs(Mt,{children:[r.jsx(Ne,{size:"icon",variant:"ghost",onClick:()=>oe(U),children:r.jsx(Nc,{className:"w-4 h-4"})}),r.jsx(Ne,{size:"icon",variant:"ghost",onClick:()=>z(U.id),children:r.jsx(Gs,{className:"w-4 h-4"})})]})]},U.id))})]})})})]}),r.jsxs(ir,{value:"eventos",children:[r.jsxs(Ne,{onClick:ge,className:"mb-4",children:[r.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Nome"}),r.jsx(Ht,{children:"Perodo"}),r.jsx(Ht,{children:"Multiplicador"}),r.jsx(Ht,{children:"Aes"})]})}),r.jsx(Yo,{children:j.map(U=>r.jsxs(sn,{children:[r.jsx(Mt,{children:U.name}),r.jsxs(Mt,{children:[new Date(U.start_date).toLocaleDateString("pt-BR")," -"," ",new Date(U.end_date).toLocaleDateString("pt-BR")]}),r.jsxs(Mt,{children:[U.price_multiplier,"x"]}),r.jsxs(Mt,{children:[r.jsx(Ne,{size:"icon",variant:"ghost",onClick:()=>q(U),children:r.jsx(Nc,{className:"w-4 h-4"})}),r.jsx(Ne,{size:"icon",variant:"ghost",onClick:()=>ye(U.id),children:r.jsx(Gs,{className:"w-4 h-4"})})]})]},U.id))})]})})})]})]}),r.jsx($r,{open:c,onOpenChange:u,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsxs(Ar,{children:["Editar - ",i?Vw(i.day_of_week):""]})}),i&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qt,{checked:i.is_open,onCheckedChange:U=>d({...i,is_open:U})}),r.jsx(xe,{children:"Aberto"})]}),i.is_open&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Abertura"}),r.jsx(Fe,{type:"time",value:i.open_time||"",onChange:U=>d({...i,open_time:U.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Fechamento"}),r.jsx(Fe,{type:"time",value:i.close_time||"",onChange:U=>d({...i,close_time:U.target.value})})]})]}),r.jsx(Ne,{onClick:()=>K(i),children:"Salvar"})]})]})}),r.jsx($r,{open:p,onOpenChange:S,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsxs(Ar,{children:[g?.id?"Editar":"Adicionar"," Feriado"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Nome"}),r.jsx(Fe,{value:g?.name||"",onChange:U=>w({...g,name:U.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Data"}),r.jsx(Fe,{type:"date",value:g?.date||"",onChange:U=>w({...g,date:U.target.value})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qt,{checked:g?.is_recurring||!1,onCheckedChange:U=>w({...g,is_recurring:U})}),r.jsx(xe,{children:"Recorrente"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qt,{checked:g?.is_closed||!1,onCheckedChange:U=>w({...g,is_closed:U})}),r.jsx(xe,{children:"Fechado"})]}),r.jsx(Ne,{onClick:()=>F(g||{}),children:"Salvar"})]})]})}),r.jsx($r,{open:E,onOpenChange:O,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsxs(Ar,{children:[P?.id?"Editar":"Adicionar"," Evento"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Nome"}),r.jsx(Fe,{value:P?.name||"",onChange:U=>k({...P,name:U.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Data Incio"}),r.jsx(Fe,{type:"date",value:P?.start_date||"",onChange:U=>k({...P,start_date:U.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Data Fim"}),r.jsx(Fe,{type:"date",value:P?.end_date||"",onChange:U=>k({...P,end_date:U.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Multiplicador"}),r.jsx(Fe,{type:"number",step:"0.1",value:P?.price_multiplier||1,onChange:U=>k({...P,price_multiplier:parseFloat(U.target.value)})})]}),r.jsx(Ne,{onClick:()=>fe(P||{}),children:"Salvar"})]})]})})]})}const xc="https://theproparking-backend-1rxk.onrender.com",vc=()=>localStorage.getItem("auth:token")||sessionStorage.getItem("auth:token");function B$(){const{toast:e}=Hr(),[t,n]=v.useState("settings"),[a,s]=v.useState(null),[i,d]=v.useState(!0),[c,u]=v.useState([]),[h,m]=v.useState(!1),[g,w]=v.useState(null),[p,S]=v.useState([]),[j,N]=v.useState(!1),[P,k]=v.useState(null),[E,O]=v.useState([]),[B,ae]=v.useState(!1),[W,te]=v.useState(null);v.useEffect(()=>{K(),L(),ge(),$()},[]);const K=async()=>{try{const I=vc(),J=await(await fetch(`${xc}/dashboard-settings`,{headers:{Authorization:`Bearer ${I}`}})).json();J.success&&s(J.data)}catch(I){console.error("Error fetching settings:",I),e({title:"Erro",description:"Falha ao carregar configuraes",variant:"destructive"})}finally{d(!1)}},oe=async()=>{if(a)try{const I=vc(),J=await(await fetch(`${xc}/dashboard-settings`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(a)})).json();J.success&&(e({title:"Sucesso",description:"Configuraes salvas"}),s(J.data))}catch{e({title:"Erro",description:"Falha ao salvar configuraes",variant:"destructive"})}},L=async()=>{try{const I=vc(),J=await(await fetch(`${xc}/dashboard-widgets`,{headers:{Authorization:`Bearer ${I}`}})).json();J.success&&u(J.data)}catch(I){console.error("Error fetching widgets:",I)}},F=()=>{w(null),m(!0)},z=I=>{w(I),m(!0)},q=async I=>{if(confirm("Excluir widget?"))try{const G=vc();(await(await fetch(`${xc}/dashboard-widgets/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}})).json()).success&&(e({title:"Sucesso",description:"Widget excludo"}),L())}catch{e({title:"Erro",description:"Falha ao excluir widget",variant:"destructive"})}},ge=async()=>{try{const I=vc(),J=await(await fetch(`${xc}/kpi-thresholds`,{headers:{Authorization:`Bearer ${I}`}})).json();J.success&&S(J.data)}catch(I){console.error("Error fetching thresholds:",I)}},fe=()=>{k(null),N(!0)},ye=I=>{k(I),N(!0)},U=async I=>{if(confirm("Excluir alerta?"))try{const G=vc();(await(await fetch(`${xc}/kpi-thresholds/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}})).json()).success&&(e({title:"Sucesso",description:"Alerta excludo"}),ge())}catch{e({title:"Erro",description:"Falha ao excluir alerta",variant:"destructive"})}},$=async()=>{try{const I=vc(),J=await(await fetch(`${xc}/report-schedules`,{headers:{Authorization:`Bearer ${I}`}})).json();J.success&&O(J.data)}catch(I){console.error("Error fetching schedules:",I)}},H=()=>{te(null),ae(!0)},D=I=>{te(I),ae(!0)},T=async I=>{if(confirm("Excluir agendamento?"))try{const G=vc();(await(await fetch(`${xc}/report-schedules/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}})).json()).success&&(e({title:"Sucesso",description:"Agendamento excludo"}),$())}catch{e({title:"Erro",description:"Falha ao excluir agendamento",variant:"destructive"})}};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Configuraes do Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Personalize sua experincia de anlise e relatrios"})]}),r.jsxs(Hs,{value:t,onValueChange:n,children:[r.jsxs(js,{className:"grid w-full grid-cols-4",children:[r.jsxs(or,{value:"settings",children:[r.jsx(Uv,{className:"w-4 h-4 mr-2"}),"Preferncias"]}),r.jsxs(or,{value:"widgets",children:[r.jsx(LP,{className:"w-4 h-4 mr-2"}),"Widgets"]}),r.jsxs(or,{value:"thresholds",children:[r.jsx(Lx,{className:"w-4 h-4 mr-2"}),"Alertas KPI"]}),r.jsxs(or,{value:"schedules",children:[r.jsx(Cb,{className:"w-4 h-4 mr-2"}),"Relatrios"]})]}),r.jsx(ir,{value:"settings",className:"space-y-4",children:i?r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:"Carregando..."})}):a&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Atualizao e Exibio"}),r.jsx(pn,{children:"Configure como o dashboard  exibido e atualizado"})]}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Intervalo de Atualizao (segundos)"}),r.jsx(Fe,{type:"number",value:a.refresh_interval,onChange:I=>s({...a,refresh_interval:parseInt(I.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Perodo Padro"}),r.jsxs(vr,{value:a.default_date_range,onValueChange:I=>s({...a,default_date_range:I}),children:[r.jsx(fr,{children:r.jsx(yr,{})}),r.jsxs(mr,{children:[r.jsx(Qe,{value:"last_7_days",children:"ltimos 7 dias"}),r.jsx(Qe,{value:"last_30_days",children:"ltimos 30 dias"}),r.jsx(Qe,{value:"this_month",children:"Este ms"}),r.jsx(Qe,{value:"custom",children:"Personalizado"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Mostrar Tendncias"}),r.jsx(qt,{checked:a.show_trends,onCheckedChange:I=>s({...a,show_trends:I})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xe,{children:"Mostrar Comparaes"}),r.jsx(qt,{checked:a.show_comparisons,onCheckedChange:I=>s({...a,show_comparisons:I})})]})]})]}),r.jsxs(Rt,{children:[r.jsxs(gr,{children:[r.jsx(xr,{children:"Reteno de Dados"}),r.jsx(pn,{children:"Gerencie o armazenamento de dados histricos"})]}),r.jsxs(Dt,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{children:"Manter dados por (meses)"}),r.jsx(Fe,{type:"number",min:"1",max:"60",value:a.data_retention_months,onChange:I=>s({...a,data_retention_months:parseInt(I.target.value)})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados mais antigos sero arquivados ou excludos automaticamente"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(xe,{children:"Arquivar dados antigos"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Em vez de excluir, mova para arquivo"})]}),r.jsx(qt,{checked:a.archive_old_data,onCheckedChange:I=>s({...a,archive_old_data:I})})]})]})]}),r.jsx(Ne,{onClick:oe,children:"Salvar Configuraes"})]})}),r.jsxs(ir,{value:"widgets",className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs(Ne,{onClick:F,children:[r.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Adicionar Widget"]})}),r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Posio"}),r.jsx(Ht,{children:"Ttulo"}),r.jsx(Ht,{children:"Tipo"}),r.jsx(Ht,{children:"Tamanho"}),r.jsx(Ht,{children:"Visvel"}),r.jsx(Ht,{className:"text-right",children:"Aes"})]})}),r.jsx(Yo,{children:c.map(I=>r.jsxs(sn,{children:[r.jsx(Mt,{children:I.position}),r.jsx(Mt,{className:"font-medium",children:I.title}),r.jsx(Mt,{children:I.widget_type}),r.jsx(Mt,{children:I.size}),r.jsx(Mt,{children:I.is_visible?"Sim":"No"}),r.jsx(Mt,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>z(I),children:r.jsx(Nc,{className:"w-4 h-4"})}),r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>q(I.id),children:r.jsx(Gs,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]}),r.jsxs(ir,{value:"thresholds",className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs(Ne,{onClick:fe,children:[r.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Adicionar Alerta"]})}),r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Nome"}),r.jsx(Ht,{children:"Tipo"}),r.jsx(Ht,{children:"Limite"}),r.jsx(Ht,{children:"Mtodo"}),r.jsx(Ht,{children:"Status"}),r.jsx(Ht,{className:"text-right",children:"Aes"})]})}),r.jsx(Yo,{children:p.map(I=>r.jsxs(sn,{children:[r.jsx(Mt,{className:"font-medium",children:I.kpi_name}),r.jsx(Mt,{children:I.kpi_type}),r.jsxs(Mt,{children:[I.threshold_type==="minimum"&&` ${I.min_value}`,I.threshold_type==="maximum"&&` ${I.max_value}`,I.threshold_type==="range"&&`${I.min_value} - ${I.max_value}`]}),r.jsx(Mt,{children:I.alert_method}),r.jsx(Mt,{children:r.jsx("span",{className:I.is_active?"text-green-600":"text-gray-400",children:I.is_active?"Ativo":"Inativo"})}),r.jsx(Mt,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>ye(I),children:r.jsx(Nc,{className:"w-4 h-4"})}),r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>U(I.id),children:r.jsx(Gs,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]}),r.jsxs(ir,{value:"schedules",className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs(Ne,{onClick:H,children:[r.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Agendar Relatrio"]})}),r.jsx(Rt,{children:r.jsx(Dt,{className:"pt-6",children:r.jsxs(Wo,{children:[r.jsx(Go,{children:r.jsxs(sn,{children:[r.jsx(Ht,{children:"Nome"}),r.jsx(Ht,{children:"Frequncia"}),r.jsx(Ht,{children:"Horrio"}),r.jsx(Ht,{children:"Mtodo"}),r.jsx(Ht,{children:"Status"}),r.jsx(Ht,{className:"text-right",children:"Aes"})]})}),r.jsx(Yo,{children:E.map(I=>r.jsxs(sn,{children:[r.jsx(Mt,{className:"font-medium",children:I.report_name}),r.jsx(Mt,{children:I.frequency}),r.jsx(Mt,{children:I.schedule_time}),r.jsx(Mt,{children:I.delivery_method}),r.jsx(Mt,{children:r.jsx("span",{className:I.is_active?"text-green-600":"text-gray-400",children:I.is_active?"Ativo":"Inativo"})}),r.jsx(Mt,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>D(I),children:r.jsx(Nc,{className:"w-4 h-4"})}),r.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>T(I.id),children:r.jsx(Gs,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]})]}),r.jsx($r,{open:h,onOpenChange:m,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsxs(Ar,{children:[g?"Editar":"Adicionar"," Widget"]})}),r.jsx("div",{className:"space-y-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade de widgets em desenvolvimento. Use a API diretamente por enquanto."})}),r.jsx(un,{children:r.jsx(Ne,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"})})]})}),r.jsx($r,{open:j,onOpenChange:N,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsxs(Ar,{children:[P?"Editar":"Adicionar"," Alerta KPI"]})}),r.jsx("div",{className:"space-y-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Formulrio de alertas em desenvolvimento. Use a API diretamente por enquanto."})}),r.jsx(un,{children:r.jsx(Ne,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"})})]})}),r.jsx($r,{open:B,onOpenChange:ae,children:r.jsxs(Lr,{children:[r.jsx(Er,{children:r.jsxs(Ar,{children:[W?"Editar":"Agendar"," Relatrio"]})}),r.jsx("div",{className:"space-y-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Formulrio de agendamento em desenvolvimento. Use a API diretamente por enquanto."})}),r.jsx(un,{children:r.jsx(Ne,{variant:"outline",onClick:()=>ae(!1),children:"Cancelar"})})]})})]})}const z$=()=>{const e=Ns();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),r.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},U$=({open:e,onOpenChange:t,isFirstLogin:n=!1,onSuccess:a})=>{const{toast:s}=Hr(),[i,d]=v.useState(!1),[c,u]=v.useState(""),[h,m]=v.useState(""),[g,w]=v.useState(""),[p,S]=v.useState(!1),[j,N]=v.useState(!1),[P,k]=v.useState(!1),[E,O]=v.useState(null),[B,ae]=v.useState(null);v.useEffect(()=>{e?W():(u(""),m(""),w(""),O(null))},[e]),v.useEffect(()=>{if(h.length>0){const F=setTimeout(()=>{te(h)},300);return()=>clearTimeout(F)}else O(null)},[h]);const W=async()=>{try{const F=await rt.getPasswordRequirements();ae({minLength:F.minLength,requireUppercase:F.requireUppercase,requireLowercase:F.requireLowercase,requireDigit:F.requireNumbers??!1,requireSpecialChar:F.requireSpecialChars??!1,passwordHistoryLimit:5})}catch(F){const z=F instanceof Error?F.message:String(F);console.error("Error fetching password requirements:",z)}},te=async F=>{try{const z=await rt.validatePasswordStrength(F);O(z)}catch(z){const q=z instanceof Error?z.message:String(z);console.error("Error validating password:",q)}},K=async F=>{if(F.preventDefault(),h!==g){s({variant:"destructive",title:"Erro",description:"As senhas no coincidem"});return}if(E&&!E.valid){s({variant:"destructive",title:"Senha fraca",description:"A senha no atende aos requisitos de segurana"});return}if(!n&&!c){s({variant:"destructive",title:"Erro",description:"Informe a senha atual"});return}d(!0);try{await rt.changePassword({currentPassword:n?void 0:c,newPassword:h}),s({title:"Sucesso",description:"Senha alterada com sucesso"}),t(!1),a&&a()}catch(z){const q=z instanceof Error?z.message:String(z);console.error("Error changing password:",q),s({variant:"destructive",title:"Erro",description:q||"Erro ao alterar senha"})}finally{d(!1)}},oe=F=>F===0?"bg-red-500":F===1?"bg-orange-500":F===2?"bg-yellow-500":F===3?"bg-lime-500":"bg-green-500",L=F=>F===0?"Muito fraca":F===1?"Fraca":F===2?"Razovel":F===3?"Boa":"Forte";return r.jsx($r,{open:e,onOpenChange:n?void 0:t,children:r.jsxs(Lr,{className:"sm:max-w-[500px]",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:n?"Primeiro Acesso - Altere sua Senha":"Alterar Senha"}),r.jsx(Ua,{children:n?"Por segurana, voc precisa alterar sua senha no primeiro acesso.":"Crie uma senha forte para proteger sua conta."})]}),r.jsxs("form",{onSubmit:K,className:"space-y-4",children:[!n&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"currentPassword",children:"Senha Atual *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fe,{id:"currentPassword",type:p?"text":"password",value:c,onChange:F=>u(F.target.value),required:!n,disabled:i,className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>S(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:p?r.jsx(Fg,{size:18}):r.jsx(vu,{size:18})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"newPassword",children:"Nova Senha *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fe,{id:"newPassword",type:j?"text":"password",value:h,onChange:F=>m(F.target.value),required:!0,disabled:i,className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>N(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:j?r.jsx(Fg,{size:18}):r.jsx(vu,{size:18})})]}),E&&h.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Fora da senha:"}),r.jsx("span",{className:`font-medium ${E.valid?"text-green-600":"text-orange-600"}`,children:E.strength&&L(E.strength.score)})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all ${E.strength&&oe(E.strength.score)}`,style:{width:`${E.strength?(E.strength.score+1)*20:0}%`}})})]}),E&&E.errors.length>0&&r.jsxs(ki,{variant:"destructive",className:"py-2",children:[r.jsx(md,{className:"h-4 w-4"}),r.jsx(Ei,{children:r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:E.errors.map((F,z)=>r.jsx("li",{children:F},z))})})]}),E&&E.valid&&r.jsxs(ki,{className:"py-2 border-green-200 bg-green-50",children:[r.jsx(Iv,{className:"h-4 w-4 text-green-600"}),r.jsx(Ei,{className:"text-green-700 text-sm",children:"Senha forte e segura!"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fe,{id:"confirmPassword",type:P?"text":"password",value:g,onChange:F=>w(F.target.value),required:!0,disabled:i,className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>k(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:P?r.jsx(Fg,{size:18}):r.jsx(vu,{size:18})})]}),g&&h!==g&&r.jsx("p",{className:"text-sm text-red-600",children:"As senhas no coincidem"})]}),B&&r.jsx(ki,{className:"py-2",children:r.jsxs(Ei,{className:"text-sm",children:[r.jsx("strong",{children:"Requisitos de Senha:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[r.jsxs("li",{children:["Mnimo ",B.minLength," caracteres"]}),B.requireUppercase&&r.jsx("li",{children:"Pelo menos 1 letra maiscula"}),B.requireLowercase&&r.jsx("li",{children:"Pelo menos 1 letra minscula"}),B.requireDigit&&r.jsx("li",{children:"Pelo menos 1 nmero"}),B.requireSpecialChar&&r.jsx("li",{children:"Pelo menos 1 caractere especial"}),r.jsxs("li",{children:["No pode ser uma das ltimas ",B.passwordHistoryLimit," senhas"]})]})]})}),r.jsxs(un,{children:[!n&&r.jsx(Ne,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancelar"}),r.jsx(Ne,{type:"submit",disabled:i||E&&!E.valid||h!==g,children:i?"Alterando...":"Alterar Senha"})]})]})]})})},q$=()=>{const{login:e,loading:t,isAuthenticated:n,mustChangePassword:a,isFirstLogin:s,clearPasswordChangeFlags:i}=Ss(),d=Qo(),c=Ns(),[u,h]=v.useState(""),[m,g]=v.useState(""),[w,p]=v.useState(!0),[S,j]=v.useState(null),[N,P]=v.useState(!1),[k,E]=v.useState(!1);ft.useEffect(()=>{if(n&&!t&&!a){const ae=c.state?.from?.pathname||"/";d(ae,{replace:!0})}},[n,t,a,d,c.state]),ft.useEffect(()=>{n&&a&&E(!0)},[n,a]);const O=async ae=>{ae.preventDefault(),j(null),P(!0);try{await e(u,m,w)}catch(W){j(W.message||"Falha no login")}finally{P(!1)}},B=()=>{i(),E(!1);const ae=c.state?.from?.pathname||"/";d(ae,{replace:!0})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-1/4 left-0 w-full h-1 bg-yellow-400/20 animate-pulse"}),r.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-yellow-400/20 animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute top-3/4 left-0 w-full h-1 bg-yellow-400/20 animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"absolute top-20 left-10 text-white/10 animate-float",children:r.jsx(Ho,{size:80})}),r.jsx("div",{className:"absolute bottom-20 right-10 text-white/10 animate-float",style:{animationDelay:"2s"},children:r.jsx(Ho,{size:100})}),r.jsx("div",{className:"absolute top-1/2 right-20 text-white/10 animate-float",style:{animationDelay:"4s"},children:r.jsx(Ho,{size:60})}),r.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx("div",{className:"relative z-10 flex min-h-screen w-full items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-center gap-3",children:[r.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:r.jsx(Ho,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"PROPARKING"}),r.jsx("p",{className:"text-sm font-medium text-blue-300",children:"APP"})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-lg font-semibold text-white/90",children:"2025"}),r.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Sistema de Gesto de Estacionamento"})]})]}),r.jsxs(Rt,{className:"backdrop-blur-md bg-white/95 shadow-2xl border-white/20",children:[r.jsxs(gr,{className:"space-y-1 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(BP,{className:"h-5 w-5 text-primary"}),r.jsx(xr,{className:"text-2xl font-bold",children:"Acesso Seguro"})]}),r.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Entre com suas credenciais para continuar"})]}),r.jsx(Dt,{children:r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"login",className:"text-sm font-medium",children:"Usurio"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fe,{id:"login",value:u,onChange:ae=>h(ae.target.value),autoComplete:"username",required:!0,className:"pl-10 h-11",placeholder:"Digite seu usurio"}),r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"password",className:"text-sm font-medium",children:"Senha"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fe,{id:"password",type:"password",value:m,onChange:ae=>g(ae.target.value),autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"Digite sua senha"}),r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:r.jsx(MP,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ac,{id:"remember",checked:w,onCheckedChange:ae=>p(!!ae)}),r.jsx(xe,{htmlFor:"remember",className:"cursor-pointer select-none text-sm",children:"Lembrar-me"})]}),r.jsx(Ru,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Esqueceu a senha?"})]}),S&&r.jsx("div",{className:"rounded-md bg-destructive/10 p-3",children:r.jsx("p",{className:"text-sm text-destructive font-medium",children:S})}),r.jsx(Ne,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:N||t,children:N?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Entrando..."]}):"Entrar"})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("p",{className:"text-xs text-white/60",children:" 2025 ProParking App. Todos os direitos reservados."})})]})})]}),r.jsx(U$,{open:k,onOpenChange:E,isFirstLogin:s,onSuccess:B})]})},V$="https://theproparking-backend-1rxk.onrender.com";function H$(){const[e,t]=v.useState(""),[n,a]=v.useState(!1),[s,i]=v.useState(""),[d,c]=v.useState(!1),u=async h=>{h.preventDefault(),a(!0),i("");try{const m=await fetch(`${V$}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),g=await m.json();if(!m.ok)throw new Error(g.error||"Erro ao enviar email");c(!0),g._dev?.resetUrl&&console.log(" Link de recuperao:",g._dev.resetUrl)}catch(m){i(m.message)}finally{a(!1)}};return d?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:r.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email enviado!"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Se o email ",r.jsx("strong",{children:e})," estiver cadastrado, voc receber instrues para redefinir sua senha."]}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Verifique sua caixa de entrada e tambm a pasta de spam."}),r.jsx(Ru,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:" Voltar para o login"})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Esqueceu a senha?"}),r.jsx("p",{className:"text-gray-600",children:"Digite seu email para receber instrues de recuperao"})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:s}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:h=>t(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:n?"Enviando...":"Enviar instrues"}),r.jsx("div",{className:"text-center",children:r.jsx(Ru,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-900 underline decoration-dotted",children:"Voltar para o login"})})]})]})})}const Hw="https://theproparking-backend-1rxk.onrender.com";function W$(){const[e]=NT(),t=Qo(),n=e.get("token"),a=e.get("email"),[s,i]=v.useState(""),[d,c]=v.useState(""),[u,h]=v.useState(!1),[m,g]=v.useState(!0),[w,p]=v.useState(""),[S,j]=v.useState(!1),[N,P]=v.useState(!1);v.useEffect(()=>{if(!n||!a){p("Link invlido"),g(!1);return}fetch(`${Hw}/auth/validate-reset-token/${n}?email=${encodeURIComponent(a)}`).then(E=>E.json()).then(E=>{E.valid?P(!0):p(E.error||"Token invlido ou expirado")}).catch(()=>{p("Erro ao validar token")}).finally(()=>{g(!1)})},[n,a]);const k=async E=>{if(E.preventDefault(),p(""),s!==d){p("As senhas no coincidem");return}if(s.length<8){p("A senha deve ter no mnimo 8 caracteres");return}h(!0);try{const O=await fetch(`${Hw}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,token:n,newPassword:s})}),B=await O.json();if(!O.ok)throw new Error(B.error||"Erro ao redefinir senha");j(!0),setTimeout(()=>{t("/login")},3e3)}catch(O){p(O.message)}finally{h(!1)}};return m?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Validando link..."})]})}):!N&&w?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:r.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link invlido"}),r.jsx("p",{className:"text-gray-600 mb-6",children:w}),r.jsx(Ru,{to:"/forgot-password",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Solicitar novo link"})]})}):S?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:r.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Senha redefinida!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para o login..."}),r.jsx(Ru,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:"Ir para o login agora "})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Redefinir senha"}),r.jsx("p",{className:"text-gray-600",children:"Digite sua nova senha"})]}),r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[w&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova senha"}),r.jsx("input",{id:"newPassword",type:"password",required:!0,value:s,onChange:E=>i(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mnimo 8 caracteres"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar senha"}),r.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:d,onChange:E=>c(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite novamente"})]}),r.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:u?"Redefinindo...":"Redefinir senha"})]})]})})}const G$="https://theproparking-backend-1rxk.onrender.com";function Y$(){const[e,t]=v.useState(1),[n,a]=v.useState(!1),s=Qo(),{toast:i}=Hr(),[d,c]=v.useState({companyName:"",cnpj:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",adminName:"",adminEmail:"",adminLogin:"",adminPassword:"",adminPasswordConfirm:""}),[u,h]=v.useState({}),m=(k,E)=>{c(O=>({...O,[k]:E})),u[k]&&h(O=>({...O,[k]:""}))},g=k=>{const E={};return k===2&&(d.companyName.trim()||(E.companyName="Nome da empresa  obrigatrio"),d.cnpj&&!/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(d.cnpj)&&(E.cnpj="CNPJ invlido (use formato: 00.000.000/0000-00)")),k===3&&(d.adminLogin.trim()||(E.adminLogin="Login  obrigatrio"),d.adminPassword?d.adminPassword.length<6&&(E.adminPassword="Senha deve ter no mnimo 6 caracteres"):E.adminPassword="Senha  obrigatria",d.adminPassword!==d.adminPasswordConfirm&&(E.adminPasswordConfirm="As senhas no coincidem")),h(E),Object.keys(E).length===0},w=()=>{g(e)&&t(k=>k+1)},p=()=>{t(k=>k-1)},S=async()=>{if(g(e)){a(!0);try{const k=await fetch(`${G$}/setup/initialize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),E=await k.json();if(!k.ok)throw new Error(E.error||"Erro ao inicializar o sistema");t(4),setTimeout(()=>{s("/login",{replace:!0})},2e3)}catch(k){i({variant:"destructive",title:"Erro",description:k.message||"Falha ao configurar o sistema"})}finally{a(!1)}}},j=k=>{const E=k.replace(/\D/g,"");return E.length<=14?E.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2"):k},N=k=>k.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").slice(0,9),P=k=>{const E=k.replace(/\D/g,"");return E.length<=11?E.replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2"):k};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(Rt,{className:"w-full max-w-2xl shadow-2xl",children:[r.jsxs(gr,{className:"text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx(gd,{className:"w-8 h-8 text-white"})})}),r.jsx(xr,{className:"text-3xl font-bold text-gray-800",children:"Bem-vindo ao TheProParkingApp"}),r.jsx(pn,{className:"text-lg",children:"Vamos configurar seu sistema de estacionamento"})]}),r.jsxs(Dt,{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center items-center mb-8 gap-2",children:[1,2,3].map(k=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${e>=k?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:k}),k<3&&r.jsx("div",{className:`h-1 w-12 md:w-24 ${e>k?"bg-blue-600":"bg-gray-200"}`})]},k))}),e===1&&r.jsxs("div",{className:"text-center space-y-6 py-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Primeira Execuo"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Este assistente ir gui-lo na configurao inicial do sistema."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx(gd,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"font-semibold",children:"Dados da Empresa"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Informaes bsicas"})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx(ep,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"font-semibold",children:"Usurio Admin"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Criar acesso inicial"})]})]}),r.jsx(Ne,{onClick:w,size:"lg",className:"mt-8",children:"Comear Configurao"})]}),e===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Informaes da Empresa"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(xe,{htmlFor:"companyName",children:["Nome da Empresa ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"companyName",value:d.companyName,onChange:k=>m("companyName",k.target.value),placeholder:"Estacionamento XYZ",className:u.companyName?"border-red-500":""}),u.companyName&&r.jsx("p",{className:"text-sm text-red-500",children:u.companyName})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"cnpj",children:"CNPJ"}),r.jsx(Fe,{id:"cnpj",value:d.cnpj,onChange:k=>m("cnpj",j(k.target.value)),placeholder:"00.000.000/0000-00",maxLength:18,className:u.cnpj?"border-red-500":""}),u.cnpj&&r.jsx("p",{className:"text-sm text-red-500",children:u.cnpj})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"phone",children:"Telefone"}),r.jsx(Fe,{id:"phone",value:d.phone,onChange:k=>m("phone",P(k.target.value)),placeholder:"(00) 00000-0000",maxLength:15})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"email",children:"E-mail"}),r.jsx(Fe,{id:"email",type:"email",value:d.email,onChange:k=>m("email",k.target.value),placeholder:"contato@empresa.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"address",children:"Endereo"}),r.jsx(Fe,{id:"address",value:d.address,onChange:k=>m("address",k.target.value),placeholder:"Rua, nmero"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2 md:col-span-1",children:[r.jsx(xe,{htmlFor:"city",children:"Cidade"}),r.jsx(Fe,{id:"city",value:d.city,onChange:k=>m("city",k.target.value),placeholder:"So Paulo"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"state",children:"Estado"}),r.jsx(Fe,{id:"state",value:d.state,onChange:k=>m("state",k.target.value.toUpperCase()),placeholder:"SP",maxLength:2})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"zipCode",children:"CEP"}),r.jsx(Fe,{id:"zipCode",value:d.zipCode,onChange:k=>m("zipCode",N(k.target.value)),placeholder:"00000-000",maxLength:9})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx(Ne,{onClick:p,variant:"outline",children:"Voltar"}),r.jsx(Ne,{onClick:w,children:"Prximo"})]})]}),e===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Criar Usurio Administrador"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"adminName",children:"Nome Completo"}),r.jsx(Fe,{id:"adminName",value:d.adminName,onChange:k=>m("adminName",k.target.value),placeholder:"Joo Silva"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(xe,{htmlFor:"adminEmail",children:"E-mail"}),r.jsx(Fe,{id:"adminEmail",type:"email",value:d.adminEmail,onChange:k=>m("adminEmail",k.target.value),placeholder:"admin@empresa.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(xe,{htmlFor:"adminLogin",children:["Login ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"adminLogin",value:d.adminLogin,onChange:k=>m("adminLogin",k.target.value),placeholder:"admin",className:u.adminLogin?"border-red-500":""}),u.adminLogin&&r.jsx("p",{className:"text-sm text-red-500",children:u.adminLogin})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(xe,{htmlFor:"adminPassword",children:["Senha ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"adminPassword",type:"password",value:d.adminPassword,onChange:k=>m("adminPassword",k.target.value),placeholder:"Mnimo 6 caracteres",className:u.adminPassword?"border-red-500":""}),u.adminPassword&&r.jsx("p",{className:"text-sm text-red-500",children:u.adminPassword}),d.adminPassword&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all ${d.adminPassword.length<6?"bg-red-500 w-1/3":d.adminPassword.length<8?"bg-yellow-500 w-2/3":"bg-green-500 w-full"}`})}),r.jsx("p",{className:"text-xs text-gray-600",children:d.adminPassword.length<6?"Senha fraca":d.adminPassword.length<8?"Senha mdia":"Senha forte"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(xe,{htmlFor:"adminPasswordConfirm",children:["Confirmar Senha ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(Fe,{id:"adminPasswordConfirm",type:"password",value:d.adminPasswordConfirm,onChange:k=>m("adminPasswordConfirm",k.target.value),placeholder:"Digite a senha novamente",className:u.adminPasswordConfirm?"border-red-500":d.adminPasswordConfirm&&d.adminPassword===d.adminPasswordConfirm?"border-green-500":""}),u.adminPasswordConfirm&&r.jsx("p",{className:"text-sm text-red-500",children:u.adminPasswordConfirm}),d.adminPasswordConfirm&&d.adminPassword===d.adminPasswordConfirm&&r.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[r.jsx(Mh,{className:"w-4 h-4"}),"As senhas coincidem"]}),d.adminPasswordConfirm&&d.adminPassword!==d.adminPasswordConfirm&&r.jsx("p",{className:"text-sm text-red-500",children:"As senhas no coincidem"})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx(Ne,{onClick:p,variant:"outline",children:"Voltar"}),r.jsx(Ne,{onClick:S,disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Sb,{className:"mr-2 h-4 w-4 animate-spin"}),"Configurando..."]}):"Finalizar Configurao"})]})]}),e===4&&r.jsxs("div",{className:"text-center space-y-6 py-8",children:[r.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Mh,{className:"w-12 h-12 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configurao Concluda!"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Seu sistema est pronto para uso."}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm text-green-800",children:["Use o login ",r.jsx("strong",{children:d.adminLogin})," para acessar o sistema."]})}),r.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando para a tela de login..."})]})]})]})})}const K$=({open:e,onOpenChange:t})=>{const n=Qo(),a=Ns(),s=()=>{a.pathname!=="/financeiro"&&n("/financeiro")};return r.jsx($r,{open:e,onOpenChange:t,children:r.jsxs(Lr,{hideClose:!0,className:"sm:max-w-md","aria-describedby":"cash-register-closed-description",children:[r.jsxs(Er,{children:[r.jsx(Ar,{children:"Caixa Fechado"}),r.jsx(Ua,{id:"cash-register-closed-description",children:"O caixa est fechado no momento. Abra o caixa para continuar utilizando o sistema."})]}),r.jsx(un,{className:"flex justify-end gap-2",children:r.jsx(Ne,{onClick:s,children:"Abrir Caixa"})})]})})},J$=new x6;let Vs="https://theproparking-backend-1rxk.onrender.com";Vs.endsWith("/")&&(Vs=Vs.slice(0,-1));if(Vs.startsWith("http://")||Vs.startsWith("https://"))try{const e=new URL(Vs);Vs=`${e.protocol}//${e.host}`}catch{const t=Vs.match(/^(https?:\/\/[^\/]+)/);t&&(Vs=t[1])}Vs.endsWith("/api")||(Vs=`${Vs}/api`);const X$=Vs,Q$=({children:e})=>{const[t,n]=v.useState(!0),[a,s]=v.useState(!1),i=Ns();return v.useEffect(()=>{if(i.pathname==="/setup"){n(!1);return}(async()=>{const c=setTimeout(()=>{s(!1),n(!1)},15e3);try{const u=new AbortController,h=setTimeout(()=>u.abort(),12e3),m=`${X$}/setup/check-first-run`,g=await fetch(m,{signal:u.signal});clearTimeout(h),clearTimeout(c);const w=g.headers.get("content-type");if(!w||!w.includes("application/json")){const S=await g.text();throw console.warn("[SetupGuard] Non-JSON response - backend may be hibernating"),new Error("Server returned non-JSON response")}const p=await g.json();s(p.needsSetup||!1)}catch(u){clearTimeout(c),u.name==="AbortError"||u.message?.includes("aborted")||u.message?.includes("CORS")||u.message?.includes("NetworkError")||u.message?.includes("Failed to fetch")||console.warn("[SetupGuard] Setup check failed, proceeding anyway:",u.message||u),s(!1)}finally{n(!1)}})()},[i.pathname]),t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Verificando configurao..."})]})}):a&&i.pathname!=="/setup"?r.jsx(Zx,{to:"/setup",replace:!0}):r.jsx(r.Fragment,{children:e})},mo=({children:e,required:t})=>{const{cashIsOpen:n}=Zo(),{isAuthenticated:a,loading:s,hasPermission:i}=Ss(),d=Ns();if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!a)return r.jsx(Zx,{to:"/login",replace:!0,state:{from:d}});if(t&&!(Array.isArray(t)?t:[t]).every(w=>i(w)))return r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Acesso negado"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc no possui as permisses necessrias."})]})});const c=d.pathname==="/financeiro",u=d.pathname==="/relatorios-mensais",h=!n&&!c&&!u;return r.jsxs(r.Fragment,{children:[r.jsx(K$,{open:h}),h?r.jsx(Zx,{to:"/financeiro",replace:!0}):r.jsx(r.Fragment,{children:e})]})},Z$=()=>r.jsx(y6,{client:J$,children:r.jsx(kT,{children:r.jsx(ET,{children:r.jsxs(HA,{children:[r.jsx(Pk,{}),r.jsx(sE,{}),r.jsx(xT,{children:r.jsx(Q$,{children:r.jsx(tB,{children:r.jsxs(lT,{children:[r.jsx(pa,{path:"/setup",element:r.jsx(Y$,{})}),r.jsx(pa,{path:"/login",element:r.jsx(q$,{})}),r.jsx(pa,{path:"/forgot-password",element:r.jsx(H$,{})}),r.jsx(pa,{path:"/reset-password",element:r.jsx(W$,{})}),r.jsx(pa,{path:"/",element:r.jsx(mo,{required:["openCloseCash"],children:r.jsx(lM,{})})}),r.jsx(pa,{path:"/mensalistas",element:r.jsx(mo,{required:["manageMonthlyCustomers"],children:r.jsx(jF,{})})}),r.jsx(pa,{path:"/convenios",element:r.jsx(mo,{required:["manageMonthlyCustomers"],children:r.jsx(m9,{})})}),r.jsx(pa,{path:"/financeiro",element:r.jsx(mo,{required:["viewReports"],children:r.jsx(J9,{})})}),r.jsx(pa,{path:"/relatorios-mensais",element:r.jsx(mo,{required:["viewReports"],children:r.jsx(X9,{})})}),r.jsx(pa,{path:"/users",element:r.jsx(mo,{required:["manageUsers"],children:r.jsx(Z9,{})})}),r.jsx(pa,{path:"/tarifas",element:r.jsx(mo,{required:["manageRates"],children:r.jsx(L$,{})})}),r.jsx(pa,{path:"/integracoes",element:r.jsx(mo,{children:r.jsx(M$,{})})}),r.jsx(pa,{path:"/modelos-recibos",element:r.jsx(mo,{children:r.jsx(I$,{})})}),r.jsx(pa,{path:"/horarios-feriados",element:r.jsx(mo,{required:["manageCompanyConfig"],children:r.jsx($$,{})})}),r.jsx(pa,{path:"/configuracoes-dashboard",element:r.jsx(mo,{required:["viewReports"],children:r.jsx(B$,{})})}),r.jsx(pa,{path:"/configuracoes",element:r.jsx(mo,{children:r.jsx(C$,{})})}),r.jsx(pa,{path:"*",element:r.jsx(z$,{})})]})})})})]})})})}),eB=()=>{const e=Ns();return e.pathname==="/login"||e.pathname==="/setup"||e.pathname==="/forgot-password"||e.pathname==="/reset-password"?null:r.jsx(QR,{})},tB=({children:e})=>{const t=Ns();return t.pathname==="/login"||t.pathname==="/setup"||t.pathname==="/forgot-password"||t.pathname==="/reset-password"?r.jsx(r.Fragment,{children:e}):r.jsxs("div",{className:"flex min-h-screen w-full",children:[r.jsx(eB,{}),e]})};E_.createRoot(document.getElementById("root")).render(r.jsx(Z$,{}));export{Qr as _,rB as c,Ww as g};
